var U2=Object.defineProperty;var z2=(t,a,e)=>a in t?U2(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e;var ke=(t,a,e)=>z2(t,typeof a!="symbol"?a+"":a,e);function H2(t,a){for(var e=0;e<a.length;e++){const n=a[e];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function ey(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wp={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function Y2(){if(gw)return rt;gw=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,_={};function E(R,B,Z){this.props=R,this.context=B,this.refs=_,this.updater=Z||S}E.prototype.isReactComponent={},E.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},E.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function I(){}I.prototype=E.prototype;function A(R,B,Z){this.props=R,this.context=B,this.refs=_,this.updater=Z||S}var M=A.prototype=new I;M.constructor=A,C(M,E.prototype),M.isPureReactComponent=!0;var k=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function F(R,B,Z,K,se,Ie){return Z=Ie.ref,{$$typeof:t,type:R,key:B,ref:Z!==void 0?Z:null,props:Ie}}function z(R,B){return F(R.type,B,void 0,void 0,void 0,R.props)}function q(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function te(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Z){return B[Z]})}var ge=/\/+/g;function le(R,B){return typeof R=="object"&&R!==null&&R.key!=null?te(""+R.key):B.toString(36)}function re(){}function ee(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(re,re):(R.status="pending",R.then(function(B){R.status==="pending"&&(R.status="fulfilled",R.value=B)},function(B){R.status==="pending"&&(R.status="rejected",R.reason=B)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function j(R,B,Z,K,se){var Ie=typeof R;(Ie==="undefined"||Ie==="boolean")&&(R=null);var $=!1;if(R===null)$=!0;else switch(Ie){case"bigint":case"string":case"number":$=!0;break;case"object":switch(R.$$typeof){case t:case a:$=!0;break;case p:return $=R._init,j($(R._payload),B,Z,K,se)}}if($)return se=se(R),$=K===""?"."+le(R,0):K,k(se)?(Z="",$!=null&&(Z=$.replace(ge,"$&/")+"/"),j(se,B,Z,"",function(we){return we})):se!=null&&(q(se)&&(se=z(se,Z+(se.key==null||R&&R.key===se.key?"":(""+se.key).replace(ge,"$&/")+"/")+$)),B.push(se)),1;$=0;var Ce=K===""?".":K+":";if(k(R))for(var de=0;de<R.length;de++)K=R[de],Ie=Ce+le(K,de),$+=j(K,B,Z,Ie,se);else if(de=b(R),typeof de=="function")for(R=de.call(R),de=0;!(K=R.next()).done;)K=K.value,Ie=Ce+le(K,de++),$+=j(K,B,Z,Ie,se);else if(Ie==="object"){if(typeof R.then=="function")return j(ee(R),B,Z,K,se);throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return $}function D(R,B,Z){if(R==null)return R;var K=[],se=0;return j(R,K,"","",function(Ie){return B.call(Z,Ie,se++)}),K}function H(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(Z){(R._status===0||R._status===-1)&&(R._status=1,R._result=Z)},function(Z){(R._status===0||R._status===-1)&&(R._status=2,R._result=Z)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var V=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function W(){}return rt.Children={map:D,forEach:function(R,B,Z){D(R,function(){B.apply(this,arguments)},Z)},count:function(R){var B=0;return D(R,function(){B++}),B},toArray:function(R){return D(R,function(B){return B})||[]},only:function(R){if(!q(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},rt.Component=E,rt.Fragment=e,rt.Profiler=s,rt.PureComponent=A,rt.StrictMode=n,rt.Suspense=h,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,rt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return L.H.useMemoCache(R)}},rt.cache=function(R){return function(){return R.apply(null,arguments)}},rt.cloneElement=function(R,B,Z){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var K=C({},R.props),se=R.key,Ie=void 0;if(B!=null)for($ in B.ref!==void 0&&(Ie=void 0),B.key!==void 0&&(se=""+B.key),B)!U.call(B,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&B.ref===void 0||(K[$]=B[$]);var $=arguments.length-2;if($===1)K.children=Z;else if(1<$){for(var Ce=Array($),de=0;de<$;de++)Ce[de]=arguments[de+2];K.children=Ce}return F(R.type,se,void 0,void 0,Ie,K)},rt.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},rt.createElement=function(R,B,Z){var K,se={},Ie=null;if(B!=null)for(K in B.key!==void 0&&(Ie=""+B.key),B)U.call(B,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(se[K]=B[K]);var $=arguments.length-2;if($===1)se.children=Z;else if(1<$){for(var Ce=Array($),de=0;de<$;de++)Ce[de]=arguments[de+2];se.children=Ce}if(R&&R.defaultProps)for(K in $=R.defaultProps,$)se[K]===void 0&&(se[K]=$[K]);return F(R,Ie,void 0,void 0,null,se)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(R){return{$$typeof:u,render:R}},rt.isValidElement=q,rt.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:H}},rt.memo=function(R,B){return{$$typeof:m,type:R,compare:B===void 0?null:B}},rt.startTransition=function(R){var B=L.T,Z={};L.T=Z;try{var K=R(),se=L.S;se!==null&&se(Z,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(W,V)}catch(Ie){V(Ie)}finally{L.T=B}},rt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},rt.use=function(R){return L.H.use(R)},rt.useActionState=function(R,B,Z){return L.H.useActionState(R,B,Z)},rt.useCallback=function(R,B){return L.H.useCallback(R,B)},rt.useContext=function(R){return L.H.useContext(R)},rt.useDebugValue=function(){},rt.useDeferredValue=function(R,B){return L.H.useDeferredValue(R,B)},rt.useEffect=function(R,B,Z){var K=L.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(R,B)},rt.useId=function(){return L.H.useId()},rt.useImperativeHandle=function(R,B,Z){return L.H.useImperativeHandle(R,B,Z)},rt.useInsertionEffect=function(R,B){return L.H.useInsertionEffect(R,B)},rt.useLayoutEffect=function(R,B){return L.H.useLayoutEffect(R,B)},rt.useMemo=function(R,B){return L.H.useMemo(R,B)},rt.useOptimistic=function(R,B){return L.H.useOptimistic(R,B)},rt.useReducer=function(R,B,Z){return L.H.useReducer(R,B,Z)},rt.useRef=function(R){return L.H.useRef(R)},rt.useState=function(R){return L.H.useState(R)},rt.useSyncExternalStore=function(R,B,Z){return L.H.useSyncExternalStore(R,B,Z)},rt.useTransition=function(){return L.H.useTransition()},rt.version="19.1.0",rt}var yw;function ty(){return yw||(yw=1,wp.exports=Y2()),wp.exports}var w=ty();const f=ey(w),BC=H2({__proto__:null,default:f},[w]);var Cp={exports:{}},ic={},Sp={exports:{}},_p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function F2(){return vw||(vw=1,function(t){function a(D,H){var V=D.length;D.push(H);e:for(;0<V;){var W=V-1>>>1,R=D[W];if(0<s(R,H))D[W]=H,D[V]=R,V=W;else break e}}function e(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var H=D[0],V=D.pop();if(V!==H){D[0]=V;e:for(var W=0,R=D.length,B=R>>>1;W<B;){var Z=2*(W+1)-1,K=D[Z],se=Z+1,Ie=D[se];if(0>s(K,V))se<R&&0>s(Ie,K)?(D[W]=Ie,D[se]=V,W=se):(D[W]=K,D[Z]=V,W=Z);else if(se<R&&0>s(Ie,V))D[W]=Ie,D[se]=V,W=se;else break e}}return H}function s(D,H){var V=D.sortIndex-H.sortIndex;return V!==0?V:D.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],m=[],p=1,v=null,b=3,S=!1,C=!1,_=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function k(D){for(var H=e(m);H!==null;){if(H.callback===null)n(m);else if(H.startTime<=D)n(m),H.sortIndex=H.expirationTime,a(h,H);else break;H=e(m)}}function L(D){if(_=!1,k(D),!C)if(e(h)!==null)C=!0,U||(U=!0,le());else{var H=e(m);H!==null&&j(L,H.startTime-D)}}var U=!1,F=-1,z=5,q=-1;function te(){return E?!0:!(t.unstable_now()-q<z)}function ge(){if(E=!1,U){var D=t.unstable_now();q=D;var H=!0;try{e:{C=!1,_&&(_=!1,A(F),F=-1),S=!0;var V=b;try{t:{for(k(D),v=e(h);v!==null&&!(v.expirationTime>D&&te());){var W=v.callback;if(typeof W=="function"){v.callback=null,b=v.priorityLevel;var R=W(v.expirationTime<=D);if(D=t.unstable_now(),typeof R=="function"){v.callback=R,k(D),H=!0;break t}v===e(h)&&n(h),k(D)}else n(h);v=e(h)}if(v!==null)H=!0;else{var B=e(m);B!==null&&j(L,B.startTime-D),H=!1}}break e}finally{v=null,b=V,S=!1}H=void 0}}finally{H?le():U=!1}}}var le;if(typeof M=="function")le=function(){M(ge)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ee=re.port2;re.port1.onmessage=ge,le=function(){ee.postMessage(null)}}else le=function(){I(ge,0)};function j(D,H){F=I(function(){D(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(D){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var V=b;b=H;try{return D()}finally{b=V}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(D,H){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=b;b=D;try{return H()}finally{b=V}},t.unstable_scheduleCallback=function(D,H,V){var W=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?W+V:W):V=W,D){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=V+R,D={id:p++,callback:H,priorityLevel:D,startTime:V,expirationTime:R,sortIndex:-1},V>W?(D.sortIndex=V,a(m,D),e(h)===null&&D===e(m)&&(_?(A(F),F=-1):_=!0,j(L,V-W))):(D.sortIndex=R,a(h,D),C||S||(C=!0,U||(U=!0,le()))),D},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(D){var H=b;return function(){var V=b;b=H;try{return D.apply(this,arguments)}finally{b=V}}}}(_p)),_p}var bw;function j2(){return bw||(bw=1,Sp.exports=F2()),Sp.exports}var Ep={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function W2(){if(ww)return Wn;ww=1;var t=ty();function a(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(a(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,m,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:m,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Wn.createPortal=function(h,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(a(299));return o(h,m,null,p)},Wn.flushSync=function(h){var m=l.T,p=n.p;try{if(l.T=null,n.p=2,h)return h()}finally{l.T=m,n.p=p,n.d.f()}},Wn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(h,m))},Wn.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Wn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var p=m.as,v=u(p,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?n.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):p==="script"&&n.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Wn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(h)},Wn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,v=u(p,m.crossOrigin);n.d.L(h,p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Wn.preloadModule=function(h,m){if(typeof h=="string")if(m){var p=u(m.as,m.crossOrigin);n.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(h)},Wn.requestFormReset=function(h){n.d.r(h)},Wn.unstable_batchedUpdates=function(h,m){return h(m)},Wn.useFormState=function(h,m,p){return l.H.useFormState(h,m,p)},Wn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Wn.version="19.1.0",Wn}var Cw;function UC(){if(Cw)return Ep.exports;Cw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Ep.exports=W2(),Ep.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function G2(){if(Sw)return ic;Sw=1;var t=j2(),a=ty(),e=UC();function n(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,c=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(c=i.return),r=i.return;while(r)}return i.tag===3?c:null}function l(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(n(188))}function h(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(n(188));return i!==r?null:r}for(var c=r,d=i;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(d=g.return,d!==null){c=d;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return u(g),r;if(y===d)return u(g),i;y=y.sibling}throw Error(n(188))}if(c.return!==d.return)c=g,d=y;else{for(var x=!1,T=g.child;T;){if(T===c){x=!0,c=g,d=y;break}if(T===d){x=!0,d=g,c=y;break}T=T.sibling}if(!x){for(T=y.child;T;){if(T===c){x=!0,c=y,d=g;break}if(T===d){x=!0,d=y,c=g;break}T=T.sibling}if(!x)throw Error(n(189))}}if(c.alternate!==d)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:i}function m(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=m(r),i!==null)return i;r=r.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),M=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function le(r){return r===null||typeof r!="object"?null:(r=ge&&r[ge]||r["@@iterator"],typeof r=="function"?r:null)}var re=Symbol.for("react.client.reference");function ee(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===re?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case E:return"Profiler";case _:return"StrictMode";case L:return"Suspense";case U:return"SuspenseList";case q:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case M:return(r.displayName||"Context")+".Provider";case A:return(r._context.displayName||"Context")+".Consumer";case k:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case F:return i=r.displayName||null,i!==null?i:ee(r.type)||"Memo";case z:i=r._payload,r=r._init;try{return ee(r(i))}catch{}}return null}var j=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},W=[],R=-1;function B(r){return{current:r}}function Z(r){0>R||(r.current=W[R],W[R]=null,R--)}function K(r,i){R++,W[R]=r.current,r.current=i}var se=B(null),Ie=B(null),$=B(null),Ce=B(null);function de(r,i){switch(K($,i),K(Ie,r),K(se,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?Wb(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=Wb(i),r=Gb(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Z(se),K(se,r)}function we(){Z(se),Z(Ie),Z($)}function Oe(r){r.memoizedState!==null&&K(Ce,r);var i=se.current,c=Gb(i,r.type);i!==c&&(K(Ie,r),K(se,c))}function We(r){Ie.current===r&&(Z(se),Z(Ie)),Ce.current===r&&(Z(Ce),tc._currentValue=V)}var et=Object.prototype.hasOwnProperty,qt=t.unstable_scheduleCallback,xn=t.unstable_cancelCallback,en=t.unstable_shouldYield,Yn=t.unstable_requestPaint,xt=t.unstable_now,gn=t.unstable_getCurrentPriorityLevel,ka=t.unstable_ImmediatePriority,gt=t.unstable_UserBlockingPriority,Qn=t.unstable_NormalPriority,ia=t.unstable_LowPriority,yn=t.unstable_IdlePriority,so=t.log,xs=t.unstable_setDisableYieldValue,kn=null,tn=null;function Ht(r){if(typeof so=="function"&&xs(r),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(kn,r)}catch{}}var vn=Math.clz32?Math.clz32:mi,lu=Math.log,io=Math.LN2;function mi(r){return r>>>=0,r===0?32:31-(lu(r)/io|0)|0}var Vn=256,Xn=4194304;function La(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function pt(r,i,c){var d=r.pendingLanes;if(d===0)return 0;var g=0,y=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var T=d&134217727;return T!==0?(d=T&~y,d!==0?g=La(d):(x&=T,x!==0?g=La(x):c||(c=T&~r,c!==0&&(g=La(c))))):(T=d&~y,T!==0?g=La(T):x!==0?g=La(x):c||(c=d&~r,c!==0&&(g=La(c)))),g===0?0:i!==0&&i!==g&&(i&y)===0&&(y=g&-g,c=i&-i,y>=c||y===32&&(c&4194048)!==0)?i:g}function In(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function pr(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gr(){var r=Vn;return Vn<<=1,(Vn&4194048)===0&&(Vn=256),r}function ma(){var r=Xn;return Xn<<=1,(Xn&62914560)===0&&(Xn=4194304),r}function bt(r){for(var i=[],c=0;31>c;c++)i.push(r);return i}function Ln(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function pa(r,i,c,d,g,y){var x=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var T=r.entanglements,O=r.expirationTimes,J=r.hiddenUpdates;for(c=x&~c;0<c;){var ue=31-vn(c),pe=1<<ue;T[ue]=0,O[ue]=-1;var ne=J[ue];if(ne!==null)for(J[ue]=null,ue=0;ue<ne.length;ue++){var ae=ne[ue];ae!==null&&(ae.lane&=-536870913)}c&=~pe}d!==0&&Pa(r,d,0),y!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=y&~(x&~i))}function Pa(r,i,c){r.pendingLanes|=i,r.suspendedLanes&=~i;var d=31-vn(i);r.entangledLanes|=i,r.entanglements[d]=r.entanglements[d]|1073741824|c&4194090}function Kn(r,i){var c=r.entangledLanes|=i;for(r=r.entanglements;c;){var d=31-vn(c),g=1<<d;g&i|r[d]&i&&(r[d]|=i),c&=~g}}function ar(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Oa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function pi(){var r=H.p;return r!==0?r:(r=window.event,r===void 0?32:uw(r.type))}function pl(r,i){var c=H.p;try{return H.p=r,i()}finally{H.p=c}}var Jn=Math.random().toString(36).slice(2),cn="__reactFiber$"+Jn,un="__reactProps$"+Jn,ea="__reactContainer$"+Jn,Gr="__reactEvents$"+Jn,yr="__reactListeners$"+Jn,ga="__reactHandles$"+Jn,Is="__reactResources$"+Jn,Zr="__reactMarker$"+Jn;function gi(r){delete r[cn],delete r[un],delete r[Gr],delete r[yr],delete r[ga]}function vr(r){var i=r[cn];if(i)return i;for(var c=r.parentNode;c;){if(i=c[ea]||c[cn]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(r=Qb(r);r!==null;){if(c=r[cn])return c;r=Qb(r)}return i}r=c,c=r.parentNode}return null}function $r(r){if(r=r[cn]||r[ea]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function qr(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(n(33))}function ya(r){var i=r[Is];return i||(i=r[Is]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Yt(r){r[Zr]=!0}var yi=new Set,vi={};function ta(r,i){oa(r,i),oa(r+"Capture",i)}function oa(r,i){for(vi[r]=i,r=0;r<i.length;r++)yi.add(i[r])}var Ds=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),br={},Ms={};function wr(r){return et.call(Ms,r)?!0:et.call(br,r)?!1:Ds.test(r)?Ms[r]=!0:(br[r]=!0,!1)}function As(r,i,c){if(wr(i))if(c===null)r.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+c)}}function Cr(r,i,c){if(c===null)r.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+c)}}function va(r,i,c,d){if(d===null)r.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(i,c,""+d)}}var bi,rr;function Ba(r){if(bi===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);bi=i&&i[1]||"",rr=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bi+r+rr}var Ts=!1;function ba(r,i){if(!r||Ts)return"";Ts=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ae){var ne=ae}Reflect.construct(r,[],pe)}else{try{pe.call()}catch(ae){ne=ae}r.call(pe.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(pe=r())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),x=y[0],T=y[1];if(x&&T){var O=x.split(`
`),J=T.split(`
`);for(g=d=0;d<O.length&&!O[d].includes("DetermineComponentFrameRoot");)d++;for(;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;if(d===O.length||g===J.length)for(d=O.length-1,g=J.length-1;1<=d&&0<=g&&O[d]!==J[g];)g--;for(;1<=d&&0<=g;d--,g--)if(O[d]!==J[g]){if(d!==1||g!==1)do if(d--,g--,0>g||O[d]!==J[g]){var ue=`
`+O[d].replace(" at new "," at ");return r.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",r.displayName)),ue}while(1<=d&&0<=g);break}}}finally{Ts=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Ba(c):""}function gl(r){switch(r.tag){case 26:case 27:case 5:return Ba(r.type);case 16:return Ba("Lazy");case 13:return Ba("Suspense");case 19:return Ba("SuspenseList");case 0:case 15:return ba(r.type,!1);case 11:return ba(r.type.render,!1);case 1:return ba(r.type,!0);case 31:return Ba("Activity");default:return""}}function wi(r){try{var i="";do i+=gl(r),r=r.return;while(r);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Dn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function oo(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function G(r){var i=oo(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,y=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(x){d=""+x,y.call(this,x)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function N(r){r._valueTracker||(r._valueTracker=G(r))}function ce(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var c=i.getValue(),d="";return r&&(d=oo(r)?r.checked?"true":"false":r.value),r=d,r!==c?(i.setValue(r),!0):!1}function fe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var be=/[\n"\\]/g;function Me(r){return r.replace(be,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function De(r,i,c,d,g,y,x,T){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),i!=null?x==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Dn(i)):r.value!==""+Dn(i)&&(r.value=""+Dn(i)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),i!=null?Je(r,x,Dn(i)):c!=null?Je(r,x,Dn(c)):d!=null&&r.removeAttribute("value"),g==null&&y!=null&&(r.defaultChecked=!!y),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.name=""+Dn(T):r.removeAttribute("name")}function Le(r,i,c,d,g,y,x,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),i!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;c=c!=null?""+Dn(c):"",i=i!=null?""+Dn(i):c,T||i===r.value||(r.value=i),r.defaultValue=i}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=T?r.checked:!!d,r.defaultChecked=!!d,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x)}function Je(r,i,c){i==="number"&&fe(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function He(r,i,c,d){if(r=r.options,i){i={};for(var g=0;g<c.length;g++)i["$"+c[g]]=!0;for(c=0;c<r.length;c++)g=i.hasOwnProperty("$"+r[c].value),r[c].selected!==g&&(r[c].selected=g),g&&d&&(r[c].defaultSelected=!0)}else{for(c=""+Dn(c),i=null,g=0;g<r.length;g++){if(r[g].value===c){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function Ke(r,i,c){if(i!=null&&(i=""+Dn(i),i!==r.value&&(r.value=i),c==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=c!=null?""+Dn(c):""}function Fe(r,i,c,d){if(i==null){if(d!=null){if(c!=null)throw Error(n(92));if(j(d)){if(1<d.length)throw Error(n(93));d=d[0]}c=d}c==null&&(c=""),i=c}c=Dn(i),r.defaultValue=c,d=r.textContent,d===c&&d!==""&&d!==null&&(r.value=d)}function Te(r,i){if(i){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=i;return}}r.textContent=i}var oe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xe(r,i,c){var d=i.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":d?r.setProperty(i,c):typeof c!="number"||c===0||oe.has(i)?i==="float"?r.cssFloat=c:r[i]=(""+c).trim():r[i]=c+"px"}function Ne(r,i,c){if(i!=null&&typeof i!="object")throw Error(n(62));if(r=r.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var g in i)d=i[g],i.hasOwnProperty(g)&&c[g]!==d&&xe(r,g,d)}else for(var y in i)i.hasOwnProperty(y)&&xe(r,y,i[y])}function Ue(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Be=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function P(r){return Be.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ee=null;function ye(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _e=null,je=null;function Re(r){var i=$r(r);if(i&&(r=i.stateNode)){var c=r[un]||null;e:switch(r=i.stateNode,i.type){case"input":if(De(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),i=c.name,c.type==="radio"&&i!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Me(""+i)+'"][type="radio"]'),i=0;i<c.length;i++){var d=c[i];if(d!==r&&d.form===r.form){var g=d[un]||null;if(!g)throw Error(n(90));De(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<c.length;i++)d=c[i],d.form===r.form&&ce(d)}break e;case"textarea":Ke(r,c.value,c.defaultValue);break e;case"select":i=c.value,i!=null&&He(r,!!c.multiple,i,!1)}}}var Xe=!1;function jt(r,i,c){if(Xe)return r(i,c);Xe=!0;try{var d=r(i);return d}finally{if(Xe=!1,(_e!==null||je!==null)&&(ju(),_e&&(i=_e,r=je,je=_e=null,Re(i),r)))for(i=0;i<r.length;i++)Re(r[i])}}function st(r,i){var c=r.stateNode;if(c===null)return null;var d=c[un]||null;if(d===null)return null;c=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,i,typeof c));return c}var ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nn=!1;if(ut)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){nn=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{nn=!1}var Fn=null,Sr=null,wa=null;function _r(){if(wa)return wa;var r,i=Sr,c=i.length,d,g="value"in Fn?Fn.value:Fn.textContent,y=g.length;for(r=0;r<c&&i[r]===g[r];r++);var x=c-r;for(d=1;d<=x&&i[c-d]===g[y-d];d++);return wa=g.slice(r,1<d?1-d:void 0)}function Ca(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function sr(){return!0}function Qr(){return!1}function Sn(r){function i(c,d,g,y,x){this._reactName=c,this._targetInst=g,this.type=d,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(c=r[T],this[T]=c?c(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?sr:Qr,this.isPropagationStopped=Qr,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),i}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=Sn(Vr),Ci=p({},Vr,{view:0,detail:0}),Eh=Sn(Ci),xh,Ih,yl,cu=p({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mh,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==yl&&(yl&&r.type==="mousemove"?(xh=r.screenX-yl.screenX,Ih=r.screenY-yl.screenY):Ih=xh=0,yl=r),xh)},movementY:function(r){return"movementY"in r?r.movementY:Ih}}),Vy=Sn(cu),zE=p({},cu,{dataTransfer:0}),HE=Sn(zE),YE=p({},Ci,{relatedTarget:0}),Dh=Sn(YE),FE=p({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),jE=Sn(FE),WE=p({},Vr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),GE=Sn(WE),ZE=p({},Vr,{data:0}),Xy=Sn(ZE),$E={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VE(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=QE[r])?!!i[r]:!1}function Mh(){return VE}var XE=p({},Ci,{key:function(r){if(r.key){var i=$E[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ca(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?qE[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mh,charCode:function(r){return r.type==="keypress"?Ca(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ca(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),KE=Sn(XE),JE=p({},cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ky=Sn(JE),ex=p({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mh}),tx=Sn(ex),nx=p({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ax=Sn(nx),rx=p({},cu,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),sx=Sn(rx),ix=p({},Vr,{newState:0,oldState:0}),ox=Sn(ix),lx=[9,13,27,32],Ah=ut&&"CompositionEvent"in window,vl=null;ut&&"documentMode"in document&&(vl=document.documentMode);var cx=ut&&"TextEvent"in window&&!vl,Jy=ut&&(!Ah||vl&&8<vl&&11>=vl),e0=" ",t0=!1;function n0(r,i){switch(r){case"keyup":return lx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a0(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var co=!1;function ux(r,i){switch(r){case"compositionend":return a0(i);case"keypress":return i.which!==32?null:(t0=!0,e0);case"textInput":return r=i.data,r===e0&&t0?null:r;default:return null}}function dx(r,i){if(co)return r==="compositionend"||!Ah&&n0(r,i)?(r=_r(),wa=Sr=Fn=null,co=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Jy&&i.locale!=="ko"?null:i.data;default:return null}}var fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r0(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!fx[r.type]:i==="textarea"}function s0(r,i,c,d){_e?je?je.push(d):je=[d]:_e=d,i=Qu(i,"onChange"),0<i.length&&(c=new lo("onChange","change",null,c,d),r.push({event:c,listeners:i}))}var bl=null,wl=null;function hx(r){zb(r,0)}function uu(r){var i=qr(r);if(ce(i))return r}function i0(r,i){if(r==="change")return i}var o0=!1;if(ut){var Th;if(ut){var Nh="oninput"in document;if(!Nh){var l0=document.createElement("div");l0.setAttribute("oninput","return;"),Nh=typeof l0.oninput=="function"}Th=Nh}else Th=!1;o0=Th&&(!document.documentMode||9<document.documentMode)}function c0(){bl&&(bl.detachEvent("onpropertychange",u0),wl=bl=null)}function u0(r){if(r.propertyName==="value"&&uu(wl)){var i=[];s0(i,wl,r,ye(r)),jt(hx,i)}}function mx(r,i,c){r==="focusin"?(c0(),bl=i,wl=c,bl.attachEvent("onpropertychange",u0)):r==="focusout"&&c0()}function px(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return uu(wl)}function gx(r,i){if(r==="click")return uu(i)}function yx(r,i){if(r==="input"||r==="change")return uu(i)}function vx(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Sa=typeof Object.is=="function"?Object.is:vx;function Cl(r,i){if(Sa(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var c=Object.keys(r),d=Object.keys(i);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var g=c[d];if(!et.call(i,g)||!Sa(r[g],i[g]))return!1}return!0}function d0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function f0(r,i){var c=d0(r);r=0;for(var d;c;){if(c.nodeType===3){if(d=r+c.textContent.length,r<=i&&d>=i)return{node:c,offset:i-r};r=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=d0(c)}}function h0(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?h0(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function m0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=fe(r.document);i instanceof r.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)r=i.contentWindow;else break;i=fe(r.document)}return i}function Rh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var bx=ut&&"documentMode"in document&&11>=document.documentMode,uo=null,kh=null,Sl=null,Lh=!1;function p0(r,i,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Lh||uo==null||uo!==fe(d)||(d=uo,"selectionStart"in d&&Rh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Sl&&Cl(Sl,d)||(Sl=d,d=Qu(kh,"onSelect"),0<d.length&&(i=new lo("onSelect","select",null,i,c),r.push({event:i,listeners:d}),i.target=uo)))}function Si(r,i){var c={};return c[r.toLowerCase()]=i.toLowerCase(),c["Webkit"+r]="webkit"+i,c["Moz"+r]="moz"+i,c}var fo={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionrun:Si("Transition","TransitionRun"),transitionstart:Si("Transition","TransitionStart"),transitioncancel:Si("Transition","TransitionCancel"),transitionend:Si("Transition","TransitionEnd")},Ph={},g0={};ut&&(g0=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function _i(r){if(Ph[r])return Ph[r];if(!fo[r])return r;var i=fo[r],c;for(c in i)if(i.hasOwnProperty(c)&&c in g0)return Ph[r]=i[c];return r}var y0=_i("animationend"),v0=_i("animationiteration"),b0=_i("animationstart"),wx=_i("transitionrun"),Cx=_i("transitionstart"),Sx=_i("transitioncancel"),w0=_i("transitionend"),C0=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function ir(r,i){C0.set(r,i),ta(i,[r])}var S0=new WeakMap;function Ua(r,i){if(typeof r=="object"&&r!==null){var c=S0.get(r);return c!==void 0?c:(i={value:r,source:i,stack:wi(i)},S0.set(r,i),i)}return{value:r,source:i,stack:wi(i)}}var za=[],ho=0,Bh=0;function du(){for(var r=ho,i=Bh=ho=0;i<r;){var c=za[i];za[i++]=null;var d=za[i];za[i++]=null;var g=za[i];za[i++]=null;var y=za[i];if(za[i++]=null,d!==null&&g!==null){var x=d.pending;x===null?g.next=g:(g.next=x.next,x.next=g),d.pending=g}y!==0&&_0(c,g,y)}}function fu(r,i,c,d){za[ho++]=r,za[ho++]=i,za[ho++]=c,za[ho++]=d,Bh|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Uh(r,i,c,d){return fu(r,i,c,d),hu(r)}function mo(r,i){return fu(r,null,null,i),hu(r)}function _0(r,i,c){r.lanes|=c;var d=r.alternate;d!==null&&(d.lanes|=c);for(var g=!1,y=r.return;y!==null;)y.childLanes|=c,d=y.alternate,d!==null&&(d.childLanes|=c),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(g=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,g&&i!==null&&(g=31-vn(c),r=y.hiddenUpdates,d=r[g],d===null?r[g]=[i]:d.push(i),i.lane=c|536870912),y):null}function hu(r){if(50<$l)throw $l=0,Wm=null,Error(n(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var po={};function _x(r,i,c,d){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _a(r,i,c,d){return new _x(r,i,c,d)}function zh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Xr(r,i){var c=r.alternate;return c===null?(c=_a(r.tag,i,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=i,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,i=r.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function E0(r,i){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,i=c.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function mu(r,i,c,d,g,y){var x=0;if(d=r,typeof r=="function")zh(r)&&(x=1);else if(typeof r=="string")x=x2(r,c,se.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case q:return r=_a(31,c,i,g),r.elementType=q,r.lanes=y,r;case C:return Ei(c.children,g,y,i);case _:x=8,g|=24;break;case E:return r=_a(12,c,i,g|2),r.elementType=E,r.lanes=y,r;case L:return r=_a(13,c,i,g),r.elementType=L,r.lanes=y,r;case U:return r=_a(19,c,i,g),r.elementType=U,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case I:case M:x=10;break e;case A:x=9;break e;case k:x=11;break e;case F:x=14;break e;case z:x=16,d=null;break e}x=29,c=Error(n(130,r===null?"null":typeof r,"")),d=null}return i=_a(x,c,i,g),i.elementType=r,i.type=d,i.lanes=y,i}function Ei(r,i,c,d){return r=_a(7,r,d,i),r.lanes=c,r}function Hh(r,i,c){return r=_a(6,r,null,i),r.lanes=c,r}function Yh(r,i,c){return i=_a(4,r.children!==null?r.children:[],r.key,i),i.lanes=c,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var go=[],yo=0,pu=null,gu=0,Ha=[],Ya=0,xi=null,Kr=1,Jr="";function Ii(r,i){go[yo++]=gu,go[yo++]=pu,pu=r,gu=i}function x0(r,i,c){Ha[Ya++]=Kr,Ha[Ya++]=Jr,Ha[Ya++]=xi,xi=r;var d=Kr;r=Jr;var g=32-vn(d)-1;d&=~(1<<g),c+=1;var y=32-vn(i)+g;if(30<y){var x=g-g%5;y=(d&(1<<x)-1).toString(32),d>>=x,g-=x,Kr=1<<32-vn(i)+g|c<<g|d,Jr=y+r}else Kr=1<<y|c<<g|d,Jr=r}function Fh(r){r.return!==null&&(Ii(r,1),x0(r,1,0))}function jh(r){for(;r===pu;)pu=go[--yo],go[yo]=null,gu=go[--yo],go[yo]=null;for(;r===xi;)xi=Ha[--Ya],Ha[Ya]=null,Jr=Ha[--Ya],Ha[Ya]=null,Kr=Ha[--Ya],Ha[Ya]=null}var na=null,an=null,_t=!1,Di=null,Er=!1,Wh=Error(n(519));function Mi(r){var i=Error(n(418,""));throw xl(Ua(i,r)),Wh}function I0(r){var i=r.stateNode,c=r.type,d=r.memoizedProps;switch(i[cn]=r,i[un]=d,c){case"dialog":ht("cancel",i),ht("close",i);break;case"iframe":case"object":case"embed":ht("load",i);break;case"video":case"audio":for(c=0;c<Ql.length;c++)ht(Ql[c],i);break;case"source":ht("error",i);break;case"img":case"image":case"link":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"input":ht("invalid",i),Le(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),N(i);break;case"select":ht("invalid",i);break;case"textarea":ht("invalid",i),Fe(i,d.value,d.defaultValue,d.children),N(i)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||i.textContent===""+c||d.suppressHydrationWarning===!0||jb(i.textContent,c)?(d.popover!=null&&(ht("beforetoggle",i),ht("toggle",i)),d.onScroll!=null&&ht("scroll",i),d.onScrollEnd!=null&&ht("scrollend",i),d.onClick!=null&&(i.onclick=Vu),i=!0):i=!1,i||Mi(r)}function D0(r){for(na=r.return;na;)switch(na.tag){case 5:case 13:Er=!1;return;case 27:case 3:Er=!0;return;default:na=na.return}}function _l(r){if(r!==na)return!1;if(!_t)return D0(r),_t=!0,!1;var i=r.tag,c;if((c=i!==3&&i!==27)&&((c=i===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||ip(r.type,r.memoizedProps)),c=!c),c&&an&&Mi(r),D0(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(i===0){an=lr(r.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++;r=r.nextSibling}an=null}}else i===27?(i=an,Zs(r.type)?(r=up,up=null,an=r):an=i):an=na?lr(r.stateNode.nextSibling):null;return!0}function El(){an=na=null,_t=!1}function M0(){var r=Di;return r!==null&&(ua===null?ua=r:ua.push.apply(ua,r),Di=null),r}function xl(r){Di===null?Di=[r]:Di.push(r)}var Gh=B(null),Ai=null,es=null;function Ns(r,i,c){K(Gh,i._currentValue),i._currentValue=c}function ts(r){r._currentValue=Gh.current,Z(Gh)}function Zh(r,i,c){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===c)break;r=r.return}}function $h(r,i,c,d){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var y=g.dependencies;if(y!==null){var x=g.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=g;for(var O=0;O<i.length;O++)if(T.context===i[O]){y.lanes|=c,T=y.alternate,T!==null&&(T.lanes|=c),Zh(y.return,c,r),d||(x=null);break e}y=T.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(n(341));x.lanes|=c,y=x.alternate,y!==null&&(y.lanes|=c),Zh(x,c,r),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===r){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function Il(r,i,c,d){r=null;for(var g=i,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(n(387));if(x=x.memoizedProps,x!==null){var T=g.type;Sa(g.pendingProps.value,x.value)||(r!==null?r.push(T):r=[T])}}else if(g===Ce.current){if(x=g.alternate,x===null)throw Error(n(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(tc):r=[tc])}g=g.return}r!==null&&$h(i,r,c,d),i.flags|=262144}function yu(r){for(r=r.firstContext;r!==null;){if(!Sa(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ti(r){Ai=r,es=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function jn(r){return A0(Ai,r)}function vu(r,i){return Ai===null&&Ti(r),A0(r,i)}function A0(r,i){var c=i._currentValue;if(i={context:i,memoizedValue:c,next:null},es===null){if(r===null)throw Error(n(308));es=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else es=es.next=i;return c}var Ex=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(c,d){r.push(d)}};this.abort=function(){i.aborted=!0,r.forEach(function(c){return c()})}},xx=t.unstable_scheduleCallback,Ix=t.unstable_NormalPriority,_n={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new Ex,data:new Map,refCount:0}}function Dl(r){r.refCount--,r.refCount===0&&xx(Ix,function(){r.controller.abort()})}var Ml=null,Qh=0,vo=0,bo=null;function Dx(r,i){if(Ml===null){var c=Ml=[];Qh=0,vo=Xm(),bo={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Qh++,i.then(T0,T0),i}function T0(){if(--Qh===0&&Ml!==null){bo!==null&&(bo.status="fulfilled");var r=Ml;Ml=null,vo=0,bo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function Mx(r,i){var c=[],d={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return r.then(function(){d.status="fulfilled",d.value=i;for(var g=0;g<c.length;g++)(0,c[g])(i)},function(g){for(d.status="rejected",d.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),d}var N0=D.S;D.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Dx(r,i),N0!==null&&N0(r,i)};var Ni=B(null);function Vh(){var r=Ni.current;return r!==null?r:Ut.pooledCache}function bu(r,i){i===null?K(Ni,Ni.current):K(Ni,i.pool)}function R0(){var r=Vh();return r===null?null:{parent:_n._currentValue,pool:r}}var Al=Error(n(460)),k0=Error(n(474)),wu=Error(n(542)),Xh={then:function(){}};function L0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Cu(){}function P0(r,i,c){switch(c=r[c],c===void 0?r.push(i):c!==i&&(i.then(Cu,Cu),i=c),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,B0(r),r;default:if(typeof i.status=="string")i.then(Cu,Cu);else{if(r=Ut,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=i,r.status="pending",r.then(function(d){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=d}},function(d){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,B0(r),r}throw Tl=i,Al}}var Tl=null;function O0(){if(Tl===null)throw Error(n(459));var r=Tl;return Tl=null,r}function B0(r){if(r===Al||r===wu)throw Error(n(483))}var Rs=!1;function Kh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ks(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ls(r,i,c){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Dt&2)!==0){var g=d.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),d.pending=i,i=hu(r),_0(r,null,c),i}return fu(r,d,i,c),hu(r)}function Nl(r,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194048)!==0)){var d=i.lanes;d&=r.pendingLanes,c|=d,i.lanes=c,Kn(r,c)}}function em(r,i){var c=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?g=y=x:y=y.next=x,c=c.next}while(c!==null);y===null?g=y=i:y=y.next=i}else g=y=i;c={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=i:r.next=i,c.lastBaseUpdate=i}var tm=!1;function Rl(){if(tm){var r=bo;if(r!==null)throw r}}function kl(r,i,c,d){tm=!1;var g=r.updateQueue;Rs=!1;var y=g.firstBaseUpdate,x=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var O=T,J=O.next;O.next=null,x===null?y=J:x.next=J,x=O;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,T=ue.lastBaseUpdate,T!==x&&(T===null?ue.firstBaseUpdate=J:T.next=J,ue.lastBaseUpdate=O))}if(y!==null){var pe=g.baseState;x=0,ue=J=O=null,T=y;do{var ne=T.lane&-536870913,ae=ne!==T.lane;if(ae?(vt&ne)===ne:(d&ne)===ne){ne!==0&&ne===vo&&(tm=!0),ue!==null&&(ue=ue.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Qe=r,Ge=T;ne=i;var Lt=c;switch(Ge.tag){case 1:if(Qe=Ge.payload,typeof Qe=="function"){pe=Qe.call(Lt,pe,ne);break e}pe=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=Ge.payload,ne=typeof Qe=="function"?Qe.call(Lt,pe,ne):Qe,ne==null)break e;pe=p({},pe,ne);break e;case 2:Rs=!0}}ne=T.callback,ne!==null&&(r.flags|=64,ae&&(r.flags|=8192),ae=g.callbacks,ae===null?g.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ue===null?(J=ue=ae,O=pe):ue=ue.next=ae,x|=ne;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;ae=T,T=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);ue===null&&(O=pe),g.baseState=O,g.firstBaseUpdate=J,g.lastBaseUpdate=ue,y===null&&(g.shared.lanes=0),Fs|=x,r.lanes=x,r.memoizedState=pe}}function U0(r,i){if(typeof r!="function")throw Error(n(191,r));r.call(i)}function z0(r,i){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)U0(c[r],i)}var wo=B(null),Su=B(0);function H0(r,i){r=ls,K(Su,r),K(wo,i),ls=r|i.baseLanes}function nm(){K(Su,ls),K(wo,wo.current)}function am(){ls=Su.current,Z(wo),Z(Su)}var Ps=0,lt=null,Rt=null,bn=null,_u=!1,Co=!1,Ri=!1,Eu=0,Ll=0,So=null,Ax=0;function dn(){throw Error(n(321))}function rm(r,i){if(i===null)return!1;for(var c=0;c<i.length&&c<r.length;c++)if(!Sa(r[c],i[c]))return!1;return!0}function sm(r,i,c,d,g,y){return Ps=y,lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,D.H=r===null||r.memoizedState===null?_v:Ev,Ri=!1,y=c(d,g),Ri=!1,Co&&(y=F0(i,c,d,g)),Y0(r),y}function Y0(r){D.H=Tu;var i=Rt!==null&&Rt.next!==null;if(Ps=0,bn=Rt=lt=null,_u=!1,Ll=0,So=null,i)throw Error(n(300));r===null||An||(r=r.dependencies,r!==null&&yu(r)&&(An=!0))}function F0(r,i,c,d){lt=r;var g=0;do{if(Co&&(So=null),Ll=0,Co=!1,25<=g)throw Error(n(301));if(g+=1,bn=Rt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}D.H=Ox,y=i(c,d)}while(Co);return y}function Tx(){var r=D.H,i=r.useState()[0];return i=typeof i.then=="function"?Pl(i):i,r=r.useState()[0],(Rt!==null?Rt.memoizedState:null)!==r&&(lt.flags|=1024),i}function im(){var r=Eu!==0;return Eu=0,r}function om(r,i,c){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~c}function lm(r){if(_u){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_u=!1}Ps=0,bn=Rt=lt=null,Co=!1,Ll=Eu=0,So=null}function la(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?lt.memoizedState=bn=r:bn=bn.next=r,bn}function wn(){if(Rt===null){var r=lt.alternate;r=r!==null?r.memoizedState:null}else r=Rt.next;var i=bn===null?lt.memoizedState:bn.next;if(i!==null)bn=i,Rt=r;else{if(r===null)throw lt.alternate===null?Error(n(467)):Error(n(310));Rt=r,r={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},bn===null?lt.memoizedState=bn=r:bn=bn.next=r}return bn}function cm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(r){var i=Ll;return Ll+=1,So===null&&(So=[]),r=P0(So,r,i),i=lt,(bn===null?i.memoizedState:bn.next)===null&&(i=i.alternate,D.H=i===null||i.memoizedState===null?_v:Ev),r}function xu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Pl(r);if(r.$$typeof===M)return jn(r)}throw Error(n(438,String(r)))}function um(r){var i=null,c=lt.updateQueue;if(c!==null&&(i=c.memoCache),i==null){var d=lt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),c===null&&(c=cm(),lt.updateQueue=c),c.memoCache=i,c=i.data[i.index],c===void 0)for(c=i.data[i.index]=Array(r),d=0;d<r;d++)c[d]=te;return i.index++,c}function ns(r,i){return typeof i=="function"?i(r):i}function Iu(r){var i=wn();return dm(i,Rt,r)}function dm(r,i,c){var d=r.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=c;var g=r.baseQueue,y=d.pending;if(y!==null){if(g!==null){var x=g.next;g.next=y.next,y.next=x}i.baseQueue=g=y,d.pending=null}if(y=r.baseState,g===null)r.memoizedState=y;else{i=g.next;var T=x=null,O=null,J=i,ue=!1;do{var pe=J.lane&-536870913;if(pe!==J.lane?(vt&pe)===pe:(Ps&pe)===pe){var ne=J.revertLane;if(ne===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),pe===vo&&(ue=!0);else if((Ps&ne)===ne){J=J.next,ne===vo&&(ue=!0);continue}else pe={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},O===null?(T=O=pe,x=y):O=O.next=pe,lt.lanes|=ne,Fs|=ne;pe=J.action,Ri&&c(y,pe),y=J.hasEagerState?J.eagerState:c(y,pe)}else ne={lane:pe,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},O===null?(T=O=ne,x=y):O=O.next=ne,lt.lanes|=pe,Fs|=pe;J=J.next}while(J!==null&&J!==i);if(O===null?x=y:O.next=T,!Sa(y,r.memoizedState)&&(An=!0,ue&&(c=bo,c!==null)))throw c;r.memoizedState=y,r.baseState=x,r.baseQueue=O,d.lastRenderedState=y}return g===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function fm(r){var i=wn(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var d=c.dispatch,g=c.pending,y=i.memoizedState;if(g!==null){c.pending=null;var x=g=g.next;do y=r(y,x.action),x=x.next;while(x!==g);Sa(y,i.memoizedState)||(An=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),c.lastRenderedState=y}return[y,d]}function j0(r,i,c){var d=lt,g=wn(),y=_t;if(y){if(c===void 0)throw Error(n(407));c=c()}else c=i();var x=!Sa((Rt||g).memoizedState,c);x&&(g.memoizedState=c,An=!0),g=g.queue;var T=Z0.bind(null,d,g,r);if(Ol(2048,8,T,[r]),g.getSnapshot!==i||x||bn!==null&&bn.memoizedState.tag&1){if(d.flags|=2048,_o(9,Du(),G0.bind(null,d,g,c,i),null),Ut===null)throw Error(n(349));y||(Ps&124)!==0||W0(d,i,c)}return c}function W0(r,i,c){r.flags|=16384,r={getSnapshot:i,value:c},i=lt.updateQueue,i===null?(i=cm(),lt.updateQueue=i,i.stores=[r]):(c=i.stores,c===null?i.stores=[r]:c.push(r))}function G0(r,i,c,d){i.value=c,i.getSnapshot=d,$0(i)&&q0(r)}function Z0(r,i,c){return c(function(){$0(i)&&q0(r)})}function $0(r){var i=r.getSnapshot;r=r.value;try{var c=i();return!Sa(r,c)}catch{return!0}}function q0(r){var i=mo(r,2);i!==null&&Ma(i,r,2)}function hm(r){var i=la();if(typeof r=="function"){var c=r;if(r=c(),Ri){Ht(!0);try{c()}finally{Ht(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:r},i}function Q0(r,i,c,d){return r.baseState=c,dm(r,Rt,typeof d=="function"?d:ns)}function Nx(r,i,c,d,g){if(Au(r))throw Error(n(485));if(r=i.action,r!==null){var y={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};D.T!==null?c(!0):y.isTransition=!1,d(y),c=i.pending,c===null?(y.next=i.pending=y,V0(i,y)):(y.next=c.next,i.pending=c.next=y)}}function V0(r,i){var c=i.action,d=i.payload,g=r.state;if(i.isTransition){var y=D.T,x={};D.T=x;try{var T=c(g,d),O=D.S;O!==null&&O(x,T),X0(r,i,T)}catch(J){mm(r,i,J)}finally{D.T=y}}else try{y=c(g,d),X0(r,i,y)}catch(J){mm(r,i,J)}}function X0(r,i,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){K0(r,i,d)},function(d){return mm(r,i,d)}):K0(r,i,c)}function K0(r,i,c){i.status="fulfilled",i.value=c,J0(i),r.state=c,i=r.pending,i!==null&&(c=i.next,c===i?r.pending=null:(c=c.next,i.next=c,V0(r,c)))}function mm(r,i,c){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=c,J0(i),i=i.next;while(i!==d)}r.action=null}function J0(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function ev(r,i){return i}function tv(r,i){if(_t){var c=Ut.formState;if(c!==null){e:{var d=lt;if(_t){if(an){t:{for(var g=an,y=Er;g.nodeType!==8;){if(!y){g=null;break t}if(g=lr(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){an=lr(g.nextSibling),d=g.data==="F!";break e}}Mi(d)}d=!1}d&&(i=c[0])}}return c=la(),c.memoizedState=c.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ev,lastRenderedState:i},c.queue=d,c=wv.bind(null,lt,d),d.dispatch=c,d=hm(!1),y=bm.bind(null,lt,!1,d.queue),d=la(),g={state:i,dispatch:null,action:r,pending:null},d.queue=g,c=Nx.bind(null,lt,g,y,c),g.dispatch=c,d.memoizedState=r,[i,c,!1]}function nv(r){var i=wn();return av(i,Rt,r)}function av(r,i,c){if(i=dm(r,i,ev)[0],r=Iu(ns)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=Pl(i)}catch(x){throw x===Al?wu:x}else d=i;i=wn();var g=i.queue,y=g.dispatch;return c!==i.memoizedState&&(lt.flags|=2048,_o(9,Du(),Rx.bind(null,g,c),null)),[d,y,r]}function Rx(r,i){r.action=i}function rv(r){var i=wn(),c=Rt;if(c!==null)return av(i,c,r);wn(),i=i.memoizedState,c=wn();var d=c.queue.dispatch;return c.memoizedState=r,[i,d,!1]}function _o(r,i,c,d){return r={tag:r,create:c,deps:d,inst:i,next:null},i=lt.updateQueue,i===null&&(i=cm(),lt.updateQueue=i),c=i.lastEffect,c===null?i.lastEffect=r.next=r:(d=c.next,c.next=r,r.next=d,i.lastEffect=r),r}function Du(){return{destroy:void 0,resource:void 0}}function sv(){return wn().memoizedState}function Mu(r,i,c,d){var g=la();d=d===void 0?null:d,lt.flags|=r,g.memoizedState=_o(1|i,Du(),c,d)}function Ol(r,i,c,d){var g=wn();d=d===void 0?null:d;var y=g.memoizedState.inst;Rt!==null&&d!==null&&rm(d,Rt.memoizedState.deps)?g.memoizedState=_o(i,y,c,d):(lt.flags|=r,g.memoizedState=_o(1|i,y,c,d))}function iv(r,i){Mu(8390656,8,r,i)}function ov(r,i){Ol(2048,8,r,i)}function lv(r,i){return Ol(4,2,r,i)}function cv(r,i){return Ol(4,4,r,i)}function uv(r,i){if(typeof i=="function"){r=r();var c=i(r);return function(){typeof c=="function"?c():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function dv(r,i,c){c=c!=null?c.concat([r]):null,Ol(4,4,uv.bind(null,i,r),c)}function pm(){}function fv(r,i){var c=wn();i=i===void 0?null:i;var d=c.memoizedState;return i!==null&&rm(i,d[1])?d[0]:(c.memoizedState=[r,i],r)}function hv(r,i){var c=wn();i=i===void 0?null:i;var d=c.memoizedState;if(i!==null&&rm(i,d[1]))return d[0];if(d=r(),Ri){Ht(!0);try{r()}finally{Ht(!1)}}return c.memoizedState=[d,i],d}function gm(r,i,c){return c===void 0||(Ps&1073741824)!==0?r.memoizedState=i:(r.memoizedState=c,r=gb(),lt.lanes|=r,Fs|=r,c)}function mv(r,i,c,d){return Sa(c,i)?c:wo.current!==null?(r=gm(r,c,d),Sa(r,i)||(An=!0),r):(Ps&42)===0?(An=!0,r.memoizedState=c):(r=gb(),lt.lanes|=r,Fs|=r,i)}function pv(r,i,c,d,g){var y=H.p;H.p=y!==0&&8>y?y:8;var x=D.T,T={};D.T=T,bm(r,!1,i,c);try{var O=g(),J=D.S;if(J!==null&&J(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ue=Mx(O,d);Bl(r,i,ue,Da(r))}else Bl(r,i,d,Da(r))}catch(pe){Bl(r,i,{then:function(){},status:"rejected",reason:pe},Da())}finally{H.p=y,D.T=x}}function kx(){}function ym(r,i,c,d){if(r.tag!==5)throw Error(n(476));var g=gv(r).queue;pv(r,g,i,V,c===null?kx:function(){return yv(r),c(d)})}function gv(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:V},next:null};var c={};return i.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:c},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function yv(r){var i=gv(r).next.queue;Bl(r,i,{},Da())}function vm(){return jn(tc)}function vv(){return wn().memoizedState}function bv(){return wn().memoizedState}function Lx(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var c=Da();r=ks(c);var d=Ls(i,r,c);d!==null&&(Ma(d,i,c),Nl(d,i,c)),i={cache:qh()},r.payload=i;return}i=i.return}}function Px(r,i,c){var d=Da();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Au(r)?Cv(i,c):(c=Uh(r,i,c,d),c!==null&&(Ma(c,r,d),Sv(c,i,d)))}function wv(r,i,c){var d=Da();Bl(r,i,c,d)}function Bl(r,i,c,d){var g={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Au(r))Cv(i,g);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var x=i.lastRenderedState,T=y(x,c);if(g.hasEagerState=!0,g.eagerState=T,Sa(T,x))return fu(r,i,g,0),Ut===null&&du(),!1}catch{}finally{}if(c=Uh(r,i,g,d),c!==null)return Ma(c,r,d),Sv(c,i,d),!0}return!1}function bm(r,i,c,d){if(d={lane:2,revertLane:Xm(),action:d,hasEagerState:!1,eagerState:null,next:null},Au(r)){if(i)throw Error(n(479))}else i=Uh(r,c,d,2),i!==null&&Ma(i,r,2)}function Au(r){var i=r.alternate;return r===lt||i!==null&&i===lt}function Cv(r,i){Co=_u=!0;var c=r.pending;c===null?i.next=i:(i.next=c.next,c.next=i),r.pending=i}function Sv(r,i,c){if((c&4194048)!==0){var d=i.lanes;d&=r.pendingLanes,c|=d,i.lanes=c,Kn(r,c)}}var Tu={readContext:jn,use:xu,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn},_v={readContext:jn,use:xu,useCallback:function(r,i){return la().memoizedState=[r,i===void 0?null:i],r},useContext:jn,useEffect:iv,useImperativeHandle:function(r,i,c){c=c!=null?c.concat([r]):null,Mu(4194308,4,uv.bind(null,i,r),c)},useLayoutEffect:function(r,i){return Mu(4194308,4,r,i)},useInsertionEffect:function(r,i){Mu(4,2,r,i)},useMemo:function(r,i){var c=la();i=i===void 0?null:i;var d=r();if(Ri){Ht(!0);try{r()}finally{Ht(!1)}}return c.memoizedState=[d,i],d},useReducer:function(r,i,c){var d=la();if(c!==void 0){var g=c(i);if(Ri){Ht(!0);try{c(i)}finally{Ht(!1)}}}else g=i;return d.memoizedState=d.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},d.queue=r,r=r.dispatch=Px.bind(null,lt,r),[d.memoizedState,r]},useRef:function(r){var i=la();return r={current:r},i.memoizedState=r},useState:function(r){r=hm(r);var i=r.queue,c=wv.bind(null,lt,i);return i.dispatch=c,[r.memoizedState,c]},useDebugValue:pm,useDeferredValue:function(r,i){var c=la();return gm(c,r,i)},useTransition:function(){var r=hm(!1);return r=pv.bind(null,lt,r.queue,!0,!1),la().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,c){var d=lt,g=la();if(_t){if(c===void 0)throw Error(n(407));c=c()}else{if(c=i(),Ut===null)throw Error(n(349));(vt&124)!==0||W0(d,i,c)}g.memoizedState=c;var y={value:c,getSnapshot:i};return g.queue=y,iv(Z0.bind(null,d,y,r),[r]),d.flags|=2048,_o(9,Du(),G0.bind(null,d,y,c,i),null),c},useId:function(){var r=la(),i=Ut.identifierPrefix;if(_t){var c=Jr,d=Kr;c=(d&~(1<<32-vn(d)-1)).toString(32)+c,i="«"+i+"R"+c,c=Eu++,0<c&&(i+="H"+c.toString(32)),i+="»"}else c=Ax++,i="«"+i+"r"+c.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:vm,useFormState:tv,useActionState:tv,useOptimistic:function(r){var i=la();i.memoizedState=i.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=c,i=bm.bind(null,lt,!0,c),c.dispatch=i,[r,i]},useMemoCache:um,useCacheRefresh:function(){return la().memoizedState=Lx.bind(null,lt)}},Ev={readContext:jn,use:xu,useCallback:fv,useContext:jn,useEffect:ov,useImperativeHandle:dv,useInsertionEffect:lv,useLayoutEffect:cv,useMemo:hv,useReducer:Iu,useRef:sv,useState:function(){return Iu(ns)},useDebugValue:pm,useDeferredValue:function(r,i){var c=wn();return mv(c,Rt.memoizedState,r,i)},useTransition:function(){var r=Iu(ns)[0],i=wn().memoizedState;return[typeof r=="boolean"?r:Pl(r),i]},useSyncExternalStore:j0,useId:vv,useHostTransitionStatus:vm,useFormState:nv,useActionState:nv,useOptimistic:function(r,i){var c=wn();return Q0(c,Rt,r,i)},useMemoCache:um,useCacheRefresh:bv},Ox={readContext:jn,use:xu,useCallback:fv,useContext:jn,useEffect:ov,useImperativeHandle:dv,useInsertionEffect:lv,useLayoutEffect:cv,useMemo:hv,useReducer:fm,useRef:sv,useState:function(){return fm(ns)},useDebugValue:pm,useDeferredValue:function(r,i){var c=wn();return Rt===null?gm(c,r,i):mv(c,Rt.memoizedState,r,i)},useTransition:function(){var r=fm(ns)[0],i=wn().memoizedState;return[typeof r=="boolean"?r:Pl(r),i]},useSyncExternalStore:j0,useId:vv,useHostTransitionStatus:vm,useFormState:rv,useActionState:rv,useOptimistic:function(r,i){var c=wn();return Rt!==null?Q0(c,Rt,r,i):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:um,useCacheRefresh:bv},Eo=null,Ul=0;function Nu(r){var i=Ul;return Ul+=1,Eo===null&&(Eo=[]),P0(Eo,r,i)}function zl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Ru(r,i){throw i.$$typeof===v?Error(n(525)):(r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function xv(r){var i=r._init;return i(r._payload)}function Iv(r){function i(Q,Y){if(r){var X=Q.deletions;X===null?(Q.deletions=[Y],Q.flags|=16):X.push(Y)}}function c(Q,Y){if(!r)return null;for(;Y!==null;)i(Q,Y),Y=Y.sibling;return null}function d(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function g(Q,Y){return Q=Xr(Q,Y),Q.index=0,Q.sibling=null,Q}function y(Q,Y,X){return Q.index=X,r?(X=Q.alternate,X!==null?(X=X.index,X<Y?(Q.flags|=67108866,Y):X):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function x(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function T(Q,Y,X,he){return Y===null||Y.tag!==6?(Y=Hh(X,Q.mode,he),Y.return=Q,Y):(Y=g(Y,X),Y.return=Q,Y)}function O(Q,Y,X,he){var Pe=X.type;return Pe===C?ue(Q,Y,X.props.children,he,X.key):Y!==null&&(Y.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===z&&xv(Pe)===Y.type)?(Y=g(Y,X.props),zl(Y,X),Y.return=Q,Y):(Y=mu(X.type,X.key,X.props,null,Q.mode,he),zl(Y,X),Y.return=Q,Y)}function J(Q,Y,X,he){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==X.containerInfo||Y.stateNode.implementation!==X.implementation?(Y=Yh(X,Q.mode,he),Y.return=Q,Y):(Y=g(Y,X.children||[]),Y.return=Q,Y)}function ue(Q,Y,X,he,Pe){return Y===null||Y.tag!==7?(Y=Ei(X,Q.mode,he,Pe),Y.return=Q,Y):(Y=g(Y,X),Y.return=Q,Y)}function pe(Q,Y,X){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Hh(""+Y,Q.mode,X),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return X=mu(Y.type,Y.key,Y.props,null,Q.mode,X),zl(X,Y),X.return=Q,X;case S:return Y=Yh(Y,Q.mode,X),Y.return=Q,Y;case z:var he=Y._init;return Y=he(Y._payload),pe(Q,Y,X)}if(j(Y)||le(Y))return Y=Ei(Y,Q.mode,X,null),Y.return=Q,Y;if(typeof Y.then=="function")return pe(Q,Nu(Y),X);if(Y.$$typeof===M)return pe(Q,vu(Q,Y),X);Ru(Q,Y)}return null}function ne(Q,Y,X,he){var Pe=Y!==null?Y.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Pe!==null?null:T(Q,Y,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return X.key===Pe?O(Q,Y,X,he):null;case S:return X.key===Pe?J(Q,Y,X,he):null;case z:return Pe=X._init,X=Pe(X._payload),ne(Q,Y,X,he)}if(j(X)||le(X))return Pe!==null?null:ue(Q,Y,X,he,null);if(typeof X.then=="function")return ne(Q,Y,Nu(X),he);if(X.$$typeof===M)return ne(Q,Y,vu(Q,X),he);Ru(Q,X)}return null}function ae(Q,Y,X,he,Pe){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(X)||null,T(Y,Q,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case b:return Q=Q.get(he.key===null?X:he.key)||null,O(Y,Q,he,Pe);case S:return Q=Q.get(he.key===null?X:he.key)||null,J(Y,Q,he,Pe);case z:var dt=he._init;return he=dt(he._payload),ae(Q,Y,X,he,Pe)}if(j(he)||le(he))return Q=Q.get(X)||null,ue(Y,Q,he,Pe,null);if(typeof he.then=="function")return ae(Q,Y,X,Nu(he),Pe);if(he.$$typeof===M)return ae(Q,Y,X,vu(Y,he),Pe);Ru(Y,he)}return null}function Qe(Q,Y,X,he){for(var Pe=null,dt=null,Ye=Y,$e=Y=0,Nn=null;Ye!==null&&$e<X.length;$e++){Ye.index>$e?(Nn=Ye,Ye=null):Nn=Ye.sibling;var St=ne(Q,Ye,X[$e],he);if(St===null){Ye===null&&(Ye=Nn);break}r&&Ye&&St.alternate===null&&i(Q,Ye),Y=y(St,Y,$e),dt===null?Pe=St:dt.sibling=St,dt=St,Ye=Nn}if($e===X.length)return c(Q,Ye),_t&&Ii(Q,$e),Pe;if(Ye===null){for(;$e<X.length;$e++)Ye=pe(Q,X[$e],he),Ye!==null&&(Y=y(Ye,Y,$e),dt===null?Pe=Ye:dt.sibling=Ye,dt=Ye);return _t&&Ii(Q,$e),Pe}for(Ye=d(Ye);$e<X.length;$e++)Nn=ae(Ye,Q,$e,X[$e],he),Nn!==null&&(r&&Nn.alternate!==null&&Ye.delete(Nn.key===null?$e:Nn.key),Y=y(Nn,Y,$e),dt===null?Pe=Nn:dt.sibling=Nn,dt=Nn);return r&&Ye.forEach(function(Xs){return i(Q,Xs)}),_t&&Ii(Q,$e),Pe}function Ge(Q,Y,X,he){if(X==null)throw Error(n(151));for(var Pe=null,dt=null,Ye=Y,$e=Y=0,Nn=null,St=X.next();Ye!==null&&!St.done;$e++,St=X.next()){Ye.index>$e?(Nn=Ye,Ye=null):Nn=Ye.sibling;var Xs=ne(Q,Ye,St.value,he);if(Xs===null){Ye===null&&(Ye=Nn);break}r&&Ye&&Xs.alternate===null&&i(Q,Ye),Y=y(Xs,Y,$e),dt===null?Pe=Xs:dt.sibling=Xs,dt=Xs,Ye=Nn}if(St.done)return c(Q,Ye),_t&&Ii(Q,$e),Pe;if(Ye===null){for(;!St.done;$e++,St=X.next())St=pe(Q,St.value,he),St!==null&&(Y=y(St,Y,$e),dt===null?Pe=St:dt.sibling=St,dt=St);return _t&&Ii(Q,$e),Pe}for(Ye=d(Ye);!St.done;$e++,St=X.next())St=ae(Ye,Q,$e,St.value,he),St!==null&&(r&&St.alternate!==null&&Ye.delete(St.key===null?$e:St.key),Y=y(St,Y,$e),dt===null?Pe=St:dt.sibling=St,dt=St);return r&&Ye.forEach(function(B2){return i(Q,B2)}),_t&&Ii(Q,$e),Pe}function Lt(Q,Y,X,he){if(typeof X=="object"&&X!==null&&X.type===C&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case b:e:{for(var Pe=X.key;Y!==null;){if(Y.key===Pe){if(Pe=X.type,Pe===C){if(Y.tag===7){c(Q,Y.sibling),he=g(Y,X.props.children),he.return=Q,Q=he;break e}}else if(Y.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===z&&xv(Pe)===Y.type){c(Q,Y.sibling),he=g(Y,X.props),zl(he,X),he.return=Q,Q=he;break e}c(Q,Y);break}else i(Q,Y);Y=Y.sibling}X.type===C?(he=Ei(X.props.children,Q.mode,he,X.key),he.return=Q,Q=he):(he=mu(X.type,X.key,X.props,null,Q.mode,he),zl(he,X),he.return=Q,Q=he)}return x(Q);case S:e:{for(Pe=X.key;Y!==null;){if(Y.key===Pe)if(Y.tag===4&&Y.stateNode.containerInfo===X.containerInfo&&Y.stateNode.implementation===X.implementation){c(Q,Y.sibling),he=g(Y,X.children||[]),he.return=Q,Q=he;break e}else{c(Q,Y);break}else i(Q,Y);Y=Y.sibling}he=Yh(X,Q.mode,he),he.return=Q,Q=he}return x(Q);case z:return Pe=X._init,X=Pe(X._payload),Lt(Q,Y,X,he)}if(j(X))return Qe(Q,Y,X,he);if(le(X)){if(Pe=le(X),typeof Pe!="function")throw Error(n(150));return X=Pe.call(X),Ge(Q,Y,X,he)}if(typeof X.then=="function")return Lt(Q,Y,Nu(X),he);if(X.$$typeof===M)return Lt(Q,Y,vu(Q,X),he);Ru(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,Y!==null&&Y.tag===6?(c(Q,Y.sibling),he=g(Y,X),he.return=Q,Q=he):(c(Q,Y),he=Hh(X,Q.mode,he),he.return=Q,Q=he),x(Q)):c(Q,Y)}return function(Q,Y,X,he){try{Ul=0;var Pe=Lt(Q,Y,X,he);return Eo=null,Pe}catch(Ye){if(Ye===Al||Ye===wu)throw Ye;var dt=_a(29,Ye,null,Q.mode);return dt.lanes=he,dt.return=Q,dt}finally{}}}var xo=Iv(!0),Dv=Iv(!1),Fa=B(null),xr=null;function Os(r){var i=r.alternate;K(En,En.current&1),K(Fa,r),xr===null&&(i===null||wo.current!==null||i.memoizedState!==null)&&(xr=r)}function Mv(r){if(r.tag===22){if(K(En,En.current),K(Fa,r),xr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(xr=r)}}else Bs()}function Bs(){K(En,En.current),K(Fa,Fa.current)}function as(r){Z(Fa),xr===r&&(xr=null),Z(En)}var En=B(0);function ku(r){for(var i=r;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||cp(c)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function wm(r,i,c,d){i=r.memoizedState,c=c(d,i),c=c==null?i:p({},i,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Cm={enqueueSetState:function(r,i,c){r=r._reactInternals;var d=Da(),g=ks(d);g.payload=i,c!=null&&(g.callback=c),i=Ls(r,g,d),i!==null&&(Ma(i,r,d),Nl(i,r,d))},enqueueReplaceState:function(r,i,c){r=r._reactInternals;var d=Da(),g=ks(d);g.tag=1,g.payload=i,c!=null&&(g.callback=c),i=Ls(r,g,d),i!==null&&(Ma(i,r,d),Nl(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var c=Da(),d=ks(c);d.tag=2,i!=null&&(d.callback=i),i=Ls(r,d,c),i!==null&&(Ma(i,r,c),Nl(i,r,c))}};function Av(r,i,c,d,g,y,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,x):i.prototype&&i.prototype.isPureReactComponent?!Cl(c,d)||!Cl(g,y):!0}function Tv(r,i,c,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,d),i.state!==r&&Cm.enqueueReplaceState(i,i.state,null)}function ki(r,i){var c=i;if("ref"in i){c={};for(var d in i)d!=="ref"&&(c[d]=i[d])}if(r=r.defaultProps){c===i&&(c=p({},c));for(var g in r)c[g]===void 0&&(c[g]=r[g])}return c}var Lu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Nv(r){Lu(r)}function Rv(r){console.error(r)}function kv(r){Lu(r)}function Pu(r,i){try{var c=r.onUncaughtError;c(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function Lv(r,i,c){try{var d=r.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Sm(r,i,c){return c=ks(c),c.tag=3,c.payload={element:null},c.callback=function(){Pu(r,i)},c}function Pv(r){return r=ks(r),r.tag=3,r}function Ov(r,i,c,d){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var y=d.value;r.payload=function(){return g(y)},r.callback=function(){Lv(i,c,d)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){Lv(i,c,d),typeof g!="function"&&(js===null?js=new Set([this]):js.add(this));var T=d.stack;this.componentDidCatch(d.value,{componentStack:T!==null?T:""})})}function Bx(r,i,c,d,g){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=c.alternate,i!==null&&Il(i,c,g,!0),c=Fa.current,c!==null){switch(c.tag){case 13:return xr===null?Zm():c.alternate===null&&rn===0&&(rn=3),c.flags&=-257,c.flags|=65536,c.lanes=g,d===Xh?c.flags|=16384:(i=c.updateQueue,i===null?c.updateQueue=new Set([d]):i.add(d),qm(r,d,g)),!1;case 22:return c.flags|=65536,d===Xh?c.flags|=16384:(i=c.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=i):(c=i.retryQueue,c===null?i.retryQueue=new Set([d]):c.add(d)),qm(r,d,g)),!1}throw Error(n(435,c.tag))}return qm(r,d,g),Zm(),!1}if(_t)return i=Fa.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,d!==Wh&&(r=Error(n(422),{cause:d}),xl(Ua(r,c)))):(d!==Wh&&(i=Error(n(423),{cause:d}),xl(Ua(i,c))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,d=Ua(d,c),g=Sm(r.stateNode,d,g),em(r,g),rn!==4&&(rn=2)),!1;var y=Error(n(520),{cause:d});if(y=Ua(y,c),Zl===null?Zl=[y]:Zl.push(y),rn!==4&&(rn=2),i===null)return!0;d=Ua(d,c),c=i;do{switch(c.tag){case 3:return c.flags|=65536,r=g&-g,c.lanes|=r,r=Sm(c.stateNode,d,r),em(c,r),!1;case 1:if(i=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(js===null||!js.has(y))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Pv(g),Ov(g,r,c,d),em(c,g),!1}c=c.return}while(c!==null);return!1}var Bv=Error(n(461)),An=!1;function Pn(r,i,c,d){i.child=r===null?Dv(i,null,c,d):xo(i,r.child,c,d)}function Uv(r,i,c,d,g){c=c.render;var y=i.ref;if("ref"in d){var x={};for(var T in d)T!=="ref"&&(x[T]=d[T])}else x=d;return Ti(i),d=sm(r,i,c,x,y,g),T=im(),r!==null&&!An?(om(r,i,g),rs(r,i,g)):(_t&&T&&Fh(i),i.flags|=1,Pn(r,i,d,g),i.child)}function zv(r,i,c,d,g){if(r===null){var y=c.type;return typeof y=="function"&&!zh(y)&&y.defaultProps===void 0&&c.compare===null?(i.tag=15,i.type=y,Hv(r,i,y,d,g)):(r=mu(c.type,null,d,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,!Tm(r,g)){var x=y.memoizedProps;if(c=c.compare,c=c!==null?c:Cl,c(x,d)&&r.ref===i.ref)return rs(r,i,g)}return i.flags|=1,r=Xr(y,d),r.ref=i.ref,r.return=i,i.child=r}function Hv(r,i,c,d,g){if(r!==null){var y=r.memoizedProps;if(Cl(y,d)&&r.ref===i.ref)if(An=!1,i.pendingProps=d=y,Tm(r,g))(r.flags&131072)!==0&&(An=!0);else return i.lanes=r.lanes,rs(r,i,g)}return _m(r,i,c,d,g)}function Yv(r,i,c){var d=i.pendingProps,g=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((i.flags&128)!==0){if(d=y!==null?y.baseLanes|c:c,r!==null){for(g=i.child=r.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;i.childLanes=y&~d}else i.childLanes=0,i.child=null;return Fv(r,i,d,c)}if((c&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&bu(i,y!==null?y.cachePool:null),y!==null?H0(i,y):nm(),Mv(i);else return i.lanes=i.childLanes=536870912,Fv(r,i,y!==null?y.baseLanes|c:c,c)}else y!==null?(bu(i,y.cachePool),H0(i,y),Bs(),i.memoizedState=null):(r!==null&&bu(i,null),nm(),Bs());return Pn(r,i,g,c),i.child}function Fv(r,i,c,d){var g=Vh();return g=g===null?null:{parent:_n._currentValue,pool:g},i.memoizedState={baseLanes:c,cachePool:g},r!==null&&bu(i,null),nm(),Mv(i),r!==null&&Il(r,i,d,!0),null}function Ou(r,i){var c=i.ref;if(c===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(r===null||r.ref!==c)&&(i.flags|=4194816)}}function _m(r,i,c,d,g){return Ti(i),c=sm(r,i,c,d,void 0,g),d=im(),r!==null&&!An?(om(r,i,g),rs(r,i,g)):(_t&&d&&Fh(i),i.flags|=1,Pn(r,i,c,g),i.child)}function jv(r,i,c,d,g,y){return Ti(i),i.updateQueue=null,c=F0(i,d,c,g),Y0(r),d=im(),r!==null&&!An?(om(r,i,y),rs(r,i,y)):(_t&&d&&Fh(i),i.flags|=1,Pn(r,i,c,y),i.child)}function Wv(r,i,c,d,g){if(Ti(i),i.stateNode===null){var y=po,x=c.contextType;typeof x=="object"&&x!==null&&(y=jn(x)),y=new c(d,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Cm,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=d,y.state=i.memoizedState,y.refs={},Kh(i),x=c.contextType,y.context=typeof x=="object"&&x!==null?jn(x):po,y.state=i.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(wm(i,c,x,d),y.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&Cm.enqueueReplaceState(y,y.state,null),kl(i,d,y,g),Rl(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(r===null){y=i.stateNode;var T=i.memoizedProps,O=ki(c,T);y.props=O;var J=y.context,ue=c.contextType;x=po,typeof ue=="object"&&ue!==null&&(x=jn(ue));var pe=c.getDerivedStateFromProps;ue=typeof pe=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,ue||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||J!==x)&&Tv(i,y,d,x),Rs=!1;var ne=i.memoizedState;y.state=ne,kl(i,d,y,g),Rl(),J=i.memoizedState,T||ne!==J||Rs?(typeof pe=="function"&&(wm(i,c,pe,d),J=i.memoizedState),(O=Rs||Av(i,c,O,d,ne,J,x))?(ue||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=J),y.props=d,y.state=J,y.context=x,d=O):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{y=i.stateNode,Jh(r,i),x=i.memoizedProps,ue=ki(c,x),y.props=ue,pe=i.pendingProps,ne=y.context,J=c.contextType,O=po,typeof J=="object"&&J!==null&&(O=jn(J)),T=c.getDerivedStateFromProps,(J=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==pe||ne!==O)&&Tv(i,y,d,O),Rs=!1,ne=i.memoizedState,y.state=ne,kl(i,d,y,g),Rl();var ae=i.memoizedState;x!==pe||ne!==ae||Rs||r!==null&&r.dependencies!==null&&yu(r.dependencies)?(typeof T=="function"&&(wm(i,c,T,d),ae=i.memoizedState),(ue=Rs||Av(i,c,ue,d,ne,ae,O)||r!==null&&r.dependencies!==null&&yu(r.dependencies))?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,ae,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,ae,O)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===r.memoizedProps&&ne===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&ne===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ae),y.props=d,y.state=ae,y.context=O,d=ue):(typeof y.componentDidUpdate!="function"||x===r.memoizedProps&&ne===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&ne===r.memoizedState||(i.flags|=1024),d=!1)}return y=d,Ou(r,i),d=(i.flags&128)!==0,y||d?(y=i.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,r!==null&&d?(i.child=xo(i,r.child,null,g),i.child=xo(i,null,c,g)):Pn(r,i,c,g),i.memoizedState=y.state,r=i.child):r=rs(r,i,g),r}function Gv(r,i,c,d){return El(),i.flags|=256,Pn(r,i,c,d),i.child}var Em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xm(r){return{baseLanes:r,cachePool:R0()}}function Im(r,i,c){return r=r!==null?r.childLanes&~c:0,i&&(r|=ja),r}function Zv(r,i,c){var d=i.pendingProps,g=!1,y=(i.flags&128)!==0,x;if((x=y)||(x=r!==null&&r.memoizedState===null?!1:(En.current&2)!==0),x&&(g=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,r===null){if(_t){if(g?Os(i):Bs(),_t){var T=an,O;if(O=T){e:{for(O=T,T=Er;O.nodeType!==8;){if(!T){T=null;break e}if(O=lr(O.nextSibling),O===null){T=null;break e}}T=O}T!==null?(i.memoizedState={dehydrated:T,treeContext:xi!==null?{id:Kr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},O=_a(18,null,null,0),O.stateNode=T,O.return=i,i.child=O,na=i,an=null,O=!0):O=!1}O||Mi(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return cp(T)?i.lanes=32:i.lanes=536870912,null;as(i)}return T=d.children,d=d.fallback,g?(Bs(),g=i.mode,T=Bu({mode:"hidden",children:T},g),d=Ei(d,g,c,null),T.return=i,d.return=i,T.sibling=d,i.child=T,g=i.child,g.memoizedState=xm(c),g.childLanes=Im(r,x,c),i.memoizedState=Em,d):(Os(i),Dm(i,T))}if(O=r.memoizedState,O!==null&&(T=O.dehydrated,T!==null)){if(y)i.flags&256?(Os(i),i.flags&=-257,i=Mm(r,i,c)):i.memoizedState!==null?(Bs(),i.child=r.child,i.flags|=128,i=null):(Bs(),g=d.fallback,T=i.mode,d=Bu({mode:"visible",children:d.children},T),g=Ei(g,T,c,null),g.flags|=2,d.return=i,g.return=i,d.sibling=g,i.child=d,xo(i,r.child,null,c),d=i.child,d.memoizedState=xm(c),d.childLanes=Im(r,x,c),i.memoizedState=Em,i=g);else if(Os(i),cp(T)){if(x=T.nextSibling&&T.nextSibling.dataset,x)var J=x.dgst;x=J,d=Error(n(419)),d.stack="",d.digest=x,xl({value:d,source:null,stack:null}),i=Mm(r,i,c)}else if(An||Il(r,i,c,!1),x=(c&r.childLanes)!==0,An||x){if(x=Ut,x!==null&&(d=c&-c,d=(d&42)!==0?1:ar(d),d=(d&(x.suspendedLanes|c))!==0?0:d,d!==0&&d!==O.retryLane))throw O.retryLane=d,mo(r,d),Ma(x,r,d),Bv;T.data==="$?"||Zm(),i=Mm(r,i,c)}else T.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=O.treeContext,an=lr(T.nextSibling),na=i,_t=!0,Di=null,Er=!1,r!==null&&(Ha[Ya++]=Kr,Ha[Ya++]=Jr,Ha[Ya++]=xi,Kr=r.id,Jr=r.overflow,xi=i),i=Dm(i,d.children),i.flags|=4096);return i}return g?(Bs(),g=d.fallback,T=i.mode,O=r.child,J=O.sibling,d=Xr(O,{mode:"hidden",children:d.children}),d.subtreeFlags=O.subtreeFlags&65011712,J!==null?g=Xr(J,g):(g=Ei(g,T,c,null),g.flags|=2),g.return=i,d.return=i,d.sibling=g,i.child=d,d=g,g=i.child,T=r.child.memoizedState,T===null?T=xm(c):(O=T.cachePool,O!==null?(J=_n._currentValue,O=O.parent!==J?{parent:J,pool:J}:O):O=R0(),T={baseLanes:T.baseLanes|c,cachePool:O}),g.memoizedState=T,g.childLanes=Im(r,x,c),i.memoizedState=Em,d):(Os(i),c=r.child,r=c.sibling,c=Xr(c,{mode:"visible",children:d.children}),c.return=i,c.sibling=null,r!==null&&(x=i.deletions,x===null?(i.deletions=[r],i.flags|=16):x.push(r)),i.child=c,i.memoizedState=null,c)}function Dm(r,i){return i=Bu({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Bu(r,i){return r=_a(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Mm(r,i,c){return xo(i,r.child,null,c),r=Dm(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function $v(r,i,c){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),Zh(r.return,i,c)}function Am(r,i,c,d,g){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:g}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=c,y.tailMode=g)}function qv(r,i,c){var d=i.pendingProps,g=d.revealOrder,y=d.tail;if(Pn(r,i,d.children,c),d=En.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&$v(r,c,i);else if(r.tag===19)$v(r,c,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(K(En,d),g){case"forwards":for(c=i.child,g=null;c!==null;)r=c.alternate,r!==null&&ku(r)===null&&(g=c),c=c.sibling;c=g,c===null?(g=i.child,i.child=null):(g=c.sibling,c.sibling=null),Am(i,!1,g,c,y);break;case"backwards":for(c=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&ku(r)===null){i.child=g;break}r=g.sibling,g.sibling=c,c=g,g=r}Am(i,!0,c,null,y);break;case"together":Am(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function rs(r,i,c){if(r!==null&&(i.dependencies=r.dependencies),Fs|=i.lanes,(c&i.childLanes)===0)if(r!==null){if(Il(r,i,c,!1),(c&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,c=Xr(r,r.pendingProps),i.child=c,c.return=i;r.sibling!==null;)r=r.sibling,c=c.sibling=Xr(r,r.pendingProps),c.return=i;c.sibling=null}return i.child}function Tm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&yu(r)))}function Ux(r,i,c){switch(i.tag){case 3:de(i,i.stateNode.containerInfo),Ns(i,_n,r.memoizedState.cache),El();break;case 27:case 5:Oe(i);break;case 4:de(i,i.stateNode.containerInfo);break;case 10:Ns(i,i.type,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(Os(i),i.flags|=128,null):(c&i.child.childLanes)!==0?Zv(r,i,c):(Os(i),r=rs(r,i,c),r!==null?r.sibling:null);Os(i);break;case 19:var g=(r.flags&128)!==0;if(d=(c&i.childLanes)!==0,d||(Il(r,i,c,!1),d=(c&i.childLanes)!==0),g){if(d)return qv(r,i,c);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),K(En,En.current),d)break;return null;case 22:case 23:return i.lanes=0,Yv(r,i,c);case 24:Ns(i,_n,r.memoizedState.cache)}return rs(r,i,c)}function Qv(r,i,c){if(r!==null)if(r.memoizedProps!==i.pendingProps)An=!0;else{if(!Tm(r,c)&&(i.flags&128)===0)return An=!1,Ux(r,i,c);An=(r.flags&131072)!==0}else An=!1,_t&&(i.flags&1048576)!==0&&x0(i,gu,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var d=i.elementType,g=d._init;if(d=g(d._payload),i.type=d,typeof d=="function")zh(d)?(r=ki(d,r),i.tag=1,i=Wv(null,i,d,r,c)):(i.tag=0,i=_m(null,i,d,r,c));else{if(d!=null){if(g=d.$$typeof,g===k){i.tag=11,i=Uv(null,i,d,r,c);break e}else if(g===F){i.tag=14,i=zv(null,i,d,r,c);break e}}throw i=ee(d)||d,Error(n(306,i,""))}}return i;case 0:return _m(r,i,i.type,i.pendingProps,c);case 1:return d=i.type,g=ki(d,i.pendingProps),Wv(r,i,d,g,c);case 3:e:{if(de(i,i.stateNode.containerInfo),r===null)throw Error(n(387));d=i.pendingProps;var y=i.memoizedState;g=y.element,Jh(r,i),kl(i,d,null,c);var x=i.memoizedState;if(d=x.cache,Ns(i,_n,d),d!==y.cache&&$h(i,[_n],c,!0),Rl(),d=x.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Gv(r,i,d,c);break e}else if(d!==g){g=Ua(Error(n(424)),i),xl(g),i=Gv(r,i,d,c);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(an=lr(r.firstChild),na=i,_t=!0,Di=null,Er=!0,c=Dv(i,null,d,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(El(),d===g){i=rs(r,i,c);break e}Pn(r,i,d,c)}i=i.child}return i;case 26:return Ou(r,i),r===null?(c=Jb(i.type,null,i.pendingProps,null))?i.memoizedState=c:_t||(c=i.type,r=i.pendingProps,d=Xu($.current).createElement(c),d[cn]=i,d[un]=r,Bn(d,c,r),Yt(d),i.stateNode=d):i.memoizedState=Jb(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Oe(i),r===null&&_t&&(d=i.stateNode=Vb(i.type,i.pendingProps,$.current),na=i,Er=!0,g=an,Zs(i.type)?(up=g,an=lr(d.firstChild)):an=g),Pn(r,i,i.pendingProps.children,c),Ou(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&_t&&((g=d=an)&&(d=f2(d,i.type,i.pendingProps,Er),d!==null?(i.stateNode=d,na=i,an=lr(d.firstChild),Er=!1,g=!0):g=!1),g||Mi(i)),Oe(i),g=i.type,y=i.pendingProps,x=r!==null?r.memoizedProps:null,d=y.children,ip(g,y)?d=null:x!==null&&ip(g,x)&&(i.flags|=32),i.memoizedState!==null&&(g=sm(r,i,Tx,null,null,c),tc._currentValue=g),Ou(r,i),Pn(r,i,d,c),i.child;case 6:return r===null&&_t&&((r=c=an)&&(c=h2(c,i.pendingProps,Er),c!==null?(i.stateNode=c,na=i,an=null,r=!0):r=!1),r||Mi(i)),null;case 13:return Zv(r,i,c);case 4:return de(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=xo(i,null,d,c):Pn(r,i,d,c),i.child;case 11:return Uv(r,i,i.type,i.pendingProps,c);case 7:return Pn(r,i,i.pendingProps,c),i.child;case 8:return Pn(r,i,i.pendingProps.children,c),i.child;case 12:return Pn(r,i,i.pendingProps.children,c),i.child;case 10:return d=i.pendingProps,Ns(i,i.type,d.value),Pn(r,i,d.children,c),i.child;case 9:return g=i.type._context,d=i.pendingProps.children,Ti(i),g=jn(g),d=d(g),i.flags|=1,Pn(r,i,d,c),i.child;case 14:return zv(r,i,i.type,i.pendingProps,c);case 15:return Hv(r,i,i.type,i.pendingProps,c);case 19:return qv(r,i,c);case 31:return d=i.pendingProps,c=i.mode,d={mode:d.mode,children:d.children},r===null?(c=Bu(d,c),c.ref=i.ref,i.child=c,c.return=i,i=c):(c=Xr(r.child,d),c.ref=i.ref,i.child=c,c.return=i,i=c),i;case 22:return Yv(r,i,c);case 24:return Ti(i),d=jn(_n),r===null?(g=Vh(),g===null&&(g=Ut,y=qh(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=c),g=y),i.memoizedState={parent:d,cache:g},Kh(i),Ns(i,_n,g)):((r.lanes&c)!==0&&(Jh(r,i),kl(i,null,null,c),Rl()),g=r.memoizedState,y=i.memoizedState,g.parent!==d?(g={parent:d,cache:d},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Ns(i,_n,d)):(d=y.cache,Ns(i,_n,d),d!==g.cache&&$h(i,[_n],c,!0))),Pn(r,i,i.pendingProps.children,c),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function ss(r){r.flags|=4}function Vv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!rw(i)){if(i=Fa.current,i!==null&&((vt&4194048)===vt?xr!==null:(vt&62914560)!==vt&&(vt&536870912)===0||i!==xr))throw Tl=Xh,k0;r.flags|=8192}}function Uu(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?ma():536870912,r.lanes|=i,Ao|=i)}function Hl(r,i){if(!_t)switch(r.tailMode){case"hidden":i=r.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Qt(r){var i=r.alternate!==null&&r.alternate.child===r.child,c=0,d=0;if(i)for(var g=r.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=c,i}function zx(r,i,c){var d=i.pendingProps;switch(jh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(i),null;case 1:return Qt(i),null;case 3:return c=i.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),ts(_n),we(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(_l(i)?ss(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,M0())),Qt(i),null;case 26:return c=i.memoizedState,r===null?(ss(i),c!==null?(Qt(i),Vv(i,c)):(Qt(i),i.flags&=-16777217)):c?c!==r.memoizedState?(ss(i),Qt(i),Vv(i,c)):(Qt(i),i.flags&=-16777217):(r.memoizedProps!==d&&ss(i),Qt(i),i.flags&=-16777217),null;case 27:We(i),c=$.current;var g=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==d&&ss(i);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Qt(i),null}r=se.current,_l(i)?I0(i):(r=Vb(g,d,c),i.stateNode=r,ss(i))}return Qt(i),null;case 5:if(We(i),c=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==d&&ss(i);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Qt(i),null}if(r=se.current,_l(i))I0(i);else{switch(g=Xu($.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?g.createElement(c,{is:d.is}):g.createElement(c)}}r[cn]=i,r[un]=d;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=r;e:switch(Bn(r,c,d),c){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ss(i)}}return Qt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==d&&ss(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(r=$.current,_l(i)){if(r=i.stateNode,c=i.memoizedProps,d=null,g=na,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}r[cn]=i,r=!!(r.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||jb(r.nodeValue,c)),r||Mi(i)}else r=Xu(r).createTextNode(d),r[cn]=i,i.stateNode=r}return Qt(i),null;case 13:if(d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=_l(i),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(n(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[cn]=i}else El(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Qt(i),g=!1}else g=M0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(as(i),i):(as(i),null)}if(as(i),(i.flags&128)!==0)return i.lanes=c,i;if(c=d!==null,r=r!==null&&r.memoizedState!==null,c){d=i.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==g&&(d.flags|=2048)}return c!==r&&c&&(i.child.flags|=8192),Uu(i,i.updateQueue),Qt(i),null;case 4:return we(),r===null&&tp(i.stateNode.containerInfo),Qt(i),null;case 10:return ts(i.type),Qt(i),null;case 19:if(Z(En),g=i.memoizedState,g===null)return Qt(i),null;if(d=(i.flags&128)!==0,y=g.rendering,y===null)if(d)Hl(g,!1);else{if(rn!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(y=ku(r),y!==null){for(i.flags|=128,Hl(g,!1),r=y.updateQueue,i.updateQueue=r,Uu(i,r),i.subtreeFlags=0,r=c,c=i.child;c!==null;)E0(c,r),c=c.sibling;return K(En,En.current&1|2),i.child}r=r.sibling}g.tail!==null&&xt()>Yu&&(i.flags|=128,d=!0,Hl(g,!1),i.lanes=4194304)}else{if(!d)if(r=ku(y),r!==null){if(i.flags|=128,d=!0,r=r.updateQueue,i.updateQueue=r,Uu(i,r),Hl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!_t)return Qt(i),null}else 2*xt()-g.renderingStartTime>Yu&&c!==536870912&&(i.flags|=128,d=!0,Hl(g,!1),i.lanes=4194304);g.isBackwards?(y.sibling=i.child,i.child=y):(r=g.last,r!==null?r.sibling=y:i.child=y,g.last=y)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=xt(),i.sibling=null,r=En.current,K(En,d?r&1|2:r&1),i):(Qt(i),null);case 22:case 23:return as(i),am(),d=i.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(c&536870912)!==0&&(i.flags&128)===0&&(Qt(i),i.subtreeFlags&6&&(i.flags|=8192)):Qt(i),c=i.updateQueue,c!==null&&Uu(i,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==c&&(i.flags|=2048),r!==null&&Z(Ni),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),ts(_n),Qt(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function Hx(r,i){switch(jh(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ts(_n),we(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return We(i),null;case 13:if(as(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));El()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Z(En),null;case 4:return we(),null;case 10:return ts(i.type),null;case 22:case 23:return as(i),am(),r!==null&&Z(Ni),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return ts(_n),null;case 25:return null;default:return null}}function Xv(r,i){switch(jh(i),i.tag){case 3:ts(_n),we();break;case 26:case 27:case 5:We(i);break;case 4:we();break;case 13:as(i);break;case 19:Z(En);break;case 10:ts(i.type);break;case 22:case 23:as(i),am(),r!==null&&Z(Ni);break;case 24:ts(_n)}}function Yl(r,i){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&r)===r){d=void 0;var y=c.create,x=c.inst;d=y(),x.destroy=d}c=c.next}while(c!==g)}}catch(T){Bt(i,i.return,T)}}function Us(r,i,c){try{var d=i.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var y=g.next;d=y;do{if((d.tag&r)===r){var x=d.inst,T=x.destroy;if(T!==void 0){x.destroy=void 0,g=i;var O=c,J=T;try{J()}catch(ue){Bt(g,O,ue)}}}d=d.next}while(d!==y)}}catch(ue){Bt(i,i.return,ue)}}function Kv(r){var i=r.updateQueue;if(i!==null){var c=r.stateNode;try{z0(i,c)}catch(d){Bt(r,r.return,d)}}}function Jv(r,i,c){c.props=ki(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(d){Bt(r,i,d)}}function Fl(r,i){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof c=="function"?r.refCleanup=c(d):c.current=d}}catch(g){Bt(r,i,g)}}function Ir(r,i){var c=r.ref,d=r.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(g){Bt(r,i,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){Bt(r,i,g)}else c.current=null}function eb(r){var i=r.type,c=r.memoizedProps,d=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(g){Bt(r,r.return,g)}}function Nm(r,i,c){try{var d=r.stateNode;o2(d,r.type,c,i),d[un]=i}catch(g){Bt(r,r.return,g)}}function tb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Zs(r.type)||r.tag===4}function Rm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||tb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Zs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function km(r,i,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,i):(i=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,i.appendChild(r),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Vu));else if(d!==4&&(d===27&&Zs(r.type)&&(c=r.stateNode,i=null),r=r.child,r!==null))for(km(r,i,c),r=r.sibling;r!==null;)km(r,i,c),r=r.sibling}function zu(r,i,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?c.insertBefore(r,i):c.appendChild(r);else if(d!==4&&(d===27&&Zs(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(zu(r,i,c),r=r.sibling;r!==null;)zu(r,i,c),r=r.sibling}function nb(r){var i=r.stateNode,c=r.memoizedProps;try{for(var d=r.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Bn(i,d,c),i[cn]=r,i[un]=c}catch(y){Bt(r,r.return,y)}}var is=!1,fn=!1,Lm=!1,ab=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function Yx(r,i){if(r=r.containerInfo,rp=ad,r=m0(r),Rh(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var g=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var x=0,T=-1,O=-1,J=0,ue=0,pe=r,ne=null;t:for(;;){for(var ae;pe!==c||g!==0&&pe.nodeType!==3||(T=x+g),pe!==y||d!==0&&pe.nodeType!==3||(O=x+d),pe.nodeType===3&&(x+=pe.nodeValue.length),(ae=pe.firstChild)!==null;)ne=pe,pe=ae;for(;;){if(pe===r)break t;if(ne===c&&++J===g&&(T=x),ne===y&&++ue===d&&(O=x),(ae=pe.nextSibling)!==null)break;pe=ne,ne=pe.parentNode}pe=ae}c=T===-1||O===-1?null:{start:T,end:O}}else c=null}c=c||{start:0,end:0}}else c=null;for(sp={focusedElem:r,selectionRange:c},ad=!1,Tn=i;Tn!==null;)if(i=Tn,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Tn=r;else for(;Tn!==null;){switch(i=Tn,y=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,c=i,g=y.memoizedProps,y=y.memoizedState,d=c.stateNode;try{var Qe=ki(c.type,g,c.elementType===c.type);r=d.getSnapshotBeforeUpdate(Qe,y),d.__reactInternalSnapshotBeforeUpdate=r}catch(Ge){Bt(c,c.return,Ge)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,c=r.nodeType,c===9)lp(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":lp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=i.sibling,r!==null){r.return=i.return,Tn=r;break}Tn=i.return}}function rb(r,i,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:zs(r,c),d&4&&Yl(5,c);break;case 1:if(zs(r,c),d&4)if(r=c.stateNode,i===null)try{r.componentDidMount()}catch(x){Bt(c,c.return,x)}else{var g=ki(c.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(g,i,r.__reactInternalSnapshotBeforeUpdate)}catch(x){Bt(c,c.return,x)}}d&64&&Kv(c),d&512&&Fl(c,c.return);break;case 3:if(zs(r,c),d&64&&(r=c.updateQueue,r!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{z0(r,i)}catch(x){Bt(c,c.return,x)}}break;case 27:i===null&&d&4&&nb(c);case 26:case 5:zs(r,c),i===null&&d&4&&eb(c),d&512&&Fl(c,c.return);break;case 12:zs(r,c);break;case 13:zs(r,c),d&4&&ob(r,c),d&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=Vx.bind(null,c),m2(r,c))));break;case 22:if(d=c.memoizedState!==null||is,!d){i=i!==null&&i.memoizedState!==null||fn,g=is;var y=fn;is=d,(fn=i)&&!y?Hs(r,c,(c.subtreeFlags&8772)!==0):zs(r,c),is=g,fn=y}break;case 30:break;default:zs(r,c)}}function sb(r){var i=r.alternate;i!==null&&(r.alternate=null,sb(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&gi(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Wt=null,ca=!1;function os(r,i,c){for(c=c.child;c!==null;)ib(r,i,c),c=c.sibling}function ib(r,i,c){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(kn,c)}catch{}switch(c.tag){case 26:fn||Ir(c,i),os(r,i,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:fn||Ir(c,i);var d=Wt,g=ca;Zs(c.type)&&(Wt=c.stateNode,ca=!1),os(r,i,c),Xl(c.stateNode),Wt=d,ca=g;break;case 5:fn||Ir(c,i);case 6:if(d=Wt,g=ca,Wt=null,os(r,i,c),Wt=d,ca=g,Wt!==null)if(ca)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(c.stateNode)}catch(y){Bt(c,i,y)}else try{Wt.removeChild(c.stateNode)}catch(y){Bt(c,i,y)}break;case 18:Wt!==null&&(ca?(r=Wt,qb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),sc(r)):qb(Wt,c.stateNode));break;case 4:d=Wt,g=ca,Wt=c.stateNode.containerInfo,ca=!0,os(r,i,c),Wt=d,ca=g;break;case 0:case 11:case 14:case 15:fn||Us(2,c,i),fn||Us(4,c,i),os(r,i,c);break;case 1:fn||(Ir(c,i),d=c.stateNode,typeof d.componentWillUnmount=="function"&&Jv(c,i,d)),os(r,i,c);break;case 21:os(r,i,c);break;case 22:fn=(d=fn)||c.memoizedState!==null,os(r,i,c),fn=d;break;default:os(r,i,c)}}function ob(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{sc(r)}catch(c){Bt(i,i.return,c)}}function Fx(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new ab),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new ab),i;default:throw Error(n(435,r.tag))}}function Pm(r,i){var c=Fx(r);i.forEach(function(d){var g=Xx.bind(null,r,d);c.has(d)||(c.add(d),d.then(g,g))})}function Ea(r,i){var c=i.deletions;if(c!==null)for(var d=0;d<c.length;d++){var g=c[d],y=r,x=i,T=x;e:for(;T!==null;){switch(T.tag){case 27:if(Zs(T.type)){Wt=T.stateNode,ca=!1;break e}break;case 5:Wt=T.stateNode,ca=!1;break e;case 3:case 4:Wt=T.stateNode.containerInfo,ca=!0;break e}T=T.return}if(Wt===null)throw Error(n(160));ib(y,x,g),Wt=null,ca=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)lb(i,r),i=i.sibling}var or=null;function lb(r,i){var c=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ea(i,r),xa(r),d&4&&(Us(3,r,r.return),Yl(3,r),Us(5,r,r.return));break;case 1:Ea(i,r),xa(r),d&512&&(fn||c===null||Ir(c,c.return)),d&64&&is&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var g=or;if(Ea(i,r),xa(r),d&512&&(fn||c===null||Ir(c,c.return)),d&4){var y=c!==null?c.memoizedState:null;if(d=r.memoizedState,c===null)if(d===null)if(r.stateNode===null){e:{d=r.type,c=r.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Zr]||y[cn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(d),g.head.insertBefore(y,g.querySelector("head > title"))),Bn(y,d,c),y[cn]=r,Yt(y),d=y;break e;case"link":var x=nw("link","href",g).get(d+(c.href||""));if(x){for(var T=0;T<x.length;T++)if(y=x[T],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(T,1);break t}}y=g.createElement(d),Bn(y,d,c),g.head.appendChild(y);break;case"meta":if(x=nw("meta","content",g).get(d+(c.content||""))){for(T=0;T<x.length;T++)if(y=x[T],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(T,1);break t}}y=g.createElement(d),Bn(y,d,c),g.head.appendChild(y);break;default:throw Error(n(468,d))}y[cn]=r,Yt(y),d=y}r.stateNode=d}else aw(g,r.type,r.stateNode);else r.stateNode=tw(g,d,r.memoizedProps);else y!==d?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,d===null?aw(g,r.type,r.stateNode):tw(g,d,r.memoizedProps)):d===null&&r.stateNode!==null&&Nm(r,r.memoizedProps,c.memoizedProps)}break;case 27:Ea(i,r),xa(r),d&512&&(fn||c===null||Ir(c,c.return)),c!==null&&d&4&&Nm(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Ea(i,r),xa(r),d&512&&(fn||c===null||Ir(c,c.return)),r.flags&32){g=r.stateNode;try{Te(g,"")}catch(ae){Bt(r,r.return,ae)}}d&4&&r.stateNode!=null&&(g=r.memoizedProps,Nm(r,g,c!==null?c.memoizedProps:g)),d&1024&&(Lm=!0);break;case 6:if(Ea(i,r),xa(r),d&4){if(r.stateNode===null)throw Error(n(162));d=r.memoizedProps,c=r.stateNode;try{c.nodeValue=d}catch(ae){Bt(r,r.return,ae)}}break;case 3:if(ed=null,g=or,or=Ku(i.containerInfo),Ea(i,r),or=g,xa(r),d&4&&c!==null&&c.memoizedState.isDehydrated)try{sc(i.containerInfo)}catch(ae){Bt(r,r.return,ae)}Lm&&(Lm=!1,cb(r));break;case 4:d=or,or=Ku(r.stateNode.containerInfo),Ea(i,r),xa(r),or=d;break;case 12:Ea(i,r),xa(r);break;case 13:Ea(i,r),xa(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ym=xt()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Pm(r,d)));break;case 22:g=r.memoizedState!==null;var O=c!==null&&c.memoizedState!==null,J=is,ue=fn;if(is=J||g,fn=ue||O,Ea(i,r),fn=ue,is=J,xa(r),d&8192)e:for(i=r.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(c===null||O||is||fn||Li(r)),c=null,i=r;;){if(i.tag===5||i.tag===26){if(c===null){O=c=i;try{if(y=O.stateNode,g)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{T=O.stateNode;var pe=O.memoizedProps.style,ne=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;T.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(ae){Bt(O,O.return,ae)}}}else if(i.tag===6){if(c===null){O=i;try{O.stateNode.nodeValue=g?"":O.memoizedProps}catch(ae){Bt(O,O.return,ae)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;c===i&&(c=null),i=i.return}c===i&&(c=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=r.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Pm(r,c))));break;case 19:Ea(i,r),xa(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Pm(r,d)));break;case 30:break;case 21:break;default:Ea(i,r),xa(r)}}function xa(r){var i=r.flags;if(i&2){try{for(var c,d=r.return;d!==null;){if(tb(d)){c=d;break}d=d.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var g=c.stateNode,y=Rm(r);zu(r,y,g);break;case 5:var x=c.stateNode;c.flags&32&&(Te(x,""),c.flags&=-33);var T=Rm(r);zu(r,T,x);break;case 3:case 4:var O=c.stateNode.containerInfo,J=Rm(r);km(r,J,O);break;default:throw Error(n(161))}}catch(ue){Bt(r,r.return,ue)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function cb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;cb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function zs(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)rb(r,i.alternate,i),i=i.sibling}function Li(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Us(4,i,i.return),Li(i);break;case 1:Ir(i,i.return);var c=i.stateNode;typeof c.componentWillUnmount=="function"&&Jv(i,i.return,c),Li(i);break;case 27:Xl(i.stateNode);case 26:case 5:Ir(i,i.return),Li(i);break;case 22:i.memoizedState===null&&Li(i);break;case 30:Li(i);break;default:Li(i)}r=r.sibling}}function Hs(r,i,c){for(c=c&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,g=r,y=i,x=y.flags;switch(y.tag){case 0:case 11:case 15:Hs(g,y,c),Yl(4,y);break;case 1:if(Hs(g,y,c),d=y,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(J){Bt(d,d.return,J)}if(d=y,g=d.updateQueue,g!==null){var T=d.stateNode;try{var O=g.shared.hiddenCallbacks;if(O!==null)for(g.shared.hiddenCallbacks=null,g=0;g<O.length;g++)U0(O[g],T)}catch(J){Bt(d,d.return,J)}}c&&x&64&&Kv(y),Fl(y,y.return);break;case 27:nb(y);case 26:case 5:Hs(g,y,c),c&&d===null&&x&4&&eb(y),Fl(y,y.return);break;case 12:Hs(g,y,c);break;case 13:Hs(g,y,c),c&&x&4&&ob(g,y);break;case 22:y.memoizedState===null&&Hs(g,y,c),Fl(y,y.return);break;case 30:break;default:Hs(g,y,c)}i=i.sibling}}function Om(r,i){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&Dl(c))}function Bm(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Dl(r))}function Dr(r,i,c,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ub(r,i,c,d),i=i.sibling}function ub(r,i,c,d){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Dr(r,i,c,d),g&2048&&Yl(9,i);break;case 1:Dr(r,i,c,d);break;case 3:Dr(r,i,c,d),g&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Dl(r)));break;case 12:if(g&2048){Dr(r,i,c,d),r=i.stateNode;try{var y=i.memoizedProps,x=y.id,T=y.onPostCommit;typeof T=="function"&&T(x,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){Bt(i,i.return,O)}}else Dr(r,i,c,d);break;case 13:Dr(r,i,c,d);break;case 23:break;case 22:y=i.stateNode,x=i.alternate,i.memoizedState!==null?y._visibility&2?Dr(r,i,c,d):jl(r,i):y._visibility&2?Dr(r,i,c,d):(y._visibility|=2,Io(r,i,c,d,(i.subtreeFlags&10256)!==0)),g&2048&&Om(x,i);break;case 24:Dr(r,i,c,d),g&2048&&Bm(i.alternate,i);break;default:Dr(r,i,c,d)}}function Io(r,i,c,d,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=r,x=i,T=c,O=d,J=x.flags;switch(x.tag){case 0:case 11:case 15:Io(y,x,T,O,g),Yl(8,x);break;case 23:break;case 22:var ue=x.stateNode;x.memoizedState!==null?ue._visibility&2?Io(y,x,T,O,g):jl(y,x):(ue._visibility|=2,Io(y,x,T,O,g)),g&&J&2048&&Om(x.alternate,x);break;case 24:Io(y,x,T,O,g),g&&J&2048&&Bm(x.alternate,x);break;default:Io(y,x,T,O,g)}i=i.sibling}}function jl(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var c=r,d=i,g=d.flags;switch(d.tag){case 22:jl(c,d),g&2048&&Om(d.alternate,d);break;case 24:jl(c,d),g&2048&&Bm(d.alternate,d);break;default:jl(c,d)}i=i.sibling}}var Wl=8192;function Do(r){if(r.subtreeFlags&Wl)for(r=r.child;r!==null;)db(r),r=r.sibling}function db(r){switch(r.tag){case 26:Do(r),r.flags&Wl&&r.memoizedState!==null&&D2(or,r.memoizedState,r.memoizedProps);break;case 5:Do(r);break;case 3:case 4:var i=or;or=Ku(r.stateNode.containerInfo),Do(r),or=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Wl,Wl=16777216,Do(r),Wl=i):Do(r));break;default:Do(r)}}function fb(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Gl(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var d=i[c];Tn=d,mb(d,r)}fb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)hb(r),r=r.sibling}function hb(r){switch(r.tag){case 0:case 11:case 15:Gl(r),r.flags&2048&&Us(9,r,r.return);break;case 3:Gl(r);break;case 12:Gl(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Hu(r)):Gl(r);break;default:Gl(r)}}function Hu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var d=i[c];Tn=d,mb(d,r)}fb(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Us(8,i,i.return),Hu(i);break;case 22:c=i.stateNode,c._visibility&2&&(c._visibility&=-3,Hu(i));break;default:Hu(i)}r=r.sibling}}function mb(r,i){for(;Tn!==null;){var c=Tn;switch(c.tag){case 0:case 11:case 15:Us(8,c,i);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Dl(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Tn=d;else e:for(c=r;Tn!==null;){d=Tn;var g=d.sibling,y=d.return;if(sb(d),d===c){Tn=null;break e}if(g!==null){g.return=y,Tn=g;break e}Tn=y}}}var jx={getCacheForType:function(r){var i=jn(_n),c=i.data.get(r);return c===void 0&&(c=r(),i.data.set(r,c)),c}},Wx=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Ut=null,ft=null,vt=0,Mt=0,Ia=null,Ys=!1,Mo=!1,Um=!1,ls=0,rn=0,Fs=0,Pi=0,zm=0,ja=0,Ao=0,Zl=null,ua=null,Hm=!1,Ym=0,Yu=1/0,Fu=null,js=null,On=0,Ws=null,To=null,No=0,Fm=0,jm=null,pb=null,$l=0,Wm=null;function Da(){if((Dt&2)!==0&&vt!==0)return vt&-vt;if(D.T!==null){var r=vo;return r!==0?r:Xm()}return pi()}function gb(){ja===0&&(ja=(vt&536870912)===0||_t?gr():536870912);var r=Fa.current;return r!==null&&(r.flags|=32),ja}function Ma(r,i,c){(r===Ut&&(Mt===2||Mt===9)||r.cancelPendingCommit!==null)&&(Ro(r,0),Gs(r,vt,ja,!1)),Ln(r,c),((Dt&2)===0||r!==Ut)&&(r===Ut&&((Dt&2)===0&&(Pi|=c),rn===4&&Gs(r,vt,ja,!1)),Mr(r))}function yb(r,i,c){if((Dt&6)!==0)throw Error(n(327));var d=!c&&(i&124)===0&&(i&r.expiredLanes)===0||In(r,i),g=d?$x(r,i):$m(r,i,!0),y=d;do{if(g===0){Mo&&!d&&Gs(r,i,0,!1);break}else{if(c=r.current.alternate,y&&!Gx(c)){g=$m(r,i,!1),y=!1;continue}if(g===2){if(y=i,r.errorRecoveryDisabledLanes&y)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var T=r;g=Zl;var O=T.current.memoizedState.isDehydrated;if(O&&(Ro(T,x).flags|=256),x=$m(T,x,!1),x!==2){if(Um&&!O){T.errorRecoveryDisabledLanes|=y,Pi|=y,g=4;break e}y=ua,ua=g,y!==null&&(ua===null?ua=y:ua.push.apply(ua,y))}g=x}if(y=!1,g!==2)continue}}if(g===1){Ro(r,0),Gs(r,i,0,!0);break}e:{switch(d=r,y=g,y){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Gs(d,i,ja,!Ys);break e;case 2:ua=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(g=Ym+300-xt(),10<g)){if(Gs(d,i,ja,!Ys),pt(d,0,!0)!==0)break e;d.timeoutHandle=Zb(vb.bind(null,d,c,ua,Fu,Hm,i,ja,Pi,Ao,Ys,y,2,-0,0),g);break e}vb(d,c,ua,Fu,Hm,i,ja,Pi,Ao,Ys,y,0,-0,0)}}break}while(!0);Mr(r)}function vb(r,i,c,d,g,y,x,T,O,J,ue,pe,ne,ae){if(r.timeoutHandle=-1,pe=i.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&(ec={stylesheets:null,count:0,unsuspend:I2},db(i),pe=M2(),pe!==null)){r.cancelPendingCommit=pe(xb.bind(null,r,i,y,c,d,g,x,T,O,ue,1,ne,ae)),Gs(r,y,x,!J);return}xb(r,i,y,c,d,g,x,T,O)}function Gx(r){for(var i=r;;){var c=i.tag;if((c===0||c===11||c===15)&&i.flags&16384&&(c=i.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var g=c[d],y=g.getSnapshot;g=g.value;try{if(!Sa(y(),g))return!1}catch{return!1}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gs(r,i,c,d){i&=~zm,i&=~Pi,r.suspendedLanes|=i,r.pingedLanes&=~i,d&&(r.warmLanes|=i),d=r.expirationTimes;for(var g=i;0<g;){var y=31-vn(g),x=1<<y;d[y]=-1,g&=~x}c!==0&&Pa(r,c,i)}function ju(){return(Dt&6)===0?(ql(0),!1):!0}function Gm(){if(ft!==null){if(Mt===0)var r=ft.return;else r=ft,es=Ai=null,lm(r),Eo=null,Ul=0,r=ft;for(;r!==null;)Xv(r.alternate,r),r=r.return;ft=null}}function Ro(r,i){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,c2(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Gm(),Ut=r,ft=c=Xr(r.current,null),vt=i,Mt=0,Ia=null,Ys=!1,Mo=In(r,i),Um=!1,Ao=ja=zm=Pi=Fs=rn=0,ua=Zl=null,Hm=!1,(i&8)!==0&&(i|=i&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=i;0<d;){var g=31-vn(d),y=1<<g;i|=r[g],d&=~y}return ls=i,du(),c}function bb(r,i){lt=null,D.H=Tu,i===Al||i===wu?(i=O0(),Mt=3):i===k0?(i=O0(),Mt=4):Mt=i===Bv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ia=i,ft===null&&(rn=1,Pu(r,Ua(i,r.current)))}function wb(){var r=D.H;return D.H=Tu,r===null?Tu:r}function Cb(){var r=D.A;return D.A=jx,r}function Zm(){rn=4,Ys||(vt&4194048)!==vt&&Fa.current!==null||(Mo=!0),(Fs&134217727)===0&&(Pi&134217727)===0||Ut===null||Gs(Ut,vt,ja,!1)}function $m(r,i,c){var d=Dt;Dt|=2;var g=wb(),y=Cb();(Ut!==r||vt!==i)&&(Fu=null,Ro(r,i)),i=!1;var x=rn;e:do try{if(Mt!==0&&ft!==null){var T=ft,O=Ia;switch(Mt){case 8:Gm(),x=6;break e;case 3:case 2:case 9:case 6:Fa.current===null&&(i=!0);var J=Mt;if(Mt=0,Ia=null,ko(r,T,O,J),c&&Mo){x=0;break e}break;default:J=Mt,Mt=0,Ia=null,ko(r,T,O,J)}}Zx(),x=rn;break}catch(ue){bb(r,ue)}while(!0);return i&&r.shellSuspendCounter++,es=Ai=null,Dt=d,D.H=g,D.A=y,ft===null&&(Ut=null,vt=0,du()),x}function Zx(){for(;ft!==null;)Sb(ft)}function $x(r,i){var c=Dt;Dt|=2;var d=wb(),g=Cb();Ut!==r||vt!==i?(Fu=null,Yu=xt()+500,Ro(r,i)):Mo=In(r,i);e:do try{if(Mt!==0&&ft!==null){i=ft;var y=Ia;t:switch(Mt){case 1:Mt=0,Ia=null,ko(r,i,y,1);break;case 2:case 9:if(L0(y)){Mt=0,Ia=null,_b(i);break}i=function(){Mt!==2&&Mt!==9||Ut!==r||(Mt=7),Mr(r)},y.then(i,i);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:L0(y)?(Mt=0,Ia=null,_b(i)):(Mt=0,Ia=null,ko(r,i,y,7));break;case 5:var x=null;switch(ft.tag){case 26:x=ft.memoizedState;case 5:case 27:var T=ft;if(!x||rw(x)){Mt=0,Ia=null;var O=T.sibling;if(O!==null)ft=O;else{var J=T.return;J!==null?(ft=J,Wu(J)):ft=null}break t}}Mt=0,Ia=null,ko(r,i,y,5);break;case 6:Mt=0,Ia=null,ko(r,i,y,6);break;case 8:Gm(),rn=6;break e;default:throw Error(n(462))}}qx();break}catch(ue){bb(r,ue)}while(!0);return es=Ai=null,D.H=d,D.A=g,Dt=c,ft!==null?0:(Ut=null,vt=0,du(),rn)}function qx(){for(;ft!==null&&!en();)Sb(ft)}function Sb(r){var i=Qv(r.alternate,r,ls);r.memoizedProps=r.pendingProps,i===null?Wu(r):ft=i}function _b(r){var i=r,c=i.alternate;switch(i.tag){case 15:case 0:i=jv(c,i,i.pendingProps,i.type,void 0,vt);break;case 11:i=jv(c,i,i.pendingProps,i.type.render,i.ref,vt);break;case 5:lm(i);default:Xv(c,i),i=ft=E0(i,ls),i=Qv(c,i,ls)}r.memoizedProps=r.pendingProps,i===null?Wu(r):ft=i}function ko(r,i,c,d){es=Ai=null,lm(i),Eo=null,Ul=0;var g=i.return;try{if(Bx(r,g,i,c,vt)){rn=1,Pu(r,Ua(c,r.current)),ft=null;return}}catch(y){if(g!==null)throw ft=g,y;rn=1,Pu(r,Ua(c,r.current)),ft=null;return}i.flags&32768?(_t||d===1?r=!0:Mo||(vt&536870912)!==0?r=!1:(Ys=r=!0,(d===2||d===9||d===3||d===6)&&(d=Fa.current,d!==null&&d.tag===13&&(d.flags|=16384))),Eb(i,r)):Wu(i)}function Wu(r){var i=r;do{if((i.flags&32768)!==0){Eb(i,Ys);return}r=i.return;var c=zx(i.alternate,i,ls);if(c!==null){ft=c;return}if(i=i.sibling,i!==null){ft=i;return}ft=i=r}while(i!==null);rn===0&&(rn=5)}function Eb(r,i){do{var c=Hx(r.alternate,r);if(c!==null){c.flags&=32767,ft=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!i&&(r=r.sibling,r!==null)){ft=r;return}ft=r=c}while(r!==null);rn=6,ft=null}function xb(r,i,c,d,g,y,x,T,O){r.cancelPendingCommit=null;do Gu();while(On!==0);if((Dt&6)!==0)throw Error(n(327));if(i!==null){if(i===r.current)throw Error(n(177));if(y=i.lanes|i.childLanes,y|=Bh,pa(r,c,y,x,T,O),r===Ut&&(ft=Ut=null,vt=0),To=i,Ws=r,No=c,Fm=y,jm=g,pb=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Kx(Qn,function(){return Tb(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=D.T,D.T=null,g=H.p,H.p=2,x=Dt,Dt|=4;try{Yx(r,i,c)}finally{Dt=x,H.p=g,D.T=d}}On=1,Ib(),Db(),Mb()}}function Ib(){if(On===1){On=0;var r=Ws,i=To,c=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||c){c=D.T,D.T=null;var d=H.p;H.p=2;var g=Dt;Dt|=4;try{lb(i,r);var y=sp,x=m0(r.containerInfo),T=y.focusedElem,O=y.selectionRange;if(x!==T&&T&&T.ownerDocument&&h0(T.ownerDocument.documentElement,T)){if(O!==null&&Rh(T)){var J=O.start,ue=O.end;if(ue===void 0&&(ue=J),"selectionStart"in T)T.selectionStart=J,T.selectionEnd=Math.min(ue,T.value.length);else{var pe=T.ownerDocument||document,ne=pe&&pe.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),Qe=T.textContent.length,Ge=Math.min(O.start,Qe),Lt=O.end===void 0?Ge:Math.min(O.end,Qe);!ae.extend&&Ge>Lt&&(x=Lt,Lt=Ge,Ge=x);var Q=f0(T,Ge),Y=f0(T,Lt);if(Q&&Y&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==Y.node||ae.focusOffset!==Y.offset)){var X=pe.createRange();X.setStart(Q.node,Q.offset),ae.removeAllRanges(),Ge>Lt?(ae.addRange(X),ae.extend(Y.node,Y.offset)):(X.setEnd(Y.node,Y.offset),ae.addRange(X))}}}}for(pe=[],ae=T;ae=ae.parentNode;)ae.nodeType===1&&pe.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<pe.length;T++){var he=pe[T];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}ad=!!rp,sp=rp=null}finally{Dt=g,H.p=d,D.T=c}}r.current=i,On=2}}function Db(){if(On===2){On=0;var r=Ws,i=To,c=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||c){c=D.T,D.T=null;var d=H.p;H.p=2;var g=Dt;Dt|=4;try{rb(r,i.alternate,i)}finally{Dt=g,H.p=d,D.T=c}}On=3}}function Mb(){if(On===4||On===3){On=0,Yn();var r=Ws,i=To,c=No,d=pb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?On=5:(On=0,To=Ws=null,Ab(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(js=null),Oa(c),i=i.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(kn,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=D.T,g=H.p,H.p=2,D.T=null;try{for(var y=r.onRecoverableError,x=0;x<d.length;x++){var T=d[x];y(T.value,{componentStack:T.stack})}}finally{D.T=i,H.p=g}}(No&3)!==0&&Gu(),Mr(r),g=r.pendingLanes,(c&4194090)!==0&&(g&42)!==0?r===Wm?$l++:($l=0,Wm=r):$l=0,ql(0)}}function Ab(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Dl(i)))}function Gu(r){return Ib(),Db(),Mb(),Tb()}function Tb(){if(On!==5)return!1;var r=Ws,i=Fm;Fm=0;var c=Oa(No),d=D.T,g=H.p;try{H.p=32>c?32:c,D.T=null,c=jm,jm=null;var y=Ws,x=No;if(On=0,To=Ws=null,No=0,(Dt&6)!==0)throw Error(n(331));var T=Dt;if(Dt|=4,hb(y.current),ub(y,y.current,x,c),Dt=T,ql(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(kn,y)}catch{}return!0}finally{H.p=g,D.T=d,Ab(r,i)}}function Nb(r,i,c){i=Ua(c,i),i=Sm(r.stateNode,i,2),r=Ls(r,i,2),r!==null&&(Ln(r,2),Mr(r))}function Bt(r,i,c){if(r.tag===3)Nb(r,r,c);else for(;i!==null;){if(i.tag===3){Nb(i,r,c);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(js===null||!js.has(d))){r=Ua(c,r),c=Pv(2),d=Ls(i,c,2),d!==null&&(Ov(c,d,i,r),Ln(d,2),Mr(d));break}}i=i.return}}function qm(r,i,c){var d=r.pingCache;if(d===null){d=r.pingCache=new Wx;var g=new Set;d.set(i,g)}else g=d.get(i),g===void 0&&(g=new Set,d.set(i,g));g.has(c)||(Um=!0,g.add(c),r=Qx.bind(null,r,i,c),i.then(r,r))}function Qx(r,i,c){var d=r.pingCache;d!==null&&d.delete(i),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,Ut===r&&(vt&c)===c&&(rn===4||rn===3&&(vt&62914560)===vt&&300>xt()-Ym?(Dt&2)===0&&Ro(r,0):zm|=c,Ao===vt&&(Ao=0)),Mr(r)}function Rb(r,i){i===0&&(i=ma()),r=mo(r,i),r!==null&&(Ln(r,i),Mr(r))}function Vx(r){var i=r.memoizedState,c=0;i!==null&&(c=i.retryLane),Rb(r,c)}function Xx(r,i){var c=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(c=g.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(i),Rb(r,c)}function Kx(r,i){return qt(r,i)}var Zu=null,Lo=null,Qm=!1,$u=!1,Vm=!1,Oi=0;function Mr(r){r!==Lo&&r.next===null&&(Lo===null?Zu=Lo=r:Lo=Lo.next=r),$u=!0,Qm||(Qm=!0,e2())}function ql(r,i){if(!Vm&&$u){Vm=!0;do for(var c=!1,d=Zu;d!==null;){if(r!==0){var g=d.pendingLanes;if(g===0)var y=0;else{var x=d.suspendedLanes,T=d.pingedLanes;y=(1<<31-vn(42|r)+1)-1,y&=g&~(x&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,Ob(d,y))}else y=vt,y=pt(d,d===Ut?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||In(d,y)||(c=!0,Ob(d,y));d=d.next}while(c);Vm=!1}}function Jx(){kb()}function kb(){$u=Qm=!1;var r=0;Oi!==0&&(l2()&&(r=Oi),Oi=0);for(var i=xt(),c=null,d=Zu;d!==null;){var g=d.next,y=Lb(d,i);y===0?(d.next=null,c===null?Zu=g:c.next=g,g===null&&(Lo=c)):(c=d,(r!==0||(y&3)!==0)&&($u=!0)),d=g}ql(r)}function Lb(r,i){for(var c=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var x=31-vn(y),T=1<<x,O=g[x];O===-1?((T&c)===0||(T&d)!==0)&&(g[x]=pr(T,i)):O<=i&&(r.expiredLanes|=T),y&=~T}if(i=Ut,c=vt,c=pt(r,r===i?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,c===0||r===i&&(Mt===2||Mt===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&xn(d),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||In(r,c)){if(i=c&-c,i===r.callbackPriority)return i;switch(d!==null&&xn(d),Oa(c)){case 2:case 8:c=gt;break;case 32:c=Qn;break;case 268435456:c=yn;break;default:c=Qn}return d=Pb.bind(null,r),c=qt(c,d),r.callbackPriority=i,r.callbackNode=c,i}return d!==null&&d!==null&&xn(d),r.callbackPriority=2,r.callbackNode=null,2}function Pb(r,i){if(On!==0&&On!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Gu()&&r.callbackNode!==c)return null;var d=vt;return d=pt(r,r===Ut?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(yb(r,d,i),Lb(r,xt()),r.callbackNode!=null&&r.callbackNode===c?Pb.bind(null,r):null)}function Ob(r,i){if(Gu())return null;yb(r,i,!0)}function e2(){u2(function(){(Dt&6)!==0?qt(ka,Jx):kb()})}function Xm(){return Oi===0&&(Oi=gr()),Oi}function Bb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:P(""+r)}function Ub(r,i){var c=i.ownerDocument.createElement("input");return c.name=i.name,c.value=i.value,r.id&&c.setAttribute("form",r.id),i.parentNode.insertBefore(c,i),r=new FormData(r),c.parentNode.removeChild(c),r}function t2(r,i,c,d,g){if(i==="submit"&&c&&c.stateNode===g){var y=Bb((g[un]||null).action),x=d.submitter;x&&(i=(i=x[un]||null)?Bb(i.formAction):x.getAttribute("formAction"),i!==null&&(y=i,x=null));var T=new lo("action","action",null,d,g);r.push({event:T,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Oi!==0){var O=x?Ub(g,x):new FormData(g);ym(c,{pending:!0,data:O,method:g.method,action:y},null,O)}}else typeof y=="function"&&(T.preventDefault(),O=x?Ub(g,x):new FormData(g),ym(c,{pending:!0,data:O,method:g.method,action:y},y,O))},currentTarget:g}]})}}for(var Km=0;Km<Oh.length;Km++){var Jm=Oh[Km],n2=Jm.toLowerCase(),a2=Jm[0].toUpperCase()+Jm.slice(1);ir(n2,"on"+a2)}ir(y0,"onAnimationEnd"),ir(v0,"onAnimationIteration"),ir(b0,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(wx,"onTransitionRun"),ir(Cx,"onTransitionStart"),ir(Sx,"onTransitionCancel"),ir(w0,"onTransitionEnd"),oa("onMouseEnter",["mouseout","mouseover"]),oa("onMouseLeave",["mouseout","mouseover"]),oa("onPointerEnter",["pointerout","pointerover"]),oa("onPointerLeave",["pointerout","pointerover"]),ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function zb(r,i){i=(i&4)!==0;for(var c=0;c<r.length;c++){var d=r[c],g=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var x=d.length-1;0<=x;x--){var T=d[x],O=T.instance,J=T.currentTarget;if(T=T.listener,O!==y&&g.isPropagationStopped())break e;y=T,g.currentTarget=J;try{y(g)}catch(ue){Lu(ue)}g.currentTarget=null,y=O}else for(x=0;x<d.length;x++){if(T=d[x],O=T.instance,J=T.currentTarget,T=T.listener,O!==y&&g.isPropagationStopped())break e;y=T,g.currentTarget=J;try{y(g)}catch(ue){Lu(ue)}g.currentTarget=null,y=O}}}}function ht(r,i){var c=i[Gr];c===void 0&&(c=i[Gr]=new Set);var d=r+"__bubble";c.has(d)||(Hb(i,r,2,!1),c.add(d))}function ep(r,i,c){var d=0;i&&(d|=4),Hb(c,r,d,i)}var qu="_reactListening"+Math.random().toString(36).slice(2);function tp(r){if(!r[qu]){r[qu]=!0,yi.forEach(function(c){c!=="selectionchange"&&(r2.has(c)||ep(c,!1,r),ep(c,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[qu]||(i[qu]=!0,ep("selectionchange",!1,i))}}function Hb(r,i,c,d){switch(uw(i)){case 2:var g=N2;break;case 8:g=R2;break;default:g=pp}c=g.bind(null,i,c,r),g=void 0,!nn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(i,c,{capture:!0,passive:g}):r.addEventListener(i,c,!0):g!==void 0?r.addEventListener(i,c,{passive:g}):r.addEventListener(i,c,!1)}function np(r,i,c,d,g){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var T=d.stateNode.containerInfo;if(T===g)break;if(x===4)for(x=d.return;x!==null;){var O=x.tag;if((O===3||O===4)&&x.stateNode.containerInfo===g)return;x=x.return}for(;T!==null;){if(x=vr(T),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){d=y=x;continue e}T=T.parentNode}}d=d.return}jt(function(){var J=y,ue=ye(c),pe=[];e:{var ne=C0.get(r);if(ne!==void 0){var ae=lo,Qe=r;switch(r){case"keypress":if(Ca(c)===0)break e;case"keydown":case"keyup":ae=KE;break;case"focusin":Qe="focus",ae=Dh;break;case"focusout":Qe="blur",ae=Dh;break;case"beforeblur":case"afterblur":ae=Dh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=HE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=tx;break;case y0:case v0:case b0:ae=jE;break;case w0:ae=ax;break;case"scroll":case"scrollend":ae=Eh;break;case"wheel":ae=sx;break;case"copy":case"cut":case"paste":ae=GE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Ky;break;case"toggle":case"beforetoggle":ae=ox}var Ge=(i&4)!==0,Lt=!Ge&&(r==="scroll"||r==="scrollend"),Q=Ge?ne!==null?ne+"Capture":null:ne;Ge=[];for(var Y=J,X;Y!==null;){var he=Y;if(X=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||X===null||Q===null||(he=st(Y,Q),he!=null&&Ge.push(Vl(Y,he,X))),Lt)break;Y=Y.return}0<Ge.length&&(ne=new ae(ne,Qe,null,c,ue),pe.push({event:ne,listeners:Ge}))}}if((i&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",ne&&c!==Ee&&(Qe=c.relatedTarget||c.fromElement)&&(vr(Qe)||Qe[ea]))break e;if((ae||ne)&&(ne=ue.window===ue?ue:(ne=ue.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(Qe=c.relatedTarget||c.toElement,ae=J,Qe=Qe?vr(Qe):null,Qe!==null&&(Lt=o(Qe),Ge=Qe.tag,Qe!==Lt||Ge!==5&&Ge!==27&&Ge!==6)&&(Qe=null)):(ae=null,Qe=J),ae!==Qe)){if(Ge=Vy,he="onMouseLeave",Q="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(Ge=Ky,he="onPointerLeave",Q="onPointerEnter",Y="pointer"),Lt=ae==null?ne:qr(ae),X=Qe==null?ne:qr(Qe),ne=new Ge(he,Y+"leave",ae,c,ue),ne.target=Lt,ne.relatedTarget=X,he=null,vr(ue)===J&&(Ge=new Ge(Q,Y+"enter",Qe,c,ue),Ge.target=X,Ge.relatedTarget=Lt,he=Ge),Lt=he,ae&&Qe)t:{for(Ge=ae,Q=Qe,Y=0,X=Ge;X;X=Po(X))Y++;for(X=0,he=Q;he;he=Po(he))X++;for(;0<Y-X;)Ge=Po(Ge),Y--;for(;0<X-Y;)Q=Po(Q),X--;for(;Y--;){if(Ge===Q||Q!==null&&Ge===Q.alternate)break t;Ge=Po(Ge),Q=Po(Q)}Ge=null}else Ge=null;ae!==null&&Yb(pe,ne,ae,Ge,!1),Qe!==null&&Lt!==null&&Yb(pe,Lt,Qe,Ge,!0)}}e:{if(ne=J?qr(J):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Pe=i0;else if(r0(ne))if(o0)Pe=yx;else{Pe=px;var dt=mx}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?J&&Ue(J.elementType)&&(Pe=i0):Pe=gx;if(Pe&&(Pe=Pe(r,J))){s0(pe,Pe,c,ue);break e}dt&&dt(r,ne,J),r==="focusout"&&J&&ne.type==="number"&&J.memoizedProps.value!=null&&Je(ne,"number",ne.value)}switch(dt=J?qr(J):window,r){case"focusin":(r0(dt)||dt.contentEditable==="true")&&(uo=dt,kh=J,Sl=null);break;case"focusout":Sl=kh=uo=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,p0(pe,c,ue);break;case"selectionchange":if(bx)break;case"keydown":case"keyup":p0(pe,c,ue)}var Ye;if(Ah)e:{switch(r){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else co?n0(r,c)&&($e="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&($e="onCompositionStart");$e&&(Jy&&c.locale!=="ko"&&(co||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&co&&(Ye=_r()):(Fn=ue,Sr="value"in Fn?Fn.value:Fn.textContent,co=!0)),dt=Qu(J,$e),0<dt.length&&($e=new Xy($e,r,null,c,ue),pe.push({event:$e,listeners:dt}),Ye?$e.data=Ye:(Ye=a0(c),Ye!==null&&($e.data=Ye)))),(Ye=cx?ux(r,c):dx(r,c))&&($e=Qu(J,"onBeforeInput"),0<$e.length&&(dt=new Xy("onBeforeInput","beforeinput",null,c,ue),pe.push({event:dt,listeners:$e}),dt.data=Ye)),t2(pe,r,J,c,ue)}zb(pe,i)})}function Vl(r,i,c){return{instance:r,listener:i,currentTarget:c}}function Qu(r,i){for(var c=i+"Capture",d=[];r!==null;){var g=r,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=st(r,c),g!=null&&d.unshift(Vl(r,g,y)),g=st(r,i),g!=null&&d.push(Vl(r,g,y))),r.tag===3)return d;r=r.return}return[]}function Po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Yb(r,i,c,d,g){for(var y=i._reactName,x=[];c!==null&&c!==d;){var T=c,O=T.alternate,J=T.stateNode;if(T=T.tag,O!==null&&O===d)break;T!==5&&T!==26&&T!==27||J===null||(O=J,g?(J=st(c,y),J!=null&&x.unshift(Vl(c,J,O))):g||(J=st(c,y),J!=null&&x.push(Vl(c,J,O)))),c=c.return}x.length!==0&&r.push({event:i,listeners:x})}var s2=/\r\n?/g,i2=/\u0000|\uFFFD/g;function Fb(r){return(typeof r=="string"?r:""+r).replace(s2,`
`).replace(i2,"")}function jb(r,i){return i=Fb(i),Fb(r)===i}function Vu(){}function kt(r,i,c,d,g,y){switch(c){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||Te(r,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&Te(r,""+d);break;case"className":Cr(r,"class",d);break;case"tabIndex":Cr(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Cr(r,c,d);break;case"style":Ne(r,d,y);break;case"data":if(i!=="object"){Cr(r,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||c!=="href")){r.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=P(""+d),r.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(i!=="input"&&kt(r,i,"name",g.name,g,null),kt(r,i,"formEncType",g.formEncType,g,null),kt(r,i,"formMethod",g.formMethod,g,null),kt(r,i,"formTarget",g.formTarget,g,null)):(kt(r,i,"encType",g.encType,g,null),kt(r,i,"method",g.method,g,null),kt(r,i,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=P(""+d),r.setAttribute(c,d);break;case"onClick":d!=null&&(r.onclick=Vu);break;case"onScroll":d!=null&&ht("scroll",r);break;case"onScrollEnd":d!=null&&ht("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(n(60));r.innerHTML=c}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}c=P(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""+d):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":d===!0?r.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,d):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(c,d):r.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(c):r.setAttribute(c,d);break;case"popover":ht("beforetoggle",r),ht("toggle",r),As(r,"popover",d);break;case"xlinkActuate":va(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":va(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":va(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":va(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":va(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":va(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":va(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":va(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":va(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":As(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=yt.get(c)||c,As(r,c,d))}}function ap(r,i,c,d,g,y){switch(c){case"style":Ne(r,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(n(60));r.innerHTML=c}}break;case"children":typeof d=="string"?Te(r,d):(typeof d=="number"||typeof d=="bigint")&&Te(r,""+d);break;case"onScroll":d!=null&&ht("scroll",r);break;case"onScrollEnd":d!=null&&ht("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Vu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vi.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),i=c.slice(2,g?c.length-7:void 0),y=r[un]||null,y=y!=null?y[c]:null,typeof y=="function"&&r.removeEventListener(i,y,g),typeof d=="function")){typeof y!="function"&&y!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(i,d,g);break e}c in r?r[c]=d:d===!0?r.setAttribute(c,""):As(r,c,d)}}}function Bn(r,i,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",r),ht("load",r);var d=!1,g=!1,y;for(y in c)if(c.hasOwnProperty(y)){var x=c[y];if(x!=null)switch(y){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:kt(r,i,y,x,c,null)}}g&&kt(r,i,"srcSet",c.srcSet,c,null),d&&kt(r,i,"src",c.src,c,null);return;case"input":ht("invalid",r);var T=y=x=g=null,O=null,J=null;for(d in c)if(c.hasOwnProperty(d)){var ue=c[d];if(ue!=null)switch(d){case"name":g=ue;break;case"type":x=ue;break;case"checked":O=ue;break;case"defaultChecked":J=ue;break;case"value":y=ue;break;case"defaultValue":T=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(n(137,i));break;default:kt(r,i,d,ue,c,null)}}Le(r,y,T,O,J,x,g,!1),N(r);return;case"select":ht("invalid",r),d=x=y=null;for(g in c)if(c.hasOwnProperty(g)&&(T=c[g],T!=null))switch(g){case"value":y=T;break;case"defaultValue":x=T;break;case"multiple":d=T;default:kt(r,i,g,T,c,null)}i=y,c=x,r.multiple=!!d,i!=null?He(r,!!d,i,!1):c!=null&&He(r,!!d,c,!0);return;case"textarea":ht("invalid",r),y=g=d=null;for(x in c)if(c.hasOwnProperty(x)&&(T=c[x],T!=null))switch(x){case"value":d=T;break;case"defaultValue":g=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:kt(r,i,x,T,c,null)}Fe(r,d,g,y),N(r);return;case"option":for(O in c)if(c.hasOwnProperty(O)&&(d=c[O],d!=null))switch(O){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:kt(r,i,O,d,c,null)}return;case"dialog":ht("beforetoggle",r),ht("toggle",r),ht("cancel",r),ht("close",r);break;case"iframe":case"object":ht("load",r);break;case"video":case"audio":for(d=0;d<Ql.length;d++)ht(Ql[d],r);break;case"image":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"embed":case"source":case"link":ht("error",r),ht("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(d=c[J],d!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:kt(r,i,J,d,c,null)}return;default:if(Ue(i)){for(ue in c)c.hasOwnProperty(ue)&&(d=c[ue],d!==void 0&&ap(r,i,ue,d,c,void 0));return}}for(T in c)c.hasOwnProperty(T)&&(d=c[T],d!=null&&kt(r,i,T,d,c,null))}function o2(r,i,c,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,x=null,T=null,O=null,J=null,ue=null;for(ae in c){var pe=c[ae];if(c.hasOwnProperty(ae)&&pe!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":O=pe;default:d.hasOwnProperty(ae)||kt(r,i,ae,null,d,pe)}}for(var ne in d){var ae=d[ne];if(pe=c[ne],d.hasOwnProperty(ne)&&(ae!=null||pe!=null))switch(ne){case"type":y=ae;break;case"name":g=ae;break;case"checked":J=ae;break;case"defaultChecked":ue=ae;break;case"value":x=ae;break;case"defaultValue":T=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(137,i));break;default:ae!==pe&&kt(r,i,ne,ae,d,pe)}}De(r,x,T,O,J,ue,y,g);return;case"select":ae=x=T=ne=null;for(y in c)if(O=c[y],c.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":ae=O;default:d.hasOwnProperty(y)||kt(r,i,y,null,d,O)}for(g in d)if(y=d[g],O=c[g],d.hasOwnProperty(g)&&(y!=null||O!=null))switch(g){case"value":ne=y;break;case"defaultValue":T=y;break;case"multiple":x=y;default:y!==O&&kt(r,i,g,y,d,O)}i=T,c=x,d=ae,ne!=null?He(r,!!c,ne,!1):!!d!=!!c&&(i!=null?He(r,!!c,i,!0):He(r,!!c,c?[]:"",!1));return;case"textarea":ae=ne=null;for(T in c)if(g=c[T],c.hasOwnProperty(T)&&g!=null&&!d.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:kt(r,i,T,null,d,g)}for(x in d)if(g=d[x],y=c[x],d.hasOwnProperty(x)&&(g!=null||y!=null))switch(x){case"value":ne=g;break;case"defaultValue":ae=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==y&&kt(r,i,x,g,d,y)}Ke(r,ne,ae);return;case"option":for(var Qe in c)if(ne=c[Qe],c.hasOwnProperty(Qe)&&ne!=null&&!d.hasOwnProperty(Qe))switch(Qe){case"selected":r.selected=!1;break;default:kt(r,i,Qe,null,d,ne)}for(O in d)if(ne=d[O],ae=c[O],d.hasOwnProperty(O)&&ne!==ae&&(ne!=null||ae!=null))switch(O){case"selected":r.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:kt(r,i,O,ne,d,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in c)ne=c[Ge],c.hasOwnProperty(Ge)&&ne!=null&&!d.hasOwnProperty(Ge)&&kt(r,i,Ge,null,d,ne);for(J in d)if(ne=d[J],ae=c[J],d.hasOwnProperty(J)&&ne!==ae&&(ne!=null||ae!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,i));break;default:kt(r,i,J,ne,d,ae)}return;default:if(Ue(i)){for(var Lt in c)ne=c[Lt],c.hasOwnProperty(Lt)&&ne!==void 0&&!d.hasOwnProperty(Lt)&&ap(r,i,Lt,void 0,d,ne);for(ue in d)ne=d[ue],ae=c[ue],!d.hasOwnProperty(ue)||ne===ae||ne===void 0&&ae===void 0||ap(r,i,ue,ne,d,ae);return}}for(var Q in c)ne=c[Q],c.hasOwnProperty(Q)&&ne!=null&&!d.hasOwnProperty(Q)&&kt(r,i,Q,null,d,ne);for(pe in d)ne=d[pe],ae=c[pe],!d.hasOwnProperty(pe)||ne===ae||ne==null&&ae==null||kt(r,i,pe,ne,d,ae)}var rp=null,sp=null;function Xu(r){return r.nodeType===9?r:r.ownerDocument}function Wb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gb(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function ip(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var op=null;function l2(){var r=window.event;return r&&r.type==="popstate"?r===op?!1:(op=r,!0):(op=null,!1)}var Zb=typeof setTimeout=="function"?setTimeout:void 0,c2=typeof clearTimeout=="function"?clearTimeout:void 0,$b=typeof Promise=="function"?Promise:void 0,u2=typeof queueMicrotask=="function"?queueMicrotask:typeof $b<"u"?function(r){return $b.resolve(null).then(r).catch(d2)}:Zb;function d2(r){setTimeout(function(){throw r})}function Zs(r){return r==="head"}function qb(r,i){var c=i,d=0,g=0;do{var y=c.nextSibling;if(r.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(0<d&&8>d){c=d;var x=r.ownerDocument;if(c&1&&Xl(x.documentElement),c&2&&Xl(x.body),c&4)for(c=x.head,Xl(c),x=c.firstChild;x;){var T=x.nextSibling,O=x.nodeName;x[Zr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=T}}if(g===0){r.removeChild(y),sc(i);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:d=c.charCodeAt(0)-48;else d=0;c=y}while(c);sc(i)}function lp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var c=i;switch(i=i.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":lp(c),gi(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function f2(r,i,c,d){for(;r.nodeType===1;){var g=c;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[Zr])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=lr(r.nextSibling),r===null)break}return null}function h2(r,i,c){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=lr(r.nextSibling),r===null))return null;return r}function cp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function m2(r,i){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")i();else{var d=function(){i(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function lr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var up=null;function Qb(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return r;i--}else c==="/$"&&i++}r=r.previousSibling}return null}function Vb(r,i,c){switch(i=Xu(c),r){case"html":if(r=i.documentElement,!r)throw Error(n(452));return r;case"head":if(r=i.head,!r)throw Error(n(453));return r;case"body":if(r=i.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function Xl(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);gi(r)}var Wa=new Map,Xb=new Set;function Ku(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var cs=H.d;H.d={f:p2,r:g2,D:y2,C:v2,L:b2,m:w2,X:S2,S:C2,M:_2};function p2(){var r=cs.f(),i=ju();return r||i}function g2(r){var i=$r(r);i!==null&&i.tag===5&&i.type==="form"?yv(i):cs.r(r)}var Oo=typeof document>"u"?null:document;function Kb(r,i,c){var d=Oo;if(d&&typeof i=="string"&&i){var g=Me(i);g='link[rel="'+r+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),Xb.has(g)||(Xb.add(g),r={rel:r,crossOrigin:c,href:i},d.querySelector(g)===null&&(i=d.createElement("link"),Bn(i,"link",r),Yt(i),d.head.appendChild(i)))}}function y2(r){cs.D(r),Kb("dns-prefetch",r,null)}function v2(r,i){cs.C(r,i),Kb("preconnect",r,i)}function b2(r,i,c){cs.L(r,i,c);var d=Oo;if(d&&r&&i){var g='link[rel="preload"][as="'+Me(i)+'"]';i==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Me(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Me(c.imageSizes)+'"]')):g+='[href="'+Me(r)+'"]';var y=g;switch(i){case"style":y=Bo(r);break;case"script":y=Uo(r)}Wa.has(y)||(r=p({rel:"preload",href:i==="image"&&c&&c.imageSrcSet?void 0:r,as:i},c),Wa.set(y,r),d.querySelector(g)!==null||i==="style"&&d.querySelector(Kl(y))||i==="script"&&d.querySelector(Jl(y))||(i=d.createElement("link"),Bn(i,"link",r),Yt(i),d.head.appendChild(i)))}}function w2(r,i){cs.m(r,i);var c=Oo;if(c&&r){var d=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+Me(d)+'"][href="'+Me(r)+'"]',y=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Uo(r)}if(!Wa.has(y)&&(r=p({rel:"modulepreload",href:r},i),Wa.set(y,r),c.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Jl(y)))return}d=c.createElement("link"),Bn(d,"link",r),Yt(d),c.head.appendChild(d)}}}function C2(r,i,c){cs.S(r,i,c);var d=Oo;if(d&&r){var g=ya(d).hoistableStyles,y=Bo(r);i=i||"default";var x=g.get(y);if(!x){var T={loading:0,preload:null};if(x=d.querySelector(Kl(y)))T.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":i},c),(c=Wa.get(y))&&dp(r,c);var O=x=d.createElement("link");Yt(O),Bn(O,"link",r),O._p=new Promise(function(J,ue){O.onload=J,O.onerror=ue}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ju(x,i,d)}x={type:"stylesheet",instance:x,count:1,state:T},g.set(y,x)}}}function S2(r,i){cs.X(r,i);var c=Oo;if(c&&r){var d=ya(c).hoistableScripts,g=Uo(r),y=d.get(g);y||(y=c.querySelector(Jl(g)),y||(r=p({src:r,async:!0},i),(i=Wa.get(g))&&fp(r,i),y=c.createElement("script"),Yt(y),Bn(y,"link",r),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function _2(r,i){cs.M(r,i);var c=Oo;if(c&&r){var d=ya(c).hoistableScripts,g=Uo(r),y=d.get(g);y||(y=c.querySelector(Jl(g)),y||(r=p({src:r,async:!0,type:"module"},i),(i=Wa.get(g))&&fp(r,i),y=c.createElement("script"),Yt(y),Bn(y,"link",r),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function Jb(r,i,c,d){var g=(g=$.current)?Ku(g):null;if(!g)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(i=Bo(c.href),c=ya(g).hoistableStyles,d=c.get(i),d||(d={type:"style",instance:null,count:0,state:null},c.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Bo(c.href);var y=ya(g).hoistableStyles,x=y.get(r);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,x),(y=g.querySelector(Kl(r)))&&!y._p&&(x.instance=y,x.state.loading=5),Wa.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Wa.set(r,c),y||E2(g,r,c,x.state))),i&&d===null)throw Error(n(528,""));return x}if(i&&d!==null)throw Error(n(529,""));return null;case"script":return i=c.async,c=c.src,typeof c=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Uo(c),c=ya(g).hoistableScripts,d=c.get(i),d||(d={type:"script",instance:null,count:0,state:null},c.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function Bo(r){return'href="'+Me(r)+'"'}function Kl(r){return'link[rel="stylesheet"]['+r+"]"}function ew(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function E2(r,i,c,d){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=r.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),Bn(i,"link",c),Yt(i),r.head.appendChild(i))}function Uo(r){return'[src="'+Me(r)+'"]'}function Jl(r){return"script[async]"+r}function tw(r,i,c){if(i.count++,i.instance===null)switch(i.type){case"style":var d=r.querySelector('style[data-href~="'+Me(c.href)+'"]');if(d)return i.instance=d,Yt(d),d;var g=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Yt(d),Bn(d,"style",g),Ju(d,c.precedence,r),i.instance=d;case"stylesheet":g=Bo(c.href);var y=r.querySelector(Kl(g));if(y)return i.state.loading|=4,i.instance=y,Yt(y),y;d=ew(c),(g=Wa.get(g))&&dp(d,g),y=(r.ownerDocument||r).createElement("link"),Yt(y);var x=y;return x._p=new Promise(function(T,O){x.onload=T,x.onerror=O}),Bn(y,"link",d),i.state.loading|=4,Ju(y,c.precedence,r),i.instance=y;case"script":return y=Uo(c.src),(g=r.querySelector(Jl(y)))?(i.instance=g,Yt(g),g):(d=c,(g=Wa.get(y))&&(d=p({},c),fp(d,g)),r=r.ownerDocument||r,g=r.createElement("script"),Yt(g),Bn(g,"link",d),r.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,Ju(d,c.precedence,r));return i.instance}function Ju(r,i,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,y=g,x=0;x<d.length;x++){var T=d[x];if(T.dataset.precedence===i)y=T;else if(y!==g)break}y?y.parentNode.insertBefore(r,y.nextSibling):(i=c.nodeType===9?c.head:c,i.insertBefore(r,i.firstChild))}function dp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function fp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var ed=null;function nw(r,i,c){if(ed===null){var d=new Map,g=ed=new Map;g.set(c,d)}else g=ed,d=g.get(c),d||(d=new Map,g.set(c,d));if(d.has(r))return d;for(d.set(r,null),c=c.getElementsByTagName(r),g=0;g<c.length;g++){var y=c[g];if(!(y[Zr]||y[cn]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(i)||"";x=r+x;var T=d.get(x);T?T.push(y):d.set(x,[y])}}return d}function aw(r,i,c){r=r.ownerDocument||r,r.head.insertBefore(c,i==="title"?r.querySelector("head > title"):null)}function x2(r,i,c){if(c===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function rw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ec=null;function I2(){}function D2(r,i,c){if(ec===null)throw Error(n(475));var d=ec;if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=Bo(c.href),y=r.querySelector(Kl(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=td.bind(d),r.then(d,d)),i.state.loading|=4,i.instance=y,Yt(y);return}y=r.ownerDocument||r,c=ew(c),(g=Wa.get(g))&&dp(c,g),y=y.createElement("link"),Yt(y);var x=y;x._p=new Promise(function(T,O){x.onload=T,x.onerror=O}),Bn(y,"link",c),i.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(d.count++,i=td.bind(d),r.addEventListener("load",i),r.addEventListener("error",i))}}function M2(){if(ec===null)throw Error(n(475));var r=ec;return r.stylesheets&&r.count===0&&hp(r,r.stylesheets),0<r.count?function(i){var c=setTimeout(function(){if(r.stylesheets&&hp(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(c)}}:null}function td(){if(this.count--,this.count===0){if(this.stylesheets)hp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var nd=null;function hp(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,nd=new Map,i.forEach(A2,r),nd=null,td.call(r))}function A2(r,i){if(!(i.state.loading&4)){var c=nd.get(r);if(c)var d=c.get(null);else{c=new Map,nd.set(r,c);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var x=g[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),d=x)}d&&c.set(null,d)}g=i.instance,x=g.getAttribute("data-precedence"),y=c.get(x)||d,y===d&&c.set(null,g),c.set(x,g),this.count++,d=td.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),y?y.parentNode.insertBefore(g,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),i.state.loading|=4}}var tc={$$typeof:M,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function T2(r,i,c,d,g,y,x,T){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),this.hiddenUpdates=bt(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function sw(r,i,c,d,g,y,x,T,O,J,ue,pe){return r=new T2(r,i,c,x,T,O,J,pe),i=1,y===!0&&(i|=24),y=_a(3,null,null,i),r.current=y,y.stateNode=r,i=qh(),i.refCount++,r.pooledCache=i,i.refCount++,y.memoizedState={element:d,isDehydrated:c,cache:i},Kh(y),r}function iw(r){return r?(r=po,r):po}function ow(r,i,c,d,g,y){g=iw(g),d.context===null?d.context=g:d.pendingContext=g,d=ks(i),d.payload={element:c},y=y===void 0?null:y,y!==null&&(d.callback=y),c=Ls(r,d,i),c!==null&&(Ma(c,r,i),Nl(c,r,i))}function lw(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<i?c:i}}function mp(r,i){lw(r,i),(r=r.alternate)&&lw(r,i)}function cw(r){if(r.tag===13){var i=mo(r,67108864);i!==null&&Ma(i,r,67108864),mp(r,67108864)}}var ad=!0;function N2(r,i,c,d){var g=D.T;D.T=null;var y=H.p;try{H.p=2,pp(r,i,c,d)}finally{H.p=y,D.T=g}}function R2(r,i,c,d){var g=D.T;D.T=null;var y=H.p;try{H.p=8,pp(r,i,c,d)}finally{H.p=y,D.T=g}}function pp(r,i,c,d){if(ad){var g=gp(d);if(g===null)np(r,i,d,rd,c),dw(r,d);else if(L2(g,r,i,c,d))d.stopPropagation();else if(dw(r,d),i&4&&-1<k2.indexOf(r)){for(;g!==null;){var y=$r(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=La(y.pendingLanes);if(x!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;x;){var O=1<<31-vn(x);T.entanglements[1]|=O,x&=~O}Mr(y),(Dt&6)===0&&(Yu=xt()+500,ql(0))}}break;case 13:T=mo(y,2),T!==null&&Ma(T,y,2),ju(),mp(y,2)}if(y=gp(d),y===null&&np(r,i,d,rd,c),y===g)break;g=y}g!==null&&d.stopPropagation()}else np(r,i,d,null,c)}}function gp(r){return r=ye(r),yp(r)}var rd=null;function yp(r){if(rd=null,r=vr(r),r!==null){var i=o(r);if(i===null)r=null;else{var c=i.tag;if(c===13){if(r=l(i),r!==null)return r;r=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return rd=r,null}function uw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gn()){case ka:return 2;case gt:return 8;case Qn:case ia:return 32;case yn:return 268435456;default:return 32}default:return 32}}var vp=!1,$s=null,qs=null,Qs=null,nc=new Map,ac=new Map,Vs=[],k2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dw(r,i){switch(r){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":nc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(i.pointerId)}}function rc(r,i,c,d,g,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:c,eventSystemFlags:d,nativeEvent:y,targetContainers:[g]},i!==null&&(i=$r(i),i!==null&&cw(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function L2(r,i,c,d,g){switch(i){case"focusin":return $s=rc($s,r,i,c,d,g),!0;case"dragenter":return qs=rc(qs,r,i,c,d,g),!0;case"mouseover":return Qs=rc(Qs,r,i,c,d,g),!0;case"pointerover":var y=g.pointerId;return nc.set(y,rc(nc.get(y)||null,r,i,c,d,g)),!0;case"gotpointercapture":return y=g.pointerId,ac.set(y,rc(ac.get(y)||null,r,i,c,d,g)),!0}return!1}function fw(r){var i=vr(r.target);if(i!==null){var c=o(i);if(c!==null){if(i=c.tag,i===13){if(i=l(c),i!==null){r.blockedOn=i,pl(r.priority,function(){if(c.tag===13){var d=Da();d=ar(d);var g=mo(c,d);g!==null&&Ma(g,c,d),mp(c,d)}});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function sd(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var c=gp(r.nativeEvent);if(c===null){c=r.nativeEvent;var d=new c.constructor(c.type,c);Ee=d,c.target.dispatchEvent(d),Ee=null}else return i=$r(c),i!==null&&cw(i),r.blockedOn=c,!1;i.shift()}return!0}function hw(r,i,c){sd(r)&&c.delete(i)}function P2(){vp=!1,$s!==null&&sd($s)&&($s=null),qs!==null&&sd(qs)&&(qs=null),Qs!==null&&sd(Qs)&&(Qs=null),nc.forEach(hw),ac.forEach(hw)}function id(r,i){r.blockedOn===i&&(r.blockedOn=null,vp||(vp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,P2)))}var od=null;function mw(r){od!==r&&(od=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){od===r&&(od=null);for(var i=0;i<r.length;i+=3){var c=r[i],d=r[i+1],g=r[i+2];if(typeof d!="function"){if(yp(d||c)===null)continue;break}var y=$r(c);y!==null&&(r.splice(i,3),i-=3,ym(y,{pending:!0,data:g,method:c.method,action:d},d,g))}}))}function sc(r){function i(O){return id(O,r)}$s!==null&&id($s,r),qs!==null&&id(qs,r),Qs!==null&&id(Qs,r),nc.forEach(i),ac.forEach(i);for(var c=0;c<Vs.length;c++){var d=Vs[c];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Vs.length&&(c=Vs[0],c.blockedOn===null);)fw(c),c.blockedOn===null&&Vs.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var g=c[d],y=c[d+1],x=g[un]||null;if(typeof y=="function")x||mw(c);else if(x){var T=null;if(y&&y.hasAttribute("formAction")){if(g=y,x=y[un]||null)T=x.formAction;else if(yp(g)!==null)continue}else T=x.action;typeof T=="function"?c[d+1]=T:(c.splice(d,3),d-=3),mw(c)}}}function bp(r){this._internalRoot=r}ld.prototype.render=bp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));var c=i.current,d=Da();ow(c,d,r,i,null,null)},ld.prototype.unmount=bp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;ow(r.current,2,null,r,null,null),ju(),i[ea]=null}};function ld(r){this._internalRoot=r}ld.prototype.unstable_scheduleHydration=function(r){if(r){var i=pi();r={blockedOn:null,target:r,priority:i};for(var c=0;c<Vs.length&&i!==0&&i<Vs[c].priority;c++);Vs.splice(c,0,r),c===0&&fw(r)}};var pw=a.version;if(pw!=="19.1.0")throw Error(n(527,pw,"19.1.0"));H.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=h(i),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var O2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{kn=cd.inject(O2),tn=cd}catch{}}return ic.createRoot=function(r,i){if(!s(r))throw Error(n(299));var c=!1,d="",g=Nv,y=Rv,x=kv,T=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=sw(r,1,!1,null,null,c,d,g,y,x,T,null),r[ea]=i.current,tp(r),new bp(i)},ic.hydrateRoot=function(r,i,c){if(!s(r))throw Error(n(299));var d=!1,g="",y=Nv,x=Rv,T=kv,O=null,J=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(O=c.unstable_transitionCallbacks),c.formState!==void 0&&(J=c.formState)),i=sw(r,1,!0,i,c??null,d,g,y,x,T,O,J),i.context=iw(null),c=i.current,d=Da(),d=ar(d),g=ks(d),g.callback=null,Ls(c,g,d),c=d,i.current.lanes=c,Ln(i,c),Mr(i),r[ea]=i.current,tp(r),new ld(i)},ic.version="19.1.0",ic}var _w;function Z2(){if(_w)return Cp.exports;_w=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Cp.exports=G2(),Cp.exports}var $2=Z2();const q2=ey($2);var oc={},Ew;function Q2(){if(Ew)return oc;Ew=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.parse=l,oc.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,a=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,S){const C=new o,_=b.length;if(_<2)return C;const E=(S==null?void 0:S.decode)||p;let I=0;do{const A=b.indexOf("=",I);if(A===-1)break;const M=b.indexOf(";",I),k=M===-1?_:M;if(A>k){I=b.lastIndexOf(";",A-1)+1;continue}const L=u(b,I,A),U=h(b,A,L),F=b.slice(L,U);if(C[F]===void 0){let z=u(b,A+1,k),q=h(b,k,z);const te=E(b.slice(z,q));C[F]=te}I=k+1}while(I<_);return C}function u(b,S,C){do{const _=b.charCodeAt(S);if(_!==32&&_!==9)return S}while(++S<C);return C}function h(b,S,C){for(;S>C;){const _=b.charCodeAt(--S);if(_!==32&&_!==9)return S+1}return C}function m(b,S,C){const _=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const E=_(S);if(!a.test(E))throw new TypeError(`argument val is invalid: ${S}`);let I=b+"="+E;if(!C)return I;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);I+="; Max-Age="+C.maxAge}if(C.domain){if(!e.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);I+="; Domain="+C.domain}if(C.path){if(!n.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);I+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);I+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(I+="; HttpOnly"),C.secure&&(I+="; Secure"),C.partitioned&&(I+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return I}function p(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return s.call(b)==="[object Date]"}return oc}Q2();var xw="popstate";function V2(t={}){function a(s,o){let{pathname:l="/",search:u="",hash:h=""}=to(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),hg("",{pathname:l,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(s,o){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=s.location.href,m=h.indexOf("#");u=m===-1?h:h.slice(0,m)}return u+"#"+(typeof o=="string"?o:Bc(o))}function n(s,o){Ra(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return K2(a,e,n,t)}function $t(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Ra(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function X2(){return Math.random().toString(36).substring(2,10)}function Iw(t,a){return{usr:t.state,key:t.key,idx:a}}function hg(t,a,e=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?to(a):a,state:e,key:a&&a.key||n||X2()}}function Bc({pathname:t="/",search:a="",hash:e=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),e&&e!=="#"&&(t+=e.charAt(0)==="#"?e:"#"+e),t}function to(t){let a={};if(t){let e=t.indexOf("#");e>=0&&(a.hash=t.substring(e),t=t.substring(0,e));let n=t.indexOf("?");n>=0&&(a.search=t.substring(n),t=t.substring(0,n)),t&&(a.pathname=t)}return a}function K2(t,a,e,n={}){let{window:s=document.defaultView,v5Compat:o=!1}=n,l=s.history,u="POP",h=null,m=p();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function p(){return(l.state||{idx:null}).idx}function v(){u="POP";let E=p(),I=E==null?null:E-m;m=E,h&&h({action:u,location:_.location,delta:I})}function b(E,I){u="PUSH";let A=hg(_.location,E,I);e&&e(A,E),m=p()+1;let M=Iw(A,m),k=_.createHref(A);try{l.pushState(M,"",k)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(k)}o&&h&&h({action:u,location:_.location,delta:1})}function S(E,I){u="REPLACE";let A=hg(_.location,E,I);e&&e(A,E),m=p();let M=Iw(A,m),k=_.createHref(A);l.replaceState(M,"",k),o&&h&&h({action:u,location:_.location,delta:0})}function C(E){return J2(E)}let _={get action(){return u},get location(){return t(s,l)},listen(E){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(xw,v),h=E,()=>{s.removeEventListener(xw,v),h=null}},createHref(E){return a(s,E)},createURL:C,encodeLocation(E){let I=C(E);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:b,replace:S,go(E){return l.go(E)}};return _}function J2(t,a=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),$t(e,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Bc(t);return n=n.replace(/ $/,"%20"),!a&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function zC(t,a,e="/"){return eI(t,a,e,!1)}function eI(t,a,e,n){let s=typeof a=="string"?to(a):a,o=Cs(s.pathname||"/",e);if(o==null)return null;let l=HC(t);tI(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let m=fI(o);u=uI(l[h],m,n)}return u}function HC(t,a=[],e=[],n=""){let s=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&($t(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let m=ms([n,h.relativePath]),p=e.concat(h);o.children&&o.children.length>0&&($t(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),HC(o.children,a,p,m)),!(o.path==null&&!o.index)&&a.push({path:m,score:lI(m,o.index),routesMeta:p})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let h of YC(o.path))s(o,l,h)}),a}function YC(t){let a=t.split("/");if(a.length===0)return[];let[e,...n]=a,s=e.endsWith("?"),o=e.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let l=YC(n.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),s&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function tI(t){t.sort((a,e)=>a.score!==e.score?e.score-a.score:cI(a.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var nI=/^:[\w-]+$/,aI=3,rI=2,sI=1,iI=10,oI=-2,Dw=t=>t==="*";function lI(t,a){let e=t.split("/"),n=e.length;return e.some(Dw)&&(n+=oI),a&&(n+=rI),e.filter(s=>!Dw(s)).reduce((s,o)=>s+(nI.test(o)?aI:o===""?sI:iI),n)}function cI(t,a){return t.length===a.length&&t.slice(0,-1).every((n,s)=>n===a[s])?t[t.length-1]-a[a.length-1]:0}function uI(t,a,e=!1){let{routesMeta:n}=t,s={},o="/",l=[];for(let u=0;u<n.length;++u){let h=n[u],m=u===n.length-1,p=o==="/"?a:a.slice(o.length)||"/",v=Vd({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},p),b=h.route;if(!v&&m&&e&&!n[n.length-1].route.index&&(v=Vd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:ms([o,v.pathname]),pathnameBase:gI(ms([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=ms([o,v.pathnameBase]))}return l}function Vd(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[e,n]=dI(t.path,t.caseSensitive,t.end),s=a.match(e);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((m,{paramName:p,isOptional:v},b)=>{if(p==="*"){let C=u[b]||"";l=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const S=u[b];return v&&!S?m[p]=void 0:m[p]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:l,pattern:t}}function dI(t,a=!1,e=!0){Ra(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(n.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,a?void 0:"i"),n]}function fI(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ra(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function Cs(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let e=a.endsWith("/")?a.length-1:a.length,n=t.charAt(e);return n&&n!=="/"?null:t.slice(e)||"/"}function hI(t,a="/"){let{pathname:e,search:n="",hash:s=""}=typeof t=="string"?to(t):t;return{pathname:e?e.startsWith("/")?e:mI(e,a):a,search:yI(n),hash:vI(s)}}function mI(t,a){let e=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function xp(t,a,e,n){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pI(t){return t.filter((a,e)=>e===0||a.route.path&&a.route.path.length>0)}function ny(t){let a=pI(t);return a.map((e,n)=>n===a.length-1?e.pathname:e.pathnameBase)}function ay(t,a,e,n=!1){let s;typeof t=="string"?s=to(t):(s={...t},$t(!s.pathname||!s.pathname.includes("?"),xp("?","pathname","search",s)),$t(!s.pathname||!s.pathname.includes("#"),xp("#","pathname","hash",s)),$t(!s.search||!s.search.includes("#"),xp("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=e;else{let v=a.length-1;if(!n&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),v-=1;s.pathname=b.join("/")}u=v>=0?a[v]:"/"}let h=hI(s,u),m=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(m||p)&&(h.pathname+="/"),h}var ms=t=>t.join("/").replace(/\/\/+/g,"/"),gI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var FC=["POST","PUT","PATCH","DELETE"];new Set(FC);var wI=["GET",...FC];new Set(wI);var cl=w.createContext(null);cl.displayName="DataRouter";var Vf=w.createContext(null);Vf.displayName="DataRouterState";var jC=w.createContext({isTransitioning:!1});jC.displayName="ViewTransition";var CI=w.createContext(new Map);CI.displayName="Fetchers";var SI=w.createContext(null);SI.displayName="Await";var fr=w.createContext(null);fr.displayName="Navigation";var $c=w.createContext(null);$c.displayName="Location";var Yr=w.createContext({outlet:null,matches:[],isDataRoute:!1});Yr.displayName="Route";var ry=w.createContext(null);ry.displayName="RouteError";function _I(t,{relative:a}={}){$t(ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=w.useContext(fr),{hash:s,pathname:o,search:l}=qc(t,{relative:a}),u=o;return e!=="/"&&(u=o==="/"?e:ms([e,o])),n.createHref({pathname:u,search:l,hash:s})}function ul(){return w.useContext($c)!=null}function Es(){return $t(ul(),"useLocation() may be used only in the context of a <Router> component."),w.useContext($c).location}var WC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GC(t){w.useContext(fr).static||w.useLayoutEffect(t)}function no(){let{isDataRoute:t}=w.useContext(Yr);return t?OI():EI()}function EI(){$t(ul(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(cl),{basename:a,navigator:e}=w.useContext(fr),{matches:n}=w.useContext(Yr),{pathname:s}=Es(),o=JSON.stringify(ny(n)),l=w.useRef(!1);return GC(()=>{l.current=!0}),w.useCallback((h,m={})=>{if(Ra(l.current,WC),!l.current)return;if(typeof h=="number"){e.go(h);return}let p=ay(h,JSON.parse(o),s,m.relative==="path");t==null&&a!=="/"&&(p.pathname=p.pathname==="/"?a:ms([a,p.pathname])),(m.replace?e.replace:e.push)(p,m.state,m)},[a,e,o,s,t])}w.createContext(null);function qc(t,{relative:a}={}){let{matches:e}=w.useContext(Yr),{pathname:n}=Es(),s=JSON.stringify(ny(e));return w.useMemo(()=>ay(t,JSON.parse(s),n,a==="path"),[t,s,n,a])}function xI(t,a){return ZC(t,a)}function ZC(t,a,e,n){var I;$t(ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(fr),{matches:o}=w.useContext(Yr),l=o[o.length-1],u=l?l.params:{},h=l?l.pathname:"/",m=l?l.pathnameBase:"/",p=l&&l.route;{let A=p&&p.path||"";$C(h,!p||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=Es(),b;if(a){let A=typeof a=="string"?to(a):a;$t(m==="/"||((I=A.pathname)==null?void 0:I.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${A.pathname}" was given in the \`location\` prop.`),b=A}else b=v;let S=b.pathname||"/",C=S;if(m!=="/"){let A=m.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=zC(t,{pathname:C});Ra(p||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ra(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=TI(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:ms([m,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:ms([m,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,e,n);return a&&E?w.createElement($c.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},E):E}function II(){let t=PI(),a=bI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),e=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},a),e?w.createElement("pre",{style:s},e):null,l)}var DI=w.createElement(II,null),MI=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){console.error("React Router caught the following error during render",t,a)}render(){return this.state.error!==void 0?w.createElement(Yr.Provider,{value:this.props.routeContext},w.createElement(ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AI({routeContext:t,match:a,children:e}){let n=w.useContext(cl);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),w.createElement(Yr.Provider,{value:t},e)}function TI(t,a=[],e=null,n=null){if(t==null){if(!e)return null;if(e.errors)t=e.matches;else if(a.length===0&&!e.initialized&&e.matches.length>0)t=e.matches;else return null}let s=t,o=e==null?void 0:e.errors;if(o!=null){let h=s.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);$t(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(e)for(let h=0;h<s.length;h++){let m=s[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:p,errors:v}=e,b=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,m,p)=>{let v,b=!1,S=null,C=null;e&&(v=o&&m.route.id?o[m.route.id]:void 0,S=m.route.errorElement||DI,l&&(u<0&&p===0?($C("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):u===p&&(b=!0,C=m.route.hydrateFallbackElement||null)));let _=a.concat(s.slice(0,p+1)),E=()=>{let I;return v?I=S:b?I=C:m.route.Component?I=w.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=h,w.createElement(AI,{match:m,routeContext:{outlet:h,matches:_,isDataRoute:e!=null},children:I})};return e&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?w.createElement(MI,{location:e.location,revalidation:e.revalidation,component:S,error:v,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}function sy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NI(t){let a=w.useContext(cl);return $t(a,sy(t)),a}function RI(t){let a=w.useContext(Vf);return $t(a,sy(t)),a}function kI(t){let a=w.useContext(Yr);return $t(a,sy(t)),a}function iy(t){let a=kI(t),e=a.matches[a.matches.length-1];return $t(e.route.id,`${t} can only be used on routes that contain a unique "id"`),e.route.id}function LI(){return iy("useRouteId")}function PI(){var n;let t=w.useContext(ry),a=RI("useRouteError"),e=iy("useRouteError");return t!==void 0?t:(n=a.errors)==null?void 0:n[e]}function OI(){let{router:t}=NI("useNavigate"),a=iy("useNavigate"),e=w.useRef(!1);return GC(()=>{e.current=!0}),w.useCallback(async(s,o={})=>{Ra(e.current,WC),e.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:a,...o}))},[t,a])}var Mw={};function $C(t,a,e){!a&&!Mw[t]&&(Mw[t]=!0,Ra(!1,e))}w.memo(BI);function BI({routes:t,future:a,state:e}){return ZC(t,void 0,e,a)}function ud({to:t,replace:a,state:e,relative:n}){$t(ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(fr);Ra(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=w.useContext(Yr),{pathname:l}=Es(),u=no(),h=ay(t,ny(o),l,n==="path"),m=JSON.stringify(h);return w.useEffect(()=>{u(JSON.parse(m),{replace:a,state:e,relative:n})},[u,m,n,a,e]),null}function Tr(t){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UI({basename:t="/",children:a=null,location:e,navigationType:n="POP",navigator:s,static:o=!1}){$t(!ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof e=="string"&&(e=to(e));let{pathname:h="/",search:m="",hash:p="",state:v=null,key:b="default"}=e,S=w.useMemo(()=>{let C=Cs(h,l);return C==null?null:{location:{pathname:C,search:m,hash:p,state:v,key:b},navigationType:n}},[l,h,m,p,v,b,n]);return Ra(S!=null,`<Router basename="${l}"> is not able to match the URL "${h}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(fr.Provider,{value:u},w.createElement($c.Provider,{children:a,value:S}))}function Aw({children:t,location:a}){return xI(mg(t),a)}function mg(t,a=[]){let e=[];return w.Children.forEach(t,(n,s)=>{if(!w.isValidElement(n))return;let o=[...a,s];if(n.type===w.Fragment){e.push.apply(e,mg(n.props.children,o));return}$t(n.type===Tr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=mg(n.props.children,o)),e.push(l)}),e}var kd="get",Ld="application/x-www-form-urlencoded";function Xf(t){return t!=null&&typeof t.tagName=="string"}function zI(t){return Xf(t)&&t.tagName.toLowerCase()==="button"}function HI(t){return Xf(t)&&t.tagName.toLowerCase()==="form"}function YI(t){return Xf(t)&&t.tagName.toLowerCase()==="input"}function FI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jI(t,a){return t.button===0&&(!a||a==="_self")&&!FI(t)}function pg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,e)=>{let n=t[e];return a.concat(Array.isArray(n)?n.map(s=>[e,s]):[[e,n]])},[]))}function WI(t,a){let e=pg(t);return a&&a.forEach((n,s)=>{e.has(s)||a.getAll(s).forEach(o=>{e.append(s,o)})}),e}var dd=null;function GI(){if(dd===null)try{new FormData(document.createElement("form"),0),dd=!1}catch{dd=!0}return dd}var ZI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ip(t){return t!=null&&!ZI.has(t)?(Ra(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ld}"`),null):t}function $I(t,a){let e,n,s,o,l;if(HI(t)){let u=t.getAttribute("action");n=u?Cs(u,a):null,e=t.getAttribute("method")||kd,s=Ip(t.getAttribute("enctype"))||Ld,o=new FormData(t)}else if(zI(t)||YI(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(n=h?Cs(h,a):null,e=t.getAttribute("formmethod")||u.getAttribute("method")||kd,s=Ip(t.getAttribute("formenctype"))||Ip(u.getAttribute("enctype"))||Ld,o=new FormData(u,t),!GI()){let{name:m,type:p,value:v}=t;if(p==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,v)}}else{if(Xf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=kd,n=null,s=Ld,l=t}return o&&s==="text/plain"&&(l=o,o=void 0),{action:n,method:e.toLowerCase(),encType:s,formData:o,body:l}}function oy(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}async function qI(t,a){if(t.id in a)return a[t.id];try{let e=await import(t.module);return a[t.id]=e,e}catch(e){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function VI(t,a,e){let n=await Promise.all(t.map(async s=>{let o=a.routes[s.route.id];if(o){let l=await qI(o,e);return l.links?l.links():[]}return[]}));return eD(n.flat(1).filter(QI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Tw(t,a,e,n,s,o){let l=(h,m)=>e[m]?h.route.id!==e[m].route.id:!0,u=(h,m)=>{var p;return e[m].pathname!==h.pathname||((p=e[m].route.path)==null?void 0:p.endsWith("*"))&&e[m].params["*"]!==h.params["*"]};return o==="assets"?a.filter((h,m)=>l(h,m)||u(h,m)):o==="data"?a.filter((h,m)=>{var v;let p=n.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,m)||u(h,m))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=e[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function XI(t,a,{includeHydrateFallback:e}={}){return KI(t.map(n=>{let s=a.routes[n.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function KI(t){return[...new Set(t)]}function JI(t){let a={},e=Object.keys(t).sort();for(let n of e)a[n]=t[n];return a}function eD(t,a){let e=new Set;return new Set(a),t.reduce((n,s)=>{let o=JSON.stringify(JI(s));return e.has(o)||(e.add(o),n.push({key:o,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tD=new Set([100,101,204,205]);function nD(t,a){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":a&&Cs(e.pathname,a)==="/"?e.pathname=`${a.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function qC(){let t=w.useContext(cl);return oy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function aD(){let t=w.useContext(Vf);return oy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ly=w.createContext(void 0);ly.displayName="FrameworkContext";function QC(){let t=w.useContext(ly);return oy(t,"You must render this element inside a <HydratedRouter> element"),t}function rD(t,a){let e=w.useContext(ly),[n,s]=w.useState(!1),[o,l]=w.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:m,onMouseLeave:p,onTouchStart:v}=a,b=w.useRef(null);w.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let _=I=>{I.forEach(A=>{l(A.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return b.current&&E.observe(b.current),()=>{E.disconnect()}}},[t]),w.useEffect(()=>{if(n){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[n]);let S=()=>{s(!0)},C=()=>{s(!1),l(!1)};return e?t!=="intent"?[o,b,{}]:[o,b,{onFocus:lc(u,S),onBlur:lc(h,C),onMouseEnter:lc(m,S),onMouseLeave:lc(p,C),onTouchStart:lc(v,S)}]:[!1,b,{}]}function lc(t,a){return e=>{t&&t(e),e.defaultPrevented||a(e)}}function sD({page:t,...a}){let{router:e}=qC(),n=w.useMemo(()=>zC(e.routes,t,e.basename),[e.routes,t,e.basename]);return n?w.createElement(oD,{page:t,matches:n,...a}):null}function iD(t){let{manifest:a,routeModules:e}=QC(),[n,s]=w.useState([]);return w.useEffect(()=>{let o=!1;return VI(t,a,e).then(l=>{o||s(l)}),()=>{o=!0}},[t,a,e]),n}function oD({page:t,matches:a,...e}){let n=Es(),{manifest:s,routeModules:o}=QC(),{basename:l}=qC(),{loaderData:u,matches:h}=aD(),m=w.useMemo(()=>Tw(t,a,h,s,n,"data"),[t,a,h,s,n]),p=w.useMemo(()=>Tw(t,a,h,s,n,"assets"),[t,a,h,s,n]),v=w.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let C=new Set,_=!1;if(a.forEach(I=>{var M;let A=s.routes[I.route.id];!A||!A.hasLoader||(!m.some(k=>k.route.id===I.route.id)&&I.route.id in u&&((M=o[I.route.id])!=null&&M.shouldRevalidate)||A.hasClientLoader?_=!0:C.add(I.route.id))}),C.size===0)return[];let E=nD(t,l);return _&&C.size>0&&E.searchParams.set("_routes",a.filter(I=>C.has(I.route.id)).map(I=>I.route.id).join(",")),[E.pathname+E.search]},[l,u,n,s,m,a,t,o]),b=w.useMemo(()=>XI(p,s),[p,s]),S=iD(p);return w.createElement(w.Fragment,null,v.map(C=>w.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...e})),b.map(C=>w.createElement("link",{key:C,rel:"modulepreload",href:C,...e})),S.map(({key:C,link:_})=>w.createElement("link",{key:C,..._})))}function lD(...t){return a=>{t.forEach(e=>{typeof e=="function"?e(a):e!=null&&(e.current=a)})}}var VC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VC&&(window.__reactRouterVersion="7.6.1")}catch{}function cD({basename:t,children:a,window:e}){let n=w.useRef();n.current==null&&(n.current=V2({window:e,v5Compat:!0}));let s=n.current,[o,l]=w.useState({action:s.action,location:s.location}),u=w.useCallback(h=>{w.startTransition(()=>l(h))},[l]);return w.useLayoutEffect(()=>s.listen(u),[s,u]),w.createElement(UI,{basename:t,children:a,location:o.location,navigationType:o.action,navigator:s})}var XC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KC=w.forwardRef(function({onClick:a,discover:e="render",prefetch:n="none",relative:s,reloadDocument:o,replace:l,state:u,target:h,to:m,preventScrollReset:p,viewTransition:v,...b},S){let{basename:C}=w.useContext(fr),_=typeof m=="string"&&XC.test(m),E,I=!1;if(typeof m=="string"&&_&&(E=m,VC))try{let q=new URL(window.location.href),te=m.startsWith("//")?new URL(q.protocol+m):new URL(m),ge=Cs(te.pathname,C);te.origin===q.origin&&ge!=null?m=ge+te.search+te.hash:I=!0}catch{Ra(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=_I(m,{relative:s}),[M,k,L]=rD(n,b),U=hD(m,{replace:l,state:u,target:h,preventScrollReset:p,relative:s,viewTransition:v});function F(q){a&&a(q),q.defaultPrevented||U(q)}let z=w.createElement("a",{...b,...L,href:E||A,onClick:I||o?a:F,ref:lD(S,k),target:h,"data-discover":!_&&e==="render"?"true":void 0});return M&&!_?w.createElement(w.Fragment,null,z,w.createElement(sD,{page:A})):z});KC.displayName="Link";var uD=w.forwardRef(function({"aria-current":a="page",caseSensitive:e=!1,className:n="",end:s=!1,style:o,to:l,viewTransition:u,children:h,...m},p){let v=qc(l,{relative:m.relative}),b=Es(),S=w.useContext(Vf),{navigator:C,basename:_}=w.useContext(fr),E=S!=null&&bD(v)&&u===!0,I=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,A=b.pathname,M=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;e||(A=A.toLowerCase(),M=M?M.toLowerCase():null,I=I.toLowerCase()),M&&_&&(M=Cs(M,_)||M);const k=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let L=A===I||!s&&A.startsWith(I)&&A.charAt(k)==="/",U=M!=null&&(M===I||!s&&M.startsWith(I)&&M.charAt(I.length)==="/"),F={isActive:L,isPending:U,isTransitioning:E},z=L?a:void 0,q;typeof n=="function"?q=n(F):q=[n,L?"active":null,U?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let te=typeof o=="function"?o(F):o;return w.createElement(KC,{...m,"aria-current":z,className:q,ref:p,style:te,to:l,viewTransition:u},typeof h=="function"?h(F):h)});uD.displayName="NavLink";var dD=w.forwardRef(({discover:t="render",fetcherKey:a,navigate:e,reloadDocument:n,replace:s,state:o,method:l=kd,action:u,onSubmit:h,relative:m,preventScrollReset:p,viewTransition:v,...b},S)=>{let C=yD(),_=vD(u,{relative:m}),E=l.toLowerCase()==="get"?"get":"post",I=typeof u=="string"&&XC.test(u),A=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let k=M.nativeEvent.submitter,L=(k==null?void 0:k.getAttribute("formmethod"))||l;C(k||M.currentTarget,{fetcherKey:a,method:L,navigate:e,replace:s,state:o,relative:m,preventScrollReset:p,viewTransition:v})};return w.createElement("form",{ref:S,method:E,action:_,onSubmit:n?h:A,...b,"data-discover":!I&&t==="render"?"true":void 0})});dD.displayName="Form";function fD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JC(t){let a=w.useContext(cl);return $t(a,fD(t)),a}function hD(t,{target:a,replace:e,state:n,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=no(),h=Es(),m=qc(t,{relative:o});return w.useCallback(p=>{if(jI(p,a)){p.preventDefault();let v=e!==void 0?e:Bc(h)===Bc(m);u(t,{replace:v,state:n,preventScrollReset:s,relative:o,viewTransition:l})}},[h,u,m,e,n,a,t,s,o,l])}function mD(t){Ra(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=w.useRef(pg(t)),e=w.useRef(!1),n=Es(),s=w.useMemo(()=>WI(n.search,e.current?null:a.current),[n.search]),o=no(),l=w.useCallback((u,h)=>{const m=pg(typeof u=="function"?u(s):u);e.current=!0,o("?"+m,h)},[o,s]);return[s,l]}var pD=0,gD=()=>`__${String(++pD)}__`;function yD(){let{router:t}=JC("useSubmit"),{basename:a}=w.useContext(fr),e=LI();return w.useCallback(async(n,s={})=>{let{action:o,method:l,encType:u,formData:h,body:m}=$I(n,a);if(s.navigate===!1){let p=s.fetcherKey||gD();await t.fetch(p,e,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,a,e])}function vD(t,{relative:a}={}){let{basename:e}=w.useContext(fr),n=w.useContext(Yr);$t(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),o={...qc(t||".",{relative:a})},l=Es();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let p=u.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:ms([e,o.pathname])),Bc(o)}function bD(t,a={}){let e=w.useContext(jC);$t(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=JC("useViewTransitionState"),s=qc(t,{relative:a.relative});if(!e.isTransitioning)return!1;let o=Cs(e.currentLocation.pathname,n)||e.currentLocation.pathname,l=Cs(e.nextLocation.pathname,n)||e.nextLocation.pathname;return Vd(s.pathname,l)!=null||Vd(s.pathname,o)!=null}[...tD];var eS=UC();const Qc=ey(eS);function Kf({gameType:t,size:a=22}){const e={"8 Ball":{emoji:"🎱"},"9 Ball":{color:"#FFD700",number:9},"10 Ball":{color:"#2196F3",number:10}};if(t==="8 Ball")return f.createElement("span",{role:"img","aria-label":"8-ball",style:{fontSize:a,verticalAlign:"middle",marginRight:4}},e["8 Ball"].emoji);const{color:n,number:s}=e[t]||{};return!n||!s?null:f.createElement("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:a,height:a,borderRadius:"50%",background:n,color:"#222",fontWeight:"bold",fontSize:a*.65,border:"2px solid #fff",boxShadow:"0 1px 2px #0003",marginRight:4,verticalAlign:"middle"},"aria-label":`${s}-ball`},s)}function zn({open:t,onClose:a,children:e,title:n="Modal",maxWidth:s="500px",className:o=""}){const[l,u]=w.useState({x:0,y:0}),[h,m]=w.useState(!1),p=w.useRef({x:0,y:0});w.useEffect(()=>{t&&u({x:0,y:0})},[t]);const v=C=>{m(!0),p.current={x:C.clientX-l.x,y:C.clientY-l.y},document.body.style.userSelect="none"},b=C=>{h&&u({x:C.clientX-p.current.x,y:C.clientY-p.current.y})},S=()=>{m(!1),document.body.style.userSelect=""};return w.useEffect(()=>(h?(window.addEventListener("mousemove",b),window.addEventListener("mouseup",S)):(window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",S)),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",S)}),[h]),t?f.createElement("div",{className:"modal-overlay",onClick:a,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(3px)",WebkitBackdropFilter:"blur(3px)"}},f.createElement("div",{className:`draggable-modal ${o}`,style:{transform:`translate(${l.x}px, ${l.y}px)`,cursor:h?"grabbing":"default",background:"linear-gradient(120deg, #232323 80%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:window.innerWidth<=400?"0":"1.2rem",boxShadow:"0 0 32px #e53e3e, 0 0 40px rgba(0,0,0,0.85)",width:window.innerWidth<=400?"100vw":s==="90vw"?"90vw":"auto",maxWidth:window.innerWidth<=400?"100vw":s,minWidth:0,margin:window.innerWidth<=400?"0":"0 auto",left:0,right:0,animation:"modalBounceIn 0.5s cubic-bezier(.21,1.02,.73,1.01)",padding:0,position:"relative",fontFamily:"inherit",boxSizing:"border-box",height:window.innerWidth<=500?"95vh":"auto",maxHeight:window.innerWidth<=500?"95vh":"85vh",display:"flex",flexDirection:"column"},onClick:C=>C.stopPropagation(),role:"dialog","aria-modal":"true","aria-label":n,tabIndex:-1},f.createElement("div",{className:"modal-header",onMouseDown:v,style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"#e53e3e",padding:"1.1rem 1.5rem 0.7rem 1.5rem",borderTopLeftRadius:"1.2rem",borderTopRightRadius:"1.2rem",position:"relative",cursor:"grab",userSelect:"none",gap:"1rem"}},f.createElement("span",{className:"modal-accent-bar",style:{position:"absolute",left:0,top:0,width:"100%",height:"5px",background:"linear-gradient(90deg, #fff0 0%, #e53e3e 60%, #fff0 100%)",borderTopLeftRadius:"1.2rem",borderTopRightRadius:"1.2rem",pointerEvents:"none"}}),f.createElement("h2",{className:"modal-title",style:{margin:0,fontSize:window.innerWidth<=500?"1.1rem":"1.3rem",fontWeight:"bold",textAlign:"center",letterSpacing:"0.02em",color:"#fff",textShadow:"0 1px 12px #000a",zIndex:2,flex:1,wordBreak:"break-word",minWidth:0}},n),f.createElement("button",{className:"modal-close-btn",onClick:a,"aria-label":"Close",style:{background:"none",border:"none",color:"#fff",fontSize:"2em",fontWeight:"bold",cursor:"pointer",zIndex:10,lineHeight:1,transition:"color 0.2s, transform 0.2s",padding:0,marginLeft:"1rem"},onMouseEnter:C=>{C.target.style.color="#ffd6d6",C.target.style.transform="scale(1.2) rotate(10deg)"},onMouseLeave:C=>{C.target.style.color="#fff",C.target.style.transform="scale(1) rotate(0deg)"}},"×")),f.createElement("div",{className:"modal-content",style:{...window.innerWidth<=500?{flex:"1 1 auto",minHeight:0,overflowY:"auto"}:{overflowY:"auto"},padding:window.innerWidth<=500?"1rem 1rem 0.8rem 1rem":"1.4rem 1.5rem 1.2rem 1.5rem",background:"none"}},e)),f.createElement("style",{jsx:!0},`
        @keyframes modalBounceIn {
          0% { opacity: 0; transform: scale(0.95) translateY(-40px);}
          70% { opacity: 1; transform: scale(1.02) translateY(8px);}
          100% { opacity: 1; transform: scale(1) translateY(0);}
        }
        
        @media (max-width: 500px) {
          .draggable-modal {
            max-width: 99vw !important;
            border-radius: 0.7rem !important;
          }
          .modal-header {
            padding: 0.7rem 0.7rem 0.5rem 0.7rem !important;
          }
          .modal-content {
            padding: 1rem 0.6rem 0.8rem 0.6rem !important;
          }
        }
        /* Custom scrollbar for modal-content */
        .modal-content::-webkit-scrollbar {
          width: 10px;
        }
        .modal-content::-webkit-scrollbar-thumb {
          background: #e53e3e;
          border-radius: 6px;
        }
        .modal-content::-webkit-scrollbar-track {
          background: #232323;
          border-radius: 6px;
        }
        .modal-content {
          scrollbar-width: thin;
          scrollbar-color: #e53e3e #232323;
        }
      `)):null}function wD(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[o,l,u]=t.split("-"),h=new Date(parseInt(o),parseInt(l)-1,parseInt(u)),m=String(h.getMonth()+1).padStart(2,"0"),p=String(h.getDate()).padStart(2,"0"),v=h.getFullYear();return`${m}-${p}-${v}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const o=t.split("/");if(o.length===3){const[l,u,h]=o;a=new Date(h,l-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function tS({open:t,message:a,gameType:e,raceLength:n,day:s,date:o,time:l,location:u,proposalNote:h,confirmationNote:m,phase:p,onClose:v}){if(!t)return null;const b=typeof window<"u"&&window.innerWidth<=500,S=b?"100%":"240px",C=b?"90vw":"240px",_=b?"100%":"220px";return f.createElement(zn,{open:t,onClose:v,title:"Proposal Sent!",maxWidth:C,width:S},f.createElement("div",{style:{textAlign:"center"}},f.createElement("div",{style:{background:"#222",color:"#fff",borderRadius:6,padding:"0.6rem 0.7rem 0.6rem 0.7rem",margin:"0 auto 0.7rem auto",fontWeight:600,fontSize:"0.97rem",textAlign:"center",maxWidth:"220px",width:"100%",wordBreak:"break-word",whiteSpace:"pre-line"}},a),f.createElement("div",{style:{background:"#f8f8f8",color:"#222",borderRadius:8,padding:b?"0.4rem 0.2rem":"0.5rem 0.5rem",margin:"0.7rem auto 0.7rem auto",textAlign:"center",fontSize:b?"0.92rem":"0.95rem",border:"1px solid #ff0000",maxWidth:_,width:"100%"}},f.createElement("div",{style:{marginBottom:6}},f.createElement("strong",null,"Phase:")," ",p==="scheduled"?"Phase 1 (Scheduled)":p==="challenge"?"Phase 2 (challenge)":p),f.createElement("div",{style:{marginBottom:6}},f.createElement("strong",null,"Game Type:")," ",f.createElement(Kf,{gameType:e,size:16})," ",e),f.createElement("div",{style:{marginBottom:6}},f.createElement("strong",null,"Race to:")," ",n),f.createElement("div",{style:{marginBottom:6}},f.createElement("strong",null,"Day:")," ",s),f.createElement("div",{style:{marginBottom:6}},f.createElement("strong",null,"Date:")," ",wD(o)),f.createElement("div",{style:{marginBottom:6}},f.createElement("strong",null,"Time:")," ",l),f.createElement("div",{style:{marginBottom:6}},f.createElement("strong",null,"Location:")," ",u),h&&f.createElement("div",{style:{marginTop:12,padding:"0.5rem 0.7rem",background:"#fffbe6",borderLeft:"3px solid #ffb300",borderRadius:4,color:"#a36c00",fontSize:"0.97rem"}},f.createElement("strong",null,"Opponent's note:")," ",h),m&&f.createElement("div",{style:{marginTop:10,padding:"0.5rem 0.7rem",background:"#e6fff0",borderLeft:"3px solid #00b36b",borderRadius:4,color:"#006b3c",fontSize:"0.97rem"}},f.createElement("strong",null,"Your note:")," ",m)),f.createElement("button",{style:{marginTop:"1.8rem",background:"#ff0000",color:"#fff",border:"none",borderRadius:"8px",padding:"0.7rem 1.5rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer"},onClick:v},"Close")))}const Uc={_origin:"https://api.emailjs.com"},CD=(t,a="https://api.emailjs.com")=>{Uc._userID=t,Uc._origin=a},nS=(t,a,e)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!a)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Nw{constructor(a){this.status=a.status,this.text=a.responseText}}const aS=(t,a,e={})=>new Promise((n,s)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:l})=>{const u=new Nw(l);u.status===200||u.text==="OK"?n(u):s(u)}),o.addEventListener("error",({target:l})=>{s(new Nw(l))}),o.open("POST",Uc._origin+t,!0),Object.keys(e).forEach(l=>{o.setRequestHeader(l,e[l])}),o.send(a)}),SD=(t,a,e,n)=>{const s=n||Uc._userID;return nS(s,t,a),aS("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:s,service_id:t,template_id:a,template_params:e}),{"Content-type":"application/json"})},_D=t=>{let a;if(typeof t=="string"?a=document.querySelector(t):a=t,!a||a.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return a},ED=(t,a,e,n)=>{const s=n||Uc._userID,o=_D(e);nS(s,t,a);const l=new FormData(o);return l.append("lib_version","3.2.0"),l.append("service_id",t),l.append("template_id",a),l.append("user_id",s),aS("/api/v1.0/email/send-form",l)},cy={init:CD,send:SD,sendForm:ED},rS=6048e5,xD=864e5,Jf=6e4,Vc=36e5,ID=1e3,Rw=Symbol.for("constructDateFrom");function Nt(t,a){return typeof t=="function"?t(a):t&&typeof t=="object"&&Rw in t?t[Rw](a):t instanceof Date?new t.constructor(a):new Date(a)}function ze(t,a){return Nt(a||t,t)}function ur(t,a,e){const n=ze(t,e==null?void 0:e.in);return isNaN(a)?Nt((e==null?void 0:e.in)||t,NaN):(a&&n.setDate(n.getDate()+a),n)}function dr(t,a,e){const n=ze(t,e==null?void 0:e.in);if(isNaN(a))return Nt(t,NaN);if(!a)return n;const s=n.getDate(),o=Nt(t,n.getTime());o.setMonth(n.getMonth()+a+1,0);const l=o.getDate();return s>=l?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function sS(t,a,e){return Nt(t,+ze(t)+a)}function DD(t,a,e){return sS(t,a*Vc)}let MD={};function ao(){return MD}function Ss(t,a){var u,h,m,p;const e=ao(),n=(a==null?void 0:a.weekStartsOn)??((h=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??e.weekStartsOn??((p=(m=e.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,s=ze(t,a==null?void 0:a.in),o=s.getDay(),l=(o<n?7:0)+o-n;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Xo(t,a){return Ss(t,{...a,weekStartsOn:1})}function iS(t,a){const e=ze(t,a==null?void 0:a.in),n=e.getFullYear(),s=Nt(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=Xo(s),l=Nt(e,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const u=Xo(l);return e.getTime()>=o.getTime()?n+1:e.getTime()>=u.getTime()?n:n-1}function Xd(t){const a=ze(t),e=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return e.setUTCFullYear(a.getFullYear()),+t-+e}function Fr(t,...a){const e=Nt.bind(null,a.find(n=>typeof n=="object"));return a.map(e)}function Vi(t,a){const e=ze(t,a==null?void 0:a.in);return e.setHours(0,0,0,0),e}function Ko(t,a,e){const[n,s]=Fr(e==null?void 0:e.in,t,a),o=Vi(n),l=Vi(s),u=+o-Xd(o),h=+l-Xd(l);return Math.round((u-h)/xD)}function AD(t,a){const e=iS(t,a),n=Nt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Xo(n)}function gg(t,a,e){const n=ze(t,e==null?void 0:e.in);return n.setTime(n.getTime()+a*Jf),n}function uy(t,a,e){return dr(t,a*3,e)}function TD(t,a,e){return sS(t,a*1e3)}function Kd(t,a,e){return ur(t,a*7,e)}function ps(t,a,e){return dr(t,a*12,e)}function kw(t,a){let e,n=a==null?void 0:a.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=Nt.bind(null,s));const o=ze(s,n);(!e||e<o||isNaN(+o))&&(e=o)}),Nt(n,e||NaN)}function Lw(t,a){let e,n=a==null?void 0:a.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=Nt.bind(null,s));const o=ze(s,n);(!e||e>o||isNaN(+o))&&(e=o)}),Nt(n,e||NaN)}function ND(t,a,e){const[n,s]=Fr(e==null?void 0:e.in,t,a);return+Vi(n)==+Vi(s)}function gs(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Jd(t){return!(!gs(t)&&typeof t!="number"||isNaN(+ze(t)))}function ef(t,a,e){const[n,s]=Fr(e==null?void 0:e.in,t,a),o=n.getFullYear()-s.getFullYear(),l=n.getMonth()-s.getMonth();return o*12+l}function Gi(t,a){const e=ze(t,a==null?void 0:a.in);return Math.trunc(e.getMonth()/3)+1}function tf(t,a,e){const[n,s]=Fr(e==null?void 0:e.in,t,a),o=n.getFullYear()-s.getFullYear(),l=Gi(n)-Gi(s);return o*4+l}function nf(t,a,e){const[n,s]=Fr(e==null?void 0:e.in,t,a);return n.getFullYear()-s.getFullYear()}function oS(t,a,e){const[n,s]=Fr(e==null?void 0:e.in,t,a),o=Pw(n,s),l=Math.abs(Ko(n,s));n.setDate(n.getDate()-o*l);const u=+(Pw(n,s)===-o),h=o*(l-u);return h===0?0:h}function Pw(t,a){const e=t.getFullYear()-a.getFullYear()||t.getMonth()-a.getMonth()||t.getDate()-a.getDate()||t.getHours()-a.getHours()||t.getMinutes()-a.getMinutes()||t.getSeconds()-a.getSeconds()||t.getMilliseconds()-a.getMilliseconds();return e<0?-1:e>0?1:e}function RD(t){return a=>{const e=Math.trunc,n=e(a);return n===0?0:n}}function kD(t,a,e){const[n,s]=Fr(e==null?void 0:e.in,t,a),o=(+n-+s)/Vc;return RD()(o)}function lS(t,a){const e=ze(t,a==null?void 0:a.in);return e.setHours(23,59,59,999),e}function cS(t,a){const e=ze(t,a==null?void 0:a.in),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function yg(t,a){const e=ze(t,a==null?void 0:a.in),n=e.getMonth(),s=n-n%3;return e.setMonth(s,1),e.setHours(0,0,0,0),e}function uS(t,a){const e=ze(t,a==null?void 0:a.in);return e.setDate(1),e.setHours(0,0,0,0),e}function dS(t,a){const e=ze(t,a==null?void 0:a.in),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function eh(t,a){const e=ze(t,a==null?void 0:a.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}function LD(t,a){var u,h;const e=ao(),n=e.weekStartsOn??((h=(u=e.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=ze(t,a==null?void 0:a.in),o=s.getDay(),l=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}const PD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OD=(t,a,e)=>{let n;const s=PD[t];return typeof s=="string"?n=s:a===1?n=s.one:n=s.other.replace("{{count}}",a.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+n:n+" ago":n};function Dp(t){return(a={})=>{const e=a.width?String(a.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}const BD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HD={date:Dp({formats:BD,defaultWidth:"full"}),time:Dp({formats:UD,defaultWidth:"full"}),dateTime:Dp({formats:zD,defaultWidth:"full"})},YD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},FD=(t,a,e,n)=>YD[t];function cc(t){return(a,e)=>{const n=e!=null&&e.context?String(e.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,u=e!=null&&e.width?String(e.width):l;s=t.formattingValues[u]||t.formattingValues[l]}else{const l=t.defaultWidth,u=e!=null&&e.width?String(e.width):t.defaultWidth;s=t.values[u]||t.values[l]}const o=t.argumentCallback?t.argumentCallback(a):a;return s[o]}}const jD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},WD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},GD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ZD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$D={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},QD=(t,a)=>{const e=Number(t),n=e%100;if(n>20||n<10)switch(n%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},VD={ordinalNumber:QD,era:cc({values:jD,defaultWidth:"wide"}),quarter:cc({values:WD,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cc({values:GD,defaultWidth:"wide"}),day:cc({values:ZD,defaultWidth:"wide"}),dayPeriod:cc({values:$D,defaultWidth:"wide",formattingValues:qD,defaultFormattingWidth:"wide"})};function uc(t){return(a,e={})=>{const n=e.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=a.match(s);if(!o)return null;const l=o[0],u=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(u)?KD(u,v=>v.test(l)):XD(u,v=>v.test(l));let m;m=t.valueCallback?t.valueCallback(h):h,m=e.valueCallback?e.valueCallback(m):m;const p=a.slice(l.length);return{value:m,rest:p}}}function XD(t,a){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&a(t[e]))return e}function KD(t,a){for(let e=0;e<t.length;e++)if(a(t[e]))return e}function JD(t){return(a,e={})=>{const n=a.match(t.matchPattern);if(!n)return null;const s=n[0],o=a.match(t.parsePattern);if(!o)return null;let l=t.valueCallback?t.valueCallback(o[0]):o[0];l=e.valueCallback?e.valueCallback(l):l;const u=a.slice(s.length);return{value:l,rest:u}}}const eM=/^(\d+)(th|st|nd|rd)?/i,tM=/\d+/i,nM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aM={any:[/^b/i,/^(a|c)/i]},rM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sM={any:[/1/i,/2/i,/3/i,/4/i]},iM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fM={ordinalNumber:JD({matchPattern:eM,parsePattern:tM,valueCallback:t=>parseInt(t,10)}),era:uc({matchPatterns:nM,defaultMatchWidth:"wide",parsePatterns:aM,defaultParseWidth:"any"}),quarter:uc({matchPatterns:rM,defaultMatchWidth:"wide",parsePatterns:sM,defaultParseWidth:"any",valueCallback:t=>t+1}),month:uc({matchPatterns:iM,defaultMatchWidth:"wide",parsePatterns:oM,defaultParseWidth:"any"}),day:uc({matchPatterns:lM,defaultMatchWidth:"wide",parsePatterns:cM,defaultParseWidth:"any"}),dayPeriod:uc({matchPatterns:uM,defaultMatchWidth:"any",parsePatterns:dM,defaultParseWidth:"any"})},fS={code:"en-US",formatDistance:OD,formatLong:HD,formatRelative:FD,localize:VD,match:fM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hM(t,a){const e=ze(t,a==null?void 0:a.in);return Ko(e,eh(e))+1}function dy(t,a){const e=ze(t,a==null?void 0:a.in),n=+Xo(e)-+AD(e);return Math.round(n/rS)+1}function fy(t,a){var p,v,b,S;const e=ze(t,a==null?void 0:a.in),n=e.getFullYear(),s=ao(),o=(a==null?void 0:a.firstWeekContainsDate)??((v=(p=a==null?void 0:a.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((S=(b=s.locale)==null?void 0:b.options)==null?void 0:S.firstWeekContainsDate)??1,l=Nt((a==null?void 0:a.in)||t,0);l.setFullYear(n+1,0,o),l.setHours(0,0,0,0);const u=Ss(l,a),h=Nt((a==null?void 0:a.in)||t,0);h.setFullYear(n,0,o),h.setHours(0,0,0,0);const m=Ss(h,a);return+e>=+u?n+1:+e>=+m?n:n-1}function mM(t,a){var u,h,m,p;const e=ao(),n=(a==null?void 0:a.firstWeekContainsDate)??((h=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??e.firstWeekContainsDate??((p=(m=e.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,s=fy(t,a),o=Nt((a==null?void 0:a.in)||t,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Ss(o,a)}function hS(t,a){const e=ze(t,a==null?void 0:a.in),n=+Ss(e,a)-+mM(e,a);return Math.round(n/rS)+1}function At(t,a){const e=t<0?"-":"",n=Math.abs(t).toString().padStart(a,"0");return e+n}const Ks={y(t,a){const e=t.getFullYear(),n=e>0?e:1-e;return At(a==="yy"?n%100:n,a.length)},M(t,a){const e=t.getMonth();return a==="M"?String(e+1):At(e+1,2)},d(t,a){return At(t.getDate(),a.length)},a(t,a){const e=t.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(t,a){return At(t.getHours()%12||12,a.length)},H(t,a){return At(t.getHours(),a.length)},m(t,a){return At(t.getMinutes(),a.length)},s(t,a){return At(t.getSeconds(),a.length)},S(t,a){const e=a.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,e-3));return At(s,a.length)}},zo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ow={G:function(t,a,e){const n=t.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return e.era(n,{width:"abbreviated"});case"GGGGG":return e.era(n,{width:"narrow"});case"GGGG":default:return e.era(n,{width:"wide"})}},y:function(t,a,e){if(a==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return e.ordinalNumber(s,{unit:"year"})}return Ks.y(t,a)},Y:function(t,a,e,n){const s=fy(t,n),o=s>0?s:1-s;if(a==="YY"){const l=o%100;return At(l,2)}return a==="Yo"?e.ordinalNumber(o,{unit:"year"}):At(o,a.length)},R:function(t,a){const e=iS(t);return At(e,a.length)},u:function(t,a){const e=t.getFullYear();return At(e,a.length)},Q:function(t,a,e){const n=Math.ceil((t.getMonth()+1)/3);switch(a){case"Q":return String(n);case"QQ":return At(n,2);case"Qo":return e.ordinalNumber(n,{unit:"quarter"});case"QQQ":return e.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,a,e){const n=Math.ceil((t.getMonth()+1)/3);switch(a){case"q":return String(n);case"qq":return At(n,2);case"qo":return e.ordinalNumber(n,{unit:"quarter"});case"qqq":return e.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,a,e){const n=t.getMonth();switch(a){case"M":case"MM":return Ks.M(t,a);case"Mo":return e.ordinalNumber(n+1,{unit:"month"});case"MMM":return e.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(n,{width:"wide",context:"formatting"})}},L:function(t,a,e){const n=t.getMonth();switch(a){case"L":return String(n+1);case"LL":return At(n+1,2);case"Lo":return e.ordinalNumber(n+1,{unit:"month"});case"LLL":return e.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(n,{width:"wide",context:"standalone"})}},w:function(t,a,e,n){const s=hS(t,n);return a==="wo"?e.ordinalNumber(s,{unit:"week"}):At(s,a.length)},I:function(t,a,e){const n=dy(t);return a==="Io"?e.ordinalNumber(n,{unit:"week"}):At(n,a.length)},d:function(t,a,e){return a==="do"?e.ordinalNumber(t.getDate(),{unit:"date"}):Ks.d(t,a)},D:function(t,a,e){const n=hM(t);return a==="Do"?e.ordinalNumber(n,{unit:"dayOfYear"}):At(n,a.length)},E:function(t,a,e){const n=t.getDay();switch(a){case"E":case"EE":case"EEE":return e.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(n,{width:"short",context:"formatting"});case"EEEE":default:return e.day(n,{width:"wide",context:"formatting"})}},e:function(t,a,e,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(a){case"e":return String(o);case"ee":return At(o,2);case"eo":return e.ordinalNumber(o,{unit:"day"});case"eee":return e.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(s,{width:"short",context:"formatting"});case"eeee":default:return e.day(s,{width:"wide",context:"formatting"})}},c:function(t,a,e,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(a){case"c":return String(o);case"cc":return At(o,a.length);case"co":return e.ordinalNumber(o,{unit:"day"});case"ccc":return e.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(s,{width:"narrow",context:"standalone"});case"cccccc":return e.day(s,{width:"short",context:"standalone"});case"cccc":default:return e.day(s,{width:"wide",context:"standalone"})}},i:function(t,a,e){const n=t.getDay(),s=n===0?7:n;switch(a){case"i":return String(s);case"ii":return At(s,a.length);case"io":return e.ordinalNumber(s,{unit:"day"});case"iii":return e.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(n,{width:"short",context:"formatting"});case"iiii":default:return e.day(n,{width:"wide",context:"formatting"})}},a:function(t,a,e){const s=t.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,a,e){const n=t.getHours();let s;switch(n===12?s=zo.noon:n===0?s=zo.midnight:s=n/12>=1?"pm":"am",a){case"b":case"bb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,a,e){const n=t.getHours();let s;switch(n>=17?s=zo.evening:n>=12?s=zo.afternoon:n>=4?s=zo.morning:s=zo.night,a){case"B":case"BB":case"BBB":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,a,e){if(a==="ho"){let n=t.getHours()%12;return n===0&&(n=12),e.ordinalNumber(n,{unit:"hour"})}return Ks.h(t,a)},H:function(t,a,e){return a==="Ho"?e.ordinalNumber(t.getHours(),{unit:"hour"}):Ks.H(t,a)},K:function(t,a,e){const n=t.getHours()%12;return a==="Ko"?e.ordinalNumber(n,{unit:"hour"}):At(n,a.length)},k:function(t,a,e){let n=t.getHours();return n===0&&(n=24),a==="ko"?e.ordinalNumber(n,{unit:"hour"}):At(n,a.length)},m:function(t,a,e){return a==="mo"?e.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ks.m(t,a)},s:function(t,a,e){return a==="so"?e.ordinalNumber(t.getSeconds(),{unit:"second"}):Ks.s(t,a)},S:function(t,a){return Ks.S(t,a)},X:function(t,a,e){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(a){case"X":return Uw(n);case"XXXX":case"XX":return Ui(n);case"XXXXX":case"XXX":default:return Ui(n,":")}},x:function(t,a,e){const n=t.getTimezoneOffset();switch(a){case"x":return Uw(n);case"xxxx":case"xx":return Ui(n);case"xxxxx":case"xxx":default:return Ui(n,":")}},O:function(t,a,e){const n=t.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+Bw(n,":");case"OOOO":default:return"GMT"+Ui(n,":")}},z:function(t,a,e){const n=t.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+Bw(n,":");case"zzzz":default:return"GMT"+Ui(n,":")}},t:function(t,a,e){const n=Math.trunc(+t/1e3);return At(n,a.length)},T:function(t,a,e){return At(+t,a.length)}};function Bw(t,a=""){const e=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),o=n%60;return o===0?e+String(s):e+String(s)+a+At(o,2)}function Uw(t,a){return t%60===0?(t>0?"-":"+")+At(Math.abs(t)/60,2):Ui(t,a)}function Ui(t,a=""){const e=t>0?"-":"+",n=Math.abs(t),s=At(Math.trunc(n/60),2),o=At(n%60,2);return e+s+a+o}const zw=(t,a)=>{switch(t){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},mS=(t,a)=>{switch(t){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},pM=(t,a)=>{const e=t.match(/(P+)(p+)?/)||[],n=e[1],s=e[2];if(!s)return zw(t,a);let o;switch(n){case"P":o=a.dateTime({width:"short"});break;case"PP":o=a.dateTime({width:"medium"});break;case"PPP":o=a.dateTime({width:"long"});break;case"PPPP":default:o=a.dateTime({width:"full"});break}return o.replace("{{date}}",zw(n,a)).replace("{{time}}",mS(s,a))},vg={p:mS,P:pM},gM=/^D+$/,yM=/^Y+$/,vM=["D","DD","YY","YYYY"];function bM(t){return gM.test(t)}function wM(t){return yM.test(t)}function CM(t,a,e){const n=SM(t,a,e);if(console.warn(n),vM.includes(t))throw new RangeError(n)}function SM(t,a,e){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${a}\`) for formatting ${n} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _M=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,EM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xM=/^'([^]*?)'?$/,IM=/''/g,DM=/[a-zA-Z]/;function zc(t,a,e){var p,v,b,S,C,_,E,I;const n=ao(),s=(e==null?void 0:e.locale)??n.locale??fS,o=(e==null?void 0:e.firstWeekContainsDate)??((v=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??n.firstWeekContainsDate??((S=(b=n.locale)==null?void 0:b.options)==null?void 0:S.firstWeekContainsDate)??1,l=(e==null?void 0:e.weekStartsOn)??((_=(C=e==null?void 0:e.locale)==null?void 0:C.options)==null?void 0:_.weekStartsOn)??n.weekStartsOn??((I=(E=n.locale)==null?void 0:E.options)==null?void 0:I.weekStartsOn)??0,u=ze(t,e==null?void 0:e.in);if(!Jd(u))throw new RangeError("Invalid time value");let h=a.match(EM).map(A=>{const M=A[0];if(M==="p"||M==="P"){const k=vg[M];return k(A,s.formatLong)}return A}).join("").match(_M).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const M=A[0];if(M==="'")return{isToken:!1,value:MM(A)};if(Ow[M])return{isToken:!0,value:A};if(M.match(DM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return{isToken:!1,value:A}});s.localize.preprocessor&&(h=s.localize.preprocessor(u,h));const m={firstWeekContainsDate:o,weekStartsOn:l,locale:s};return h.map(A=>{if(!A.isToken)return A.value;const M=A.value;(!(e!=null&&e.useAdditionalWeekYearTokens)&&wM(M)||!(e!=null&&e.useAdditionalDayOfYearTokens)&&bM(M))&&CM(M,a,String(t));const k=Ow[M[0]];return k(u,M,s.localize,m)}).join("")}function MM(t){const a=t.match(xM);return a?a[1].replace(IM,"'"):t}function Hw(t,a){return ze(t,a==null?void 0:a.in).getDate()}function AM(t,a){return ze(t,a==null?void 0:a.in).getDay()}function TM(t,a){const e=ze(t,a==null?void 0:a.in),n=e.getFullYear(),s=e.getMonth(),o=Nt(e,0);return o.setFullYear(n,s+1,0),o.setHours(0,0,0,0),o.getDate()}function NM(){return Object.assign({},ao())}function ys(t,a){return ze(t,a==null?void 0:a.in).getHours()}function RM(t,a){const e=ze(t,a==null?void 0:a.in).getDay();return e===0?7:e}function vs(t,a){return ze(t,a==null?void 0:a.in).getMinutes()}function $n(t,a){return ze(t,a==null?void 0:a.in).getMonth()}function ci(t){return ze(t).getSeconds()}function bg(t){return+ze(t)}function ct(t,a){return ze(t,a==null?void 0:a.in).getFullYear()}function _s(t,a){return+ze(t)>+ze(a)}function Xi(t,a){return+ze(t)<+ze(a)}function kM(t,a){return+ze(t)==+ze(a)}function LM(t,a){const e=PM(a)?new a(0):Nt(a,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e}function PM(t){var a;return typeof t=="function"&&((a=t.prototype)==null?void 0:a.constructor)===t}const OM=10;class pS{constructor(){ke(this,"subPriority",0)}validate(a,e){return!0}}class BM extends pS{constructor(a,e,n,s,o){super(),this.value=a,this.validateValue=e,this.setValue=n,this.priority=s,o&&(this.subPriority=o)}validate(a,e){return this.validateValue(a,this.value,e)}set(a,e,n){return this.setValue(a,e,this.value,n)}}class UM extends pS{constructor(e,n){super();ke(this,"priority",OM);ke(this,"subPriority",-1);this.context=e||(s=>Nt(n,s))}set(e,n){return n.timestampIsSet?e:Nt(e,LM(e,this.context))}}class Et{run(a,e,n,s){const o=this.parse(a,e,n,s);return o?{setter:new BM(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(a,e,n){return!0}}class zM extends Et{constructor(){super(...arguments);ke(this,"priority",140);ke(this,"incompatibleTokens",["R","u","t","T"])}parse(e,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"});case"GGGGG":return s.era(e,{width:"narrow"});case"GGGG":default:return s.era(e,{width:"wide"})||s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"})}}set(e,n,s){return n.era=s,e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}const hn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Pr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function mn(t,a){return t&&{value:a(t.value),rest:t.rest}}function Jt(t,a){const e=a.match(t);return e?{value:parseInt(e[0],10),rest:a.slice(e[0].length)}:null}function Or(t,a){const e=a.match(t);if(!e)return null;if(e[0]==="Z")return{value:0,rest:a.slice(1)};const n=e[1]==="+"?1:-1,s=e[2]?parseInt(e[2],10):0,o=e[3]?parseInt(e[3],10):0,l=e[5]?parseInt(e[5],10):0;return{value:n*(s*Vc+o*Jf+l*ID),rest:a.slice(e[0].length)}}function gS(t){return Jt(hn.anyDigitsSigned,t)}function ln(t,a){switch(t){case 1:return Jt(hn.singleDigit,a);case 2:return Jt(hn.twoDigits,a);case 3:return Jt(hn.threeDigits,a);case 4:return Jt(hn.fourDigits,a);default:return Jt(new RegExp("^\\d{1,"+t+"}"),a)}}function af(t,a){switch(t){case 1:return Jt(hn.singleDigitSigned,a);case 2:return Jt(hn.twoDigitsSigned,a);case 3:return Jt(hn.threeDigitsSigned,a);case 4:return Jt(hn.fourDigitsSigned,a);default:return Jt(new RegExp("^-?\\d{1,"+t+"}"),a)}}function hy(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function yS(t,a){const e=a>0,n=e?a:1-a;let s;if(n<=50)s=t||100;else{const o=n+50,l=Math.trunc(o/100)*100,u=t>=o%100;s=t+l-(u?100:0)}return e?s:1-s}function vS(t){return t%400===0||t%4===0&&t%100!==0}class HM extends Et{constructor(){super(...arguments);ke(this,"priority",130);ke(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,n,s){const o=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return mn(ln(4,e),o);case"yo":return mn(s.ordinalNumber(e,{unit:"year"}),o);default:return mn(ln(n.length,e),o)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,s){const o=e.getFullYear();if(s.isTwoDigitYear){const u=yS(s.year,o);return e.setFullYear(u,0,1),e.setHours(0,0,0,0),e}const l=!("era"in n)||n.era===1?s.year:1-s.year;return e.setFullYear(l,0,1),e.setHours(0,0,0,0),e}}class YM extends Et{constructor(){super(...arguments);ke(this,"priority",130);ke(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,n,s){const o=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return mn(ln(4,e),o);case"Yo":return mn(s.ordinalNumber(e,{unit:"year"}),o);default:return mn(ln(n.length,e),o)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,s,o){const l=fy(e,o);if(s.isTwoDigitYear){const h=yS(s.year,l);return e.setFullYear(h,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),Ss(e,o)}const u=!("era"in n)||n.era===1?s.year:1-s.year;return e.setFullYear(u,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),Ss(e,o)}}class FM extends Et{constructor(){super(...arguments);ke(this,"priority",130);ke(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,n){return af(n==="R"?4:n.length,e)}set(e,n,s){const o=Nt(e,0);return o.setFullYear(s,0,4),o.setHours(0,0,0,0),Xo(o)}}class jM extends Et{constructor(){super(...arguments);ke(this,"priority",130);ke(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,n){return af(n==="u"?4:n.length,e)}set(e,n,s){return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class WM extends Et{constructor(){super(...arguments);ke(this,"priority",120);ke(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,n,s){switch(n){case"Q":case"QQ":return ln(n.length,e);case"Qo":return s.ordinalNumber(e,{unit:"quarter"});case"QQQ":return s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(e,{width:"wide",context:"formatting"})||s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=1&&n<=4}set(e,n,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}}class GM extends Et{constructor(){super(...arguments);ke(this,"priority",120);ke(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,n,s){switch(n){case"q":case"qq":return ln(n.length,e);case"qo":return s.ordinalNumber(e,{unit:"quarter"});case"qqq":return s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(e,{width:"wide",context:"standalone"})||s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=1&&n<=4}set(e,n,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}}class ZM extends Et{constructor(){super(...arguments);ke(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ke(this,"priority",110)}parse(e,n,s){const o=l=>l-1;switch(n){case"M":return mn(Jt(hn.month,e),o);case"MM":return mn(ln(2,e),o);case"Mo":return mn(s.ordinalNumber(e,{unit:"month"}),o);case"MMM":return s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(e,{width:"wide",context:"formatting"})||s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=11}set(e,n,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}}class $M extends Et{constructor(){super(...arguments);ke(this,"priority",110);ke(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,n,s){const o=l=>l-1;switch(n){case"L":return mn(Jt(hn.month,e),o);case"LL":return mn(ln(2,e),o);case"Lo":return mn(s.ordinalNumber(e,{unit:"month"}),o);case"LLL":return s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(e,{width:"wide",context:"standalone"})||s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=11}set(e,n,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}}function qM(t,a,e){const n=ze(t,e==null?void 0:e.in),s=hS(n,e)-a;return n.setDate(n.getDate()-s*7),ze(n,e==null?void 0:e.in)}class QM extends Et{constructor(){super(...arguments);ke(this,"priority",100);ke(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,n,s){switch(n){case"w":return Jt(hn.week,e);case"wo":return s.ordinalNumber(e,{unit:"week"});default:return ln(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,s,o){return Ss(qM(e,s,o),o)}}function VM(t,a,e){const n=ze(t,e==null?void 0:e.in),s=dy(n,e)-a;return n.setDate(n.getDate()-s*7),n}class XM extends Et{constructor(){super(...arguments);ke(this,"priority",100);ke(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,n,s){switch(n){case"I":return Jt(hn.week,e);case"Io":return s.ordinalNumber(e,{unit:"week"});default:return ln(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,s){return Xo(VM(e,s))}}const KM=[31,28,31,30,31,30,31,31,30,31,30,31],JM=[31,29,31,30,31,30,31,31,30,31,30,31];class eA extends Et{constructor(){super(...arguments);ke(this,"priority",90);ke(this,"subPriority",1);ke(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,n,s){switch(n){case"d":return Jt(hn.date,e);case"do":return s.ordinalNumber(e,{unit:"date"});default:return ln(n.length,e)}}validate(e,n){const s=e.getFullYear(),o=vS(s),l=e.getMonth();return o?n>=1&&n<=JM[l]:n>=1&&n<=KM[l]}set(e,n,s){return e.setDate(s),e.setHours(0,0,0,0),e}}class tA extends Et{constructor(){super(...arguments);ke(this,"priority",90);ke(this,"subpriority",1);ke(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,n,s){switch(n){case"D":case"DD":return Jt(hn.dayOfYear,e);case"Do":return s.ordinalNumber(e,{unit:"date"});default:return ln(n.length,e)}}validate(e,n){const s=e.getFullYear();return vS(s)?n>=1&&n<=366:n>=1&&n<=365}set(e,n,s){return e.setMonth(0,s),e.setHours(0,0,0,0),e}}function my(t,a,e){var v,b,S,C;const n=ao(),s=(e==null?void 0:e.weekStartsOn)??((b=(v=e==null?void 0:e.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??n.weekStartsOn??((C=(S=n.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??0,o=ze(t,e==null?void 0:e.in),l=o.getDay(),h=(a%7+7)%7,m=7-s,p=a<0||a>6?a-(l+m)%7:(h+m)%7-(l+m)%7;return ur(o,p,e)}class nA extends Et{constructor(){super(...arguments);ke(this,"priority",90);ke(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,s,o){return e=my(e,s,o),e.setHours(0,0,0,0),e}}class aA extends Et{constructor(){super(...arguments);ke(this,"priority",90);ke(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,n,s,o){const l=u=>{const h=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+h};switch(n){case"e":case"ee":return mn(ln(n.length,e),l);case"eo":return mn(s.ordinalNumber(e,{unit:"day"}),l);case"eee":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeeee":return s.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,s,o){return e=my(e,s,o),e.setHours(0,0,0,0),e}}class rA extends Et{constructor(){super(...arguments);ke(this,"priority",90);ke(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,n,s,o){const l=u=>{const h=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+h};switch(n){case"c":case"cc":return mn(ln(n.length,e),l);case"co":return mn(s.ordinalNumber(e,{unit:"day"}),l);case"ccc":return s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"ccccc":return s.day(e,{width:"narrow",context:"standalone"});case"cccccc":return s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(e,{width:"wide",context:"standalone"})||s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=6}set(e,n,s,o){return e=my(e,s,o),e.setHours(0,0,0,0),e}}function sA(t,a,e){const n=ze(t,e==null?void 0:e.in),s=RM(n,e),o=a-s;return ur(n,o,e)}class iA extends Et{constructor(){super(...arguments);ke(this,"priority",90);ke(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,n,s){const o=l=>l===0?7:l;switch(n){case"i":case"ii":return ln(n.length,e);case"io":return s.ordinalNumber(e,{unit:"day"});case"iii":return mn(s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),o);case"iiiii":return mn(s.day(e,{width:"narrow",context:"formatting"}),o);case"iiiiii":return mn(s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),o);case"iiii":default:return mn(s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),o)}}validate(e,n){return n>=1&&n<=7}set(e,n,s){return e=sA(e,s),e.setHours(0,0,0,0),e}}class oA extends Et{constructor(){super(...arguments);ke(this,"priority",80);ke(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,s){return e.setHours(hy(s),0,0,0),e}}class lA extends Et{constructor(){super(...arguments);ke(this,"priority",80);ke(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,s){return e.setHours(hy(s),0,0,0),e}}class cA extends Et{constructor(){super(...arguments);ke(this,"priority",80);ke(this,"incompatibleTokens",["a","b","t","T"])}parse(e,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,s){return e.setHours(hy(s),0,0,0),e}}class uA extends Et{constructor(){super(...arguments);ke(this,"priority",70);ke(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,n,s){switch(n){case"h":return Jt(hn.hour12h,e);case"ho":return s.ordinalNumber(e,{unit:"hour"});default:return ln(n.length,e)}}validate(e,n){return n>=1&&n<=12}set(e,n,s){const o=e.getHours()>=12;return o&&s<12?e.setHours(s+12,0,0,0):!o&&s===12?e.setHours(0,0,0,0):e.setHours(s,0,0,0),e}}class dA extends Et{constructor(){super(...arguments);ke(this,"priority",70);ke(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,n,s){switch(n){case"H":return Jt(hn.hour23h,e);case"Ho":return s.ordinalNumber(e,{unit:"hour"});default:return ln(n.length,e)}}validate(e,n){return n>=0&&n<=23}set(e,n,s){return e.setHours(s,0,0,0),e}}class fA extends Et{constructor(){super(...arguments);ke(this,"priority",70);ke(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,n,s){switch(n){case"K":return Jt(hn.hour11h,e);case"Ko":return s.ordinalNumber(e,{unit:"hour"});default:return ln(n.length,e)}}validate(e,n){return n>=0&&n<=11}set(e,n,s){return e.getHours()>=12&&s<12?e.setHours(s+12,0,0,0):e.setHours(s,0,0,0),e}}class hA extends Et{constructor(){super(...arguments);ke(this,"priority",70);ke(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,n,s){switch(n){case"k":return Jt(hn.hour24h,e);case"ko":return s.ordinalNumber(e,{unit:"hour"});default:return ln(n.length,e)}}validate(e,n){return n>=1&&n<=24}set(e,n,s){const o=s<=24?s%24:s;return e.setHours(o,0,0,0),e}}class mA extends Et{constructor(){super(...arguments);ke(this,"priority",60);ke(this,"incompatibleTokens",["t","T"])}parse(e,n,s){switch(n){case"m":return Jt(hn.minute,e);case"mo":return s.ordinalNumber(e,{unit:"minute"});default:return ln(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,s){return e.setMinutes(s,0,0),e}}class pA extends Et{constructor(){super(...arguments);ke(this,"priority",50);ke(this,"incompatibleTokens",["t","T"])}parse(e,n,s){switch(n){case"s":return Jt(hn.second,e);case"so":return s.ordinalNumber(e,{unit:"second"});default:return ln(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,s){return e.setSeconds(s,0),e}}class gA extends Et{constructor(){super(...arguments);ke(this,"priority",30);ke(this,"incompatibleTokens",["t","T"])}parse(e,n){const s=o=>Math.trunc(o*Math.pow(10,-n.length+3));return mn(ln(n.length,e),s)}set(e,n,s){return e.setMilliseconds(s),e}}class yA extends Et{constructor(){super(...arguments);ke(this,"priority",10);ke(this,"incompatibleTokens",["t","T","x"])}parse(e,n){switch(n){case"X":return Or(Pr.basicOptionalMinutes,e);case"XX":return Or(Pr.basic,e);case"XXXX":return Or(Pr.basicOptionalSeconds,e);case"XXXXX":return Or(Pr.extendedOptionalSeconds,e);case"XXX":default:return Or(Pr.extended,e)}}set(e,n,s){return n.timestampIsSet?e:Nt(e,e.getTime()-Xd(e)-s)}}class vA extends Et{constructor(){super(...arguments);ke(this,"priority",10);ke(this,"incompatibleTokens",["t","T","X"])}parse(e,n){switch(n){case"x":return Or(Pr.basicOptionalMinutes,e);case"xx":return Or(Pr.basic,e);case"xxxx":return Or(Pr.basicOptionalSeconds,e);case"xxxxx":return Or(Pr.extendedOptionalSeconds,e);case"xxx":default:return Or(Pr.extended,e)}}set(e,n,s){return n.timestampIsSet?e:Nt(e,e.getTime()-Xd(e)-s)}}class bA extends Et{constructor(){super(...arguments);ke(this,"priority",40);ke(this,"incompatibleTokens","*")}parse(e){return gS(e)}set(e,n,s){return[Nt(e,s*1e3),{timestampIsSet:!0}]}}class wA extends Et{constructor(){super(...arguments);ke(this,"priority",20);ke(this,"incompatibleTokens","*")}parse(e){return gS(e)}set(e,n,s){return[Nt(e,s),{timestampIsSet:!0}]}}const CA={G:new zM,y:new HM,Y:new YM,R:new FM,u:new jM,Q:new WM,q:new GM,M:new ZM,L:new $M,w:new QM,I:new XM,d:new eA,D:new tA,E:new nA,e:new aA,c:new rA,i:new iA,a:new oA,b:new lA,B:new cA,h:new uA,H:new dA,K:new fA,k:new hA,m:new mA,s:new pA,S:new gA,X:new yA,x:new vA,t:new bA,T:new wA},SA=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_A=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EA=/^'([^]*?)'?$/,xA=/''/g,IA=/\S/,DA=/[a-zA-Z]/;function MA(t,a,e,n){var E,I,A,M,k,L,U,F;const s=()=>Nt((n==null?void 0:n.in)||e,NaN),o=NM(),l=(n==null?void 0:n.locale)??o.locale??fS,u=(n==null?void 0:n.firstWeekContainsDate)??((I=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:I.firstWeekContainsDate)??o.firstWeekContainsDate??((M=(A=o.locale)==null?void 0:A.options)==null?void 0:M.firstWeekContainsDate)??1,h=(n==null?void 0:n.weekStartsOn)??((L=(k=n==null?void 0:n.locale)==null?void 0:k.options)==null?void 0:L.weekStartsOn)??o.weekStartsOn??((F=(U=o.locale)==null?void 0:U.options)==null?void 0:F.weekStartsOn)??0;if(!a)return t?s():ze(e,n==null?void 0:n.in);const m={firstWeekContainsDate:u,weekStartsOn:h,locale:l},p=[new UM(n==null?void 0:n.in,e)],v=a.match(_A).map(z=>{const q=z[0];if(q in vg){const te=vg[q];return te(z,l.formatLong)}return z}).join("").match(SA),b=[];for(let z of v){const q=z[0],te=CA[q];if(te){const{incompatibleTokens:ge}=te;if(Array.isArray(ge)){const re=b.find(ee=>ge.includes(ee.token)||ee.token===q);if(re)throw new RangeError(`The format string mustn't contain \`${re.fullToken}\` and \`${z}\` at the same time`)}else if(te.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${z}\` and any other token at the same time`);b.push({token:q,fullToken:z});const le=te.run(t,z,l.match,m);if(!le)return s();p.push(le.setter),t=le.rest}else{if(q.match(DA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+q+"`");if(z==="''"?z="'":q==="'"&&(z=AA(z)),t.indexOf(z)===0)t=t.slice(z.length);else return s()}}if(t.length>0&&IA.test(t))return s();const S=p.map(z=>z.priority).sort((z,q)=>q-z).filter((z,q,te)=>te.indexOf(z)===q).map(z=>p.filter(q=>q.priority===z).sort((q,te)=>te.subPriority-q.subPriority)).map(z=>z[0]);let C=ze(e,n==null?void 0:n.in);if(isNaN(+C))return s();const _={};for(const z of S){if(!z.validate(C,m))return s();const q=z.set(C,_,m);Array.isArray(q)?(C=q[0],Object.assign(_,q[1])):C=q}return C}function AA(t){return t.match(EA)[1].replace(xA,"'")}function TA(t,a,e){const[n,s]=Fr(e==null?void 0:e.in,t,a);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function NA(t,a,e){const[n,s]=Fr(e==null?void 0:e.in,t,a);return+yg(n)==+yg(s)}function RA(t,a,e){const[n,s]=Fr(e==null?void 0:e.in,t,a);return n.getFullYear()===s.getFullYear()}function Hc(t,a,e){const n=+ze(t,e==null?void 0:e.in),[s,o]=[+ze(a.start,e==null?void 0:e.in),+ze(a.end,e==null?void 0:e.in)].sort((l,u)=>l-u);return n>=s&&n<=o}function kA(t,a,e){return ur(t,-1,e)}function bS(t,a){const e=()=>Nt(a==null?void 0:a.in,NaN),s=BA(t);let o;if(s.date){const m=UA(s.date,2);o=zA(m.restDateString,m.year)}if(!o||isNaN(+o))return e();const l=+o;let u=0,h;if(s.time&&(u=HA(s.time),isNaN(u)))return e();if(s.timezone){if(h=YA(s.timezone),isNaN(h))return e()}else{const m=new Date(l+u),p=ze(0,a==null?void 0:a.in);return p.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),p.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),p}return ze(l+u+h,a==null?void 0:a.in)}const fd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},LA=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,PA=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,OA=/^([+-])(\d{2})(?::?(\d{2}))?$/;function BA(t){const a={},e=t.split(fd.dateTimeDelimiter);let n;if(e.length>2)return a;if(/:/.test(e[0])?n=e[0]:(a.date=e[0],n=e[1],fd.timeZoneDelimiter.test(a.date)&&(a.date=t.split(fd.timeZoneDelimiter)[0],n=t.substr(a.date.length,t.length))),n){const s=fd.timezone.exec(n);s?(a.time=n.replace(s[1],""),a.timezone=s[1]):a.time=n}return a}function UA(t,a){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),n=t.match(e);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?s:o*100,restDateString:t.slice((n[1]||n[2]).length)}}function zA(t,a){if(a===null)return new Date(NaN);const e=t.match(LA);if(!e)return new Date(NaN);const n=!!e[4],s=dc(e[1]),o=dc(e[2])-1,l=dc(e[3]),u=dc(e[4]),h=dc(e[5])-1;if(n)return ZA(a,u,h)?FA(a,u,h):new Date(NaN);{const m=new Date(0);return!WA(a,o,l)||!GA(a,s)?new Date(NaN):(m.setUTCFullYear(a,o,Math.max(s,l)),m)}}function dc(t){return t?parseInt(t):1}function HA(t){const a=t.match(PA);if(!a)return NaN;const e=Mp(a[1]),n=Mp(a[2]),s=Mp(a[3]);return $A(e,n,s)?e*Vc+n*Jf+s*1e3:NaN}function Mp(t){return t&&parseFloat(t.replace(",","."))||0}function YA(t){if(t==="Z")return 0;const a=t.match(OA);if(!a)return 0;const e=a[1]==="+"?-1:1,n=parseInt(a[2]),s=a[3]&&parseInt(a[3])||0;return qA(n,s)?e*(n*Vc+s*Jf):NaN}function FA(t,a,e){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,o=(a-1)*7+e+1-s;return n.setUTCDate(n.getUTCDate()+o),n}const jA=[31,null,31,30,31,30,31,31,30,31,30,31];function wS(t){return t%400===0||t%4===0&&t%100!==0}function WA(t,a,e){return a>=0&&a<=11&&e>=1&&e<=(jA[a]||(wS(t)?29:28))}function GA(t,a){return a>=1&&a<=(wS(t)?366:365)}function ZA(t,a,e){return a>=1&&a<=53&&e>=0&&e<=6}function $A(t,a,e){return t===24?a===0&&e===0:e>=0&&e<60&&a>=0&&a<60&&t>=0&&t<25}function qA(t,a){return a>=0&&a<=59}function Ka(t,a,e){const n=ze(t,e==null?void 0:e.in),s=n.getFullYear(),o=n.getDate(),l=Nt(t,0);l.setFullYear(s,a,15),l.setHours(0,0,0,0);const u=TM(l);return n.setMonth(a,Math.min(o,u)),n}function Pd(t,a,e){const n=ze(t,e==null?void 0:e.in);return n.setHours(a),n}function Od(t,a,e){const n=ze(t,e==null?void 0:e.in);return n.setMinutes(a),n}function Fo(t,a,e){const n=ze(t,e==null?void 0:e.in),s=Math.trunc(n.getMonth()/3)+1,o=a-s;return Ka(n,n.getMonth()+o*3)}function Bd(t,a,e){const n=ze(t,e==null?void 0:e.in);return n.setSeconds(a),n}function kr(t,a,e){const n=ze(t,e==null?void 0:e.in);return isNaN(+n)?Nt(t,NaN):(n.setFullYear(a),n)}function Zi(t,a,e){return dr(t,-a,e)}function CS(t,a,e){return uy(t,-1,e)}function Yw(t,a,e){return Kd(t,-1,e)}function Jo(t,a,e){return ps(t,-a,e)}function QA({to_email:t,to_name:a,from_name:e,from_email:n,day:s,date:o,time:l,location:u,note:h,gameType:m,raceLength:p}){if(!t||t==="undefined")return alert("Recipient email is missing. Cannot send proposal."),Promise.reject(new Error("Recipient email is missing."));if(!n||n==="undefined")return alert("Your email is missing. Cannot send proposal."),Promise.reject(new Error("Sender email is missing."));const v=zc(bS(o),"MM-dd-yyyy"),C=`https://frbcapl.github.io/NEWAPP/#/confirm-match?${Object.entries({from:e,to:a,day:s,date:v,time:l,location:u,note:h,proposerEmail:n,gameType:m,raceLength:p}).map(([_,E])=>`${_}=${encodeURIComponent(E)}`).join("&")}`;return cy.send("service_l5q2047","template_xu0tl3i",{to_email:t,to_name:a,from_name:e,day:s,date:v,time:l,location:u,note:h,gameType:m,raceLength:p,confirm_link:C},"g6vqrOs_Jb6LL1VCZ")}function VA({to_email:t,to_name:a,day:e,date:n,time:s,location:o,proposal_note:l,confirmation_note:u,confirmed_by:h,gameType:m,raceLength:p}){return cy.send("service_l5q2047","template_dtc43h8",{to_email:t,to_name:a,day:e,date:n,time:s,location:o,proposal_note:l,confirmation_note:u,confirmed_by:h,gameType:m,raceLength:p},"g6vqrOs_Jb6LL1VCZ")}function XA({to_email:t,to_name:a,division:e,daysUntilDeadline:n,completedMatches:s,totalRequiredMatches:o,deadlineDate:l,remainingMatches:u}){if(!t||t==="undefined")return console.error("Recipient email is missing. Cannot send deadline reminder."),Promise.reject(new Error("Recipient email is missing."));const h=Math.round(s/o*100),m=n<=1?"CRITICAL":n<=3?"URGENT":n<=7?"WARNING":"REMINDER";return cy.send("service_l5q2047","template_xbpnbge",{to_email:t,to_name:a,division:e,days_until_deadline:n,completed_matches:s,total_required_matches:o,progress_percentage:h,deadline_date:l,remaining_matches:u,urgency_level:m,app_url:"https://newapp-1-ic1v.onrender.com"},"g6vqrOs_Jb6LL1VCZ")}const KA="_confirmMatchCard_7heot_7",JA="_confirmMatchTitle_7heot_31",eT="_redTitle_7heot_45",tT="_confirmMatchDetails_7heot_55",nT="_detailRow_7heot_65",aT="_proposalNote_7heot_85",rT="_noteSection_7heot_109",sT="_noteLabel_7heot_119",iT="_noteTextarea_7heot_133",oT="_confirmBtn_7heot_173",nt={confirmMatchCard:KA,confirmMatchTitle:JA,redTitle:eT,confirmMatchDetails:tT,detailRow:nT,proposalNote:aT,noteSection:rT,noteLabel:sT,noteTextarea:iT,confirmBtn:oT};function lT({text:t,query:a}){return a?t.split(new RegExp(`(${a})`,"gi")).map((n,s)=>n.toLowerCase()===a.toLowerCase()?f.createElement("mark",{key:s},n):n):f.createElement(f.Fragment,null,t)}const mt="https://atlasbackend-bnng.onrender.com";console.log("BACKEND_URL in use:",mt);console.log("Current origin:",window.location.origin);console.log("User agent:",navigator.userAgent);fetch(`${mt}/health`).then(t=>{console.log("✅ Backend health check successful:",t.status)}).catch(t=>{console.error("❌ Backend health check failed:",t)});function cT(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[o,l,u]=t.split("-"),h=new Date(parseInt(o),parseInt(l)-1,parseInt(u)),m=String(h.getMonth()+1).padStart(2,"0"),p=String(h.getDate()).padStart(2,"0"),v=h.getFullYear();return`${m}-${p}-${v}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const o=t.split("/");if(o.length===3){const[l,u,h]=o;a=new Date(h,l-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function uT(t){if(!t)return"";const[a,e]=t.split(" ");let[n,s]=a.split(":");return n==="12"&&(n="00"),e==="PM"&&n!=="00"&&(n=String(parseInt(n,10)+12)),`${n.padStart(2,"0")}:${s}`}function dT(){const[t]=mD(),[a,e]=w.useState(!1),[n,s]=w.useState(""),o=t.get("from"),l=t.get("to"),u=t.get("day"),h=t.get("date"),m=t.get("time"),p=t.get("location"),v=t.get("proposerEmail"),b=t.get("note"),S=t.get("gameType"),C=t.get("raceLength"),_=()=>{console.log("CONFIRM BUTTON CLICKED"),VA({to_email:v,to_name:o,day:u,date:h,time:m,location:p,confirmed_by:l,proposal_note:b||"",confirmation_note:n||"",gameType:S||"",raceLength:C||""}),fetch(`${mt}/api/matches`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({opponent:o?o.trim():"",player:l?l.trim():"",day:u,date:h,time:uT(m),location:p,gameType:S,raceLength:C})}).then(()=>e(!0)).catch(I=>{alert("Failed to save match to server."),console.error(I)})};return f.createElement("div",{className:nt.confirmMatchBg},f.createElement("div",{className:nt.confirmMatchCard},f.createElement("h1",{className:nt.confirmMatchTitle},"🎱 Front Range ",f.createElement("br",null),"Pool League ",f.createElement("br",null),"Confirm Match"),f.createElement("p",{className:nt.confirmMatchNotice},"You are about to confirm this match. ",f.createElement("br",null),"Your opponent will be notified by email!"),f.createElement("div",{className:nt.confirmMatchDetails},f.createElement("div",{className:nt.detailRow},f.createElement("span",{role:"img","aria-label":"you"},"🧑")," ",f.createElement("strong",null,"You:")," ",l||"N/A"),f.createElement("div",{className:nt.detailRow},f.createElement("span",{role:"img","aria-label":"opponent"},"🤝")," ",f.createElement("strong",null,"Opponent:")," ",o||"N/A"),f.createElement("div",{className:nt.detailRow},f.createElement("span",{role:"img","aria-label":"calendar"},"📅")," ",f.createElement("strong",null,"Day:")," ",u||"N/A"),f.createElement("div",{className:nt.detailRow},f.createElement("span",{role:"img","aria-label":"date"},"🗓️")," ",f.createElement("strong",null,"Date:")," ",cT(h)),f.createElement("div",{className:nt.detailRow},f.createElement("span",{role:"img","aria-label":"clock"},"⏰")," ",f.createElement("strong",null,"Time:")," ",m||"N/A"),S&&f.createElement("div",{className:nt.detailRow},f.createElement(Kf,{gameType:S,size:16})," ",f.createElement("strong",null,"Game Type:")," ",S),C&&f.createElement("div",{className:nt.detailRow},f.createElement("span",{role:"img","aria-label":"race"},"🏁")," ",f.createElement("strong",null,"Race to:")," ",C),f.createElement("div",{className:nt.detailRow},f.createElement("span",{role:"img","aria-label":"location"},"📍")," ",f.createElement("strong",null,"Location:")," ",p||"N/A")),b&&f.createElement("div",{className:nt.proposalNote},f.createElement("span",{role:"img","aria-label":"note"},"📝")," ",f.createElement("strong",null,"Note from opponent:"),f.createElement("br",null),b),f.createElement("div",{className:nt.noteSection},f.createElement("label",{htmlFor:"note",className:nt.noteLabel},"📝 Add a note (optional):"),f.createElement("textarea",{id:"note",value:n,onChange:E=>s(E.target.value),rows:3,placeholder:"Write a message to your opponent…",className:nt.noteTextarea})),f.createElement("button",{className:nt.confirmBtn,onMouseDown:E=>E.currentTarget.style.transform="scale(0.97)",onMouseUp:E=>E.currentTarget.style.transform="scale(1)",onMouseLeave:E=>E.currentTarget.style.transform="scale(1)",onClick:_},"✅ Confirm Match"),f.createElement(tS,{open:a,message:"Match confirmed! The opponent has been notified.",proposalNote:b,confirmationNote:n,gameType:S,raceLength:C,day:u,date:h,time:m,location:p,onClose:()=>e(!1)})))}const fT="_dashboardBg_qf0lz_18",hT="_dashboardFrame_qf0lz_36",mT="_dashboardCard_qf0lz_52",pT="_dashboardTitle_qf0lz_82",gT="_dashboardUserName_qf0lz_90",yT="_dashboardSection_qf0lz_100",vT="_dashboardSectionBox_qf0lz_111",bT="_dashboardSectionTitle_qf0lz_123",wT="_matchesSection_qf0lz_140",CT="_dashboardList_qf0lz_152",ST="_matchCard_qf0lz_163",_T="_matchCardButton_qf0lz_186",ET="_matchCardOpponentLabel_qf0lz_212",xT="_matchCardOpponentName_qf0lz_213",IT="_matchCardDetail_qf0lz_214",DT="_dashboardBtn_qf0lz_266",MT="_errorBox_qf0lz_299",AT="_dashboardAdminBtn_qf0lz_309",TT="_dashboardLogoutBtn_qf0lz_327",NT="_dashboardNoteItem_qf0lz_346",RT="_simulationContainer_qf0lz_365",kT="_modalOverlay_qf0lz_386",LT="_newsUpdatesHeader_qf0lz_734",PT="_modalDetailRowSnazzy_qf0lz_837",OT="_proposalModalContent_qf0lz_874",BT="_matchCardContentWrapper_qf0lz_1073",UT="_matchCardDoneBtn_qf0lz_1080",zT="_inputField_qf0lz_1182",HT="_proposalModalHeaderBar_qf0lz_1206",YT="_phasePill_qf0lz_1215",FT="_divisionPill_qf0lz_1225",jT="_proposalModalToRow_qf0lz_1233",WT="_toOpponentLabel_qf0lz_1240",GT="_toOpponentName_qf0lz_1246",ZT="_proposalModalDayRow_qf0lz_1251",$T="_dayLabel_qf0lz_1258",qT="_dayValue_qf0lz_1264",QT="_proposalModalFieldRow_qf0lz_1269",VT="_fieldLabel_qf0lz_1274",XT="_proposalModalButtonRow_qf0lz_1296",KT="_poolTableContainer_qf0lz_1749",ve={dashboardBg:fT,dashboardFrame:hT,dashboardCard:mT,dashboardTitle:pT,dashboardUserName:gT,dashboardSection:yT,dashboardSectionBox:vT,dashboardSectionTitle:bT,matchesSection:wT,dashboardList:CT,matchCard:ST,matchCardButton:_T,matchCardOpponentLabel:ET,matchCardOpponentName:xT,matchCardDetail:IT,dashboardBtn:DT,errorBox:MT,dashboardAdminBtn:AT,dashboardLogoutBtn:TT,dashboardNoteItem:NT,simulationContainer:RT,modalOverlay:kT,newsUpdatesHeader:LT,modalDetailRowSnazzy:PT,proposalModalContent:OT,matchCardContentWrapper:BT,matchCardDoneBtn:UT,inputField:zT,proposalModalHeaderBar:HT,phasePill:YT,divisionPill:FT,proposalModalToRow:jT,toOpponentLabel:WT,toOpponentName:GT,proposalModalDayRow:ZT,dayLabel:$T,dayValue:qT,proposalModalFieldRow:QT,fieldLabel:VT,proposalModalButtonRow:XT,poolTableContainer:KT},th=""+new URL("tenball-I4UPjCSs.svg",import.meta.url).href,SS=""+new URL("PredatorTable-CE1I7Bce.png",import.meta.url).href,_S=""+new URL("nineball-5ZBjRXm5.svg",import.meta.url).href,rf=""+new URL("8ball-COe24mO4.svg",import.meta.url).href,ES="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3c!--%20Main%20ball%20gradient%20with%20realistic%20lighting%20--%3e%3cradialGradient%20id='cueMain'%20cx='25%25'%20cy='25%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%23ffffff'/%3e%3cstop%20offset='30%25'%20stop-color='%23f5f5f5'/%3e%3cstop%20offset='60%25'%20stop-color='%23e8e8e8'/%3e%3cstop%20offset='100%25'%20stop-color='%23d0d0d0'/%3e%3c/radialGradient%3e%3c!--%20Secondary%20highlight%20for%20depth%20--%3e%3cradialGradient%20id='cueHighlight'%20cx='20%25'%20cy='20%25'%20r='40%25'%3e%3cstop%20offset='0%25'%20stop-color='%23ffffff'%20stop-opacity='0.9'/%3e%3cstop%20offset='60%25'%20stop-color='%23ffffff'%20stop-opacity='0.3'/%3e%3cstop%20offset='100%25'%20stop-color='%23ffffff'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3c!--%20Specular%20highlight%20--%3e%3cradialGradient%20id='cueSpecular'%20cx='35%25'%20cy='35%25'%20r='15%25'%3e%3cstop%20offset='0%25'%20stop-color='%23ffffff'/%3e%3cstop%20offset='100%25'%20stop-color='%23ffffff'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3c!--%20Shadow%20gradient%20--%3e%3cradialGradient%20id='cueShadow'%20cx='75%25'%20cy='75%25'%20r='25%25'%3e%3cstop%20offset='0%25'%20stop-color='%23000000'%20stop-opacity='0.2'/%3e%3cstop%20offset='100%25'%20stop-color='%23000000'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3c/defs%3e%3c!--%20Main%20ball%20--%3e%3ccircle%20cx='8'%20cy='8'%20r='7.5'%20fill='url(%23cueMain)'%20stroke='%23c0c0c0'%20stroke-width='0.3'/%3e%3c!--%20Primary%20highlight%20--%3e%3ccircle%20cx='6'%20cy='6'%20r='2.5'%20fill='url(%23cueHighlight)'/%3e%3c!--%20Specular%20highlight%20--%3e%3ccircle%20cx='7'%20cy='7'%20r='1.2'%20fill='url(%23cueSpecular)'/%3e%3c!--%20Subtle%20shadow%20for%20depth%20--%3e%3ccircle%20cx='9'%20cy='9'%20r='7.5'%20fill='url(%23cueShadow)'/%3e%3c/svg%3e",JT="_pinLoginBg_1hrzk_8",eN="_pinLoginFrame_1hrzk_21",tN="_pinLoginCard_1hrzk_43",nN="_simulationContainer_1hrzk_67",aN="_pinLoginSubtitle_1hrzk_111",rN="_pinLoginLock_1hrzk_118",sN="_pinInput_1hrzk_124",iN="_pinLoginBtn_1hrzk_148",oN="_signupBtn_1hrzk_174",lN="_pinLoginError_1hrzk_200",cN="_pinBallImg_1hrzk_212",Qa={pinLoginBg:JT,pinLoginFrame:eN,pinLoginCard:tN,simulationContainer:nN,pinLoginSubtitle:aN,pinLoginLock:rN,pinInput:sN,pinLoginBtn:iN,signupBtn:oN,pinLoginError:lN,pinBallImg:cN},py=""+new URL("logo-CyezyYO7.png",import.meta.url).href,uN=[{key:"cue",src:ES,alt:"Cue Ball"},{key:"8",src:rf,alt:"8 Ball"},{key:"9",src:_S,alt:"9 Ball"},{key:"10",src:th,alt:"10 Ball"}],xS=600,IS=300,zt=15,Ga=zt/2;function dN(t,a,e,n=1){const s=e*n,o=a.x-t.x,l=a.y-t.y,u=Math.sqrt(o*o+l*l);if(u===0||u>=s)return;const h=s-u+.01,m=o/u,p=l/u;t.x-=m*(h/2),t.y-=p*(h/2),a.x+=m*(h/2),a.y+=p*(h/2);const v=t.vx-a.vx,b=t.vy-a.vy,C=-(v*m+b*p)||.01;t.vx+=C*m,t.vy+=C*p,a.vx-=C*m,a.vy-=C*p,t.isMoving=!0,a.isMoving=!0}function fN(t=xS,a=IS,e=1){const n=t/e,s=a/e;return[{x:0,y:0},{x:n,y:0},{x:0,y:s},{x:n,y:s},{x:n/2,y:0},{x:n/2,y:s}]}function sf(){const t=w.useRef(null),a=w.useRef(null),e=w.useRef({cue:f.createRef(),8:f.createRef(),9:f.createRef(),10:f.createRef()}),n=w.useRef({}),s=w.useRef({}),o=w.useRef(null),l=w.useRef(null),u=w.useRef(0),h=w.useRef(1),[m,p]=w.useState(!1);function v(){Object.keys(n.current).forEach(I=>{s.current[I]={x:n.current[I].x,y:n.current[I].y}})}function b(){const I=t.current;if(!I)return;const A=I.offsetWidth,M=I.offsetHeight,k=A/h.current,L=M/h.current,U=k*.25,F=L/2,z=zt*.87,q=zt*.5;function te(){return(Math.random()-.5)*1}n.current={8:{ref:e.current[8],x:U+te(),y:F+te(),vx:0,vy:0,isMoving:!1,visible:!0},9:{ref:e.current[9],x:U-z+te(),y:F-q+te(),vx:0,vy:0,isMoving:!1,visible:!0},10:{ref:e.current[10],x:U-z+te(),y:F+q+te(),vx:0,vy:0,isMoving:!1,visible:!0},cue:{ref:e.current.cue,x:k*.85,y:L/2,vx:0,vy:0,isMoving:!1,visible:!0}},Object.values(n.current).forEach(ge=>{ge.ref.current&&(ge.ref.current.style.opacity=1)}),v()}function S(){b(),u.current=0,setTimeout(()=>{C()},1e3)}w.useEffect(()=>{if(t.current&&!m){const I=t.current,A=I.offsetWidth,M=I.offsetHeight;if(A<400||M<200)h.current=.55;else{const k=A/xS,L=M/IS;h.current=Math.min(k,L)}b(),setTimeout(()=>{C()},1e3),p(!0)}return()=>{cancelAnimationFrame(o.current),clearTimeout(l.current)}},[m]);function C(){if(!n.current.cue||n.current.cue.isMoving)return;const I=n.current.cue;if(u.current+=1,u.current===1){n.current[8];const A=n.current[9],M=t.current;if(!M)return;const k=M.offsetWidth,L=M.offsetHeight,U=k/h.current,F=L/h.current,z=U*.85,q=F*.5;I.x=z,I.y=q;const te=A.x+(Math.random()-.5)*zt*.3,ge=A.y+(Math.random()-.5)*zt*.3,le=te-I.x,re=ge-I.y,ee=Math.atan2(re,le)+(Math.random()-.5)*(Math.PI/45),j=18+Math.random()*3;I.vx=Math.cos(ee)*j,I.vy=Math.sin(ee)*j,I.isMoving=!0,E();return}_()}function _(){var j;const I=["8","9","10"],A=I.find(D=>{var H;return(H=n.current[D])==null?void 0:H.visible});if(!A)return;const M=n.current.cue,k=n.current[A],L=t.current;if(!L)return;const U=L.offsetWidth,F=L.offsetHeight;U/h.current,F/h.current;const z=fN(U,F,h.current);let q=null,te=1/0;for(const D of z){D.x-k.x,D.y-k.y;let H=D.x,V=D.y;const W=H-k.x,R=V-k.y,B=Math.hypot(W,R),Z=k.x-W/B*zt,K=k.y-R/B*zt;let se=!0;for(const we of I)if(we!==A&&(j=n.current[we])!=null&&j.visible){const Oe=n.current[we];if(Math.abs((K-M.y)*Oe.x-(Z-M.x)*Oe.y+Z*M.y-K*M.x)/Math.hypot(Z-M.x,K-M.y)<zt*.6){se=!1;break}}if(!se)continue;const Ie=Math.hypot(M.x-Z,M.y-K),$=Math.hypot(k.x-D.x,k.y-D.y);let Ce=Ie*.05;Ce+=$*.02,Ie<zt*3?Ce*=.01:Ie<zt*6?Ce*=.1:Ie<zt*10&&(Ce*=.3);const de=I.find(we=>{var Oe;return we!==A&&((Oe=n.current[we])==null?void 0:Oe.visible)});if(de){const we=n.current[de],Oe=Z+(Z-M.x)*.3,We=K+(K-M.y)*.3;Math.hypot(Oe-we.x,We-we.y)<zt*8&&(Ce*=.5)}Ce+=Math.random()*.2,Ce<te&&(te=Ce,q={ghostX:Z,ghostY:K,targetToPocket:$,cueToGhost:Ie,pocket:D})}if(!q){const D=Math.atan2(k.y-M.y,k.x-M.x),H=Math.hypot(k.x-M.x,k.y-M.y);q={ghostX:M.x+Math.cos(D)*H*.7,ghostY:M.y+Math.sin(D)*H*.7,targetToPocket:1e3,cueToGhost:H}}const ge=q.ghostX-M.x,le=q.ghostY-M.y,re=Math.hypot(ge,le);let ee;re<zt*2?ee=3:re<zt*4?ee=4:re<zt*8?ee=5:re<zt*12?ee=6:ee=7,q.targetToPocket>zt*6&&(ee+=1),ee+=(Math.random()-.5)*.3,ee=Math.max(2,Math.min(8,ee)),M.vx=ge/re*ee,M.vy=le/re*ee,M.isMoving=!0,E()}function E(){const M=t.current;if(!M)return;const k=M.offsetWidth,L=M.offsetHeight,U=Ga*3.5,F=Ga*4.5,z=U,q=k/h.current-F,te=U,ge=L/h.current-U;function le(){for(let re=0;re<16;re++){Object.entries(n.current).forEach(([j,D])=>{if(!D.visible)return;let H=D.x+D.vx/16,V=D.y+D.vy/16;const W=t.current;if(W){const R=W.offsetWidth,B=W.offsetHeight,Z=R/h.current,K=B/h.current;[{x:0,y:0},{x:Z,y:0},{x:0,y:K},{x:Z,y:K},{x:Z/2,y:0},{x:Z/2,y:K}].some($=>Math.hypot(H-$.x,V-$.y)<zt*4)?(console.log(`Ball ${j} pocketed! Position: (${H.toFixed(1)}, ${V.toFixed(1)})`),D.isMoving=!1,D.visible=!1,D.ref.current&&(D.ref.current.style.opacity=0)):(H<z+Ga?(D.x=z+Ga,D.vx=Math.abs(D.vx)*.75):H>q-Ga?(D.x=q-Ga,D.vx=-Math.abs(D.vx)*.75):D.x=H,V<te+Ga?(D.y=te+Ga,D.vy=Math.abs(D.vy)*.75):V>ge-Ga?(D.y=ge-Ga,D.vy=-Math.abs(D.vy)*.75):D.y=V,D.vx*=Math.pow(.99,1/16),D.vy*=Math.pow(.99,1/16))}D.isMoving&&Math.abs(D.vx)<.03&&Math.abs(D.vy)<.03&&(D.vx=0,D.vy=0,D.isMoving=!1)});const ee=Object.keys(n.current);for(let j=0;j<ee.length;j++)for(let D=j+1;D<ee.length;D++){const H=n.current[ee[j]],V=n.current[ee[D]];!H.visible||!V.visible||dN(H,V,zt,h.current)}}if(Object.entries(n.current).forEach(([re,ee])=>{if(ee.ref.current&&ee.visible){const j=ee.x*h.current-Ga*h.current,D=ee.y*h.current-Ga*h.current,H=zt*h.current,V=k-H,W=L-H;ee.ref.current.style.left=Math.max(0,Math.min(j,V))+"px",ee.ref.current.style.top=Math.max(0,Math.min(D,W))+"px",ee.ref.current.style.width=H+"px",ee.ref.current.style.height=H+"px",ee.ref.current.style.opacity=1}}),!n.current.cue.visible){if(Object.values(n.current).some(W=>W.isMoving)){o.current=requestAnimationFrame(le);return}const re=t.current;if(!re)return;const ee=re.offsetWidth,j=re.offsetHeight,D=ee/h.current,H=j/h.current,V=["8","9","10"].filter(W=>{var R;return(R=n.current[W])==null?void 0:R.visible});if(V.length>0){const W=V[0],R=n.current[W],B=(Math.random()-.5)*zt*2,Z=(Math.random()-.5)*zt*2;n.current.cue.x=R.x+B,n.current.cue.y=R.y+Z}else n.current.cue.x=D*.5,n.current.cue.y=H*.5;n.current.cue.vx=0,n.current.cue.vy=0,n.current.cue.isMoving=!1,n.current.cue.visible=!0,n.current.cue.ref.current&&(n.current.cue.ref.current.style.opacity=1),setTimeout(()=>{_()},1500);return}if(!n.current[10].visible){setTimeout(()=>{S()},1200);return}Object.values(n.current).some(re=>re.isMoving)?o.current=requestAnimationFrame(le):l.current||(l.current=setTimeout(()=>{l.current=null,_()},2e3))}o.current=requestAnimationFrame(le)}return f.createElement("div",{ref:t,"data-pool-container":!0,style:{width:"100%",height:"100%",position:"relative",background:"linear-gradient(180deg, #1a1a1a 0%, #000000 100%)",zIndex:0,boxShadow:"inset 0 0 50px rgba(0,0,0,0.8)"}},f.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(ellipse 1200px 800px at center 60px, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.04) 20%, rgba(255,255,255,0.02) 40%, rgba(255,255,255,0.01) 60%, transparent 80%)",zIndex:3,pointerEvents:"none"}}),f.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(circle 800px at center 40px, rgba(255,255,255,0.02) 0%, transparent 70%)",zIndex:3,pointerEvents:"none"}}),f.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(circle 800px at center 40px, rgba(255,255,255,0.02) 0%, transparent 70%)",zIndex:3,pointerEvents:"none"}}),f.createElement("img",{ref:a,src:SS,alt:"Pool Table",style:{width:"100%",height:"100%",display:"block",objectFit:"fill",position:"absolute",top:1,left:0,zIndex:1,pointerEvents:"none",opacity:1,filter:"opacity(1) contrast(1.3) brightness(1.25) saturate(1.1)",boxShadow:"inset 0 0 30px rgba(0,0,0,0.3)"}}),f.createElement("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",userSelect:"none",zIndex:2}},f.createElement("img",{src:py,alt:"League Logo",style:{position:"absolute",left:"50%",top:"50%",width:"30.5%",height:"auto",transform:"translate(-50%, -50%)",objectFit:"contain",zIndex:2,opacity:.25,filter:"drop-shadow(0 1px 4px rgba(0,0,0,0.3))",pointerEvents:"none",userSelect:"none"}})),uN.map(I=>{var A,M;return f.createElement(f.Fragment,{key:I.key},f.createElement("img",{src:I.src,alt:I.alt,ref:e.current[I.key],className:Qa.pinBallImg,style:{position:"absolute",left:0,top:0,width:zt,height:zt,zIndex:10,opacity:((A=n.current[I.key])==null?void 0:A.visible)===!1?0:1,transition:"none",pointerEvents:"none",filter:"opacity(1) contrast(1.3) brightness(1.2) saturate(1.1) drop-shadow(0 2px 4px rgba(0,0,0,0.3))",borderRadius:"50%"}}),f.createElement("div",{style:{position:"absolute",left:3,top:3,width:zt-6,height:zt-6,borderRadius:"50%",background:"radial-gradient(ellipse 8px 4px at 30% 30%, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0.1) 50%, transparent 100%)",zIndex:11,opacity:((M=n.current[I.key])==null?void 0:M.visible)===!1?0:.8,pointerEvents:"none"}}))}))}function DS({aspectWidth:t,aspectHeight:a,children:e}){const n=w.useRef(null),[s,o]=w.useState(1);return w.useLayoutEffect(()=>{function l(){if(!n.current)return;const{width:h,height:m}=n.current.getBoundingClientRect();o(Math.min(h/t,m/a))}l();const u=new window.ResizeObserver(l);return u.observe(n.current),()=>u.disconnect()},[t,a]),f.createElement("div",{ref:n,style:{width:"100%",height:"100%",position:"relative",overflow:"visible"}},f.createElement("div",{style:{width:t,height:a,transform:`scale(${s})`,transformOrigin:"top left",position:"absolute",top:0,left:0}},e))}function hN({open:t,onClose:a,standingsUrl:e}){const[n,s]=w.useState(!0);return t?f.createElement(zn,{open:t,onClose:a,title:"📊 League Standings",maxWidth:"90vw",className:"standings-modal"},f.createElement("div",{style:{height:"70vh",width:"100%",position:"relative"}},n&&f.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:10,color:"#e53e3e",fontSize:"1.2rem",fontWeight:"bold"}},"Loading standings..."),f.createElement("iframe",{src:e,style:{width:"100%",height:"100%",border:"none",borderRadius:"8px",background:"#fff"},title:"League Standings",onLoad:()=>s(!1)})),f.createElement("div",{style:{marginTop:"1rem",textAlign:"center",color:"#888",fontSize:"0.9rem"}},"Front Range Pool League")):null}const mN="_modalOverlay_1l7ua_7",pN="_modalContentSnazzy_1l7ua_33",gN="_modalHeaderSnazzy_1l7ua_69",yN="_modalAccentBar_1l7ua_89",vN="_modalTitleSnazzy_1l7ua_107",bN="_modalCloseBtnSnazzy_1l7ua_131",wN="_modalDetailsSnazzy_1l7ua_173",CN="_modalDetailRowSnazzy_1l7ua_189",SN="_modalDetailIcon_1l7ua_217",_N="_modalDetailLabelSnazzy_1l7ua_229",EN="_modalDetailValueSnazzy_1l7ua_243",xN="_modalOpponentName_1l7ua_263",IN="_modalVs_1l7ua_277",DN="_gameTypeIcon_1l7ua_293",MN="_modalActionBtn_1l7ua_397",tt={modalOverlay:mN,modalContentSnazzy:pN,modalHeaderSnazzy:gN,modalAccentBar:yN,modalTitleSnazzy:vN,modalCloseBtnSnazzy:bN,modalDetailsSnazzy:wN,modalDetailRowSnazzy:CN,modalDetailIcon:SN,modalDetailLabelSnazzy:_N,modalDetailValueSnazzy:EN,modalOpponentName:xN,modalVs:IN,gameTypeIcon:DN,modalActionBtn:MN},Fw=""+new URL("ball9-U9rUK9VA.jpg",import.meta.url).href,jw=""+new URL("ball10-pPX9kWaM.jpg",import.meta.url).href;function gy({open:t,onClose:a,player1:e,player2:n,onSelect:s}){return t?f.createElement(zn,{open:t,onClose:a,title:"Who won?",maxWidth:"340px"},f.createElement("div",{style:{textAlign:"center",marginBottom:18,color:"#fff",fontSize:"1.1em"}},"Please select the winner:"),f.createElement("div",{style:{display:"flex",flexDirection:"column",gap:16,alignItems:"center"}},f.createElement("button",{style:{background:"#23232a",color:"#28a745",border:"2px solid #28a745",borderRadius:8,padding:"0.7rem 1.5rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",minWidth:"160px"},onClick:()=>s(e)},e),f.createElement("button",{style:{background:"#23232a",color:"#e53e3e",border:"2px solid #e53e3e",borderRadius:8,padding:"0.7rem 1.5rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",minWidth:"160px"},onClick:()=>s(n)},n)),f.createElement("button",{style:{marginTop:24,background:"#6c757d",color:"#fff",border:"none",borderRadius:"6px",padding:"0.7rem 1.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",minWidth:"120px",display:"block",marginLeft:"auto",marginRight:"auto"},onClick:a},"Cancel")):null}const AN=mt;class Kt{static async request(a,e={}){const n=`${AN}${a}`,s={headers:{"Content-Type":"application/json",Accept:"application/json",...e.headers},signal:AbortSignal.timeout(3e4),credentials:"include",mode:"cors",...e},o=3;let l;for(let u=1;u<=o;u++)try{console.log(`API Request (attempt ${u}): ${n}`);const h=await fetch(n,s);if(!h.ok)throw new Error(`API Error: ${h.status} - ${h.statusText}`);const m=await h.json();return console.log(`API Success: ${n}`),m}catch(h){if(l=h,console.warn(`API Request failed (attempt ${u}/${o}): ${n}`,h),h.message.includes("400")||h.message.includes("401")||h.message.includes("403")||h.message.includes("404"))break;if(u<o){const m=Math.min(1e3*Math.pow(2,u-1),5e3);await new Promise(p=>setTimeout(p,m))}}throw console.error(`API Request failed after ${o} attempts: ${n}`,l),l}static get(a){return this.request(a)}static post(a,e){return this.request(a,{method:"POST",body:JSON.stringify(e)})}static patch(a,e){return this.request(a,{method:"PATCH",body:JSON.stringify(e)})}static delete(a){return this.request(a,{method:"DELETE"})}static async testConnection(){try{const a=await this.get("/health");return console.log("Backend connection test successful:",a),!0}catch(a){return console.error("Backend connection test failed:",a),!1}}}const ui={async getPendingProposals(t,a){return Kt.get(`/api/proposals/by-name?receiverName=${encodeURIComponent(t)}&division=${encodeURIComponent(a)}`)},async getSentProposals(t,a){return Kt.get(`/api/proposals/by-sender?senderName=${encodeURIComponent(t)}&division=${encodeURIComponent(a)}`)},async updateProposalStatus(t,a,e){return Kt.patch(`/api/proposals/${t}/status`,{status:a,note:e})},async createProposal(t){return Kt.post("/api/proposals",t)},async counterProposal(t,a){return Kt.patch(`/api/proposals/${t}/counter`,a)},async markCompleted(t,a,e,n){return Kt.patch(`/api/matches/completed/${t}`,{winner:a,markedByName:e,markedByEmail:n})},async cancelProposal(t){return Kt.post(`/api/proposals/${t}/cancel`)}};function TN(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[o,l,u]=t.split("-"),h=new Date(parseInt(o),parseInt(l)-1,parseInt(u)),m=String(h.getMonth()+1).padStart(2,"0"),p=String(h.getDate()).padStart(2,"0"),v=h.getFullYear();return`${m}-${p}-${v}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const o=t.split("/");if(o.length===3){const[l,u,h]=o;a=new Date(h,l-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function NN({open:t,onClose:a,match:e,onCompleted:n,userPin:s,onMatchUpdated:o,senderName:l,senderEmail:u}){const[h,m]=w.useState({x:0,y:0}),[p,v]=w.useState(!1),b=w.useRef({x:0,y:0}),S=re=>{v(!0),b.current={x:re.clientX-h.x,y:re.clientY-h.y},document.body.style.userSelect="none"},C=re=>{p&&m({x:re.clientX-b.current.x,y:re.clientY-b.current.y})},_=()=>{v(!1),document.body.style.userSelect=""};w.useEffect(()=>(p?(window.addEventListener("mousemove",C),window.addEventListener("mouseup",_)):(window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",_)),()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",_)}),[p]);const[E,I]=w.useState(!1),[A,M]=w.useState(!1),[k,L]=w.useState({player1:"",player2:""}),[U,F]=w.useState(e);w.useEffect(()=>{F(e)},[e]);const z=()=>{let re=e.player||e.senderName,ee=e.opponent||e.receiverName;L({player1:re,player2:ee}),M(!0)},q=async re=>{M(!1),I(!0);const ee=l&&l.trim()?l:U.player||U.senderName||"Unknown",j=u&&u.trim()?u:U.senderEmail||"unknown@example.com";console.log("Marking winner with:",{winner:re,markedByName:ee,markedByEmail:j});try{const D=await ui.markCompleted(U._id,re,ee,j);D&&D.proposal?(F(D.proposal),o&&o(D.proposal)):(F({...U,winner:re}),o&&o({...U,winner:re})),n&&n(U._id)}catch{alert("Failed to mark as completed.")}I(!1)};if(!t||!U)return null;let te=new Date,ge="",le="";if(U.date&&U.time){const[re,ee,j]=U.date.split("-"),D=`${re}-${ee.padStart(2,"0")}-${j.padStart(2,"0")}`;let H=U.time.trim().toUpperCase(),[V,W]=H.split(" "),[R,B]=V.split(":").map(Number);W==="PM"&&R<12&&(R+=12),W==="AM"&&R===12&&(R=0);const Z=R.toString().padStart(2,"0"),K=(B||0).toString().padStart(2,"0"),se=`${Z}:${K}`;te=new Date(`${D}T${se}:00`),ge=TN(U.date),le=te.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"})}return f.createElement("div",{className:tt.modalOverlay,onClick:a},f.createElement("div",{className:tt.modalContentSnazzy,style:{transform:`translate(${h.x}px, ${h.y}px)`,cursor:p?"grabbing":"default"},onClick:re=>re.stopPropagation(),role:"dialog","aria-modal":"true","aria-label":"Match Details",tabIndex:-1},f.createElement("button",{className:tt.modalCloseBtnSnazzy,onClick:a,"aria-label":"Close"},"×"),f.createElement("div",{className:tt.modalHeaderSnazzy,onMouseDown:S,style:{cursor:"grab",userSelect:"none"}},f.createElement("span",{className:tt.modalAccentBar}),f.createElement("h2",{className:tt.modalTitleSnazzy},"🎱 Match Details")),f.createElement("div",{className:tt.modalDetailsSnazzy},f.createElement("div",{className:tt.modalDetailRowSnazzy},f.createElement("span",{className:tt.modalDetailIcon},"🤝"),f.createElement("span",{className:tt.modalDetailLabelSnazzy},"Players:"),f.createElement("span",{className:tt.modalDetailValueSnazzy},f.createElement("span",{className:tt.modalOpponentName},U.player||U.senderName),f.createElement("span",{className:tt.modalVs},"vs"),f.createElement("span",{className:tt.modalOpponentName},U.opponent||U.receiverName))),f.createElement("div",{className:tt.modalDetailRowSnazzy},f.createElement("span",{className:tt.modalDetailIcon},"📅"),f.createElement("span",{className:tt.modalDetailLabelSnazzy},"Date:"),f.createElement("span",{className:tt.modalDetailValueSnazzy},ge)),f.createElement("div",{className:tt.modalDetailRowSnazzy},f.createElement("span",{className:tt.modalDetailIcon},"⏰"),f.createElement("span",{className:tt.modalDetailLabelSnazzy},"Time:"),f.createElement("span",{className:tt.modalDetailValueSnazzy},le)),f.createElement("div",{className:tt.modalDetailRowSnazzy},f.createElement("span",{className:tt.modalDetailIcon},"��"),f.createElement("span",{className:tt.modalDetailLabelSnazzy},"Location:"),f.createElement("span",{className:tt.modalDetailValueSnazzy},U.location)),U.gameType&&f.createElement("div",{className:tt.modalDetailRowSnazzy},RN(U.gameType),f.createElement("span",{className:tt.modalDetailLabelSnazzy},"Game Type:"),f.createElement("span",{className:tt.modalDetailValueSnazzy},U.gameType)),U.raceLength&&f.createElement("div",{className:tt.modalDetailRowSnazzy},f.createElement("span",{className:tt.modalDetailIcon},"🏁"),f.createElement("span",{className:tt.modalDetailLabelSnazzy},"Race to:"),f.createElement("span",{className:tt.modalDetailValueSnazzy},U.raceLength)),U.winner&&f.createElement("div",{style:{color:"#ffd700",fontWeight:700,marginTop:6,fontSize:"1em"}},"🏆 Winner: ",U.winner,s==="777777"&&U.winnerChangedByName&&f.createElement("span",{style:{color:"#aaa",fontWeight:400,fontSize:"0.95em",marginLeft:8}},"(marked by ",U.winnerChangedByName,U.winnerChangedAt?` on ${new Date(U.winnerChangedAt).toLocaleString()}`:"",")"))),!U.completed&&f.createElement(f.Fragment,null,f.createElement("button",{className:tt.modalActionBtn,onClick:z,disabled:E,style:{marginTop:16,minWidth:180},type:"button"},E?"Marking...":"Mark as Completed"),f.createElement(gy,{open:A,onClose:()=>M(!1),player1:k.player1,player2:k.player2,onSelect:q}))))}function RN(t){if(!t)return f.createElement("span",{className:tt.modalDetailIcon},"🎯");const a=t.trim().toLowerCase();return a==="8 ball"||a==="8-ball"||a==="8ball"?f.createElement("img",{src:rf,alt:"8 Ball",className:tt.gameTypeIcon}):a==="9 ball"||a==="9-ball"||a==="9ball"?f.createElement("img",{src:Fw,alt:"9 Ball",className:tt.gameTypeIcon}):a==="10 ball"||a==="10-ball"||a==="10ball"?f.createElement("img",{src:jw,alt:"10 Ball",className:tt.gameTypeIcon}):a==="mixed"||a==="mixed games"?f.createElement(f.Fragment,null,f.createElement("img",{src:rf,alt:"8 Ball",className:tt.gameTypeIcon}),f.createElement("img",{src:Fw,alt:"9 Ball",className:tt.gameTypeIcon}),f.createElement("img",{src:jw,alt:"10 Ball",className:tt.gameTypeIcon})):f.createElement("span",{className:tt.modalDetailIcon},"🎯")}const kN="_proposalList_1gl2k_39",LN="_proposalCardButton_1gl2k_169",PN="_proposalCardLabel_1gl2k_211",ON="_proposalCardMessage_1gl2k_223",BN="_modalContent_1gl2k_277",UN="_confirmDialogBox_1gl2k_345",Un={proposalList:kN,proposalCardButton:LN,proposalCardLabel:PN,proposalCardMessage:ON,modalContent:BN,confirmDialogBox:UN};function Ww(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[o,l,u]=t.split("-"),h=new Date(parseInt(o),parseInt(l)-1,parseInt(u)),m=String(h.getMonth()+1).padStart(2,"0"),p=String(h.getDate()).padStart(2,"0"),v=h.getFullYear();return`${m}-${p}-${v}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const o=t.split("/");if(o.length===3){const[l,u,h]=o;a=new Date(h,l-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function zN(t){if(!t)return"N/A";if(t.includes(":")&&t.length===5){const[a,e]=t.split(":"),n=parseInt(a),s=n>=12?"PM":"AM";return`${n===0?12:n>12?n-12:n}:${e} ${s}`}return t}function Ap({proposals:t,onSelect:a,onClose:e,type:n="received",isAdmin:s=!1,senderEmail:o,senderName:l,onProposalUpdated:u}){console.log("Proposals:",t);const[h,m]=w.useState(null),[p,v]=w.useState(!1),[b,S]=w.useState(""),[C,_]=w.useState(t),[E,I]=w.useState("all"),A=t.filter(j=>j.isCounter),M=t.filter(j=>!j.isCounter),k=E==="counter"?A:M,[L,U]=w.useState(!1),[F,z]=w.useState(null),[q,te]=w.useState({player1:"",player2:""}),[ge,le]=w.useState(!1),re=async j=>{v(!0),S("");try{await ui.cancelProposal(j),_(D=>D.filter(H=>H._id!==j)),m(null)}catch{S("Failed to cancel proposal. Please try again.")}finally{v(!1)}},ee=n==="completed"?C:t;return f.createElement(zn,{open:!0,onClose:e,title:n==="completed"?"Completed Matches":n==="sent"?"Matches You Proposed":"Pending Match Proposals",maxWidth:"600px"},f.createElement("div",{className:Un.modalContent,style:{position:"relative",maxHeight:"none",overflowY:"visible"}},n!=="completed"&&f.createElement("div",{style:{display:"flex",gap:8,marginBottom:16}},f.createElement("button",{onClick:()=>I("all"),style:{background:E==="all"?"#e53e3e":"#333",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:E==="all"?"0 2px 8px #e53e3e44":"none",position:"relative"}},"All Proposals (",M.length,")",M.length>0&&f.createElement("span",{style:{background:"#fff",color:"#e53e3e",borderRadius:"50%",padding:"2px 8px",fontSize:"0.85em",fontWeight:"bold",marginLeft:8,position:"absolute",top:"-8px",right:"-12px",minWidth:24,textAlign:"center",boxShadow:"0 1px 4px #0002"}},M.length)),f.createElement("button",{onClick:()=>I("counter"),style:{background:E==="counter"?"#ff9800":"#333",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:E==="counter"?"0 2px 8px #ff980044":"none",position:"relative"}},"Counter Proposals (",A.length,")",A.length>0&&f.createElement("span",{style:{background:"#fff",color:"#ff9800",borderRadius:"50%",padding:"2px 8px",fontSize:"0.85em",fontWeight:"bold",marginLeft:8,position:"absolute",top:"-8px",right:"-12px",minWidth:24,textAlign:"center",boxShadow:"0 1px 4px #0002"}},A.length))),f.createElement("ul",{className:Un.proposalList,style:{listStyle:"none",padding:0,margin:0}},n==="completed"?ee.map(j=>f.createElement("li",{key:j._id,style:{position:"relative",marginBottom:12}},f.createElement("div",{className:Un.proposalCardButton,style:{cursor:"default",background:"#23232a",color:"#28a745",border:"2px solid #28a745",borderRadius:8,padding:"1rem",fontWeight:600}},f.createElement("div",null,f.createElement("span",{className:Un.proposalCardLabel},"Opponent:")," ",j.opponent||j.receiverName||j.senderName),f.createElement("div",null,f.createElement("span",{className:Un.proposalCardLabel},"Date:")," ",Ww(j.date),"  ",f.createElement("span",{className:Un.proposalCardLabel},"Time:")," ",j.time),f.createElement("div",null,f.createElement("span",{className:Un.proposalCardLabel},"Location:")," ",j.location),f.createElement("div",null,f.createElement("span",{className:Un.proposalCardLabel},"Game Type:")," ",j.gameType),j.winner&&f.createElement("div",{style:{color:"#ffd700",fontWeight:700,marginTop:6,fontSize:"1em"}},"🏆 Winner: ",j.winner,s&&j.winnerChangedByName&&f.createElement("span",{style:{color:"#aaa",fontWeight:400,fontSize:"0.95em",marginLeft:8}},"(marked by ",j.winnerChangedByName,j.winnerChangedAt?` on ${new Date(j.winnerChangedAt).toLocaleString()}`:"",")")),s&&f.createElement("button",{style:{marginTop:10,background:"#444",color:"#fff",border:"1px solid #ffd700",borderRadius:6,padding:"4px 12px",fontWeight:600,cursor:"pointer",fontSize:"0.95em",display:"inline-block"},disabled:ge,onClick:()=>{const D=j.player||j.senderName,H=j.opponent||j.receiverName;z(j),te({player1:D,player2:H}),U(!0)},type:"button"},ge?"Saving...":j.winner?"Edit Winner":"Set Winner")))):k.map(j=>f.createElement("li",{key:j._id,style:{position:"relative"}},f.createElement("button",{onClick:()=>a(j),className:Un.proposalCardButton},f.createElement("div",null,f.createElement("span",{className:Un.proposalCardLabel},n==="sent"?"To:":"From:"),n==="sent"?j.receiverName:j.senderName,j.isCounter&&f.createElement("span",{style:{background:"#ff9800",color:"#fff",borderRadius:"6px",padding:"2px 8px",fontSize:"0.85em",marginLeft:"8px",fontWeight:"bold",display:"inline-block"}},"Counter Proposal")),f.createElement("div",null,f.createElement("span",{className:Un.proposalCardLabel},"Date:")," ",Ww(j.date),"  ",f.createElement("span",{className:Un.proposalCardLabel},"Time:")," ",zN(j.time)),f.createElement("div",null,f.createElement("span",{className:Un.proposalCardLabel},"Location:")," ",j.location),f.createElement("div",{className:Un.proposalCardMessage},j.message),f.createElement("div",null,f.createElement("span",{className:Un.proposalCardLabel},"Status:"),f.createElement("span",{style:{color:j.status==="pending"?"#d32f2f":j.status==="countered"?"#fbc02d":"#388e3c"}},j.status))),n==="sent"&&j.status==="pending"&&f.createElement("button",{className:Un.cancelProposalBtn,style:{position:"absolute",top:10,right:10},onClick:D=>{D.stopPropagation(),m(j._id)},disabled:p},"Cancel")))),k.length===0&&f.createElement("div",{style:{color:"#ffecb3",textAlign:"center",marginTop:16}},"Nothing to see here."),h&&f.createElement("div",{className:Un.confirmDialogBox,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1001,background:"#222",color:"#fff",borderRadius:"10px",padding:"2rem 2.5rem",boxShadow:"0 4px 32px #000a",maxWidth:"90vw",minWidth:"260px",textAlign:"center",border:"2px solid #e53e3e"}},f.createElement("p",null,"Are you sure you want to cancel this proposal?"),f.createElement("button",{onClick:()=>re(h),disabled:p,style:{marginRight:12}},p?"Cancelling...":"Yes, Cancel"),f.createElement("button",{onClick:()=>m(null),disabled:p},"No, Go Back"),b&&f.createElement("div",{style:{color:"red",marginTop:8}},b))),f.createElement(gy,{open:L,onClose:()=>U(!1),player1:q.player1,player2:q.player2,onSelect:async j=>{if(F){le(!0);try{const D=await ui.markCompleted(F._id,j,l,o),H=D&&D.proposal?D.proposal:{...F,winner:j,winnerChangedByName:l,winnerChangedByEmail:o,winnerChangedAt:new Date().toISOString()};_(V=>V.map(W=>W._id===F._id?H:W)),u&&u(H),U(!1)}catch{alert("Failed to update winner.")}le(!1)}}}))}function HN(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[o,l,u]=t.split("-"),h=new Date(parseInt(o),parseInt(l)-1,parseInt(u)),m=String(h.getMonth()+1).padStart(2,"0"),p=String(h.getDate()).padStart(2,"0"),v=h.getFullYear();return`${m}-${p}-${v}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const o=t.split("/");if(o.length===3){const[l,u,h]=o;a=new Date(h,l-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function YN({proposal:t,phase:a,userNote:e,setUserNote:n,onConfirm:s,onClose:o,onCounterPropose:l,showNote:u=!0,confirmLabel:h="✅ Confirm Match",currentUserName:m,currentUserEmail:p}){if(!t)return null;const{senderName:v,receiverName:b,senderEmail:S,receiverEmail:C,day:_,date:E,time:I,location:A,gameType:M,raceLength:k,message:L,proposalNote:U}=t,F=p&&S&&p.toLowerCase()===S.toLowerCase()||m&&v&&m.toLowerCase()===v.toLowerCase();return f.createElement("div",{className:nt.confirmMatchCard},f.createElement("h1",{className:nt.confirmMatchTitle},f.createElement("span",{className:nt.redTitle},"🎱 Confirm Match")),f.createElement("div",{className:nt.confirmMatchDetails},f.createElement("div",{className:nt.detailRow},f.createElement("strong",{className:nt.redTitle},"You:")," ",b||t.to||"N/A"),f.createElement("div",{className:nt.detailRow},f.createElement("strong",{className:nt.redTitle},"Opponent:")," ",v||t.from||"N/A"),_&&f.createElement("div",{className:nt.detailRow},f.createElement("strong",{className:nt.redTitle},"Day:")," ",_),f.createElement("div",{className:nt.detailRow},f.createElement("strong",{className:nt.redTitle},"Date:")," ",HN(E)),f.createElement("div",{className:nt.detailRow},f.createElement("strong",{className:nt.redTitle},"Time:")," ",I||"N/A"),f.createElement("div",{className:nt.detailRow},f.createElement("strong",{className:nt.redTitle},"Location:")," ",A||"N/A"),M&&f.createElement("div",{className:nt.detailRow},f.createElement(Kf,{gameType:M,size:16}),f.createElement("strong",{className:nt.redTitle},"Game Type:")," ",M),k&&f.createElement("div",{className:nt.detailRow},f.createElement("strong",{className:nt.redTitle},"Race to:")," ",k),f.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:12,marginTop:18,justifyContent:"center",paddingBottom:8,width:"100%",boxSizing:"border-box"}},F?f.createElement(f.Fragment,null,f.createElement("span",{style:{color:"#888",fontWeight:500,fontSize:"1.1em"}},"You proposed this match. You can edit or message, but only your opponent can confirm/counter/cancel."),f.createElement("button",{className:nt.confirmBtn,style:{background:"#aaa",minWidth:120,marginLeft:16},onClick:o},"OK")):f.createElement(f.Fragment,null,f.createElement("button",{className:nt.confirmBtn,style:{minWidth:120},onClick:s},h),l&&f.createElement("button",{className:nt.confirmBtn,style:{background:"#fff",color:"#d32f2f",border:"1.5px solid #d32f2f",minWidth:120},onClick:l,type:"button"},"Counter-Propose"),f.createElement("button",{className:nt.confirmBtn,style:{background:"#aaa",minWidth:120},onClick:o},"Close")))))}function MS(t){var a,e,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(a=0;a<s;a++)t[a]&&(e=MS(t[a]))&&(n&&(n+=" "),n+=e)}else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Hn(){for(var t,a,e=0,n="",s=arguments.length;e<s;e++)(t=arguments[e])&&(a=MS(t))&&(n&&(n+=" "),n+=a);return n}function nh(){return typeof window<"u"}function dl(t){return AS(t)?(t.nodeName||"").toLowerCase():"#document"}function Na(t){var a;return(t==null||(a=t.ownerDocument)==null?void 0:a.defaultView)||window}function jr(t){var a;return(a=(AS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:a.documentElement}function AS(t){return nh()?t instanceof Node||t instanceof Na(t).Node:!1}function ra(t){return nh()?t instanceof Element||t instanceof Na(t).Element:!1}function Hr(t){return nh()?t instanceof HTMLElement||t instanceof Na(t).HTMLElement:!1}function Gw(t){return!nh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Na(t).ShadowRoot}function Xc(t){const{overflow:a,overflowX:e,overflowY:n,display:s}=tr(t);return/auto|scroll|overlay|hidden|clip/.test(a+n+e)&&!["inline","contents"].includes(s)}function FN(t){return["table","td","th"].includes(dl(t))}function ah(t){return[":popover-open",":modal"].some(a=>{try{return t.matches(a)}catch{return!1}})}function yy(t){const a=vy(),e=ra(t)?tr(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!a&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!a&&(e.filter?e.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(e.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(e.contain||"").includes(n))}function jN(t){let a=hi(t);for(;Hr(a)&&!el(a);){if(yy(a))return a;if(ah(a))return null;a=hi(a)}return null}function vy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function el(t){return["html","body","#document"].includes(dl(t))}function tr(t){return Na(t).getComputedStyle(t)}function rh(t){return ra(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function hi(t){if(dl(t)==="html")return t;const a=t.assignedSlot||t.parentNode||Gw(t)&&t.host||jr(t);return Gw(a)?a.host:a}function TS(t){const a=hi(t);return el(a)?t.ownerDocument?t.ownerDocument.body:t.body:Hr(a)&&Xc(a)?a:TS(a)}function Yc(t,a,e){var n;a===void 0&&(a=[]),e===void 0&&(e=!0);const s=TS(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),l=Na(s);if(o){const u=wg(l);return a.concat(l,l.visualViewport||[],Xc(s)?s:[],u&&e?Yc(u):[])}return a.concat(s,Yc(s,[],e))}function wg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const tl=Math.min,$i=Math.max,of=Math.round,hd=Math.floor,zr=t=>({x:t,y:t}),WN={left:"right",right:"left",bottom:"top",top:"bottom"},GN={start:"end",end:"start"};function ZN(t,a,e){return $i(t,tl(a,e))}function sh(t,a){return typeof t=="function"?t(a):t}function nl(t){return t.split("-")[0]}function Kc(t){return t.split("-")[1]}function $N(t){return t==="x"?"y":"x"}function by(t){return t==="y"?"height":"width"}function Zo(t){return["top","bottom"].includes(nl(t))?"y":"x"}function wy(t){return $N(Zo(t))}function qN(t,a,e){e===void 0&&(e=!1);const n=Kc(t),s=wy(t),o=by(s);let l=s==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return a.reference[o]>a.floating[o]&&(l=lf(l)),[l,lf(l)]}function QN(t){const a=lf(t);return[Cg(t),a,Cg(a)]}function Cg(t){return t.replace(/start|end/g,a=>GN[a])}function VN(t,a,e){const n=["left","right"],s=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return e?a?s:n:a?n:s;case"left":case"right":return a?o:l;default:return[]}}function XN(t,a,e,n){const s=Kc(t);let o=VN(nl(t),e==="start",n);return s&&(o=o.map(l=>l+"-"+s),a&&(o=o.concat(o.map(Cg)))),o}function lf(t){return t.replace(/left|right|bottom|top/g,a=>WN[a])}function KN(t){return{top:0,right:0,bottom:0,left:0,...t}}function NS(t){return typeof t!="number"?KN(t):{top:t,right:t,bottom:t,left:t}}function cf(t){const{x:a,y:e,width:n,height:s}=t;return{width:n,height:s,top:e,left:a,right:a+n,bottom:e+s,x:a,y:e}}var uf=typeof document<"u"?w.useLayoutEffect:w.useEffect;const JN={...BC},e3=JN.useInsertionEffect,t3=e3||(t=>t());function n3(t){const a=w.useRef(()=>{});return t3(()=>{a.current=t}),w.useCallback(function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return a.current==null?void 0:a.current(...n)},[])}var Tp={exports:{}},fc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw;function a3(){if(Zw)return fc;Zw=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function e(n,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:t,type:n,key:l,ref:s!==void 0?s:null,props:o}}return fc.Fragment=a,fc.jsx=e,fc.jsxs=e,fc}var $w;function r3(){return $w||($w=1,Tp.exports=a3()),Tp.exports}var hc=r3();function qw(t,a,e){let{reference:n,floating:s}=t;const o=Zo(a),l=wy(a),u=by(l),h=nl(a),m=o==="y",p=n.x+n.width/2-s.width/2,v=n.y+n.height/2-s.height/2,b=n[u]/2-s[u]/2;let S;switch(h){case"top":S={x:p,y:n.y-s.height};break;case"bottom":S={x:p,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y:v};break;case"left":S={x:n.x-s.width,y:v};break;default:S={x:n.x,y:n.y}}switch(Kc(a)){case"start":S[l]-=b*(e&&m?-1:1);break;case"end":S[l]+=b*(e&&m?-1:1);break}return S}const s3=async(t,a,e)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:l}=e,u=o.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(a));let m=await l.getElementRects({reference:t,floating:a,strategy:s}),{x:p,y:v}=qw(m,n,h),b=n,S={},C=0;for(let _=0;_<u.length;_++){const{name:E,fn:I}=u[_],{x:A,y:M,data:k,reset:L}=await I({x:p,y:v,initialPlacement:n,placement:b,strategy:s,middlewareData:S,rects:m,platform:l,elements:{reference:t,floating:a}});p=A??p,v=M??v,S={...S,[E]:{...S[E],...k}},L&&C<=50&&(C++,typeof L=="object"&&(L.placement&&(b=L.placement),L.rects&&(m=L.rects===!0?await l.getElementRects({reference:t,floating:a,strategy:s}):L.rects),{x:p,y:v}=qw(m,b,h)),_=-1)}return{x:p,y:v,placement:b,strategy:s,middlewareData:S}};async function i3(t,a){var e;a===void 0&&(a={});const{x:n,y:s,platform:o,rects:l,elements:u,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:p="viewport",elementContext:v="floating",altBoundary:b=!1,padding:S=0}=sh(a,t),C=NS(S),E=u[b?v==="floating"?"reference":"floating":v],I=cf(await o.getClippingRect({element:(e=await(o.isElement==null?void 0:o.isElement(E)))==null||e?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:m,rootBoundary:p,strategy:h})),A=v==="floating"?{x:n,y:s,width:l.floating.width,height:l.floating.height}:l.reference,M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),k=await(o.isElement==null?void 0:o.isElement(M))?await(o.getScale==null?void 0:o.getScale(M))||{x:1,y:1}:{x:1,y:1},L=cf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:A,offsetParent:M,strategy:h}):A);return{top:(I.top-L.top+C.top)/k.y,bottom:(L.bottom-I.bottom+C.bottom)/k.y,left:(I.left-L.left+C.left)/k.x,right:(L.right-I.right+C.right)/k.x}}const o3=t=>({name:"arrow",options:t,async fn(a){const{x:e,y:n,placement:s,rects:o,platform:l,elements:u,middlewareData:h}=a,{element:m,padding:p=0}=sh(t,a)||{};if(m==null)return{};const v=NS(p),b={x:e,y:n},S=wy(s),C=by(S),_=await l.getDimensions(m),E=S==="y",I=E?"top":"left",A=E?"bottom":"right",M=E?"clientHeight":"clientWidth",k=o.reference[C]+o.reference[S]-b[S]-o.floating[C],L=b[S]-o.reference[S],U=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let F=U?U[M]:0;(!F||!await(l.isElement==null?void 0:l.isElement(U)))&&(F=u.floating[M]||o.floating[C]);const z=k/2-L/2,q=F/2-_[C]/2-1,te=tl(v[I],q),ge=tl(v[A],q),le=te,re=F-_[C]-ge,ee=F/2-_[C]/2+z,j=ZN(le,ee,re),D=!h.arrow&&Kc(s)!=null&&ee!==j&&o.reference[C]/2-(ee<le?te:ge)-_[C]/2<0,H=D?ee<le?ee-le:ee-re:0;return{[S]:b[S]+H,data:{[S]:j,centerOffset:ee-j-H,...D&&{alignmentOffset:H}},reset:D}}}),l3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(a){var e,n;const{placement:s,middlewareData:o,rects:l,initialPlacement:u,platform:h,elements:m}=a,{mainAxis:p=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:_=!0,...E}=sh(t,a);if((e=o.arrow)!=null&&e.alignmentOffset)return{};const I=nl(s),A=Zo(u),M=nl(u)===u,k=await(h.isRTL==null?void 0:h.isRTL(m.floating)),L=b||(M||!_?[lf(u)]:QN(u)),U=C!=="none";!b&&U&&L.push(...XN(u,_,C,k));const F=[u,...L],z=await i3(a,E),q=[];let te=((n=o.flip)==null?void 0:n.overflows)||[];if(p&&q.push(z[I]),v){const j=qN(s,l,k);q.push(z[j[0]],z[j[1]])}if(te=[...te,{placement:s,overflows:q}],!q.every(j=>j<=0)){var ge,le;const j=(((ge=o.flip)==null?void 0:ge.index)||0)+1,D=F[j];if(D){var re;const V=v==="alignment"?A!==Zo(D):!1,W=((re=te[0])==null?void 0:re.overflows[0])>0;if(!V||W)return{data:{index:j,overflows:te},reset:{placement:D}}}let H=(le=te.filter(V=>V.overflows[0]<=0).sort((V,W)=>V.overflows[1]-W.overflows[1])[0])==null?void 0:le.placement;if(!H)switch(S){case"bestFit":{var ee;const V=(ee=te.filter(W=>{if(U){const R=Zo(W.placement);return R===A||R==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(R=>R>0).reduce((R,B)=>R+B,0)]).sort((W,R)=>W[1]-R[1])[0])==null?void 0:ee[0];V&&(H=V);break}case"initialPlacement":H=u;break}if(s!==H)return{reset:{placement:H}}}return{}}}};async function c3(t,a){const{placement:e,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),l=nl(e),u=Kc(e),h=Zo(e)==="y",m=["left","top"].includes(l)?-1:1,p=o&&h?-1:1,v=sh(a,t);let{mainAxis:b,crossAxis:S,alignmentAxis:C}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof C=="number"&&(S=u==="end"?C*-1:C),h?{x:S*p,y:b*m}:{x:b*m,y:S*p}}const u3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(a){var e,n;const{x:s,y:o,placement:l,middlewareData:u}=a,h=await c3(a,t);return l===((e=u.offset)==null?void 0:e.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:s+h.x,y:o+h.y,data:{...h,placement:l}}}}};function RS(t){const a=tr(t);let e=parseFloat(a.width)||0,n=parseFloat(a.height)||0;const s=Hr(t),o=s?t.offsetWidth:e,l=s?t.offsetHeight:n,u=of(e)!==o||of(n)!==l;return u&&(e=o,n=l),{width:e,height:n,$:u}}function Cy(t){return ra(t)?t:t.contextElement}function $o(t){const a=Cy(t);if(!Hr(a))return zr(1);const e=a.getBoundingClientRect(),{width:n,height:s,$:o}=RS(a);let l=(o?of(e.width):e.width)/n,u=(o?of(e.height):e.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const d3=zr(0);function kS(t){const a=Na(t);return!vy()||!a.visualViewport?d3:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function f3(t,a,e){return a===void 0&&(a=!1),!e||a&&e!==Na(t)?!1:a}function Ki(t,a,e,n){a===void 0&&(a=!1),e===void 0&&(e=!1);const s=t.getBoundingClientRect(),o=Cy(t);let l=zr(1);a&&(n?ra(n)&&(l=$o(n)):l=$o(t));const u=f3(o,e,n)?kS(o):zr(0);let h=(s.left+u.x)/l.x,m=(s.top+u.y)/l.y,p=s.width/l.x,v=s.height/l.y;if(o){const b=Na(o),S=n&&ra(n)?Na(n):n;let C=b,_=wg(C);for(;_&&n&&S!==C;){const E=$o(_),I=_.getBoundingClientRect(),A=tr(_),M=I.left+(_.clientLeft+parseFloat(A.paddingLeft))*E.x,k=I.top+(_.clientTop+parseFloat(A.paddingTop))*E.y;h*=E.x,m*=E.y,p*=E.x,v*=E.y,h+=M,m+=k,C=Na(_),_=wg(C)}}return cf({width:p,height:v,x:h,y:m})}function Sy(t,a){const e=rh(t).scrollLeft;return a?a.left+e:Ki(jr(t)).left+e}function LS(t,a,e){e===void 0&&(e=!1);const n=t.getBoundingClientRect(),s=n.left+a.scrollLeft-(e?0:Sy(t,n)),o=n.top+a.scrollTop;return{x:s,y:o}}function h3(t){let{elements:a,rect:e,offsetParent:n,strategy:s}=t;const o=s==="fixed",l=jr(n),u=a?ah(a.floating):!1;if(n===l||u&&o)return e;let h={scrollLeft:0,scrollTop:0},m=zr(1);const p=zr(0),v=Hr(n);if((v||!v&&!o)&&((dl(n)!=="body"||Xc(l))&&(h=rh(n)),Hr(n))){const S=Ki(n);m=$o(n),p.x=S.x+n.clientLeft,p.y=S.y+n.clientTop}const b=l&&!v&&!o?LS(l,h,!0):zr(0);return{width:e.width*m.x,height:e.height*m.y,x:e.x*m.x-h.scrollLeft*m.x+p.x+b.x,y:e.y*m.y-h.scrollTop*m.y+p.y+b.y}}function m3(t){return Array.from(t.getClientRects())}function p3(t){const a=jr(t),e=rh(t),n=t.ownerDocument.body,s=$i(a.scrollWidth,a.clientWidth,n.scrollWidth,n.clientWidth),o=$i(a.scrollHeight,a.clientHeight,n.scrollHeight,n.clientHeight);let l=-e.scrollLeft+Sy(t);const u=-e.scrollTop;return tr(n).direction==="rtl"&&(l+=$i(a.clientWidth,n.clientWidth)-s),{width:s,height:o,x:l,y:u}}function g3(t,a){const e=Na(t),n=jr(t),s=e.visualViewport;let o=n.clientWidth,l=n.clientHeight,u=0,h=0;if(s){o=s.width,l=s.height;const m=vy();(!m||m&&a==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}return{width:o,height:l,x:u,y:h}}function y3(t,a){const e=Ki(t,!0,a==="fixed"),n=e.top+t.clientTop,s=e.left+t.clientLeft,o=Hr(t)?$o(t):zr(1),l=t.clientWidth*o.x,u=t.clientHeight*o.y,h=s*o.x,m=n*o.y;return{width:l,height:u,x:h,y:m}}function Qw(t,a,e){let n;if(a==="viewport")n=g3(t,e);else if(a==="document")n=p3(jr(t));else if(ra(a))n=y3(a,e);else{const s=kS(t);n={x:a.x-s.x,y:a.y-s.y,width:a.width,height:a.height}}return cf(n)}function PS(t,a){const e=hi(t);return e===a||!ra(e)||el(e)?!1:tr(e).position==="fixed"||PS(e,a)}function v3(t,a){const e=a.get(t);if(e)return e;let n=Yc(t,[],!1).filter(u=>ra(u)&&dl(u)!=="body"),s=null;const o=tr(t).position==="fixed";let l=o?hi(t):t;for(;ra(l)&&!el(l);){const u=tr(l),h=yy(l);!h&&u.position==="fixed"&&(s=null),(o?!h&&!s:!h&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Xc(l)&&!h&&PS(t,l))?n=n.filter(p=>p!==l):s=u,l=hi(l)}return a.set(t,n),n}function b3(t){let{element:a,boundary:e,rootBoundary:n,strategy:s}=t;const l=[...e==="clippingAncestors"?ah(a)?[]:v3(a,this._c):[].concat(e),n],u=l[0],h=l.reduce((m,p)=>{const v=Qw(a,p,s);return m.top=$i(v.top,m.top),m.right=tl(v.right,m.right),m.bottom=tl(v.bottom,m.bottom),m.left=$i(v.left,m.left),m},Qw(a,u,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function w3(t){const{width:a,height:e}=RS(t);return{width:a,height:e}}function C3(t,a,e){const n=Hr(a),s=jr(a),o=e==="fixed",l=Ki(t,!0,o,a);let u={scrollLeft:0,scrollTop:0};const h=zr(0);function m(){h.x=Sy(s)}if(n||!n&&!o)if((dl(a)!=="body"||Xc(s))&&(u=rh(a)),n){const S=Ki(a,!0,o,a);h.x=S.x+a.clientLeft,h.y=S.y+a.clientTop}else s&&m();o&&!n&&s&&m();const p=s&&!n&&!o?LS(s,u):zr(0),v=l.left+u.scrollLeft-h.x-p.x,b=l.top+u.scrollTop-h.y-p.y;return{x:v,y:b,width:l.width,height:l.height}}function Np(t){return tr(t).position==="static"}function Vw(t,a){if(!Hr(t)||tr(t).position==="fixed")return null;if(a)return a(t);let e=t.offsetParent;return jr(t)===e&&(e=e.ownerDocument.body),e}function OS(t,a){const e=Na(t);if(ah(t))return e;if(!Hr(t)){let s=hi(t);for(;s&&!el(s);){if(ra(s)&&!Np(s))return s;s=hi(s)}return e}let n=Vw(t,a);for(;n&&FN(n)&&Np(n);)n=Vw(n,a);return n&&el(n)&&Np(n)&&!yy(n)?e:n||jN(t)||e}const S3=async function(t){const a=this.getOffsetParent||OS,e=this.getDimensions,n=await e(t.floating);return{reference:C3(t.reference,await a(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function _3(t){return tr(t).direction==="rtl"}const E3={convertOffsetParentRelativeRectToViewportRelativeRect:h3,getDocumentElement:jr,getClippingRect:b3,getOffsetParent:OS,getElementRects:S3,getClientRects:m3,getDimensions:w3,getScale:$o,isElement:ra,isRTL:_3};function BS(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height}function x3(t,a){let e=null,n;const s=jr(t);function o(){var u;clearTimeout(n),(u=e)==null||u.disconnect(),e=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),o();const m=t.getBoundingClientRect(),{left:p,top:v,width:b,height:S}=m;if(u||a(),!b||!S)return;const C=hd(v),_=hd(s.clientWidth-(p+b)),E=hd(s.clientHeight-(v+S)),I=hd(p),M={rootMargin:-C+"px "+-_+"px "+-E+"px "+-I+"px",threshold:$i(0,tl(1,h))||1};let k=!0;function L(U){const F=U[0].intersectionRatio;if(F!==h){if(!k)return l();F?l(!1,F):n=setTimeout(()=>{l(!1,1e-7)},1e3)}F===1&&!BS(m,t.getBoundingClientRect())&&l(),k=!1}try{e=new IntersectionObserver(L,{...M,root:s.ownerDocument})}catch{e=new IntersectionObserver(L,M)}e.observe(t)}return l(!0),o}function I3(t,a,e,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,m=Cy(t),p=s||o?[...m?Yc(m):[],...Yc(a)]:[];p.forEach(I=>{s&&I.addEventListener("scroll",e,{passive:!0}),o&&I.addEventListener("resize",e)});const v=m&&u?x3(m,e):null;let b=-1,S=null;l&&(S=new ResizeObserver(I=>{let[A]=I;A&&A.target===m&&S&&(S.unobserve(a),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var M;(M=S)==null||M.observe(a)})),e()}),m&&!h&&S.observe(m),S.observe(a));let C,_=h?Ki(t):null;h&&E();function E(){const I=Ki(t);_&&!BS(_,I)&&e(),_=I,C=requestAnimationFrame(E)}return e(),()=>{var I;p.forEach(A=>{s&&A.removeEventListener("scroll",e),o&&A.removeEventListener("resize",e)}),v==null||v(),(I=S)==null||I.disconnect(),S=null,h&&cancelAnimationFrame(C)}}const D3=u3,M3=l3,Xw=o3,A3=(t,a,e)=>{const n=new Map,s={platform:E3,...e},o={...s.platform,_c:n};return s3(t,a,{...s,platform:o})};var Ud=typeof document<"u"?w.useLayoutEffect:w.useEffect;function df(t,a){if(t===a)return!0;if(typeof t!=typeof a)return!1;if(typeof t=="function"&&t.toString()===a.toString())return!0;let e,n,s;if(t&&a&&typeof t=="object"){if(Array.isArray(t)){if(e=t.length,e!==a.length)return!1;for(n=e;n--!==0;)if(!df(t[n],a[n]))return!1;return!0}if(s=Object.keys(t),e=s.length,e!==Object.keys(a).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(a,s[n]))return!1;for(n=e;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!df(t[o],a[o]))return!1}return!0}return t!==t&&a!==a}function US(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Kw(t,a){const e=US(t);return Math.round(a*e)/e}function Rp(t){const a=w.useRef(t);return Ud(()=>{a.current=t}),a}function T3(t){t===void 0&&(t={});const{placement:a="bottom",strategy:e="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:h,open:m}=t,[p,v]=w.useState({x:0,y:0,strategy:e,placement:a,middlewareData:{},isPositioned:!1}),[b,S]=w.useState(n);df(b,n)||S(n);const[C,_]=w.useState(null),[E,I]=w.useState(null),A=w.useCallback(V=>{V!==U.current&&(U.current=V,_(V))},[]),M=w.useCallback(V=>{V!==F.current&&(F.current=V,I(V))},[]),k=o||C,L=l||E,U=w.useRef(null),F=w.useRef(null),z=w.useRef(p),q=h!=null,te=Rp(h),ge=Rp(s),le=Rp(m),re=w.useCallback(()=>{if(!U.current||!F.current)return;const V={placement:a,strategy:e,middleware:b};ge.current&&(V.platform=ge.current),A3(U.current,F.current,V).then(W=>{const R={...W,isPositioned:le.current!==!1};ee.current&&!df(z.current,R)&&(z.current=R,eS.flushSync(()=>{v(R)}))})},[b,a,e,ge,le]);Ud(()=>{m===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,v(V=>({...V,isPositioned:!1})))},[m]);const ee=w.useRef(!1);Ud(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Ud(()=>{if(k&&(U.current=k),L&&(F.current=L),k&&L){if(te.current)return te.current(k,L,re);re()}},[k,L,re,te,q]);const j=w.useMemo(()=>({reference:U,floating:F,setReference:A,setFloating:M}),[A,M]),D=w.useMemo(()=>({reference:k,floating:L}),[k,L]),H=w.useMemo(()=>{const V={position:e,left:0,top:0};if(!D.floating)return V;const W=Kw(D.floating,p.x),R=Kw(D.floating,p.y);return u?{...V,transform:"translate("+W+"px, "+R+"px)",...US(D.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:W,top:R}},[e,u,D.floating,p.x,p.y]);return w.useMemo(()=>({...p,update:re,refs:j,elements:D,floatingStyles:H}),[p,re,j,D,H])}const N3=t=>{function a(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:t,fn(e){const{element:n,padding:s}=typeof t=="function"?t(e):t;return n&&a(n)?n.current!=null?Xw({element:n.current,padding:s}).fn(e):{}:n?Xw({element:n,padding:s}).fn(e):{}}}},R3=(t,a)=>({...D3(t),options:[t,a]}),k3=(t,a)=>({...M3(t),options:[t,a]}),L3=(t,a)=>({...N3(t),options:[t,a]}),P3={...BC};let Jw=!1,O3=0;const e1=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+O3++;function B3(){const[t,a]=w.useState(()=>Jw?e1():void 0);return uf(()=>{t==null&&a(e1())},[]),w.useEffect(()=>{Jw=!0},[]),t}const U3=P3.useId,zS=U3||B3,z3=w.forwardRef(function(a,e){const{context:{placement:n,elements:{floating:s},middlewareData:{arrow:o,shift:l}},width:u=14,height:h=7,tipRadius:m=0,strokeWidth:p=0,staticOffset:v,stroke:b,d:S,style:{transform:C,..._}={},...E}=a,I=zS(),[A,M]=w.useState(!1);if(uf(()=>{if(!s)return;tr(s).direction==="rtl"&&M(!0)},[s]),!s)return null;const[k,L]=n.split("-"),U=k==="top"||k==="bottom";let F=v;(U&&l!=null&&l.x||!U&&l!=null&&l.y)&&(F=null);const z=p*2,q=z/2,te=u/2*(m/-8+1),ge=h/2*m/4,le=!!S,re=F&&L==="end"?"bottom":"top";let ee=F&&L==="end"?"right":"left";F&&A&&(ee=L==="end"?"left":"right");const j=(o==null?void 0:o.x)!=null?F||o.x:"",D=(o==null?void 0:o.y)!=null?F||o.y:"",H=S||"M0,0"+(" H"+u)+(" L"+(u-te)+","+(h-ge))+(" Q"+u/2+","+h+" "+te+","+(h-ge))+" Z",V={top:le?"rotate(180deg)":"",left:le?"rotate(90deg)":"rotate(-90deg)",bottom:le?"":"rotate(180deg)",right:le?"rotate(-90deg)":"rotate(90deg)"}[k];return hc.jsxs("svg",{...E,"aria-hidden":!0,ref:e,width:le?u:u+z,height:u,viewBox:"0 0 "+u+" "+(h>u?h:u),style:{position:"absolute",pointerEvents:"none",[ee]:j,[re]:D,[k]:U||le?"100%":"calc(100% - "+z/2+"px)",transform:[V,C].filter(W=>!!W).join(" "),..._},children:[z>0&&hc.jsx("path",{clipPath:"url(#"+I+")",fill:"none",stroke:b,strokeWidth:z+(S?0:1),d:H}),hc.jsx("path",{stroke:z&&!S?E.fill:"none",d:H}),hc.jsx("clipPath",{id:I,children:hc.jsx("rect",{x:-q,y:q*(le?-1:1),width:u+z,height:u})})]})});function H3(){const t=new Map;return{emit(a,e){var n;(n=t.get(a))==null||n.forEach(s=>s(e))},on(a,e){t.has(a)||t.set(a,new Set),t.get(a).add(e)},off(a,e){var n;(n=t.get(a))==null||n.delete(e)}}}const Y3=w.createContext(null),F3=w.createContext(null),j3=()=>{var t;return((t=w.useContext(Y3))==null?void 0:t.id)||null},W3=()=>w.useContext(F3);function G3(t){const{open:a=!1,onOpenChange:e,elements:n}=t,s=zS(),o=w.useRef({}),[l]=w.useState(()=>H3()),u=j3()!=null,[h,m]=w.useState(n.reference),p=n3((S,C,_)=>{o.current.openEvent=S?C:void 0,l.emit("openchange",{open:S,event:C,reason:_,nested:u}),e==null||e(S,C,_)}),v=w.useMemo(()=>({setPositionReference:m}),[]),b=w.useMemo(()=>({reference:h||n.reference||null,floating:n.floating||null,domReference:n.reference}),[h,n.reference,n.floating]);return w.useMemo(()=>({dataRef:o,open:a,onOpenChange:p,elements:b,events:l,floatingId:s,refs:v}),[a,p,b,l,s,v])}function Z3(t){t===void 0&&(t={});const{nodeId:a}=t,e=G3({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||e,s=n.elements,[o,l]=w.useState(null),[u,h]=w.useState(null),p=(s==null?void 0:s.domReference)||o,v=w.useRef(null),b=W3();uf(()=>{p&&(v.current=p)},[p]);const S=T3({...t,elements:{...s,...u&&{reference:u}}}),C=w.useCallback(M=>{const k=ra(M)?{getBoundingClientRect:()=>M.getBoundingClientRect(),getClientRects:()=>M.getClientRects(),contextElement:M}:M;h(k),S.refs.setReference(k)},[S.refs]),_=w.useCallback(M=>{(ra(M)||M===null)&&(v.current=M,l(M)),(ra(S.refs.reference.current)||S.refs.reference.current===null||M!==null&&!ra(M))&&S.refs.setReference(M)},[S.refs]),E=w.useMemo(()=>({...S.refs,setReference:_,setPositionReference:C,domReference:v}),[S.refs,_,C]),I=w.useMemo(()=>({...S.elements,domReference:p}),[S.elements,p]),A=w.useMemo(()=>({...S,...n,refs:E,elements:I,nodeId:a}),[S,E,I,a,n]);return uf(()=>{n.dataRef.current.floatingContext=A;const M=b==null?void 0:b.nodesRef.current.find(k=>k.id===a);M&&(M.context=A)}),w.useMemo(()=>({...S,context:A,refs:E,elements:I}),[S,E,I,A])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Sg=function(a,e){return Sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},Sg(a,e)};function Rn(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");Sg(t,a);function e(){this.constructor=t}t.prototype=a===null?Object.create(a):(e.prototype=a.prototype,new e)}var Ct=function(){return Ct=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Ct.apply(this,arguments)};function Br(t,a,e){if(e||arguments.length===2)for(var n=0,s=a.length,o;n<s;n++)(o||!(n in a))&&(o||(o=Array.prototype.slice.call(a,0,n)),o[n]=a[n]);return t.concat(o||Array.prototype.slice.call(a))}var $3=function(t){var a=t.showTimeSelectOnly,e=a===void 0?!1:a,n=t.showTime,s=n===void 0?!1:n,o=t.className,l=t.children,u=e?"Choose Time":"Choose Date".concat(s?" and Time":"");return f.createElement("div",{className:o,role:"dialog","aria-label":u,"aria-modal":"true"},l)},q3=function(t,a){var e=w.useRef(null),n=w.useRef(t);n.current=t;var s=w.useCallback(function(o){var l,u=o.composed&&o.composedPath&&o.composedPath().find(function(h){return h instanceof Node})||o.target;e.current&&!e.current.contains(u)&&(a&&u instanceof HTMLElement&&u.classList.contains(a)||(l=n.current)===null||l===void 0||l.call(n,o))},[a]);return w.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),e},ih=function(t){var a=t.children,e=t.onClickOutside,n=t.className,s=t.containerRef,o=t.style,l=t.ignoreClass,u=q3(e,l);return f.createElement("div",{className:n,style:o,ref:function(h){u.current=h,s&&(s.current=h)}},a)},Ae;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Ae||(Ae={}));function HS(){var t=typeof window<"u"?window:globalThis;return t}var Jc=12;function It(t){if(t==null)return new Date;var a=typeof t=="string"?bS(t):ze(t);return oh(a)?a:new Date}function kp(t,a,e,n,s){s===void 0&&(s=It());for(var o=al(e)||al(_y()),l=Array.isArray(a)?a:[a],u=0,h=l;u<h.length;u++){var m=h[u],p=MA(t,m,s,{locale:o});if(oh(p)&&(!n||t===Zt(p,m,e)))return p}return null}function oh(t,a){return Jd(t)&&!Xi(t,new Date("1/1/1800"))}function Zt(t,a,e){if(e==="en")return zc(t,a,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=e?al(e):void 0;return e&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(e,'"].')),n=n||al(_y()),zc(t,a,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Xa(t,a){var e=a.dateFormat,n=a.locale,s=Array.isArray(e)&&e.length>0?e[0]:e;return t&&Zt(t,s,n)||""}var YS=" - ";function Q3(t,a,e){if(!t)return"";var n=Xa(t,e),s=a?Xa(a,e):"";return"".concat(n).concat(YS).concat(s)}function V3(t,a){if(!(t!=null&&t.length))return"";var e=t[0]?Xa(t[0],a):"";if(t.length===1)return e;if(t.length===2&&t[1]){var n=Xa(t[1],a);return"".concat(e,", ").concat(n)}var s=t.length-1;return"".concat(e," (+").concat(s,")")}function Lp(t,a){var e=a.hour,n=e===void 0?0:e,s=a.minute,o=s===void 0?0:s,l=a.second,u=l===void 0?0:l;return Pd(Od(Bd(t,u),o),n)}function X3(t){return dy(t)}function K3(t,a){return Zt(t,"ddd",a)}function zd(t){return Vi(t)}function di(t,a,e){var n=al(a||_y());return Ss(t,{locale:n,weekStartsOn:e})}function bs(t){return uS(t)}function _c(t){return eh(t)}function t1(t){return yg(t)}function n1(){return Vi(It())}function a1(t){return lS(t)}function J3(t){return LD(t)}function eR(t){return cS(t)}function Lr(t,a){return t&&a?RA(t,a):!t&&!a}function aa(t,a){return t&&a?TA(t,a):!t&&!a}function ff(t,a){return t&&a?NA(t,a):!t&&!a}function wt(t,a){return t&&a?ND(t,a):!t&&!a}function Fi(t,a){return t&&a?kM(t,a):!t&&!a}function Ec(t,a,e){var n,s=Vi(a),o=lS(e);try{n=Hc(t,{start:s,end:o})}catch{n=!1}return n}function _y(){var t=HS();return t.__localeId__}function al(t){if(typeof t=="string"){var a=HS();return a.__localeData__?a.__localeData__[t]:void 0}else return t}function tR(t,a,e){return a(Zt(t,"EEEE",e))}function nR(t,a){return Zt(t,"EEEEEE",a)}function aR(t,a){return Zt(t,"EEE",a)}function Ey(t,a){return Zt(Ka(It(),t),"LLLL",a)}function FS(t,a){return Zt(Ka(It(),t),"LLL",a)}function rR(t,a){return Zt(Fo(It(),t),"QQQ",a)}function Ja(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.maxDate,o=e.excludeDates,l=e.excludeDateIntervals,u=e.includeDates,h=e.includeDateIntervals,m=e.filterDate;return eu(t,{minDate:n,maxDate:s})||o&&o.some(function(p){return p instanceof Date?wt(t,p):wt(t,p.date)})||l&&l.some(function(p){var v=p.start,b=p.end;return Hc(t,{start:v,end:b})})||u&&!u.some(function(p){return wt(t,p)})||h&&!h.some(function(p){var v=p.start,b=p.end;return Hc(t,{start:v,end:b})})||m&&!m(It(t))||!1}function xy(t,a){var e=a===void 0?{}:a,n=e.excludeDates,s=e.excludeDateIntervals;return s&&s.length>0?s.some(function(o){var l=o.start,u=o.end;return Hc(t,{start:l,end:u})}):n&&n.some(function(o){var l;return o instanceof Date?wt(t,o):wt(t,(l=o.date)!==null&&l!==void 0?l:new Date)})||!1}function jS(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.maxDate,o=e.excludeDates,l=e.includeDates,u=e.filterDate;return eu(t,{minDate:n?uS(n):void 0,maxDate:s?cS(s):void 0})||(o==null?void 0:o.some(function(h){return aa(t,h instanceof Date?h:h.date)}))||l&&!l.some(function(h){return aa(t,h)})||u&&!u(It(t))||!1}function md(t,a,e,n){var s=ct(t),o=$n(t),l=ct(a),u=$n(a),h=ct(n);return s===l&&s===h?o<=e&&e<=u:s<l?h===s&&o<=e||h===l&&u>=e||h<l&&h>s:!1}function sR(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.maxDate,o=e.excludeDates,l=e.includeDates;return eu(t,{minDate:n,maxDate:s})||o&&o.some(function(u){return aa(u instanceof Date?u:u.date,t)})||l&&!l.some(function(u){return aa(u,t)})||!1}function pd(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.maxDate,o=e.excludeDates,l=e.includeDates,u=e.filterDate;return eu(t,{minDate:n,maxDate:s})||(o==null?void 0:o.some(function(h){return ff(t,h instanceof Date?h:h.date)}))||l&&!l.some(function(h){return ff(t,h)})||u&&!u(It(t))||!1}function gd(t,a,e){if(!a||!e||!Jd(a)||!Jd(e))return!1;var n=ct(a),s=ct(e);return n<=t&&s>=t}function Hd(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.maxDate,o=e.excludeDates,l=e.includeDates,u=e.filterDate,h=new Date(t,0,1);return eu(h,{minDate:n?eh(n):void 0,maxDate:s?dS(s):void 0})||(o==null?void 0:o.some(function(m){return Lr(h,m instanceof Date?m:m.date)}))||l&&!l.some(function(m){return Lr(h,m)})||u&&!u(It(h))||!1}function yd(t,a,e,n){var s=ct(t),o=Gi(t),l=ct(a),u=Gi(a),h=ct(n);return s===l&&s===h?o<=e&&e<=u:s<l?h===s&&o<=e||h===l&&u>=e||h<l&&h>s:!1}function eu(t,a){var e,n=a===void 0?{}:a,s=n.minDate,o=n.maxDate;return(e=s&&Ko(t,s)<0||o&&Ko(t,o)>0)!==null&&e!==void 0?e:!1}function r1(t,a){return a.some(function(e){return ys(e)===ys(t)&&vs(e)===vs(t)&&ci(e)===ci(t)})}function s1(t,a){var e=a===void 0?{}:a,n=e.excludeTimes,s=e.includeTimes,o=e.filterTime;return n&&r1(t,n)||s&&!r1(t,s)||o&&!o(t)||!1}function i1(t,a){var e=a.minTime,n=a.maxTime;if(!e||!n)throw new Error("Both minTime and maxTime props required");var s=It();s=Pd(s,ys(t)),s=Od(s,vs(t)),s=Bd(s,ci(t));var o=It();o=Pd(o,ys(e)),o=Od(o,vs(e)),o=Bd(o,ci(e));var l=It();l=Pd(l,ys(n)),l=Od(l,vs(n)),l=Bd(l,ci(n));var u;try{u=!Hc(s,{start:o,end:l})}catch{u=!1}return u}function o1(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.includeDates,o=Zi(t,1);return n&&ef(n,o)>0||s&&s.every(function(l){return ef(l,o)>0})||!1}function l1(t,a){var e=a===void 0?{}:a,n=e.maxDate,s=e.includeDates,o=dr(t,1);return n&&ef(o,n)>0||s&&s.every(function(l){return ef(o,l)>0})||!1}function iR(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.includeDates,o=eh(t),l=CS(o);return n&&tf(n,l)>0||s&&s.every(function(u){return tf(u,l)>0})||!1}function oR(t,a){var e=a===void 0?{}:a,n=e.maxDate,s=e.includeDates,o=dS(t),l=uy(o,1);return n&&tf(l,n)>0||s&&s.every(function(u){return tf(l,u)>0})||!1}function c1(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.includeDates,o=Jo(t,1);return n&&nf(n,o)>0||s&&s.every(function(l){return nf(l,o)>0})||!1}function lR(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.yearItemNumber,o=s===void 0?Jc:s,l=_c(Jo(t,o)),u=li(l,o).endPeriod,h=n&&ct(n);return h&&h>u||!1}function u1(t,a){var e=a===void 0?{}:a,n=e.maxDate,s=e.includeDates,o=ps(t,1);return n&&nf(o,n)>0||s&&s.every(function(l){return nf(o,l)>0})||!1}function cR(t,a){var e=a===void 0?{}:a,n=e.maxDate,s=e.yearItemNumber,o=s===void 0?Jc:s,l=ps(t,o),u=li(l,o).startPeriod,h=n&&ct(n);return h&&h<u||!1}function WS(t){var a=t.minDate,e=t.includeDates;if(e&&a){var n=e.filter(function(s){return Ko(s,a)>=0});return Lw(n)}else return e?Lw(e):a}function GS(t){var a=t.maxDate,e=t.includeDates;if(e&&a){var n=e.filter(function(s){return Ko(s,a)<=0});return kw(n)}else return e?kw(e):a}function d1(t,a){var e;t===void 0&&(t=[]),a===void 0&&(a="react-datepicker__day--highlighted");for(var n=new Map,s=0,o=t.length;s<o;s++){var l=t[s];if(gs(l)){var u=Zt(l,"MM.dd.yyyy"),h=n.get(u)||[];h.includes(a)||(h.push(a),n.set(u,h))}else if(typeof l=="object"){var m=Object.keys(l),p=(e=m[0])!==null&&e!==void 0?e:"",v=l[p];if(typeof p=="string"&&Array.isArray(v))for(var b=0,S=v.length;b<S;b++){var C=v[b];if(C){var u=Zt(C,"MM.dd.yyyy"),h=n.get(u)||[];h.includes(p)||(h.push(p),n.set(u,h))}}}}return n}function uR(t,a){return t.length!==a.length?!1:t.every(function(e,n){return e===a[n]})}function dR(t,a){t===void 0&&(t=[]),a===void 0&&(a="react-datepicker__day--holidays");var e=new Map;return t.forEach(function(n){var s=n.date,o=n.holidayName;if(gs(s)){var l=Zt(s,"MM.dd.yyyy"),u=e.get(l)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===a&&uR(u.holidayNames,[o]))){u.className=a;var h=u.holidayNames;u.holidayNames=h?Br(Br([],h,!0),[o],!1):[o],e.set(l,u)}}}),e}function fR(t,a,e,n,s){for(var o=s.length,l=[],u=0;u<o;u++){var h=t,m=s[u];m&&(h=DD(h,ys(m)),h=gg(h,vs(m)),h=TD(h,ci(m)));var p=gg(t,(e+1)*n);_s(h,a)&&Xi(h,p)&&m!=null&&l.push(m)}return l}function f1(t){return t<10?"0".concat(t):"".concat(t)}function li(t,a){a===void 0&&(a=Jc);var e=Math.ceil(ct(t)/a)*a,n=e-(a-1);return{startPeriod:n,endPeriod:e}}function hR(t){var a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),e=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+e-+a)/36e5)}function h1(t){var a=t.getSeconds(),e=t.getMilliseconds();return ze(t.getTime()-a*1e3-e)}function mR(t,a){return h1(t).getTime()===h1(a).getTime()}function m1(t){if(!gs(t))throw new Error("Invalid date");var a=new Date(t);return a.setHours(0,0,0,0),a}function p1(t,a){if(!gs(t)||!gs(a))throw new Error("Invalid date received");var e=m1(t),n=m1(a);return Xi(e,n)}function ZS(t){return t.key===Ae.Space}var pR=function(t){Rn(a,t);function a(e){var n=t.call(this,e)||this;return n.inputRef=f.createRef(),n.onTimeChange=function(s){var o,l;n.setState({time:s});var u=n.props.date,h=u instanceof Date&&!isNaN(+u),m=h?u:new Date;if(s!=null&&s.includes(":")){var p=s.split(":"),v=p[0],b=p[1];m.setHours(Number(v)),m.setMinutes(Number(b))}(l=(o=n.props).onChange)===null||l===void 0||l.call(o,m)},n.renderTimeInput=function(){var s=n.state.time,o=n.props,l=o.date,u=o.timeString,h=o.customTimeInput;return h?w.cloneElement(h,{date:l,value:s,onChange:n.onTimeChange}):f.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var m;(m=n.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:s,onChange:function(m){n.onTimeChange(m.target.value||u)}})},n.state={time:n.props.timeString},n}return a.getDerivedStateFromProps=function(e,n){return e.timeString!==n.time?{time:e.timeString}:null},a.prototype.render=function(){return f.createElement("div",{className:"react-datepicker__input-time-container"},f.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),f.createElement("div",{className:"react-datepicker-time__input-container"},f.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},a}(w.Component),gR=function(t){Rn(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.dayEl=w.createRef(),e.handleClick=function(n){!e.isDisabled()&&e.props.onClick&&e.props.onClick(n)},e.handleMouseEnter=function(n){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(n)},e.handleOnKeyDown=function(n){var s,o,l=n.key;l===Ae.Space&&(n.preventDefault(),n.key=Ae.Enter),(o=(s=e.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},e.isSameDay=function(n){return wt(e.props.day,n)},e.isKeyboardSelected=function(){var n;if(e.props.disabledKeyboardNavigation)return!1;var s=e.props.selectsMultiple?(n=e.props.selectedDates)===null||n===void 0?void 0:n.some(function(l){return e.isSameDayOrWeek(l)}):e.isSameDayOrWeek(e.props.selected),o=e.props.preSelection&&e.isDisabled(e.props.preSelection);return!s&&e.isSameDayOrWeek(e.props.preSelection)&&!o},e.isDisabled=function(n){return n===void 0&&(n=e.props.day),Ja(n,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.isExcluded=function(){return xy(e.props.day,{excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals})},e.isStartOfWeek=function(){return wt(e.props.day,di(e.props.day,e.props.locale,e.props.calendarStartDay))},e.isSameWeek=function(n){return e.props.showWeekPicker&&wt(n,di(e.props.day,e.props.locale,e.props.calendarStartDay))},e.isSameDayOrWeek=function(n){return e.isSameDay(n)||e.isSameWeek(n)},e.getHighLightedClass=function(){var n=e.props,s=n.day,o=n.highlightDates;if(!o)return!1;var l=Zt(s,"MM.dd.yyyy");return o.get(l)},e.getHolidaysClass=function(){var n,s=e.props,o=s.day,l=s.holidays;if(!l)return[void 0];var u=Zt(o,"MM.dd.yyyy");return l.has(u)?[(n=l.get(u))===null||n===void 0?void 0:n.className]:[void 0]},e.isInRange=function(){var n=e.props,s=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Ec(s,o,l)},e.isInSelectingRange=function(){var n,s=e.props,o=s.day,l=s.selectsStart,u=s.selectsEnd,h=s.selectsRange,m=s.selectsDisabledDaysInRange,p=s.startDate,v=s.endDate,b=(n=e.props.selectingDate)!==null&&n!==void 0?n:e.props.preSelection;return!(l||u||h)||!b||!m&&e.isDisabled()?!1:l&&v&&(Xi(b,v)||Fi(b,v))?Ec(o,b,v):u&&p&&(_s(b,p)||Fi(b,p))||h&&p&&!v&&(_s(b,p)||Fi(b,p))?Ec(o,p,b):!1},e.isSelectingRangeStart=function(){var n;if(!e.isInSelectingRange())return!1;var s=e.props,o=s.day,l=s.startDate,u=s.selectsStart,h=(n=e.props.selectingDate)!==null&&n!==void 0?n:e.props.preSelection;return u?wt(o,h):wt(o,l)},e.isSelectingRangeEnd=function(){var n;if(!e.isInSelectingRange())return!1;var s=e.props,o=s.day,l=s.endDate,u=s.selectsEnd,h=s.selectsRange,m=(n=e.props.selectingDate)!==null&&n!==void 0?n:e.props.preSelection;return u||h?wt(o,m):wt(o,l)},e.isRangeStart=function(){var n=e.props,s=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:wt(o,s)},e.isRangeEnd=function(){var n=e.props,s=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:wt(l,s)},e.isWeekend=function(){var n=AM(e.props.day);return n===0||n===6},e.isAfterMonth=function(){return e.props.month!==void 0&&(e.props.month+1)%12===$n(e.props.day)},e.isBeforeMonth=function(){return e.props.month!==void 0&&($n(e.props.day)+1)%12===e.props.month},e.isCurrentDay=function(){return e.isSameDay(It())},e.isSelected=function(){var n;return e.props.selectsMultiple?(n=e.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return e.isSameDayOrWeek(s)}):e.isSameDayOrWeek(e.props.selected)},e.getClassNames=function(n){var s=e.props.dayClassName?e.props.dayClassName(n):void 0;return Hn("react-datepicker__day",s,"react-datepicker__day--"+K3(e.props.day),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSelected(),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isCurrentDay(),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isAfterMonth()||e.isBeforeMonth()},e.getHighLightedClass(),e.getHolidaysClass())},e.getAriaLabel=function(){var n=e.props,s=n.day,o=n.ariaLabelPrefixWhenEnabled,l=o===void 0?"Choose":o,u=n.ariaLabelPrefixWhenDisabled,h=u===void 0?"Not available":u,m=e.isDisabled()||e.isExcluded()?h:l;return"".concat(m," ").concat(Zt(s,"PPPP",e.props.locale))},e.getTitle=function(){var n=e.props,s=n.day,o=n.holidays,l=o===void 0?new Map:o,u=n.excludeDates,h=Zt(s,"MM.dd.yyyy"),m=[];return l.has(h)&&m.push.apply(m,l.get(h).holidayNames),e.isExcluded()&&m.push(u==null?void 0:u.filter(function(p){return p instanceof Date?wt(p,s):wt(p==null?void 0:p.date,s)}).map(function(p){if(!(p instanceof Date))return p==null?void 0:p.message})),m.join(", ")},e.getTabIndex=function(){var n=e.props.selected,s=e.props.preSelection,o=!(e.props.showWeekPicker&&(e.props.showWeekNumber||!e.isStartOfWeek()))&&(e.isKeyboardSelected()||e.isSameDay(n)&&wt(s,n))?0:-1;return o},e.handleFocusDay=function(){var n;e.shouldFocusDay()&&((n=e.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},e.renderDayContents=function(){return e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()||e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()?null:e.props.renderDayContents?e.props.renderDayContents(Hw(e.props.day),e.props.day):Hw(e.props.day)},e.render=function(){return f.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.props.usePointerEvent?void 0:e.handleMouseEnter,onPointerEnter:e.props.usePointerEvent?e.handleMouseEnter:void 0,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"option",title:e.getTitle(),"aria-disabled":e.isDisabled(),"aria-current":e.isCurrentDay()?"date":void 0,"aria-selected":e.isSelected()||e.isInRange()},e.renderDayContents(),e.getTitle()!==""&&f.createElement("span",{className:"overlay"},e.getTitle()))},e}return a.prototype.componentDidMount=function(){this.handleFocusDay()},a.prototype.componentDidUpdate=function(){this.handleFocusDay()},a.prototype.shouldFocusDay=function(){var e=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},a.prototype.isDayActiveElement=function(){var e,n,s;return((n=(e=this.props.containerRef)===null||e===void 0?void 0:e.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},a.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},a}(w.Component),yR=function(t){Rn(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.weekNumberEl=w.createRef(),e.handleClick=function(n){e.props.onClick&&e.props.onClick(n)},e.handleOnKeyDown=function(n){var s,o,l=n.key;l===Ae.Space&&(n.preventDefault(),n.key=Ae.Enter),(o=(s=e.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},e.isKeyboardSelected=function(){return!e.props.disabledKeyboardNavigation&&!wt(e.props.date,e.props.selected)&&wt(e.props.date,e.props.preSelection)},e.getTabIndex=function(){return e.props.showWeekPicker&&e.props.showWeekNumber&&(e.isKeyboardSelected()||wt(e.props.date,e.props.selected)&&wt(e.props.preSelection,e.props.selected))?0:-1},e.handleFocusWeekNumber=function(n){var s=!1;e.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&wt(e.props.date,e.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(s=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&e.weekNumberEl.current&&e.weekNumberEl.current.focus({preventScroll:!0})},e}return Object.defineProperty(a,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),a.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},a.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},a.prototype.render=function(){var e=this.props,n=e.weekNumber,s=e.isWeekDisabled,o=e.ariaLabelPrefix,l=o===void 0?a.defaultProps.ariaLabelPrefix:o,u=e.onClick,h={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!s,"react-datepicker__week-number--selected":!!u&&wt(this.props.date,this.props.selected)};return f.createElement("div",{ref:this.weekNumberEl,className:Hn(h),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},a}(w.Component),vR=function(t){Rn(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.isDisabled=function(n){return Ja(n,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.handleDayClick=function(n,s){e.props.onDayClick&&e.props.onDayClick(n,s)},e.handleDayMouseEnter=function(n){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(n)},e.handleWeekClick=function(n,s,o){for(var l,u,h,m=new Date(n),p=0;p<7;p++){var v=new Date(n);v.setDate(v.getDate()+p);var b=!e.isDisabled(v);if(b){m=v;break}}typeof e.props.onWeekSelect=="function"&&e.props.onWeekSelect(m,s,o),e.props.showWeekPicker&&e.handleDayClick(m,o),((l=e.props.shouldCloseOnSelect)!==null&&l!==void 0?l:a.defaultProps.shouldCloseOnSelect)&&((h=(u=e.props).setOpen)===null||h===void 0||h.call(u,!1))},e.formatWeekNumber=function(n){return e.props.formatWeekNumber?e.props.formatWeekNumber(n):X3(n)},e.isWeekDisabled=function(){for(var n=e.startOfWeek(),s=ur(n,6),o=new Date(n);o<=s;){if(!e.isDisabled(o))return!1;o=ur(o,1)}return!0},e.renderDays=function(){var n=e.startOfWeek(),s=[],o=e.formatWeekNumber(n);if(e.props.showWeekNumber){var l=e.props.onWeekSelect||e.props.showWeekPicker?e.handleWeekClick.bind(e,n,o):void 0;s.push(f.createElement(yR,Ct({key:"W"},a.defaultProps,e.props,{weekNumber:o,isWeekDisabled:e.isWeekDisabled(),date:n,onClick:l})))}return s.concat([0,1,2,3,4,5,6].map(function(u){var h=ur(n,u);return f.createElement(gR,Ct({},a.defaultProps,e.props,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:h.valueOf(),day:h,onClick:e.handleDayClick.bind(e,h),onMouseEnter:e.handleDayMouseEnter.bind(e,h)}))}))},e.startOfWeek=function(){return di(e.props.day,e.props.locale,e.props.calendarStartDay)},e.isKeyboardSelected=function(){return!e.props.disabledKeyboardNavigation&&!wt(e.startOfWeek(),e.props.selected)&&wt(e.startOfWeek(),e.props.preSelection)},e}return Object.defineProperty(a,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),a.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":wt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return f.createElement("div",{className:Hn(e)},this.renderDays())},a}(w.Component),mc,bR=6,qo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Pp=(mc={},mc[qo.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},mc[qo.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},mc[qo.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},mc),vd=1;function g1(t,a){return t?qo.FOUR_COLUMNS:a?qo.TWO_COLUMNS:qo.THREE_COLUMNS}var wR=function(t){Rn(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.MONTH_REFS=Br([],Array(12),!0).map(function(){return w.createRef()}),e.QUARTER_REFS=Br([],Array(4),!0).map(function(){return w.createRef()}),e.isDisabled=function(n){return Ja(n,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.isExcluded=function(n){return xy(n,{excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals})},e.handleDayClick=function(n,s){var o,l;(l=(o=e.props).onDayClick)===null||l===void 0||l.call(o,n,s,e.props.orderInDisplay)},e.handleDayMouseEnter=function(n){var s,o;(o=(s=e.props).onDayMouseEnter)===null||o===void 0||o.call(s,n)},e.handleMouseLeave=function(){var n,s;(s=(n=e.props).onMouseLeave)===null||s===void 0||s.call(n)},e.isRangeStartMonth=function(n){var s=e.props,o=s.day,l=s.startDate,u=s.endDate;return!l||!u?!1:aa(Ka(o,n),l)},e.isRangeStartQuarter=function(n){var s=e.props,o=s.day,l=s.startDate,u=s.endDate;return!l||!u?!1:ff(Fo(o,n),l)},e.isRangeEndMonth=function(n){var s=e.props,o=s.day,l=s.startDate,u=s.endDate;return!l||!u?!1:aa(Ka(o,n),u)},e.isRangeEndQuarter=function(n){var s=e.props,o=s.day,l=s.startDate,u=s.endDate;return!l||!u?!1:ff(Fo(o,n),u)},e.isInSelectingRangeMonth=function(n){var s,o=e.props,l=o.day,u=o.selectsStart,h=o.selectsEnd,m=o.selectsRange,p=o.startDate,v=o.endDate,b=(s=e.props.selectingDate)!==null&&s!==void 0?s:e.props.preSelection;return!(u||h||m)||!b?!1:u&&v?md(b,v,n,l):h&&p||m&&p&&!v?md(p,b,n,l):!1},e.isSelectingMonthRangeStart=function(n){var s;if(!e.isInSelectingRangeMonth(n))return!1;var o=e.props,l=o.day,u=o.startDate,h=o.selectsStart,m=Ka(l,n),p=(s=e.props.selectingDate)!==null&&s!==void 0?s:e.props.preSelection;return h?aa(m,p):aa(m,u)},e.isSelectingMonthRangeEnd=function(n){var s;if(!e.isInSelectingRangeMonth(n))return!1;var o=e.props,l=o.day,u=o.endDate,h=o.selectsEnd,m=o.selectsRange,p=Ka(l,n),v=(s=e.props.selectingDate)!==null&&s!==void 0?s:e.props.preSelection;return h||m?aa(p,v):aa(p,u)},e.isInSelectingRangeQuarter=function(n){var s,o=e.props,l=o.day,u=o.selectsStart,h=o.selectsEnd,m=o.selectsRange,p=o.startDate,v=o.endDate,b=(s=e.props.selectingDate)!==null&&s!==void 0?s:e.props.preSelection;return!(u||h||m)||!b?!1:u&&v?yd(b,v,n,l):h&&p||m&&p&&!v?yd(p,b,n,l):!1},e.isWeekInMonth=function(n){var s=e.props.day,o=ur(n,6);return aa(n,s)||aa(o,s)},e.isCurrentMonth=function(n,s){return ct(n)===ct(It())&&s===$n(It())},e.isCurrentQuarter=function(n,s){return ct(n)===ct(It())&&s===Gi(It())},e.isSelectedMonth=function(n,s,o){return $n(o)===s&&ct(n)===ct(o)},e.isSelectMonthInList=function(n,s,o){return o.some(function(l){return e.isSelectedMonth(n,s,l)})},e.isSelectedQuarter=function(n,s,o){return Gi(n)===s&&ct(n)===ct(o)},e.isMonthSelected=function(){var n=e.props,s=n.day,o=n.selected,l=n.selectedDates,u=n.selectsMultiple,h=$n(s);return u?l==null?void 0:l.some(function(m){return e.isSelectedMonth(s,h,m)}):!!o&&e.isSelectedMonth(s,h,o)},e.renderWeeks=function(){for(var n=[],s=e.props.fixedHeight,o=0,l=!1,u=di(bs(e.props.day),e.props.locale,e.props.calendarStartDay),h=function(C){return e.props.showWeekPicker?di(C,e.props.locale,e.props.calendarStartDay):e.props.preSelection},m=function(C){return e.props.showWeekPicker?di(C,e.props.locale,e.props.calendarStartDay):e.props.selected},p=e.props.selected?m(e.props.selected):void 0,v=e.props.preSelection?h(e.props.preSelection):void 0;n.push(f.createElement(vR,Ct({},e.props,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,key:o,day:u,month:$n(e.props.day),onDayClick:e.handleDayClick,onDayMouseEnter:e.handleDayMouseEnter,selected:p,preSelection:v,showWeekNumber:e.props.showWeekNumbers}))),!l;){o++,u=Kd(u,1);var b=s&&o>=bR,S=!s&&!e.isWeekInMonth(u);if(b||S)if(e.props.peekNextMonth)l=!0;else break}return n},e.onMonthClick=function(n,s){var o=e.isMonthDisabledForLabelDate(s),l=o.isDisabled,u=o.labelDate;l||e.handleDayClick(bs(u),n)},e.onMonthMouseEnter=function(n){var s=e.isMonthDisabledForLabelDate(n),o=s.isDisabled,l=s.labelDate;o||e.handleDayMouseEnter(bs(l))},e.handleMonthNavigation=function(n,s){var o,l,u,h;(l=(o=e.props).setPreSelection)===null||l===void 0||l.call(o,s),(h=(u=e.MONTH_REFS[n])===null||u===void 0?void 0:u.current)===null||h===void 0||h.focus()},e.handleKeyboardNavigation=function(n,s,o){var l,u=e.props,h=u.selected,m=u.preSelection,p=u.setPreSelection,v=u.minDate,b=u.maxDate,S=u.showFourColumnMonthYearPicker,C=u.showTwoColumnMonthYearPicker;if(m){var _=g1(S,C),E=e.getVerticalOffset(_),I=(l=Pp[_])===null||l===void 0?void 0:l.grid,A=function(F,z,q){var te,ge,le=z,re=q;switch(F){case Ae.ArrowRight:le=dr(z,vd),re=q===11?0:q+vd;break;case Ae.ArrowLeft:le=Zi(z,vd),re=q===0?11:q-vd;break;case Ae.ArrowUp:le=Zi(z,E),re=!((te=I==null?void 0:I[0])===null||te===void 0)&&te.includes(q)?q+12-E:q-E;break;case Ae.ArrowDown:le=dr(z,E),re=!((ge=I==null?void 0:I[I.length-1])===null||ge===void 0)&&ge.includes(q)?q-12+E:q+E;break}return{newCalculatedDate:le,newCalculatedMonth:re}},M=function(F,z,q){for(var te=40,ge=F,le=!1,re=0,ee=A(ge,z,q),j=ee.newCalculatedDate,D=ee.newCalculatedMonth;!le;){if(re>=te){j=z,D=q;break}if(v&&j<v){ge=Ae.ArrowRight;var H=A(ge,j,D);j=H.newCalculatedDate,D=H.newCalculatedMonth}if(b&&j>b){ge=Ae.ArrowLeft;var H=A(ge,j,D);j=H.newCalculatedDate,D=H.newCalculatedMonth}if(sR(j,e.props)){var H=A(ge,j,D);j=H.newCalculatedDate,D=H.newCalculatedMonth}else le=!0;re++}return{newCalculatedDate:j,newCalculatedMonth:D}};if(s===Ae.Enter){e.isMonthDisabled(o)||(e.onMonthClick(n,o),p==null||p(h));return}var k=M(s,m,o),L=k.newCalculatedDate,U=k.newCalculatedMonth;switch(s){case Ae.ArrowRight:case Ae.ArrowLeft:case Ae.ArrowUp:case Ae.ArrowDown:e.handleMonthNavigation(U,L);break}}},e.getVerticalOffset=function(n){var s,o;return(o=(s=Pp[n])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&o!==void 0?o:0},e.onMonthKeyDown=function(n,s){var o=e.props,l=o.disabledKeyboardNavigation,u=o.handleOnMonthKeyDown,h=n.key;h!==Ae.Tab&&n.preventDefault(),l||e.handleKeyboardNavigation(n,h,s),u&&u(n)},e.onQuarterClick=function(n,s){var o=Fo(e.props.day,s);pd(o,e.props)||e.handleDayClick(t1(o),n)},e.onQuarterMouseEnter=function(n){var s=Fo(e.props.day,n);pd(s,e.props)||e.handleDayMouseEnter(t1(s))},e.handleQuarterNavigation=function(n,s){var o,l,u,h;e.isDisabled(s)||e.isExcluded(s)||((l=(o=e.props).setPreSelection)===null||l===void 0||l.call(o,s),(h=(u=e.QUARTER_REFS[n-1])===null||u===void 0?void 0:u.current)===null||h===void 0||h.focus())},e.onQuarterKeyDown=function(n,s){var o,l,u=n.key;if(!e.props.disabledKeyboardNavigation)switch(u){case Ae.Enter:e.onQuarterClick(n,s),(l=(o=e.props).setPreSelection)===null||l===void 0||l.call(o,e.props.selected);break;case Ae.ArrowRight:if(!e.props.preSelection)break;e.handleQuarterNavigation(s===4?1:s+1,uy(e.props.preSelection,1));break;case Ae.ArrowLeft:if(!e.props.preSelection)break;e.handleQuarterNavigation(s===1?4:s-1,CS(e.props.preSelection));break}},e.isMonthDisabledForLabelDate=function(n){var s,o=e.props,l=o.day,u=o.minDate,h=o.maxDate,m=o.excludeDates,p=o.includeDates,v=Ka(l,n);return{isDisabled:(s=(u||h||m||p)&&jS(v,e.props))!==null&&s!==void 0?s:!1,labelDate:v}},e.isMonthDisabled=function(n){var s=e.isMonthDisabledForLabelDate(n).isDisabled;return s},e.getMonthClassNames=function(n){var s=e.props,o=s.day,l=s.startDate,u=s.endDate,h=s.preSelection,m=s.monthClassName,p=m?m(Ka(o,n)):void 0,v=e.getSelection();return Hn("react-datepicker__month-text","react-datepicker__month-".concat(n),p,{"react-datepicker__month-text--disabled":e.isMonthDisabled(n),"react-datepicker__month-text--selected":v?e.isSelectMonthInList(o,n,v):void 0,"react-datepicker__month-text--keyboard-selected":!e.props.disabledKeyboardNavigation&&h&&e.isSelectedMonth(o,n,h)&&!e.isMonthSelected()&&!e.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":e.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":l&&u?md(l,u,n,o):void 0,"react-datepicker__month-text--range-start":e.isRangeStartMonth(n),"react-datepicker__month-text--range-end":e.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":e.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":e.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":e.isCurrentMonth(o,n)})},e.getTabIndex=function(n){if(e.props.preSelection==null)return"-1";var s=$n(e.props.preSelection),o=e.isMonthDisabledForLabelDate(s).isDisabled,l=n===s&&!(o||e.props.disabledKeyboardNavigation)?"0":"-1";return l},e.getQuarterTabIndex=function(n){if(e.props.preSelection==null)return"-1";var s=Gi(e.props.preSelection),o=pd(e.props.day,e.props),l=n===s&&!(o||e.props.disabledKeyboardNavigation)?"0":"-1";return l},e.getAriaLabel=function(n){var s=e.props,o=s.chooseDayAriaLabelPrefix,l=o===void 0?"Choose":o,u=s.disabledDayAriaLabelPrefix,h=u===void 0?"Not available":u,m=s.day,p=s.locale,v=Ka(m,n),b=e.isDisabled(v)||e.isExcluded(v)?h:l;return"".concat(b," ").concat(Zt(v,"MMMM yyyy",p))},e.getQuarterClassNames=function(n){var s=e.props,o=s.day,l=s.startDate,u=s.endDate,h=s.selected,m=s.minDate,p=s.maxDate,v=s.excludeDates,b=s.includeDates,S=s.filterDate,C=s.preSelection,_=s.disabledKeyboardNavigation,E=(m||p||v||b||S)&&pd(Fo(o,n),e.props);return Hn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":E,"react-datepicker__quarter-text--selected":h?e.isSelectedQuarter(o,n,h):void 0,"react-datepicker__quarter-text--keyboard-selected":!_&&C&&e.isSelectedQuarter(o,n,C)&&!E,"react-datepicker__quarter-text--in-selecting-range":e.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":l&&u?yd(l,u,n,o):void 0,"react-datepicker__quarter-text--range-start":e.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":e.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":e.isCurrentQuarter(o,n)})},e.getMonthContent=function(n){var s=e.props,o=s.showFullMonthYearPicker,l=s.renderMonthContent,u=s.locale,h=s.day,m=FS(n,u),p=Ey(n,u);return l?l(n,m,p,h):o?p:m},e.getQuarterContent=function(n){var s,o=e.props,l=o.renderQuarterContent,u=o.locale,h=rR(n,u);return(s=l==null?void 0:l(n,h))!==null&&s!==void 0?s:h},e.renderMonths=function(){var n,s=e.props,o=s.showTwoColumnMonthYearPicker,l=s.showFourColumnMonthYearPicker,u=s.day,h=s.selected,m=(n=Pp[g1(l,o)])===null||n===void 0?void 0:n.grid;return m==null?void 0:m.map(function(p,v){return f.createElement("div",{className:"react-datepicker__month-wrapper",key:v},p.map(function(b,S){return f.createElement("div",{ref:e.MONTH_REFS[b],key:S,onClick:function(C){e.onMonthClick(C,b)},onKeyDown:function(C){ZS(C)&&(C.preventDefault(),C.key=Ae.Enter),e.onMonthKeyDown(C,b)},onMouseEnter:e.props.usePointerEvent?void 0:function(){return e.onMonthMouseEnter(b)},onPointerEnter:e.props.usePointerEvent?function(){return e.onMonthMouseEnter(b)}:void 0,tabIndex:Number(e.getTabIndex(b)),className:e.getMonthClassNames(b),"aria-disabled":e.isMonthDisabled(b),role:"option","aria-label":e.getAriaLabel(b),"aria-current":e.isCurrentMonth(u,b)?"date":void 0,"aria-selected":h?e.isSelectedMonth(u,b,h):void 0},e.getMonthContent(b))}))})},e.renderQuarters=function(){var n=e.props,s=n.day,o=n.selected,l=[1,2,3,4];return f.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(u,h){return f.createElement("div",{key:h,ref:e.QUARTER_REFS[h],role:"option",onClick:function(m){e.onQuarterClick(m,u)},onKeyDown:function(m){e.onQuarterKeyDown(m,u)},onMouseEnter:e.props.usePointerEvent?void 0:function(){return e.onQuarterMouseEnter(u)},onPointerEnter:e.props.usePointerEvent?function(){return e.onQuarterMouseEnter(u)}:void 0,className:e.getQuarterClassNames(u),"aria-selected":o?e.isSelectedQuarter(s,u,o):void 0,tabIndex:Number(e.getQuarterTabIndex(u)),"aria-current":e.isCurrentQuarter(s,u)?"date":void 0},e.getQuarterContent(u))}))},e.getClassNames=function(){var n=e.props,s=n.selectingDate,o=n.selectsStart,l=n.selectsEnd,u=n.showMonthYearPicker,h=n.showQuarterYearPicker,m=n.showWeekPicker;return Hn("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(o||l)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":h},{"react-datepicker__weekPicker":m})},e}return a.prototype.getSelection=function(){var e=this.props,n=e.selected,s=e.selectedDates,o=e.selectsMultiple;if(o)return s;if(n)return[n]},a.prototype.render=function(){var e=this.props,n=e.showMonthYearPicker,s=e.showQuarterYearPicker,o=e.day,l=e.ariaLabelPrefix,u=l===void 0?"Month ":l,h=u?u.trim()+" ":"";return f.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(h).concat(Zt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},a}(w.Component),CR=function(t){Rn(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.isSelectedMonth=function(n){return e.props.month===n},e.renderOptions=function(){return e.props.monthNames.map(function(n,s){return f.createElement("div",{className:e.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:e.onChange.bind(e,s),"aria-selected":e.isSelectedMonth(s)?"true":void 0},e.isSelectedMonth(s)?f.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},e.onChange=function(n){return e.props.onChange(n)},e.handleClickOutside=function(){return e.props.onCancel()},e}return a.prototype.render=function(){return f.createElement(ih,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},a}(w.Component),SR=function(t){Rn(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(n){return n.map(function(s,o){return f.createElement("option",{key:s,value:o},s)})},e.renderSelectMode=function(n){return f.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(s){return e.onChange(parseInt(s.target.value))}},e.renderSelectOptions(n))},e.renderReadView=function(n,s){return f.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},f.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),f.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[e.props.month]))},e.renderDropdown=function(n){return f.createElement(CR,Ct({key:"dropdown"},e.props,{monthNames:n,onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(n){var s=e.state.dropdownVisible,o=[e.renderReadView(!s,n)];return s&&o.unshift(e.renderDropdown(n)),o},e.onChange=function(n){e.toggleDropdown(),n!==e.props.month&&e.props.onChange(n)},e.toggleDropdown=function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})},e}return a.prototype.render=function(){var e=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return FS(o,e.props.locale)}:function(o){return Ey(o,e.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(n);break;case"select":s=this.renderSelectMode(n);break}return f.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},a}(w.Component);function _R(t,a){for(var e=[],n=bs(t),s=bs(a);!_s(n,s);)e.push(It(n)),n=dr(n,1);return e}var ER=function(t){Rn(a,t);function a(e){var n=t.call(this,e)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(s){var o=bg(s),l=Lr(n.props.date,s)&&aa(n.props.date,s);return f.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":l?"true":void 0},l?f.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Zt(s,n.props.dateFormat,n.props.locale))})},n.onChange=function(s){return n.props.onChange(s)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:_R(n.props.minDate,n.props.maxDate)},n}return a.prototype.render=function(){var e=Hn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return f.createElement(ih,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},a}(w.Component),xR=function(t){Rn(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(){for(var n=bs(e.props.minDate),s=bs(e.props.maxDate),o=[];!_s(n,s);){var l=bg(n);o.push(f.createElement("option",{key:l,value:l},Zt(n,e.props.dateFormat,e.props.locale))),n=dr(n,1)}return o},e.onSelectChange=function(n){e.onChange(parseInt(n.target.value))},e.renderSelectMode=function(){return f.createElement("select",{value:bg(bs(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())},e.renderReadView=function(n){var s=Zt(e.props.date,e.props.dateFormat,e.props.locale);return f.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:e.toggleDropdown},f.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),f.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},e.renderDropdown=function(){return f.createElement(ER,Ct({key:"dropdown"},e.props,{onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(){var n=e.state.dropdownVisible,s=[e.renderReadView(!n)];return n&&s.unshift(e.renderDropdown()),s},e.onChange=function(n){e.toggleDropdown();var s=It(n);Lr(e.props.date,s)&&aa(e.props.date,s)||e.props.onChange(s)},e.toggleDropdown=function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})},e}return a.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode();break}return f.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},a}(w.Component),IR=function(t){Rn(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.state={height:null},e.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,s,o;e.list&&(e.list.scrollTop=(o=e.centerLi&&a.calcCenterPosition(e.props.monthRef?e.props.monthRef.clientHeight-((s=(n=e.header)===null||n===void 0?void 0:n.clientHeight)!==null&&s!==void 0?s:0):e.list.clientHeight,e.centerLi))!==null&&o!==void 0?o:0)})},e.handleClick=function(n){var s,o;(e.props.minTime||e.props.maxTime)&&i1(n,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&s1(n,e.props)||(o=(s=e.props).onChange)===null||o===void 0||o.call(s,n)},e.isSelectedTime=function(n){return e.props.selected&&mR(e.props.selected,n)},e.isDisabledTime=function(n){return(e.props.minTime||e.props.maxTime)&&i1(n,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&s1(n,e.props)},e.liClasses=function(n){var s,o=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(n):void 0];return e.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),e.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(ys(n)*3600+vs(n)*60+ci(n))%(((s=e.props.intervals)!==null&&s!==void 0?s:a.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},e.handleOnKeyDown=function(n,s){var o,l;n.key===Ae.Space&&(n.preventDefault(),n.key=Ae.Enter),(n.key===Ae.ArrowUp||n.key===Ae.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Ae.ArrowDown||n.key===Ae.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Ae.Enter&&e.handleClick(s),(l=(o=e.props).handleOnKeyDown)===null||l===void 0||l.call(o,n)},e.renderTimes=function(){for(var n,s=[],o=typeof e.props.format=="string"?e.props.format:"p",l=(n=e.props.intervals)!==null&&n!==void 0?n:a.defaultProps.intervals,u=e.props.selected||e.props.openToDate||It(),h=zd(u),m=e.props.injectTimes&&e.props.injectTimes.sort(function(E,I){return E.getTime()-I.getTime()}),p=60*hR(u),v=p/l,b=0;b<v;b++){var S=gg(h,b*l);if(s.push(S),m){var C=fR(h,S,b,l,m);s=s.concat(C)}}var _=s.reduce(function(E,I){return I.getTime()<=u.getTime()?I:E},s[0]);return s.map(function(E){return f.createElement("li",{key:E.valueOf(),onClick:e.handleClick.bind(e,E),className:e.liClasses(E),ref:function(I){E===_&&(e.centerLi=I)},onKeyDown:function(I){e.handleOnKeyDown(I,E)},tabIndex:E===_?0:-1,role:"option","aria-selected":e.isSelectedTime(E)?"true":void 0,"aria-disabled":e.isDisabledTime(E)?"true":void 0},Zt(E,o,e.props.locale))})},e.renderTimeCaption=function(){return e.props.showTimeCaption===!1?f.createElement(f.Fragment,null):f.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(e.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){e.header=n}},f.createElement("div",{className:"react-datepicker-time__header"},e.props.timeCaption))},e}return Object.defineProperty(a,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),a.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},a.prototype.componentWillUnmount=function(){var e;(e=this.resizeObserver)===null||e===void 0||e.disconnect()},a.prototype.observeDatePickerHeightChanges=function(){var e=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(n))},a.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},a.prototype.render=function(){var e=this,n,s=this.state.height;return f.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:a.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),f.createElement("div",{className:"react-datepicker__time"},f.createElement("div",{className:"react-datepicker__time-box"},f.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){e.list=o},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},a.calcCenterPosition=function(e,n){return n.offsetTop-(e/2-n.clientHeight/2)},a}(w.Component),y1=3,DR=function(t){Rn(a,t);function a(e){var n=t.call(this,e)||this;return n.YEAR_REFS=Br([],Array(n.props.yearItemNumber),!0).map(function(){return w.createRef()}),n.isDisabled=function(s){return Ja(s,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(s){return xy(s,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var s;return(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection},n.updateFocusOnPaginate=function(s){var o=function(){var l,u;(u=(l=n.YEAR_REFS[s])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(s,o){n.props.onDayClick&&n.props.onDayClick(s,o)},n.handleYearNavigation=function(s,o){var l,u,h,m,p=n.props,v=p.date,b=p.yearItemNumber;if(!(v===void 0||b===void 0)){var S=li(v,b).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((u=(l=n.props).setPreSelection)===null||u===void 0||u.call(l,o),s-S<0?n.updateFocusOnPaginate(b-(S-s)):s-S>=b?n.updateFocusOnPaginate(Math.abs(b-(s-S))):(m=(h=n.YEAR_REFS[s-S])===null||h===void 0?void 0:h.current)===null||m===void 0||m.focus())}},n.isSameDay=function(s,o){return wt(s,o)},n.isCurrentYear=function(s){return s===ct(It())},n.isRangeStart=function(s){return n.props.startDate&&n.props.endDate&&Lr(kr(It(),s),n.props.startDate)},n.isRangeEnd=function(s){return n.props.startDate&&n.props.endDate&&Lr(kr(It(),s),n.props.endDate)},n.isInRange=function(s){return gd(s,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(s){var o=n.props,l=o.selectsStart,u=o.selectsEnd,h=o.selectsRange,m=o.startDate,p=o.endDate;return!(l||u||h)||!n.selectingDate()?!1:l&&p?gd(s,n.selectingDate(),p):u&&m||h&&m&&!p?gd(s,m,n.selectingDate()):!1},n.isSelectingRangeStart=function(s){var o;if(!n.isInSelectingRange(s))return!1;var l=n.props,u=l.startDate,h=l.selectsStart,m=kr(It(),s);return h?Lr(m,(o=n.selectingDate())!==null&&o!==void 0?o:null):Lr(m,u??null)},n.isSelectingRangeEnd=function(s){var o;if(!n.isInSelectingRange(s))return!1;var l=n.props,u=l.endDate,h=l.selectsEnd,m=l.selectsRange,p=kr(It(),s);return h||m?Lr(p,(o=n.selectingDate())!==null&&o!==void 0?o:null):Lr(p,u??null)},n.isKeyboardSelected=function(s){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,l=o.minDate,u=o.maxDate,h=o.excludeDates,m=o.includeDates,p=o.filterDate,v=_c(kr(n.props.date,s)),b=(l||u||h||m||p)&&Hd(s,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!wt(v,_c(n.props.selected))&&wt(v,_c(n.props.preSelection))&&!b}},n.isSelectedYear=function(s){var o=n.props,l=o.selectsMultiple,u=o.selected,h=o.selectedDates;return l?h==null?void 0:h.some(function(m){return s===ct(m)}):!!u&&s===ct(u)},n.onYearClick=function(s,o){var l=n.props.date;l!==void 0&&n.handleYearClick(_c(kr(l,o)),s)},n.onYearKeyDown=function(s,o){var l,u,h=s.key,m=n.props,p=m.date,v=m.yearItemNumber,b=m.handleOnKeyDown;if(h!==Ae.Tab&&s.preventDefault(),!n.props.disabledKeyboardNavigation)switch(h){case Ae.Enter:if(n.props.selected==null)break;n.onYearClick(s,o),(u=(l=n.props).setPreSelection)===null||u===void 0||u.call(l,n.props.selected);break;case Ae.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,ps(n.props.preSelection,1));break;case Ae.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,Jo(n.props.preSelection,1));break;case Ae.ArrowUp:{if(p===void 0||v===void 0||n.props.preSelection==null)break;var S=li(p,v).startPeriod,C=y1,_=o-C;if(_<S){var E=v%C;o>=S&&o<S+E?C=E:C+=E,_=o-C}n.handleYearNavigation(_,Jo(n.props.preSelection,C));break}case Ae.ArrowDown:{if(p===void 0||v===void 0||n.props.preSelection==null)break;var I=li(p,v).endPeriod,C=y1,_=o+C;if(_>I){var E=v%C;o<=I&&o>I-E?C=E:C+=E,_=o+C}n.handleYearNavigation(_,ps(n.props.preSelection,C));break}}b&&b(s)},n.getYearClassNames=function(s){var o=n.props,l=o.date,u=o.minDate,h=o.maxDate,m=o.excludeDates,p=o.includeDates,v=o.filterDate,b=o.yearClassName;return Hn("react-datepicker__year-text","react-datepicker__year-".concat(s),l?b==null?void 0:b(kr(l,s)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(s),"react-datepicker__year-text--disabled":(u||h||m||p||v)&&Hd(s,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(s),"react-datepicker__year-text--range-start":n.isRangeStart(s),"react-datepicker__year-text--range-end":n.isRangeEnd(s),"react-datepicker__year-text--in-range":n.isInRange(s),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(s),"react-datepicker__year-text--today":n.isCurrentYear(s)})},n.getYearTabIndex=function(s){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=ct(n.props.preSelection),l=Hd(s,n.props);return s===o&&!l?"0":"-1"},n.getYearContent=function(s){return n.props.renderYearContent?n.props.renderYearContent(s):s},n}return a.prototype.render=function(){var e=this,n=[],s=this.props,o=s.date,l=s.yearItemNumber,u=s.onYearMouseEnter,h=s.onYearMouseLeave;if(o===void 0)return null;for(var m=li(o,l),p=m.startPeriod,v=m.endPeriod,b=function(_){n.push(f.createElement("div",{ref:S.YEAR_REFS[_-p],onClick:function(E){e.onYearClick(E,_)},onKeyDown:function(E){ZS(E)&&(E.preventDefault(),E.key=Ae.Enter),e.onYearKeyDown(E,_)},tabIndex:Number(S.getYearTabIndex(_)),className:S.getYearClassNames(_),onMouseEnter:S.props.usePointerEvent?void 0:function(E){return u(E,_)},onPointerEnter:S.props.usePointerEvent?function(E){return u(E,_)}:void 0,onMouseLeave:S.props.usePointerEvent?void 0:function(E){return h(E,_)},onPointerLeave:S.props.usePointerEvent?function(E){return h(E,_)}:void 0,key:_,"aria-current":S.isCurrentYear(_)?"date":void 0},S.getYearContent(_)))},S=this,C=p;C<=v;C++)b(C);return f.createElement("div",{className:"react-datepicker__year"},f.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},a}(w.Component);function MR(t,a,e,n){for(var s=[],o=0;o<2*a+1;o++){var l=t+a-o,u=!0;e&&(u=ct(e)<=l),n&&u&&(u=ct(n)>=l),u&&s.push(l)}return s}var AR=function(t){Rn(a,t);function a(e){var n=t.call(this,e)||this;n.renderOptions=function(){var u=n.props.year,h=n.state.yearsList.map(function(v){return f.createElement("div",{className:u===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:n.onChange.bind(n,v),"aria-selected":u===v?"true":void 0},u===v?f.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",v)}),m=n.props.minDate?ct(n.props.minDate):null,p=n.props.maxDate?ct(n.props.maxDate):null;return(!p||!n.state.yearsList.find(function(v){return v===p}))&&h.unshift(f.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},f.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!n.state.yearsList.find(function(v){return v===m}))&&h.push(f.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},f.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),h},n.onChange=function(u){n.props.onChange(u)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(u){var h=n.state.yearsList.map(function(m){return m+u});n.setState({yearsList:h})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var s=e.yearDropdownItemNumber,o=e.scrollableYearDropdown,l=s||(o?10:5);return n.state={yearsList:MR(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=w.createRef(),n}return a.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var n=e.children?Array.from(e.children):null,s=n?n.find(function(o){return o.ariaSelected}):null;e.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},a.prototype.render=function(){var e=Hn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return f.createElement(ih,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},a}(w.Component),TR=function(t){Rn(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(){for(var n=e.props.minDate?ct(e.props.minDate):1900,s=e.props.maxDate?ct(e.props.maxDate):2100,o=[],l=n;l<=s;l++)o.push(f.createElement("option",{key:l,value:l},l));return o},e.onSelectChange=function(n){e.onChange(parseInt(n.target.value))},e.renderSelectMode=function(){return f.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())},e.renderReadView=function(n){return f.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return e.toggleDropdown(s)}},f.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),f.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))},e.renderDropdown=function(){return f.createElement(AR,Ct({key:"dropdown"},e.props,{onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(){var n=e.state.dropdownVisible,s=[e.renderReadView(!n)];return n&&s.unshift(e.renderDropdown()),s},e.onChange=function(n){e.toggleDropdown(),n!==e.props.year&&e.props.onChange(n)},e.toggleDropdown=function(n){e.setState({dropdownVisible:!e.state.dropdownVisible},function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,n)})},e.handleYearChange=function(n,s){var o;(o=e.onSelect)===null||o===void 0||o.call(e,n,s),e.setOpen()},e.onSelect=function(n,s){var o,l;(l=(o=e.props).onSelect)===null||l===void 0||l.call(o,n,s)},e.setOpen=function(){var n,s;(s=(n=e.props).setOpen)===null||s===void 0||s.call(n,!0)},e}return a.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode();break}return f.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},a}(w.Component),NR=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],RR=function(t){var a=(t.className||"").split(/\s+/);return NR.some(function(e){return a.indexOf(e)>=0})},kR=function(t){Rn(a,t);function a(e){var n=t.call(this,e)||this;return n.monthContainer=void 0,n.handleClickOutside=function(s){n.props.onClickOutside(s)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(s){var o,l;RR(s.target)&&((l=(o=n.props).onDropdownFocus)===null||l===void 0||l.call(o,s))},n.getDateInView=function(){var s=n.props,o=s.preSelection,l=s.selected,u=s.openToDate,h=WS(n.props),m=GS(n.props),p=It(),v=u||l||o;return v||(h&&Xi(p,h)?h:m&&_s(p,m)?m:p)},n.increaseMonth=function(){n.setState(function(s){var o=s.date;return{date:dr(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(s){var o=s.date;return{date:Zi(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(s,o,l){n.props.onSelect(s,o,l),n.props.setPreSelection&&n.props.setPreSelection(s)},n.handleDayMouseEnter=function(s){n.setState({selectingDate:s}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(s)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(s,o){n.setState({selectingDate:kr(It(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(s,o)},n.handleYearMouseLeave=function(s,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(s,o)},n.handleYearChange=function(s){var o,l,u,h;(l=(o=n.props).onYearChange)===null||l===void 0||l.call(o,s),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(s),(h=(u=n.props).setOpen)===null||h===void 0||h.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(s)},n.getEnabledPreSelectionDateForMonth=function(s){if(!Ja(s,n.props))return s;for(var o=bs(s),l=eR(s),u=oS(l,o),h=null,m=0;m<=u;m++){var p=ur(o,m);if(!Ja(p,n.props)){h=p;break}}return h},n.handleMonthChange=function(s){var o,l,u,h=(o=n.getEnabledPreSelectionDateForMonth(s))!==null&&o!==void 0?o:s;n.handleCustomMonthChange(h),n.props.adjustDateOnChange&&(n.props.onSelect(h),(u=(l=n.props).setOpen)===null||u===void 0||u.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(h)},n.handleCustomMonthChange=function(s){var o,l;(l=(o=n.props).onMonthChange)===null||l===void 0||l.call(o,s),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(s){n.handleYearChange(s),n.handleMonthChange(s)},n.changeYear=function(s){n.setState(function(o){var l=o.date;return{date:kr(l,Number(s))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(s){n.setState(function(o){var l=o.date;return{date:Ka(l,Number(s))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(s){n.setState(function(o){var l=o.date;return{date:kr(Ka(l,$n(s)),ct(s))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(s){s===void 0&&(s=n.state.date);var o=di(s,n.props.locale,n.props.calendarStartDay),l=[];return n.props.showWeekNumbers&&l.push(f.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(u){var h=ur(o,u),m=n.formatWeekday(h,n.props.locale),p=n.props.weekDayClassName?n.props.weekDayClassName(h):void 0;return f.createElement("div",{key:u,"aria-label":Zt(h,"EEEE",n.props.locale),className:Hn("react-datepicker__day-name",p)},m)}))},n.formatWeekday=function(s,o){return n.props.formatWeekDay?tR(s,n.props.formatWeekDay,o):n.props.useWeekdaysShort?aR(s,o):nR(s,o)},n.decreaseYear=function(){n.setState(function(s){var o,l=s.date;return{date:Jo(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:a.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var s,o,l;if(!n.props.renderCustomHeader){var u=(s=n.props.monthsShown)!==null&&s!==void 0?s:a.defaultProps.monthsShown,h=n.props.showPreviousMonths?u-1:0,m=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:h,p=Zi(n.state.date,m),v;switch(!0){case n.props.showMonthYearPicker:v=c1(n.state.date,n.props);break;case n.props.showYearPicker:v=lR(n.state.date,n.props);break;case n.props.showQuarterYearPicker:v=iR(n.state.date,n.props);break;default:v=o1(p,n.props);break}if(!(!((l=n.props.forceShowMonthNavigation)!==null&&l!==void 0?l:a.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&v||n.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],S=["react-datepicker__navigation","react-datepicker__navigation--previous"],C=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(C=n.decreaseYear),v&&n.props.showDisabledMonthNavigation&&(S.push("react-datepicker__navigation--previous--disabled"),C=void 0);var _=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,E=n.props,I=E.previousMonthButtonLabel,A=I===void 0?a.defaultProps.previousMonthButtonLabel:I,M=E.previousYearButtonLabel,k=M===void 0?a.defaultProps.previousYearButtonLabel:M,L=n.props,U=L.previousMonthAriaLabel,F=U===void 0?typeof A=="string"?A:"Previous Month":U,z=L.previousYearAriaLabel,q=z===void 0?typeof k=="string"?k:"Previous Year":z;return f.createElement("button",{type:"button",className:S.join(" "),onClick:C,onKeyDown:n.props.handleOnKeyDown,"aria-label":_?q:F},f.createElement("span",{className:b.join(" ")},_?k:A))}}},n.increaseYear=function(){n.setState(function(s){var o,l=s.date;return{date:ps(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:a.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var s;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=u1(n.state.date,n.props);break;case n.props.showYearPicker:o=cR(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=oR(n.state.date,n.props);break;default:o=l1(n.state.date,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:a.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var h=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(h=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),h=void 0);var m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,p=n.props,v=p.nextMonthButtonLabel,b=v===void 0?a.defaultProps.nextMonthButtonLabel:v,S=p.nextYearButtonLabel,C=S===void 0?a.defaultProps.nextYearButtonLabel:S,_=n.props,E=_.nextMonthAriaLabel,I=E===void 0?typeof b=="string"?b:"Next Month":E,A=_.nextYearAriaLabel,M=A===void 0?typeof C=="string"?C:"Next Year":A;return f.createElement("button",{type:"button",className:l.join(" "),onClick:h,onKeyDown:n.props.handleOnKeyDown,"aria-label":m?M:I},f.createElement("span",{className:u.join(" ")},m?C:b))}}},n.renderCurrentMonth=function(s){s===void 0&&(s=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),f.createElement("h2",{className:o.join(" ")},Zt(s,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showYearDropdown||s))return f.createElement(TR,Ct({},a.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:ct(n.state.date)}))},n.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthDropdown||s))return f.createElement(SR,Ct({},a.defaultProps,n.props,{month:$n(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthYearDropdown||s))return f.createElement(xR,Ct({},a.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(s){n.props.onSelect(n1(),s),n.props.setPreSelection&&n.props.setPreSelection(n1())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return f.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(s){var o=s.monthDate,l=s.i;return f.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),f.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(l!==0),n.renderMonthYearDropdown(l!==0),n.renderYearDropdown(l!==0)),f.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(s){var o,l,u=s.monthDate,h=s.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var m=o1(n.state.date,n.props),p=l1(n.state.date,n.props),v=c1(n.state.date,n.props),b=u1(n.state.date,n.props),S=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return f.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(l=(o=n.props).renderCustomHeader)===null||l===void 0?void 0:l.call(o,Ct(Ct({},n.state),{customHeaderCount:h,monthDate:u,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:m,nextMonthButtonDisabled:p,prevYearButtonDisabled:v,nextYearButtonDisabled:b})),S&&f.createElement("div",{className:"react-datepicker__day-names"},n.header(u)))},n.renderYearHeader=function(s){var o=s.monthDate,l=n.props,u=l.showYearPicker,h=l.yearItemNumber,m=h===void 0?a.defaultProps.yearItemNumber:h,p=li(o,m),v=p.startPeriod,b=p.endPeriod;return f.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(v," - ").concat(b):ct(o))},n.renderHeader=function(s){var o=s.monthDate,l=s.i,u=l===void 0?0:l,h={monthDate:o,i:u};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(h);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(h);default:return n.renderDefaultHeader(h)}},n.renderMonths=function(){var s,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var l=[],u=(s=n.props.monthsShown)!==null&&s!==void 0?s:a.defaultProps.monthsShown,h=n.props.showPreviousMonths?u-1:0,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ps(n.state.date,h):Zi(n.state.date,h),p=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:h,v=0;v<u;++v){var b=v-p+h,S=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ps(m,b):dr(m,b),C="month-".concat(v),_=v<u-1,E=v>0;l.push(f.createElement("div",{key:C,ref:function(I){n.monthContainer=I??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:S,i:v}),f.createElement(wR,Ct({},a.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:S,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:v,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:_,monthShowsDuplicateDaysStart:E}))))}return l}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return f.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),f.createElement(DR,Ct({},a.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return f.createElement(IR,Ct({},a.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var s=n.props.selected?new Date(n.props.selected):void 0,o=s&&oh(s)&&!!n.props.selected,l=o?"".concat(f1(s.getHours()),":").concat(f1(s.getMinutes())):"";if(n.props.showTimeInput)return f.createElement(pR,Ct({},a.defaultProps,n.props,{date:s,timeString:l,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var s,o=li(n.state.date,(s=n.props.yearItemNumber)!==null&&s!==void 0?s:a.defaultProps.yearItemNumber),l=o.startPeriod,u=o.endPeriod,h;return n.props.showYearPicker?h="".concat(l," - ").concat(u):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?h=ct(n.state.date):h="".concat(Ey($n(n.state.date),n.props.locale)," ").concat(ct(n.state.date)),f.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&h)},n.renderChildren=function(){if(n.props.children)return f.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=w.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(a,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Jc}},enumerable:!1,configurable:!0}),a.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){e.setState({monthContainer:e.monthContainer})}())},a.prototype.componentDidUpdate=function(e){var n=this;if(this.props.preSelection&&(!wt(this.props.preSelection,e.preSelection)||this.props.monthSelectedIn!==e.monthSelectedIn)){var s=!aa(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!wt(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate})},a.prototype.render=function(){var e=this.props.container||$3;return f.createElement(ih,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},f.createElement("div",{style:{display:"contents"},ref:this.containerRef},f.createElement(e,{className:Hn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},a}(w.Component),LR=function(t){var a=t.icon,e=t.className,n=e===void 0?"":e,s=t.onClick,o="react-datepicker__calendar-icon";if(typeof a=="string")return f.createElement("i",{className:"".concat(o," ").concat(a," ").concat(n),"aria-hidden":"true",onClick:s});if(f.isValidElement(a)){var l=a;return f.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(o," ").concat(n),onClick:function(u){typeof l.props.onClick=="function"&&l.props.onClick(u),typeof s=="function"&&s(u)}})}return f.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},f.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},$S=function(t){Rn(a,t);function a(e){var n=t.call(this,e)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return a.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},a.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},a.prototype.render=function(){return Qc.createPortal(this.props.children,this.el)},a}(w.Component),PR="[tabindex], a, button, input, select, textarea",OR=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},qS=function(t){Rn(a,t);function a(e){var n=t.call(this,e)||this;return n.getTabChildren=function(){var s;return Array.prototype.slice.call((s=n.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(PR),1,-1).filter(OR)},n.handleFocusStart=function(){var s=n.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},n.handleFocusEnd=function(){var s=n.getTabChildren();s&&s.length>1&&s[0].focus()},n.tabLoopRef=w.createRef(),n}return a.prototype.render=function(){var e;return((e=this.props.enableTabLoop)!==null&&e!==void 0?e:a.defaultProps.enableTabLoop)?f.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},f.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,f.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},a.defaultProps={enableTabLoop:!0},a}(w.Component);function BR(t){var a=function(e){var n,s=typeof e.hidePopper=="boolean"?e.hidePopper:!0,o=w.useRef(null),l=Z3(Ct({open:!s,whileElementsMounted:I3,placement:e.popperPlacement,middleware:Br([k3({padding:15}),R3(10),L3({element:o})],(n=e.popperModifiers)!==null&&n!==void 0?n:[],!0)},e.popperProps)),u=Ct(Ct({},e),{hidePopper:s,popperProps:Ct(Ct({},l),{arrowRef:o})});return f.createElement(t,Ct({},u))};return a}var UR=function(t){Rn(a,t);function a(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(a,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),a.prototype.render=function(){var e=this.props,n=e.className,s=e.wrapperClassName,o=e.hidePopper,l=o===void 0?a.defaultProps.hidePopper:o,u=e.popperComponent,h=e.targetComponent,m=e.enableTabLoop,p=e.popperOnKeyDown,v=e.portalId,b=e.portalHost,S=e.popperProps,C=e.showArrow,_=void 0;if(!l){var E=Hn("react-datepicker-popper",n);_=f.createElement(qS,{enableTabLoop:m},f.createElement("div",{ref:S.refs.setFloating,style:S.floatingStyles,className:E,"data-placement":S.placement,onKeyDown:p},u,C&&f.createElement(z3,{ref:S.arrowRef,context:S.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(_=w.createElement(this.props.popperContainer,{},_)),v&&!l&&(_=f.createElement($S,{portalId:v,portalHost:b},_));var I=Hn("react-datepicker-wrapper",s);return f.createElement(f.Fragment,null,f.createElement("div",{ref:S.refs.setReference,className:I},h),_)},a}(w.Component),zR=BR(UR),v1="react-datepicker-ignore-onclickoutside";function HR(t,a){return t&&a?$n(t)!==$n(a)||ct(t)!==ct(a):t!==a}var Op="Date input not valid.",QS=function(t){Rn(a,t);function a(e){var n=t.call(this,e)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:It()},n.modifyHolidays=function(){var s;return(s=n.props.holidays)===null||s===void 0?void 0:s.reduce(function(o,l){var u=new Date(l.date);return oh(u)?Br(Br([],o,!0),[Ct(Ct({},l),{date:u})],!1):o},[])},n.calcInitialState=function(){var s,o=n.getPreSelection(),l=WS(n.props),u=GS(n.props),h=l&&Xi(o,zd(l))?l:u&&_s(o,a1(u))?u:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&s!==void 0?s:h,highlightDates:d1(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Ct(Ct({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Ct(Ct({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var s,o;(o=(s=n.input)===null||s===void 0?void 0:s.focus)===null||o===void 0||o.call(s,{preventScroll:!0})},n.setBlur=function(){var s,o;(o=(s=n.input)===null||s===void 0?void 0:s.blur)===null||o===void 0||o.call(s),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(s,o){o===void 0&&(o=!1),n.setState({open:s,preSelection:s&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Bp},function(){s||n.setState(function(l){return{focused:o?l.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return gs(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(s){var o,l,u=n.state.wasHidden,h=u?n.state.open:!0;u&&n.resetHiddenStatus(),n.state.preventFocus||((l=(o=n.props).onFocus)===null||l===void 0||l.call(o,s),h&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(s){var o,l;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((l=(o=n.props).onBlur)===null||l===void 0||l.call(o,s)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(s){var o,l;n.props.inline||n.setOpen(!1),(l=(o=n.props).onClickOutside)===null||l===void 0||l.call(o,s),n.props.withPortal&&s.preventDefault()},n.handleChange=function(){for(var s,o,l,u,h,m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];var v=m[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,m),!v||typeof v.isDefaultPrevented!="function"||v.isDefaultPrevented()))){n.setState({inputValue:(v==null?void 0:v.target)instanceof HTMLInputElement?v.target.value:null,lastPreSelectChange:YR});var b=n.props,S=b.selectsRange,C=b.startDate,_=b.endDate,E=(s=n.props.dateFormat)!==null&&s!==void 0?s:a.defaultProps.dateFormat,I=(o=n.props.strictParsing)!==null&&o!==void 0?o:a.defaultProps.strictParsing,A=(v==null?void 0:v.target)instanceof HTMLInputElement?v.target.value:"";if(S){var M=A.split(E.includes("-")?YS:"-",2).map(function(ge){return ge.trim()}),k=M[0],L=M[1],U=kp(k??"",E,n.props.locale,I),F=kp(L??"",E,n.props.locale,I),z=(C==null?void 0:C.getTime())!==(U==null?void 0:U.getTime()),q=(_==null?void 0:_.getTime())!==(F==null?void 0:F.getTime());if(!z&&!q||U&&Ja(U,n.props)||F&&Ja(F,n.props))return;(u=(l=n.props).onChange)===null||u===void 0||u.call(l,[U,F],v)}else{var te=kp(A,E,n.props.locale,I,(h=n.props.selected)!==null&&h!==void 0?h:void 0);(te||!A)&&n.setSelected(te,v,!0)}}},n.handleSelect=function(s,o,l){if(!n.props.readOnly){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(s,o,!1,l),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(s);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var u=n.props,h=u.startDate,m=u.endDate;h&&!m&&(n.props.swapRange||!p1(s,h))&&n.setOpen(!1)}}},n.setSelected=function(s,o,l,u){var h,m,p=s;if(n.props.showYearPicker){if(p!==null&&Hd(ct(p),n.props))return}else if(n.props.showMonthYearPicker){if(p!==null&&jS(p,n.props))return}else if(p!==null&&Ja(p,n.props))return;var v=n.props,b=v.onChange,S=v.selectsRange,C=v.startDate,_=v.endDate,E=v.selectsMultiple,I=v.selectedDates,A=v.minTime,M=v.swapRange;if(!Fi(n.props.selected,p)||n.props.allowSameDay||S||E)if(p!==null&&(n.props.selected&&(!l||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(p=Lp(p,{hour:ys(n.props.selected),minute:vs(n.props.selected),second:ci(n.props.selected)})),!l&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&A&&(p=Lp(p,{hour:A.getHours(),minute:A.getMinutes(),second:A.getSeconds()})),n.props.inline||n.setState({preSelection:p}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:u})),S){var k=!C&&!_,L=C&&!_,U=C&&_;k?b==null||b([p,null],o):L&&(p===null?b==null||b([null,null],o):p1(p,C)?M?b==null||b([p,C],o):b==null||b([p,null],o):b==null||b([C,p],o)),U&&(b==null||b([p,null],o))}else if(E){if(p!==null)if(!(I!=null&&I.length))b==null||b([p],o);else{var F=I.some(function(q){return wt(q,p)});if(F){var z=I.filter(function(q){return!wt(q,p)});b==null||b(z,o)}else b==null||b(Br(Br([],I,!0),[p],!1),o)}}else b==null||b(p,o);l||((m=(h=n.props).onSelect)===null||m===void 0||m.call(h,p,o),n.setState({inputValue:null}))},n.setPreSelection=function(s){if(!n.props.readOnly){var o=gs(n.props.minDate),l=gs(n.props.maxDate),u=!0;if(s){var h=zd(s);if(o&&l)u=Ec(s,n.props.minDate,n.props.maxDate);else if(o){var m=zd(n.props.minDate);u=_s(s,m)||Fi(h,m)}else if(l){var p=a1(n.props.maxDate);u=Xi(s,p)||Fi(h,p)}}u&&n.setState({preSelection:s})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(s){var o,l;if(!(n.props.selectsRange||n.props.selectsMultiple)){var u=n.props.selected?n.props.selected:n.getPreSelection(),h=n.props.selected?s:Lp(u,{hour:ys(s),minute:vs(s)});n.setState({preSelection:h}),(l=(o=n.props).onChange)===null||l===void 0||l.call(o,h),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var s,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(s=n.props).onInputClick)===null||o===void 0||o.call(s)},n.onInputKeyDown=function(s){var o,l,u,h,m,p;(l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,s);var v=s.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(v===Ae.ArrowDown||v===Ae.ArrowUp||v===Ae.Enter)&&((u=n.onInputClick)===null||u===void 0||u.call(n));return}if(n.state.open){if(v===Ae.ArrowDown||v===Ae.ArrowUp){s.preventDefault();var b=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',S=((h=n.calendar)===null||h===void 0?void 0:h.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(b);S instanceof HTMLElement&&S.focus({preventScroll:!0});return}var C=It(n.state.preSelection);v===Ae.Enter?(s.preventDefault(),s.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Bp?(n.handleSelect(C,s),!n.props.shouldCloseOnSelect&&n.setPreSelection(C)):n.setOpen(!1)):v===Ae.Escape?(s.preventDefault(),s.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):v===Ae.Tab&&n.setOpen(!1),n.inputOk()||(p=(m=n.props).onInputError)===null||p===void 0||p.call(m,{code:1,msg:Op})}},n.onPortalKeyDown=function(s){var o=s.key;o===Ae.Escape&&(s.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(s){var o,l,u,h,m,p,v=n.props,b=v.minDate,S=v.maxDate,C=v.disabledKeyboardNavigation,_=v.showWeekPicker,E=v.shouldCloseOnSelect,I=v.locale,A=v.calendarStartDay,M=v.adjustDateOnChange,k=v.inline;if((l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,s),!C){var L=s.key,U=s.shiftKey,F=It(n.state.preSelection),z=function(j,D){var H=D;switch(j){case Ae.ArrowRight:H=_?Kd(D,1):ur(D,1);break;case Ae.ArrowLeft:H=_?Yw(D):kA(D);break;case Ae.ArrowUp:H=Yw(D);break;case Ae.ArrowDown:H=Kd(D,1);break;case Ae.PageUp:H=U?Jo(D,1):Zi(D,1);break;case Ae.PageDown:H=U?ps(D,1):dr(D,1);break;case Ae.Home:H=di(D,I,A);break;case Ae.End:H=J3(D);break}return H},q=function(j,D){for(var H=40,V=j,W=!1,R=0,B=z(j,D);!W;){if(R>=H){B=D;break}b&&B<b&&(V=Ae.ArrowRight,B=Ja(b,n.props)?z(V,B):b),S&&B>S&&(V=Ae.ArrowLeft,B=Ja(S,n.props)?z(V,B):S),Ja(B,n.props)?((V===Ae.PageUp||V===Ae.Home)&&(V=Ae.ArrowRight),(V===Ae.PageDown||V===Ae.End)&&(V=Ae.ArrowLeft),B=z(V,B)):W=!0,R++}return B};if(L===Ae.Enter){s.preventDefault(),n.handleSelect(F,s),!E&&n.setPreSelection(F);return}else if(L===Ae.Escape){s.preventDefault(),n.setOpen(!1),n.inputOk()||(h=(u=n.props).onInputError)===null||h===void 0||h.call(u,{code:1,msg:Op});return}var te=null;switch(L){case Ae.ArrowLeft:case Ae.ArrowRight:case Ae.ArrowUp:case Ae.ArrowDown:case Ae.PageUp:case Ae.PageDown:case Ae.Home:case Ae.End:te=q(L,F);break}if(!te){(p=(m=n.props).onInputError)===null||p===void 0||p.call(m,{code:1,msg:Op});return}if(s.preventDefault(),n.setState({lastPreSelectChange:Bp}),M&&n.setSelected(te),n.setPreSelection(te),k){var ge=$n(F),le=$n(te),re=ct(F),ee=ct(te);ge!==le||re!==ee?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(s){var o=s.key;o===Ae.Escape&&(s.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),n.sendFocusBackToInput();var o=n.props,l=o.selectsRange,u=o.onChange;l?u==null||u([null,null],s):u==null||u(null,s),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(s){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(s)&&n.setOpen(!1)},n.renderCalendar=function(){var s,o;return!n.props.inline&&!n.isCalendarOpen()?null:f.createElement(kR,Ct({showMonthYearDropdown:void 0,ref:function(l){n.calendar=l}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(s=n.props.dateFormatCalendar)!==null&&s!==void 0?s:a.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:dR(n.modifyHolidays()),outsideClickIgnoreClass:v1,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:a.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var s=n.props,o=s.dateFormat,l=o===void 0?a.defaultProps.dateFormat:o,u=s.locale,h=n.props.showTimeInput||n.props.showTimeSelect,m=h?"PPPPp":"PPPP",p;return n.props.selectsRange?p="Selected start date: ".concat(Xa(n.props.startDate,{dateFormat:m,locale:u}),". ").concat(n.props.endDate?"End date: "+Xa(n.props.endDate,{dateFormat:m,locale:u}):""):n.props.showTimeSelectOnly?p="Selected time: ".concat(Xa(n.props.selected,{dateFormat:l,locale:u})):n.props.showYearPicker?p="Selected year: ".concat(Xa(n.props.selected,{dateFormat:"yyyy",locale:u})):n.props.showMonthYearPicker?p="Selected month: ".concat(Xa(n.props.selected,{dateFormat:"MMMM yyyy",locale:u})):n.props.showQuarterYearPicker?p="Selected quarter: ".concat(Xa(n.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):p="Selected date: ".concat(Xa(n.props.selected,{dateFormat:m,locale:u})),f.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},n.renderDateInput=function(){var s,o,l,u=Hn(n.props.className,(s={},s[v1]=n.state.open,s)),h=n.props.customInput||f.createElement("input",{type:"text"}),m=n.props.customInputRef||"ref",p=n.props,v=p.dateFormat,b=v===void 0?a.defaultProps.dateFormat:v,S=p.locale,C=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?Q3(n.props.startDate,n.props.endDate,{dateFormat:b,locale:S}):n.props.selectsMultiple?V3((l=n.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:b,locale:S}):Xa(n.props.selected,{dateFormat:b,locale:S});return w.cloneElement(h,(o={},o[m]=function(_){n.input=_},o.value=C,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=Hn(h.props.className,u),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var s=n.props,o=s.isClearable,l=s.disabled,u=s.selected,h=s.startDate,m=s.endDate,p=s.clearButtonTitle,v=s.clearButtonClassName,b=v===void 0?"":v,S=s.ariaLabelClose,C=S===void 0?"Close":S,_=s.selectedDates,E=s.readOnly;return o&&!E&&(u!=null||h!=null||m!=null||_!=null&&_.length)?f.createElement("button",{type:"button",className:Hn("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":C,onClick:n.onClearClick,title:p,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(a,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Jc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),a.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},a.prototype.componentDidUpdate=function(e,n){var s,o,l,u;e.inline&&HR(e.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:d1(this.props.highlightDates)}),!n.focused&&!Fi(e.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(s=this.props).onCalendarOpen)===null||o===void 0||o.call(s)),n.open===!0&&this.state.open===!1&&((u=(l=this.props).onCalendarClose)===null||u===void 0||u.call(l)))},a.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},a.prototype.renderInputContainer=function(){var e=this.props,n=e.showIcon,s=e.icon,o=e.calendarIconClassname,l=e.calendarIconClassName,u=e.toggleCalendarOnIconClick,h=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),f.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&f.createElement(LR,Ct({icon:s,className:Hn(l,!l&&o,h&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},a.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var n=this.state.open?f.createElement(qS,{enableTabLoop:this.props.enableTabLoop},f.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(n=f.createElement($S,Ct({portalId:this.props.portalId},this.props),n)),f.createElement("div",null,this.renderInputContainer(),n)}return f.createElement(zR,Ct({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},a}(w.Component),YR="input",Bp="navigate";function b1(t){if(!t||typeof t!="string"||!t.match(/\d/))return{h:0,m:0};const[a,e]=t.trim().split(/\s+/);let[n,s]=a.split(":").map(Number);return e&&e.toLowerCase()==="pm"&&n!==12&&(n+=12),e&&e.toLowerCase()==="am"&&n===12&&(n=0),{h:n,m:s}}function Iy(t,a,e=30){const n=b1(t),s=b1(a),o=[];let l=new Date(0,0,0,n.h,n.m);const u=new Date(0,0,0,s.h,s.m);for(;l<=u;){const h=l.getHours(),m=l.getMinutes();let p=(h%12||12)+":"+(m<10?"0":"")+m+(h<12?" AM":" PM");o.push(p),l=new Date(l.getTime()+e*6e4)}return o}function FR(t){const a={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6},e=new Date,n=e.getDay();let o=(a[t]-n+7)%7;o===0&&(o=7);const l=new Date(e);return l.setDate(e.getDate()+o),l}function jR({proposal:t,open:a,onClose:e,onSubmit:n,senderPlayer:s,phase:o,selectedDivision:l}){var V;const[u,h]=w.useState(new Date),[m,p]=w.useState(""),[v,b]=w.useState(""),[S,C]=w.useState(""),[_,E]=w.useState(""),[I,A]=w.useState(""),[M,k]=w.useState(""),[L,U]=w.useState("");w.useEffect(()=>{if(t&&a){if(t.date){const[W,R,B]=t.date.split("-");h(new Date(parseInt(W),parseInt(R)-1,parseInt(B)))}p(""),b(""),C(t.location||""),E(t.gameType||"8 Ball"),A(t.raceLength||(o==="scheduled"||o==="challenge"?5:7)),k("")}},[t,a,o]),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][u.getDay()];const q=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][u.getDay()],te=((V=s==null?void 0:s.availability)==null?void 0:V[q])||[],ge=["6:00 PM - 8:00 PM","8:00 PM - 10:00 PM","10:00 PM - 12:00 AM"],le=te.length>0?te:ge,re=s!=null&&s.locations?s.locations.split(/\r?\n/).map(W=>W.trim()).filter(Boolean):[],ee=w.useMemo(()=>{if(!m)return[];const W=m.replace(/[–—−]/g,"-").replace(/\s*-\s*/g," - ").trim();if(!W.includes(" - "))return[];let[R,B]=W.split(" - ").map(Z=>j(Z.trim()));return!R||!B?[]:Iy(R,B,30)},[m]);function j(W){let R=W.trim();R=R.replace(/(\d{1,2}):(\d{2})\s*(am|pm)/i,(Z,K,se,Ie)=>`${parseInt(K,10)}:${se} ${Ie.toUpperCase()}`),R=R.replace(/^(\d{1,2})(\d{2})(am|pm)$/i,(Z,K,se,Ie)=>`${parseInt(K,10)}:${se} ${Ie.toUpperCase()}`),R=R.replace(/^(\d{1,2})(am|pm)$/i,(Z,K,se)=>`${parseInt(K,10)}:00 ${se.toUpperCase()}`),R=R.replace(/(am|pm)$/i," $1"),R=R.replace(/(am|pm)$/i,Z=>Z.toUpperCase());const B=R.match(/^(\d{1,2}):(\d{2}) (AM|PM)$/i);if(B){const Z=B[1],K=B[2],se=B[3].toUpperCase();return`${Z}:${K} ${se}`}return R}function D(W){if(!W)return"";const R=new Date(W),B=String(R.getMonth()+1).padStart(2,"0"),Z=String(R.getDate()).padStart(2,"0"),K=R.getFullYear();return`${B}-${Z}-${K}`}const H=W=>{if(W.preventDefault(),!u||!v||!S){U("Please fill in all required fields.");return}U(""),n({date:D(u),time:v,location:S,gameType:_,raceLength:I,note:M})};return!a||!t?null:f.createElement(zn,{open:a,onClose:e,title:"🔄 Counter Proposal",maxWidth:"500px"},f.createElement("form",{onSubmit:H,style:{textAlign:"left"}},f.createElement("div",{style:{fontWeight:"bold",fontSize:"1.15rem",margin:"0 0 1rem 0",color:"#fff",textAlign:"center"}},"To: ",t.senderName||"Opponent"),f.createElement("div",{style:{marginBottom:"1rem"}},f.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Date:"),f.createElement(QS,{selected:u,onChange:W=>h(W),dateFormat:"MM-dd-yyyy",className:"counter-proposal-date-input",required:!0})),f.createElement("div",{style:{marginBottom:"1rem"}},f.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Time Block:"),f.createElement("select",{value:m,onChange:W=>{p(W.target.value),b("")},required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"}},f.createElement("option",{value:""},"Select time block"),le.map((W,R)=>f.createElement("option",{key:R,value:W},W)))),f.createElement("div",{style:{marginBottom:"1rem"}},f.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Start Time:"),f.createElement("select",{value:v,onChange:W=>b(W.target.value),required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"}},f.createElement("option",{value:""},"Select..."),ee.map((W,R)=>f.createElement("option",{key:R,value:W},W)))),f.createElement("div",{style:{marginBottom:"1rem"}},f.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Location:"),f.createElement("select",{value:S,onChange:W=>C(W.target.value),required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"}},f.createElement("option",{value:""},"Select location"),re.map((W,R)=>f.createElement("option",{key:R,value:W},W)))),f.createElement("div",{style:{marginBottom:"1rem"}},f.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Game Type:"),f.createElement("select",{value:_,onChange:W=>E(W.target.value),required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"}},f.createElement("option",{value:"8 Ball"},"8 Ball"),f.createElement("option",{value:"9 Ball"},"9 Ball"),f.createElement("option",{value:"10 Ball"},"10 Ball"),f.createElement("option",{value:"Mixed"},"Mixed"))),f.createElement("div",{style:{marginBottom:"1rem"}},f.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Race Length:"),f.createElement("select",{value:I,onChange:W=>A(Number(W.target.value)),required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"}},o==="scheduled"||o==="challenge"?f.createElement("option",{value:5},"5"):[...Array(13)].map((W,R)=>{const B=R+3;return f.createElement("option",{key:B,value:B},B)}))),f.createElement("div",{style:{marginBottom:"1.5rem"}},f.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Note (optional):"),f.createElement("textarea",{value:M,onChange:W=>k(W.target.value),placeholder:"Add a note explaining your counter proposal...",rows:3,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px",resize:"vertical"}})),L&&f.createElement("div",{style:{color:"#e53e3e",marginBottom:"1rem"}},L),f.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"center"}},f.createElement("button",{type:"submit",style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:"6px",padding:"0.7rem 1.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",minWidth:"120px"}},"Submit Counter"),f.createElement("button",{type:"button",onClick:e,style:{background:"#6c757d",color:"#fff",border:"none",borderRadius:"6px",padding:"0.7rem 1.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",minWidth:"120px"}},"Cancel"))))}function VS({open:t,onClose:a,opponents:e,onOpponentClick:n,phase:s}){return t?f.createElement(zn,{open:t,onClose:a,title:`🎱 Select Opponent - ${s==="scheduled"||s==="offseason"?"Phase 1":"Phase 2"}`,maxWidth:"500px"},f.createElement("div",{style:{maxHeight:"60vh",overflowY:"auto"}},e.length===0?f.createElement("p",{style:{color:"#888",textAlign:"center",fontStyle:"italic"}},"No opponents available for scheduling at this time."):f.createElement("div",{style:{display:"grid",gap:"8px"}},e.map((o,l)=>f.createElement("button",{key:o.player&&o.player.email||`${o.opponentName}-${l}`||`opponent-${l}`,onClick:()=>n(o.player&&o.player.name?o.player.name:o.opponentName),style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"1rem",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:u=>{u.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",u.target.style.transform="translateY(-2px)",u.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:u=>{u.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",u.target.style.transform="translateY(0)",u.target.style.boxShadow="none"}},o.player&&o.player.name?o.player.name:o.opponentName))))):null}function Dy({player:t,onClose:a,senderEmail:e,onProposeMatch:n,selectedDivision:s,phase:o}){if(!t)return null;const[l,u]=w.useState(!1),[h,m]=w.useState(10);return w.useEffect(()=>{let p;return l&&(m(10),p=setInterval(()=>{m(v=>v<=1?(clearInterval(p),u(!1),10):v-1)},1e3)),()=>clearInterval(p)},[l]),f.createElement(zn,{open:!0,onClose:a,title:`👤 ${t.name||`${t.firstName} ${t.lastName}`}`,maxWidth:"600px"},f.createElement("div",{style:{textAlign:"left"}},f.createElement("div",{style:{fontSize:"0.9rem",color:"#888",marginBottom:"1.5rem",textAlign:"center"}},o==="scheduled"?"Phase 1 (Scheduled)":o==="challenge"?"Phase 2 (Challenge)":o),f.createElement("div",{style:{marginBottom:"1.5rem"}},f.createElement("h3",{style:{color:"#e53e3e",marginBottom:"0.5rem",fontSize:"1.1rem",textAlign:"center"}},"Preferred Locations:"),f.createElement("div",{style:{color:"#fff",textAlign:"center"}},t.locations?(()=>{const p=t.locations.split(/\r?\n/).filter(Boolean),v=[];for(let b=0;b<p.length;b+=5)v.push(p.slice(b,b+5));return v.map((b,S)=>f.createElement("div",{key:S,style:{display:"flex",justifyContent:"center",marginBottom:"0.5em",flexWrap:"wrap",gap:"0.2em"}},b.map((C,_)=>f.createElement("span",{key:C+_,style:{textAlign:"center"}},C,_<b.length-1&&f.createElement("span",{style:{color:"#e53e3e",margin:"0 0.3em"}}," • ")))))})():"No locations specified")),f.createElement("div",{style:{marginBottom:"1.5rem"}},f.createElement("h3",{style:{color:"#e53e3e",marginBottom:"0.5rem",fontSize:"1.1rem",textAlign:"center"}},"Availability:"),f.createElement("div",{style:{color:"#fff",fontSize:"0.9rem",marginBottom:"1rem",textAlign:"center",fontStyle:"italic"}},"Pick a timeblock within a day to schedule a match with this opponent."),f.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px"}},f.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"}},["Mon","Tue","Wed"].map(p=>f.createElement("div",{key:p,style:{textAlign:"center"}},f.createElement("div",{style:{color:"#e53e3e",fontWeight:"bold",marginBottom:"0.5rem",fontSize:"0.9rem"}},p),!t.availability||!t.availability[p]||t.availability[p].length===0?f.createElement("div",{style:{color:"#666",fontSize:"0.8rem",padding:"0.5rem",background:"#222",borderRadius:"4px"}},"—"):(t.availability[p]||[]).map((v,b)=>f.createElement("div",{key:b,onClick:()=>{n&&n(p,v,o,s)},style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"1px solid #e53e3e",borderRadius:"6px",padding:"0.5rem",fontSize:"0.8rem",cursor:"pointer",transition:"all 0.2s ease",marginBottom:"0.5rem"},onMouseEnter:S=>{S.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",S.target.style.transform="translateY(-1px)",S.target.style.boxShadow="0 2px 8px rgba(229, 62, 62, 0.3)"},onMouseLeave:S=>{S.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",S.target.style.transform="translateY(0)",S.target.style.boxShadow="none"},tabIndex:0,role:"button","aria-label":`Propose match on ${p} at ${v}`,onKeyPress:S=>{(S.key==="Enter"||S.key===" ")&&n&&n(p,v,o,s)}},v))))),f.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"}},["Thu","Fri","Sat"].map(p=>f.createElement("div",{key:p,style:{textAlign:"center"}},f.createElement("div",{style:{color:"#e53e3e",fontWeight:"bold",marginBottom:"0.5rem",fontSize:"0.9rem"}},p),!t.availability||!t.availability[p]||t.availability[p].length===0?f.createElement("div",{style:{color:"#666",fontSize:"0.8rem",padding:"0.5rem",background:"#222",borderRadius:"4px"}},"—"):(t.availability[p]||[]).map((v,b)=>f.createElement("div",{key:b,onClick:()=>{n&&n(p,v,o,s)},style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"1px solid #e53e3e",borderRadius:"6px",padding:"0.5rem",fontSize:"0.8rem",cursor:"pointer",transition:"all 0.2s ease",marginBottom:"0.5rem"},onMouseEnter:S=>{S.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",S.target.style.transform="translateY(-1px)",S.target.style.boxShadow="0 2px 8px rgba(229, 62, 62, 0.3)"},onMouseLeave:S=>{S.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",S.target.style.transform="translateY(0)",S.target.style.boxShadow="none"},tabIndex:0,role:"button","aria-label":`Propose match on ${p} at ${v}`,onKeyPress:S=>{(S.key==="Enter"||S.key===" ")&&n&&n(p,v,o,s)}},v))))))),f.createElement("div",{style:{marginBottom:"1.5rem",textAlign:"center"}},f.createElement("h3",{style:{color:"#e53e3e",marginBottom:"0.5rem",fontSize:"1.1rem",textAlign:"center"}},"Contact Information:"),f.createElement("div",{style:{color:"#fff",textAlign:"center"}},l?f.createElement("div",{style:{background:"rgba(229, 62, 62, 0.1)",border:"1px solid #e53e3e",borderRadius:"6px",padding:"1rem"}},f.createElement("div",{style:{marginBottom:"0.5rem"}},f.createElement("strong",null,"Email:")," ",t.email||"Not provided"),t.phone&&f.createElement("div",{style:{marginBottom:"0.5rem"}},f.createElement("strong",null,"Phone:")," ",t.phone),t.text&&f.createElement("div",{style:{marginBottom:"0.5rem"}},f.createElement("strong",null,"Text:")," ",t.text),t.preferredContacts&&t.preferredContacts.length>0&&f.createElement("div",null,f.createElement("strong",null,"Preferred Contact:")," ",t.preferredContacts.join(", ")),f.createElement("div",{style:{color:"#ffc107",fontSize:"0.9rem",marginTop:"0.5rem"}},"Auto-hiding in ",h," seconds...")):f.createElement("button",{onClick:()=>u(!0),style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:"6px",padding:"0.7rem 1.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"}},"Show Contact Info")))))}const WR="_opponentName_1wgqu_479",Gt={"match-proposal-content":"_match-proposal-content_1wgqu_49","match-proposal-title":"_match-proposal-title_1wgqu_135","match-proposal-row":"_match-proposal-row_1wgqu_155","match-proposal-select":"_match-proposal-select_1wgqu_177","match-proposal-location-select":"_match-proposal-location-select_1wgqu_179","match-proposal-textarea":"_match-proposal-textarea_1wgqu_225","match-proposal-date-input":"_match-proposal-date-input_1wgqu_339","match-proposal-send-btn":"_match-proposal-send-btn_1wgqu_365","match-proposal-day-value":"_match-proposal-day-value_1wgqu_449",opponentName:WR,"match-proposal-division":"_match-proposal-division_1wgqu_493","match-proposal-phase":"_match-proposal-phase_1wgqu_493","match-proposal-label-red":"_match-proposal-label-red_1wgqu_501"};var Up={},GR=Object.create,XS=Object.defineProperty,ZR=Object.getOwnPropertyDescriptor,KS=Object.getOwnPropertyNames,$R=Object.getPrototypeOf,qR=Object.prototype.hasOwnProperty,tu=(t,a)=>function(){return a||(0,t[KS(t)[0]])((a={exports:{}}).exports,a),a.exports},QR=(t,a,e,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let s of KS(a))!qR.call(t,s)&&s!==e&&XS(t,s,{get:()=>a[s],enumerable:!(n=ZR(a,s))||n.enumerable});return t},nu=(t,a,e)=>(e=t!=null?GR($R(t)):{},QR(!t||!t.__esModule?XS(e,"default",{value:t,enumerable:!0}):e,t)),VR=tu({"node_modules/base64-js/index.js"(t){t.byteLength=h,t.toByteArray=p,t.fromByteArray=S;var a=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(o=0,l=s.length;o<l;++o)a[o]=s[o],e[s.charCodeAt(o)]=o;var o,l;e[45]=62,e[95]=63;function u(C){var _=C.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=C.indexOf("=");E===-1&&(E=_);var I=E===_?0:4-E%4;return[E,I]}function h(C){var _=u(C),E=_[0],I=_[1];return(E+I)*3/4-I}function m(C,_,E){return(_+E)*3/4-E}function p(C){var _,E=u(C),I=E[0],A=E[1],M=new n(m(C,I,A)),k=0,L=A>0?I-4:I,U;for(U=0;U<L;U+=4)_=e[C.charCodeAt(U)]<<18|e[C.charCodeAt(U+1)]<<12|e[C.charCodeAt(U+2)]<<6|e[C.charCodeAt(U+3)],M[k++]=_>>16&255,M[k++]=_>>8&255,M[k++]=_&255;return A===2&&(_=e[C.charCodeAt(U)]<<2|e[C.charCodeAt(U+1)]>>4,M[k++]=_&255),A===1&&(_=e[C.charCodeAt(U)]<<10|e[C.charCodeAt(U+1)]<<4|e[C.charCodeAt(U+2)]>>2,M[k++]=_>>8&255,M[k++]=_&255),M}function v(C){return a[C>>18&63]+a[C>>12&63]+a[C>>6&63]+a[C&63]}function b(C,_,E){for(var I,A=[],M=_;M<E;M+=3)I=(C[M]<<16&16711680)+(C[M+1]<<8&65280)+(C[M+2]&255),A.push(v(I));return A.join("")}function S(C){for(var _,E=C.length,I=E%3,A=[],M=16383,k=0,L=E-I;k<L;k+=M)A.push(b(C,k,k+M>L?L:k+M));return I===1?(_=C[E-1],A.push(a[_>>2]+a[_<<4&63]+"==")):I===2&&(_=(C[E-2]<<8)+C[E-1],A.push(a[_>>10]+a[_>>4&63]+a[_<<2&63]+"=")),A.join("")}}}),XR=tu({"(disabled):https"(){}}),KR=tu({"node_modules/form-data/lib/browser.js"(t,a){a.exports=typeof self=="object"?self.FormData:window.FormData}}),JR=tu({"(disabled):node_modules/jsonwebtoken/index.js"(){}}),ek=tu({"(disabled):crypto"(){}}),tk=nu(VR());function _g(t){return typeof t=="string"}function w1(t,a){return!!a&&_g(t)}function nk(t,a){const e=[];if(_g(t)&&w1(t,a)){for(let n=0,s=t.length;n<s;n++)if(t.charAt(n)){const o=t.charAt(n),l=a(o,n,t);e[n]=l}}else if(!_g(t)&&!w1(t,a)){for(let n=0,s=t.length;n<s;n++)if(n in t){const o=t[n],l=a(o,n,t);e[n]=l}}return e}var ak=t=>(0,tk.fromByteArray)(new Uint8Array(nk(t,a=>a.charCodeAt(0)))),rk=t=>{const a={},e=String.fromCharCode,n=t.length;let s,o=0,l,u,h=0,m,p="";const v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0;s<64;s++)a[v.charAt(s)]=s;for(u=0;u<n;u++)for(l=a[t.charAt(u)],o=(o<<6)+l,h+=6;h>=8;)((m=o>>>(h-=8)&255)||u<n-2)&&(p+=e(m));return p},C1=class{constructor(t,a,e){this.client=t,this.id=a,this.data=e}async create(){var e,n,s,o,l,u,h,m,p,v,b,S;const t={id:this.id,message_template:(e=this.data)==null?void 0:e.message_template,segment_ids:(n=this.data)==null?void 0:n.segment_ids,sender_id:(s=this.data)==null?void 0:s.sender_id,sender_mode:(o=this.data)==null?void 0:o.sender_mode,channel_template:(l=this.data)==null?void 0:l.channel_template,create_channels:(u=this.data)==null?void 0:u.create_channels,show_channels:(h=this.data)==null?void 0:h.show_channels,description:(m=this.data)==null?void 0:m.description,name:(p=this.data)==null?void 0:p.name,skip_push:(v=this.data)==null?void 0:v.skip_push,skip_webhook:(b=this.data)==null?void 0:b.skip_webhook,user_ids:(S=this.data)==null?void 0:S.user_ids},a=await this.client.createCampaign(t);return this.id=a.campaign.id,this.data=a.campaign,a}verifyCampaignId(){if(!this.id)throw new Error("Campaign id is missing. Either create the campaign using campaign.create() or set the id during instantiation - const campaign = client.campaign(id)")}async start(t){return this.verifyCampaignId(),await this.client.startCampaign(this.id,t)}update(t){return this.verifyCampaignId(),this.client.updateCampaign(this.id,t)}async delete(){return this.verifyCampaignId(),await this.client.deleteCampaign(this.id)}stop(){return this.verifyCampaignId(),this.client.stopCampaign(this.id)}get(t){return this.verifyCampaignId(),this.client.getCampaign(this.id,t)}};function JS(t,a){return function(){return t.apply(a,arguments)}}var{toString:sk}=Object.prototype,{getPrototypeOf:My}=Object,lh=(t=>a=>{const e=sk.call(a);return t[e]||(t[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Wr=t=>(t=t.toLowerCase(),a=>lh(a)===t),ch=t=>a=>typeof a===t,{isArray:fl}=Array,Fc=ch("undefined");function ik(t){return t!==null&&!Fc(t)&&t.constructor!==null&&!Fc(t.constructor)&&er(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var e_=Wr("ArrayBuffer");function ok(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&e_(t.buffer),a}var lk=ch("string"),er=ch("function"),t_=ch("number"),uh=t=>t!==null&&typeof t=="object",ck=t=>t===!0||t===!1,Yd=t=>{if(lh(t)!=="object")return!1;const a=My(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},uk=Wr("Date"),dk=Wr("File"),fk=Wr("Blob"),hk=Wr("FileList"),mk=t=>uh(t)&&er(t.pipe),pk=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||er(t.append)&&((a=lh(t))==="formdata"||a==="object"&&er(t.toString)&&t.toString()==="[object FormData]"))},gk=Wr("URLSearchParams"),yk=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function au(t,a,{allOwnKeys:e=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),fl(t))for(n=0,s=t.length;n<s;n++)a.call(null,t[n],n,t);else{const o=e?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(n=0;n<l;n++)u=o[n],a.call(null,t[u],u,t)}}function n_(t,a){a=a.toLowerCase();const e=Object.keys(t);let n=e.length,s;for(;n-- >0;)if(s=e[n],a===s.toLowerCase())return s;return null}var a_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,r_=t=>!Fc(t)&&t!==a_;function Eg(){const{caseless:t}=r_(this)&&this||{},a={},e=(n,s)=>{const o=t&&n_(a,s)||s;Yd(a[o])&&Yd(n)?a[o]=Eg(a[o],n):Yd(n)?a[o]=Eg({},n):fl(n)?a[o]=n.slice():a[o]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&au(arguments[n],e);return a}var vk=(t,a,e,{allOwnKeys:n}={})=>(au(a,(s,o)=>{e&&er(s)?t[o]=JS(s,e):t[o]=s},{allOwnKeys:n}),t),bk=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),wk=(t,a,e,n)=>{t.prototype=Object.create(a.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:a.prototype}),e&&Object.assign(t.prototype,e)},Ck=(t,a,e,n)=>{let s,o,l;const u={};if(a=a||{},t==null)return a;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)l=s[o],(!n||n(l,t,a))&&!u[l]&&(a[l]=t[l],u[l]=!0);t=e!==!1&&My(t)}while(t&&(!e||e(t,a))&&t!==Object.prototype);return a},Sk=(t,a,e)=>{t=String(t),(e===void 0||e>t.length)&&(e=t.length),e-=a.length;const n=t.indexOf(a,e);return n!==-1&&n===e},_k=t=>{if(!t)return null;if(fl(t))return t;let a=t.length;if(!t_(a))return null;const e=new Array(a);for(;a-- >0;)e[a]=t[a];return e},Ek=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&My(Uint8Array)),xk=(t,a)=>{const n=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const o=s.value;a.call(t,o[0],o[1])}},Ik=(t,a)=>{let e;const n=[];for(;(e=t.exec(a))!==null;)n.push(e);return n},Dk=Wr("HTMLFormElement"),Mk=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,s){return n.toUpperCase()+s}),S1=(({hasOwnProperty:t})=>(a,e)=>t.call(a,e))(Object.prototype),Ak=Wr("RegExp"),s_=(t,a)=>{const e=Object.getOwnPropertyDescriptors(t),n={};au(e,(s,o)=>{let l;(l=a(s,o,t))!==!1&&(n[o]=l||s)}),Object.defineProperties(t,n)},Tk=t=>{s_(t,(a,e)=>{if(er(t)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const n=t[e];if(er(n)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},Nk=(t,a)=>{const e={},n=s=>{s.forEach(o=>{e[o]=!0})};return fl(t)?n(t):n(String(t).split(a)),e},Rk=()=>{},kk=(t,a)=>(t=+t,Number.isFinite(t)?t:a),zp="abcdefghijklmnopqrstuvwxyz",_1="0123456789",i_={DIGIT:_1,ALPHA:zp,ALPHA_DIGIT:zp+zp.toUpperCase()+_1},Lk=(t=16,a=i_.ALPHA_DIGIT)=>{let e="";const{length:n}=a;for(;t--;)e+=a[Math.random()*n|0];return e};function Pk(t){return!!(t&&er(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var Ok=t=>{const a=new Array(10),e=(n,s)=>{if(uh(n)){if(a.indexOf(n)>=0)return;if(!("toJSON"in n)){a[s]=n;const o=fl(n)?[]:{};return au(n,(l,u)=>{const h=e(l,s+1);!Fc(h)&&(o[u]=h)}),a[s]=void 0,o}}return n};return e(t,0)},Bk=Wr("AsyncFunction"),Uk=t=>t&&(uh(t)||er(t))&&er(t.then)&&er(t.catch),me={isArray:fl,isArrayBuffer:e_,isBuffer:ik,isFormData:pk,isArrayBufferView:ok,isString:lk,isNumber:t_,isBoolean:ck,isObject:uh,isPlainObject:Yd,isUndefined:Fc,isDate:uk,isFile:dk,isBlob:fk,isRegExp:Ak,isFunction:er,isStream:mk,isURLSearchParams:gk,isTypedArray:Ek,isFileList:hk,forEach:au,merge:Eg,extend:vk,trim:yk,stripBOM:bk,inherits:wk,toFlatObject:Ck,kindOf:lh,kindOfTest:Wr,endsWith:Sk,toArray:_k,forEachEntry:xk,matchAll:Ik,isHTMLForm:Dk,hasOwnProperty:S1,hasOwnProp:S1,reduceDescriptors:s_,freezeMethods:Tk,toObjectSet:Nk,toCamelCase:Mk,noop:Rk,toFiniteNumber:kk,findKey:n_,global:a_,isContextDefined:r_,ALPHABET:i_,generateString:Lk,isSpecCompliantForm:Pk,toJSONObject:Ok,isAsyncFn:Bk,isThenable:Uk};function rl(t,a,e,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",a&&(this.code=a),e&&(this.config=e),n&&(this.request=n),s&&(this.response=s)}me.inherits(rl,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o_=rl.prototype,l_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{l_[t]={value:t}});Object.defineProperties(rl,l_);Object.defineProperty(o_,"isAxiosError",{value:!0});rl.from=(t,a,e,n,s,o)=>{const l=Object.create(o_);return me.toFlatObject(t,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),rl.call(l,t.message,a,e,n,s),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};var Tt=rl,zk=null;function xg(t){return me.isPlainObject(t)||me.isArray(t)}function c_(t){return me.endsWith(t,"[]")?t.slice(0,-2):t}function E1(t,a,e){return t?t.concat(a).map(function(s,o){return s=c_(s),!e&&o?"["+s+"]":s}).join(e?".":""):a}function Hk(t){return me.isArray(t)&&!t.some(xg)}var Yk=me.toFlatObject(me,{},null,function(a){return/^is[A-Z]/.test(a)});function Fk(t,a,e){if(!me.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,e=me.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,E){return!me.isUndefined(E[_])});const n=e.metaTokens,s=e.visitor||p,o=e.dots,l=e.indexes,h=(e.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(a);if(!me.isFunction(s))throw new TypeError("visitor must be a function");function m(C){if(C===null)return"";if(me.isDate(C))return C.toISOString();if(!h&&me.isBlob(C))throw new Tt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(C)||me.isTypedArray(C)?h&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function p(C,_,E){let I=C;if(C&&!E&&typeof C=="object"){if(me.endsWith(_,"{}"))_=n?_:_.slice(0,-2),C=JSON.stringify(C);else if(me.isArray(C)&&Hk(C)||(me.isFileList(C)||me.endsWith(_,"[]"))&&(I=me.toArray(C)))return _=c_(_),I.forEach(function(M,k){!(me.isUndefined(M)||M===null)&&a.append(l===!0?E1([_],k,o):l===null?_:_+"[]",m(M))}),!1}return xg(C)?!0:(a.append(E1(E,_,o),m(C)),!1)}const v=[],b=Object.assign(Yk,{defaultVisitor:p,convertValue:m,isVisitable:xg});function S(C,_){if(!me.isUndefined(C)){if(v.indexOf(C)!==-1)throw Error("Circular reference detected in "+_.join("."));v.push(C),me.forEach(C,function(I,A){(!(me.isUndefined(I)||I===null)&&s.call(a,I,me.isString(A)?A.trim():A,_,b))===!0&&S(I,_?_.concat(A):[A])}),v.pop()}}if(!me.isObject(t))throw new TypeError("data must be an object");return S(t),a}var dh=Fk;function x1(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return a[n]})}function u_(t,a){this._pairs=[],t&&dh(t,this,a)}var d_=u_.prototype;d_.append=function(a,e){this._pairs.push([a,e])};d_.toString=function(a){const e=a?function(n){return a.call(this,n,x1)}:x1;return this._pairs.map(function(s){return e(s[0])+"="+e(s[1])},"").join("&")};var f_=u_;function jk(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function h_(t,a,e){if(!a)return t;const n=e&&e.encode||jk,s=e&&e.serialize;let o;if(s?o=s(a,e):o=me.isURLSearchParams(a)?a.toString():new f_(a,e).toString(n),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}var Wk=class{constructor(){this.handlers=[]}use(a,e,n){return this.handlers.push({fulfilled:a,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){me.forEach(this.handlers,function(n){n!==null&&a(n)})}},I1=Wk,m_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gk=typeof URLSearchParams<"u"?URLSearchParams:f_,Zk=typeof FormData<"u"?FormData:null,$k=typeof Blob<"u"?Blob:null,qk=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Qk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ur={classes:{URLSearchParams:Gk,FormData:Zk,Blob:$k},isStandardBrowserEnv:qk,isStandardBrowserWebWorkerEnv:Qk,protocols:["http","https","file","blob","url","data"]};function Vk(t,a){return dh(t,new Ur.classes.URLSearchParams,Object.assign({visitor:function(e,n,s,o){return Ur.isNode&&me.isBuffer(e)?(this.append(n,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},a))}function Xk(t){return me.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function Kk(t){const a={},e=Object.keys(t);let n;const s=e.length;let o;for(n=0;n<s;n++)o=e[n],a[o]=t[o];return a}function Jk(t){function a(e,n,s,o){let l=e[o++];const u=Number.isFinite(+l),h=o>=e.length;return l=!l&&me.isArray(s)?s.length:l,h?(me.hasOwnProp(s,l)?s[l]=[s[l],n]:s[l]=n,!u):((!s[l]||!me.isObject(s[l]))&&(s[l]=[]),a(e,n,s[l],o)&&me.isArray(s[l])&&(s[l]=Kk(s[l])),!u)}if(me.isFormData(t)&&me.isFunction(t.entries)){const e={};return me.forEachEntry(t,(n,s)=>{a(Xk(n),s,e,0)}),e}return null}var p_=Jk;function eL(t,a,e){if(me.isString(t))try{return(a||JSON.parse)(t),me.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(t)}var Ay={transitional:m_,adapter:["xhr","http"],transformRequest:[function(a,e){const n=e.getContentType()||"",s=n.indexOf("application/json")>-1,o=me.isObject(a);if(o&&me.isHTMLForm(a)&&(a=new FormData(a)),me.isFormData(a))return s&&s?JSON.stringify(p_(a)):a;if(me.isArrayBuffer(a)||me.isBuffer(a)||me.isStream(a)||me.isFile(a)||me.isBlob(a))return a;if(me.isArrayBufferView(a))return a.buffer;if(me.isURLSearchParams(a))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Vk(a,this.formSerializer).toString();if((u=me.isFileList(a))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return dh(u?{"files[]":a}:a,h&&new h,this.formSerializer)}}return o||s?(e.setContentType("application/json",!1),eL(a)):a}],transformResponse:[function(a){const e=this.transitional||Ay.transitional,n=e&&e.forcedJSONParsing,s=this.responseType==="json";if(a&&me.isString(a)&&(n&&!this.responseType||s)){const l=!(e&&e.silentJSONParsing)&&s;try{return JSON.parse(a)}catch(u){if(l)throw u.name==="SyntaxError"?Tt.from(u,Tt.ERR_BAD_RESPONSE,this,null,this.response):u}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ur.classes.FormData,Blob:Ur.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],t=>{Ay.headers[t]={}});var Ty=Ay,tL=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nL=t=>{const a={};let e,n,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),e=l.substring(0,s).trim().toLowerCase(),n=l.substring(s+1).trim(),!(!e||a[e]&&tL[e])&&(e==="set-cookie"?a[e]?a[e].push(n):a[e]=[n]:a[e]=a[e]?a[e]+", "+n:n)}),a},D1=Symbol("internals");function pc(t){return t&&String(t).trim().toLowerCase()}function Fd(t){return t===!1||t==null?t:me.isArray(t)?t.map(Fd):String(t)}function aL(t){const a=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=e.exec(t);)a[n[1]]=n[2];return a}var rL=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Hp(t,a,e,n,s){if(me.isFunction(n))return n.call(this,a,e);if(s&&(a=e),!!me.isString(a)){if(me.isString(n))return a.indexOf(n)!==-1;if(me.isRegExp(n))return n.test(a)}}function sL(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,e,n)=>e.toUpperCase()+n)}function iL(t,a){const e=me.toCamelCase(" "+a);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+e,{value:function(s,o,l){return this[n].call(this,a,s,o,l)},configurable:!0})})}var fh=class{constructor(a){a&&this.set(a)}set(a,e,n){const s=this;function o(u,h,m){const p=pc(h);if(!p)throw new Error("header name must be a non-empty string");const v=me.findKey(s,p);(!v||s[v]===void 0||m===!0||m===void 0&&s[v]!==!1)&&(s[v||h]=Fd(u))}const l=(u,h)=>me.forEach(u,(m,p)=>o(m,p,h));return me.isPlainObject(a)||a instanceof this.constructor?l(a,e):me.isString(a)&&(a=a.trim())&&!rL(a)?l(nL(a),e):a!=null&&o(e,a,n),this}get(a,e){if(a=pc(a),a){const n=me.findKey(this,a);if(n){const s=this[n];if(!e)return s;if(e===!0)return aL(s);if(me.isFunction(e))return e.call(this,s,n);if(me.isRegExp(e))return e.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,e){if(a=pc(a),a){const n=me.findKey(this,a);return!!(n&&this[n]!==void 0&&(!e||Hp(this,this[n],n,e)))}return!1}delete(a,e){const n=this;let s=!1;function o(l){if(l=pc(l),l){const u=me.findKey(n,l);u&&(!e||Hp(n,n[u],u,e))&&(delete n[u],s=!0)}}return me.isArray(a)?a.forEach(o):o(a),s}clear(a){const e=Object.keys(this);let n=e.length,s=!1;for(;n--;){const o=e[n];(!a||Hp(this,this[o],o,a,!0))&&(delete this[o],s=!0)}return s}normalize(a){const e=this,n={};return me.forEach(this,(s,o)=>{const l=me.findKey(n,o);if(l){e[l]=Fd(s),delete e[o];return}const u=a?sL(o):String(o).trim();u!==o&&delete e[o],e[u]=Fd(s),n[u]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const e=Object.create(null);return me.forEach(this,(n,s)=>{n!=null&&n!==!1&&(e[s]=a&&me.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,e])=>a+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...e){const n=new this(a);return e.forEach(s=>n.set(s)),n}static accessor(a){const n=(this[D1]=this[D1]={accessors:{}}).accessors,s=this.prototype;function o(l){const u=pc(l);n[u]||(iL(s,l),n[u]=!0)}return me.isArray(a)?a.forEach(o):o(a),this}};fh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(fh.prototype,({value:t},a)=>{let e=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(n){this[e]=n}}});me.freezeMethods(fh);var ws=fh;function Yp(t,a){const e=this||Ty,n=a||e,s=ws.from(n.headers);let o=n.data;return me.forEach(t,function(u){o=u.call(e,o,s.normalize(),a?a.status:void 0)}),s.normalize(),o}function g_(t){return!!(t&&t.__CANCEL__)}function y_(t,a,e){Tt.call(this,t??"canceled",Tt.ERR_CANCELED,a,e),this.name="CanceledError"}me.inherits(y_,Tt,{__CANCEL__:!0});var hh=y_;function oL(t,a,e){const n=e.config.validateStatus;!e.status||!n||n(e.status)?t(e):a(new Tt("Request failed with status code "+e.status,[Tt.ERR_BAD_REQUEST,Tt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}var lL=Ur.isStandardBrowserEnv?function(){return{write:function(e,n,s,o,l,u){const h=[];h.push(e+"="+encodeURIComponent(n)),me.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),me.isString(o)&&h.push("path="+o),me.isString(l)&&h.push("domain="+l),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function cL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function uL(t,a){return a?t.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):t}function v_(t,a){return t&&!cL(a)?uL(t,a):a}var dL=Ur.isStandardBrowserEnv?function(){const a=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function s(o){let l=o;return a&&(e.setAttribute("href",l),l=e.href),e.setAttribute("href",l),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return n=s(window.location.href),function(l){const u=me.isString(l)?s(l):l;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}();function fL(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function hL(t,a){t=t||10;const e=new Array(t),n=new Array(t);let s=0,o=0,l;return a=a!==void 0?a:1e3,function(h){const m=Date.now(),p=n[o];l||(l=m),e[s]=h,n[s]=m;let v=o,b=0;for(;v!==s;)b+=e[v++],v=v%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),m-l<a)return;const S=p&&m-p;return S?Math.round(b*1e3/S):void 0}}var mL=hL;function M1(t,a){let e=0;const n=mL(50,250);return s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,u=o-e,h=n(u),m=o<=l;e=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:h||void 0,estimated:h&&l&&m?(l-o)/h:void 0,event:s};p[a?"download":"upload"]=!0,t(p)}}var pL=typeof XMLHttpRequest<"u",gL=pL&&function(t){return new Promise(function(e,n){let s=t.data;const o=ws.from(t.headers).normalize(),l=t.responseType;let u;function h(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}let m;me.isFormData(s)&&(Ur.isStandardBrowserEnv||Ur.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.getContentType(/^\s*multipart\/form-data/)?me.isString(m=o.getContentType())&&o.setContentType(m.replace(/^\s*(multipart\/form-data);+/,"$1")):o.setContentType("multipart/form-data"));let p=new XMLHttpRequest;if(t.auth){const C=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(C+":"+_))}const v=v_(t.baseURL,t.url);p.open(t.method.toUpperCase(),h_(v,t.params,t.paramsSerializer),!0),p.timeout=t.timeout;function b(){if(!p)return;const C=ws.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:C,config:t,request:p};oL(function(A){e(A),h()},function(A){n(A),h()},E),p=null}if("onloadend"in p?p.onloadend=b:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(b)},p.onabort=function(){p&&(n(new Tt("Request aborted",Tt.ECONNABORTED,t,p)),p=null)},p.onerror=function(){n(new Tt("Network Error",Tt.ERR_NETWORK,t,p)),p=null},p.ontimeout=function(){let _=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const E=t.transitional||m_;t.timeoutErrorMessage&&(_=t.timeoutErrorMessage),n(new Tt(_,E.clarifyTimeoutError?Tt.ETIMEDOUT:Tt.ECONNABORTED,t,p)),p=null},Ur.isStandardBrowserEnv){const C=dL(v)&&t.xsrfCookieName&&lL.read(t.xsrfCookieName);C&&o.set(t.xsrfHeaderName,C)}s===void 0&&o.setContentType(null),"setRequestHeader"in p&&me.forEach(o.toJSON(),function(_,E){p.setRequestHeader(E,_)}),me.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),l&&l!=="json"&&(p.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&p.addEventListener("progress",M1(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",M1(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=C=>{p&&(n(!C||C.type?new hh(null,t,p):C),p.abort(),p=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const S=fL(v);if(S&&Ur.protocols.indexOf(S)===-1){n(new Tt("Unsupported protocol "+S+":",Tt.ERR_BAD_REQUEST,t));return}p.send(s||null)})},Ig={http:zk,xhr:gL};me.forEach(Ig,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});var A1=t=>`- ${t}`,yL=t=>me.isFunction(t)||t===null||t===!1,b_={getAdapter:t=>{t=me.isArray(t)?t:[t];const{length:a}=t;let e,n;const s={};for(let o=0;o<a;o++){e=t[o];let l;if(n=e,!yL(e)&&(n=Ig[(l=String(e)).toLowerCase()],n===void 0))throw new Tt(`Unknown adapter '${l}'`);if(n)break;s[l||"#"+o]=n}if(!n){const o=Object.entries(s).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=a?o.length>1?`since :
`+o.map(A1).join(`
`):" "+A1(o[0]):"as no adapter specified";throw new Tt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Ig};function Fp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hh(null,t)}function T1(t){return Fp(t),t.headers=ws.from(t.headers),t.data=Yp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),b_.getAdapter(t.adapter||Ty.adapter)(t).then(function(n){return Fp(t),n.data=Yp.call(t,t.transformResponse,n),n.headers=ws.from(n.headers),n},function(n){return g_(n)||(Fp(t),n&&n.response&&(n.response.data=Yp.call(t,t.transformResponse,n.response),n.response.headers=ws.from(n.response.headers))),Promise.reject(n)})}var N1=t=>t instanceof ws?t.toJSON():t;function sl(t,a){a=a||{};const e={};function n(m,p,v){return me.isPlainObject(m)&&me.isPlainObject(p)?me.merge.call({caseless:v},m,p):me.isPlainObject(p)?me.merge({},p):me.isArray(p)?p.slice():p}function s(m,p,v){if(me.isUndefined(p)){if(!me.isUndefined(m))return n(void 0,m,v)}else return n(m,p,v)}function o(m,p){if(!me.isUndefined(p))return n(void 0,p)}function l(m,p){if(me.isUndefined(p)){if(!me.isUndefined(m))return n(void 0,m)}else return n(void 0,p)}function u(m,p,v){if(v in a)return n(m,p);if(v in t)return n(void 0,m)}const h={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(m,p)=>s(N1(m),N1(p),!0)};return me.forEach(Object.keys(Object.assign({},t,a)),function(p){const v=h[p]||s,b=v(t[p],a[p],p);me.isUndefined(b)&&v!==u||(e[p]=b)}),e}var w_="1.6.0",Ny={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{Ny[t]=function(n){return typeof n===t||"a"+(a<1?"n ":" ")+t}});var R1={};Ny.transitional=function(a,e,n){function s(o,l){return"[Axios v"+w_+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(a===!1)throw new Tt(s(l," has been removed"+(e?" in "+e:"")),Tt.ERR_DEPRECATED);return e&&!R1[l]&&(R1[l]=!0,console.warn(s(l," has been deprecated since v"+e+" and will be removed in the near future"))),a?a(o,l,u):!0}};function vL(t,a,e){if(typeof t!="object")throw new Tt("options must be an object",Tt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const o=n[s],l=a[o];if(l){const u=t[o],h=u===void 0||l(u,o,t);if(h!==!0)throw new Tt("option "+o+" must be "+h,Tt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Tt("Unknown option "+o,Tt.ERR_BAD_OPTION)}}var Dg={assertOptions:vL,validators:Ny},Js=Dg.validators,hf=class{constructor(a){this.defaults=a,this.interceptors={request:new I1,response:new I1}}request(a,e){typeof a=="string"?(e=e||{},e.url=a):e=a||{},e=sl(this.defaults,e);const{transitional:n,paramsSerializer:s,headers:o}=e;n!==void 0&&Dg.assertOptions(n,{silentJSONParsing:Js.transitional(Js.boolean),forcedJSONParsing:Js.transitional(Js.boolean),clarifyTimeoutError:Js.transitional(Js.boolean)},!1),s!=null&&(me.isFunction(s)?e.paramsSerializer={serialize:s}:Dg.assertOptions(s,{encode:Js.function,serialize:Js.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let l=o&&me.merge(o.common,o[e.method]);o&&me.forEach(["delete","get","head","post","put","patch","common"],C=>{delete o[C]}),e.headers=ws.concat(l,o);const u=[];let h=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(e)===!1||(h=h&&_.synchronous,u.unshift(_.fulfilled,_.rejected))});const m=[];this.interceptors.response.forEach(function(_){m.push(_.fulfilled,_.rejected)});let p,v=0,b;if(!h){const C=[T1.bind(this),void 0];for(C.unshift.apply(C,u),C.push.apply(C,m),b=C.length,p=Promise.resolve(e);v<b;)p=p.then(C[v++],C[v++]);return p}b=u.length;let S=e;for(v=0;v<b;){const C=u[v++],_=u[v++];try{S=C(S)}catch(E){_.call(this,E);break}}try{p=T1.call(this,S)}catch(C){return Promise.reject(C)}for(v=0,b=m.length;v<b;)p=p.then(m[v++],m[v++]);return p}getUri(a){a=sl(this.defaults,a);const e=v_(a.baseURL,a.url);return h_(e,a.params,a.paramsSerializer)}};me.forEach(["delete","get","head","options"],function(a){hf.prototype[a]=function(e,n){return this.request(sl(n||{},{method:a,url:e,data:(n||{}).data}))}});me.forEach(["post","put","patch"],function(a){function e(n){return function(o,l,u){return this.request(sl(u||{},{method:a,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}hf.prototype[a]=e(),hf.prototype[a+"Form"]=e(!0)});var jd=hf,bL=class C_{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(s);return l.cancel=function(){n.unsubscribe(o)},l},a(function(o,l,u){n.reason||(n.reason=new hh(o,l,u),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const e=this._listeners.indexOf(a);e!==-1&&this._listeners.splice(e,1)}static source(){let a;return{token:new C_(function(s){a=s}),cancel:a}}},wL=bL;function CL(t){return function(e){return t.apply(null,e)}}function SL(t){return me.isObject(t)&&t.isAxiosError===!0}var Mg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mg).forEach(([t,a])=>{Mg[a]=t});var _L=Mg;function S_(t){const a=new jd(t),e=JS(jd.prototype.request,a);return me.extend(e,jd.prototype,a,{allOwnKeys:!0}),me.extend(e,a,null,{allOwnKeys:!0}),e.create=function(s){return S_(sl(t,s))},e}var Cn=S_(Ty);Cn.Axios=jd;Cn.CanceledError=hh;Cn.CancelToken=wL;Cn.isCancel=g_;Cn.VERSION=w_;Cn.toFormData=dh;Cn.AxiosError=Tt;Cn.Cancel=Cn.CanceledError;Cn.all=function(a){return Promise.all(a)};Cn.spread=CL;Cn.isAxiosError=SL;Cn.mergeConfig=sl;Cn.AxiosHeaders=ws;Cn.formToJSON=t=>p_(me.isHTMLForm(t)?new FormData(t):t);Cn.getAdapter=b_.getAdapter;Cn.HttpStatusCode=_L;Cn.default=Cn;var jc=Cn,{Axios:Bz,AxiosError:Uz,CanceledError:zz,isCancel:Hz,CancelToken:Yz,VERSION:Fz,all:jz,Cancel:Wz,isAxiosError:Gz,spread:Zz,toFormData:$z,AxiosHeaders:qz,HttpStatusCode:Qz,formToJSON:Vz,getAdapter:Xz,mergeConfig:Kz}=jc,EL=nu(XR()),xL=nu(KR()),IL=25,DL=100,jp={hasNext:!1,hasPrev:!1},ML=100*1024*1024,AL=10,TL=100,NL={created_at:!0,deleted_at:!0,pinned_at:!0,updated_at:!0,command:!0,mentioned_users:!0,quoted_message:!0,latest_reactions:!0,own_reactions:!0,reaction_counts:!0,reply_count:!0,i18n:!0,type:!0,html:!0,__html:!0,user:!0},RL={error:!0},kL=3,LL=1e3;function __(t,a){t.then().catch(e=>{console.warn(`failed to do ${a}, ran into error: `,e)})}var fi=t=>new Promise(a=>setTimeout(a,t));function Ag(t){return typeof t=="function"||t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}var xc={TOKEN_EXPIRED:40,WS_CLOSED_SUCCESS:1e3};function PL(t){return t!==null&&typeof t=="object"&&(t.readable||typeof t._read=="function")}function OL(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function BL(t){return typeof window<"u"&&"File"in window&&t instanceof File}function UL(t){return typeof window<"u"&&"Blob"in window&&t instanceof Blob}function zL(t){return{channel_mutes:!0,devices:!0,mutes:!0,total_unread_count:!0,unread_channels:!0,unread_count:!0,unread_threads:!0,invisible:!0,privacy_settings:!0,roles:!0,push_preferences:!0}[t]}function HL(t,a,e){const n=new xL.default;return PL(t)||OL(t)||BL(t)||UL(t)?a?n.append("file",t,a):n.append("file",t):n.append("file",{uri:t,name:a||t.split("/").reverse()[0],contentType:e,type:e}),n}function Zn(t){const a=[],e=Array.isArray(t)?t:[t];for(const n of e){const s=Object.entries(n);s.length>1&&console.warn("client._buildSort() - multiple fields in a single sort object detected. Object's field order is not guaranteed");for(const[o,l]of s)a.push({field:o,direction:l})}return a}function mf(t){const a=Math.min(500+t*2e3,25e3),e=Math.min(Math.max(250,(t-1)*2e3),25e3);return Math.floor(Math.random()*(a-e)+e)}function Go(){return nr()}function gc(t){let a="";for(let e=0;e<t.length;e++)a+=t[e].toString(16).padStart(2,"0");return a}function nr(){const t=jL(16);return t[6]=t[6]&15|64,t[8]=t[8]&191|128,gc(t.subarray(0,4))+"-"+gc(t.subarray(4,6))+"-"+gc(t.subarray(6,8))+"-"+gc(t.subarray(8,10))+"-"+gc(t.subarray(10,16))}function YL(t){const a=Math.pow(2,8*t.byteLength/t.length);for(let e=0;e<t.length;e++)t[e]=Math.random()*a}var FL=typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)<"u"?crypto.getRandomValues.bind(crypto):typeof msCrypto<"u"?msCrypto.getRandomValues.bind(msCrypto):YL;function jL(t){const a=new Uint8Array(t);return FL(a),a}function WL(t){const a={};if(!t)return a;try{Object.getOwnPropertyNames(t).forEach(e=>{a[e]=Object.getOwnPropertyDescriptor(t,e)})}catch{return{error:"failed to serialize the error"}}return a}function GL(){const t=typeof navigator<"u"?navigator:typeof window<"u"&&window.navigator?window.navigator:void 0;return t?typeof t.onLine!="boolean"?!0:t.onLine:(console.warn("isOnline failed to access window.navigator and assume browser is online"),!0)}function E_(t){typeof window<"u"&&window.addEventListener&&(window.addEventListener("offline",t),window.addEventListener("online",t))}function x_(t){typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("offline",t),window.removeEventListener("online",t))}var ZL=t=>{const a=[];for(const e in t)t[e]!==void 0&&(Array.isArray(t[e])||typeof t[e]=="object"?a.push(`${e}=${encodeURIComponent(JSON.stringify(t[e]))}`):a.push(`${e}=${encodeURIComponent(t[e])}`));return a.join("&")};function Aa(t){const a=e=>e?{...e,created_at:t.created_at?new Date(t.created_at):new Date,deleted_at:t.deleted_at?new Date(t.deleted_at):null,pinned_at:t.pinned_at?new Date(t.pinned_at):null,reaction_groups:$L(t.reaction_groups,t.reaction_counts,t.reaction_scores),status:t.status||"received",updated_at:t.updated_at?new Date(t.updated_at):new Date}:null;return{...a(t),error:t.error??null,quoted_message:a(t.quoted_message)}}var I_=t=>{var n;const a={...NL,...RL};return{...Object.fromEntries(Object.entries(t).filter(([s])=>!a[s])),pinned:!!t.pinned_at,mentioned_users:(n=t.mentioned_users)==null?void 0:n.map(s=>typeof s=="string"?s:s.id)}},D_=({needle:t,sortedArray:a,selectKey:e,selectValueToCompare:n=o=>o,sortDirection:s="ascending"})=>{if(!a.length)return 0;let o=0,l=a.length-1,u=0;const h=()=>{u=Math.round((o+l)/2)},m=n(t);for(;o<=l;){h();const p=n(a[u]);s==="ascending"&&m<p||s==="descending"&&m>=p?l=u-1:o=u+1}if(e){const p=e(t),v=s==="ascending"?-1:1;for(let b=o+v;0<=b&&b<a.length&&n(a[b])===m;b+=v)if(e(a[b])===p)return b}return o};function M_(t,a,e=!1,n="created_at",s=!0){const o=s||e;let l=[...t];if(e&&(l=l.filter(p=>!(p.id&&a.id===p.id))),l.length===0&&o)return l.concat(a);if(l.length===0)return l;const u=a[n].getTime(),h=l.at(-1)[n].getTime()<u;if(h&&o)return l.concat(a);if(h)return l;const m=D_({needle:a,sortedArray:l,sortDirection:"ascending",selectValueToCompare:p=>p[n].getTime(),selectKey:p=>p.id});return!e&&a.id&&l[m]&&a.id===l[m].id?(l[m]=a,l):(o&&l.splice(m,0,a),l)}function $L(t,a,e){if(t)return t;if(a&&e){const n={};for(const s of Object.keys(a))n[s]={count:a[s],sum_scores:e[s]};return n}return null}var Tg=(t,a=0,{leading:e=!1,trailing:n=!0}={})=>{let s=null,o=null,l;const u=(...h)=>(s?clearTimeout(s):e&&(l=t(...h)),n&&(o=h),s=setTimeout(()=>{o&&(l=t(...o),o=null),s=null},a),l);return u.cancel=()=>{s&&clearTimeout(s)},u.flush=()=>(s&&(clearTimeout(s),s=null,o&&(l=t(...o))),l),u},A_=(t,a=200,{leading:e=!0,trailing:n=!1}={})=>{let s=null,o=null;return(...l)=>{if(s){n&&(o=l);return}e&&t(...l);const u=()=>{if(o){t(...o),o=null,s=setTimeout(u,a);return}s=null};s=setTimeout(u,a)}},qL=(t,a)=>a.split(".").reduce((e,n)=>{if(e&&typeof e=="object"&&n in e)return e[n]},t),QL=(t,a)=>{if(!Array.isArray(t))return[];const e=new Set;return t.filter(n=>{const s=qL(n,a);return e.has(s)?!1:(e.add(s),!0)})};function VL(t,a){let e=0,n=t.length-1;for(;e<=n;){const s=Math.floor((e+n)/2),o=t[s].created_at;if(!o){e+=1;continue}const l=new Date(o);if(l.getTime()===a.getTime())return s;l.getTime()<a.getTime()?e=s+1:n=s-1}return e}var XL=({parentSet:t,requestedPageSize:a,returnedPage:e,messagePaginationOptions:n})=>{var E,I;const s={...t.pagination};if(!(n!=null&&n.created_at_around))return s;let o,l,u,h;const m=new Date(n.created_at_around),[p,v]=[e[0],e.slice(-1)[0]],b=!!(p!=null&&p.created_at)&&new Date(p.created_at)>m,S=!!(v!=null&&v.created_at)&&new Date(v.created_at)<m,C=a>t.messages.length&&a>e.length,_=(a>t.messages.length||t.messages.length>=e.length)&&a>e.length;if(b)o=!1,u=!0,C&&(l=!1,h=!0);else if(S)l=!1,h=!0,C&&(o=!1,u=!0);else if(_)l=o=!1,u=h=!0;else{const[A,M]=[(p==null?void 0:p.id)&&p.id===((E=t.messages[0])==null?void 0:E.id),(v==null?void 0:v.id)&&v.id===((I=t.messages.slice(-1)[0])==null?void 0:I.id)];u=A,h=M;const k=Math.floor(e.length/2),L=VL(e,m);L!==-1&&(o=k<=L,l=k>=L)}return u&&typeof o<"u"&&(s.hasPrev=o),h&&typeof l<"u"&&(s.hasNext=l),s},KL=({parentSet:t,requestedPageSize:a,returnedPage:e,messagePaginationOptions:n})=>{var E,I;const s={...t.pagination},{id_around:o}=n||{};if(!o)return s;let l,u;const[h,m]=[e[0],e.slice(-1)[0]],[p,v]=[(h==null?void 0:h.id)===((E=t.messages[0])==null?void 0:E.id),(m==null?void 0:m.id)===((I=t.messages.slice(-1)[0])==null?void 0:I.id)];let b=p,S=v;const C=Math.floor(e.length/2);if((a>t.messages.length||t.messages.length>=e.length)&&a>e.length)u=l=!1,b=S=!0;else if(e[C])if(e[C].id===o)l=u=!0;else{let A;const M=[e.slice(0,C),e.slice(C)];l=u=!0;for(let k=0;k<M.length;k++)A=M[k].find(L=>L.id===o),A&&k===0&&(l=!1),A&&k===1&&(u=!1)}else return s;return b&&typeof l<"u"&&(s.hasPrev=l),S&&typeof u<"u"&&(s.hasNext=u),s},JL=({parentSet:t,requestedPageSize:a,returnedPage:e,messagePaginationOptions:n})=>{var E,I;const s={...t.pagination};let o,l;const[u,h]=[e[0],e.slice(-1)[0]],[m,p]=[(u==null?void 0:u.id)&&u.id===((E=t.messages[0])==null?void 0:E.id),(h==null?void 0:h.id)&&h.id===((I=t.messages.slice(-1)[0])==null?void 0:I.id)],v=n&&(n.created_at_after_or_equal||n.created_at_after||n.id_gt||n.id_gte),b=typeof n>"u"?!0:n.created_at_before_or_equal||n.created_at_before||n.id_lt||n.id_lte||n.offset,S=!v&&!b&&!(n!=null&&n.id_around)&&!(n!=null&&n.created_at_around),C=e.length>=a;(typeof b<"u"||S)&&(o=C),typeof v<"u"&&(l=C);const _=e.length===0;return(m||_)&&typeof o<"u"&&(s.hasPrev=o),(p||_)&&typeof l<"u"&&(s.hasNext=l),s},T_=t=>{var a,e,n;return t.parentSet.messages.length<t.returnedPage.length?((a=t.logger)==null||a.call(t,"error","Corrupted message set state: parent set size < returned page size"),t.parentSet.pagination):(e=t.messagePaginationOptions)!=null&&e.created_at_around?XL(t):(n=t.messagePaginationOptions)!=null&&n.id_around?KL(t):JL(t)},bd={},Wp=async({channel:t,client:a,id:e,members:n,options:s,type:o})=>{if(!t&&!o)throw new Error("Channel or channel type have to be provided to query a channel.");const l=t||a.channel(o,e,{members:n}),u=l.id?l.cid:n&&n.length?Ry(l.type,n):void 0;if(!u)throw new Error("Channel ID or channel members array have to be provided to query a channel.");const h=bd[u];if(h)await h;else try{bd[u]=l.watch(s),await bd[u]}finally{delete bd[u]}return l},Ry=(t,a)=>{if(!a)return;const e=[...a].sort().join(",");if(e)return`${t}:!members-${e}`},pf=t=>{if(!t)return!1;const a=t.state.membership;return!!(a!=null&&a.pinned_at)},wd=t=>{if(!t)return!1;const a=t.state.membership;return!!(a!=null&&a.archived_at)},Cd=t=>t?typeof t.archived=="boolean":!1,N_=({atIndex:t,sort:a,targetKey:e})=>{if(!a)return null;let n=null;if(Array.isArray(a))n=a[t]??null;else for(const s in a){if(s!==e)return null;n=a;break}return(n==null?void 0:n[e])??null},Ng=t=>{const a=eP({sort:t});return typeof a!="number"?!1:Math.abs(a)===1},eP=({sort:t})=>N_({atIndex:0,sort:t,targetKey:"pinned_at"}),R_=({channels:t})=>{let a=null;for(const e of t){if(!pf(e))break;typeof a=="number"?a++:a=0}return a},Sd=({channels:t,channelToMove:a,channelToMoveIndexWithinChannels:e,sort:n})=>{const s=e??t.findIndex(v=>v.cid===a.cid),o=s>=0,l=s===0,u=Ng(n),h=pf(a);if(l||u&&h)return t;const m=[...t];o&&m.splice(s,1);let p=null;return u&&(p=R_({channels:m})),m.splice(typeof p=="number"?p+1:0,0,a),m},tP=t=>!!t.getTime,k_=t=>tP(t.created_at),nP=class{constructor(t){var a;this.messageSets=[],this.formatMessage=e=>Aa(e),this.setIsUpToDate=e=>{this.isUpToDate=e},this.removeMessageFromArray=(e,n)=>{const s=e.filter(o=>!(o.id&&n.id&&o.id===n.id));return{removed:s.length<e.length,result:s}},this.updateUserMessages=e=>{const n=(s,o)=>{var l;for(let u=0;u<s.length;u++){const h=s[u];((l=h.user)==null?void 0:l.id)===o.id&&(s[u]={...h,user:o})}};this.messageSets.forEach(s=>n(s.messages,e));for(const s in this.threads)n(this.threads[s],e);n(this.pinnedMessages,e)},this.deleteUserMessages=(e,n=!1)=>{const s=(o,l,u=!1)=>{var h;for(let m=0;m<o.length;m++){const p=o[m];((h=p.user)==null?void 0:h.id)===l.id&&(u?o[m]={cid:p.cid,created_at:p.created_at,deleted_at:l.deleted_at,id:p.id,latest_reactions:[],mentioned_users:[],own_reactions:[],parent_id:p.parent_id,reply_count:p.reply_count,status:p.status,thread_participants:p.thread_participants,type:"deleted",updated_at:p.updated_at,user:p.user}:o[m]={...p,type:"deleted",deleted_at:l.deleted_at?new Date(l.deleted_at):null})}};this.messageSets.forEach(o=>s(o.messages,e,n));for(const o in this.threads)s(this.threads[o],e,n);s(this.pinnedMessages,e,n)},this._channel=t,this.watcher_count=0,this.typing={},this.read={},this.initMessages(),this.pinnedMessages=[],this.pending_messages=[],this.threads={},this.mutedUsers=[],this.watchers={},this.members={},this.membership={},this.unreadCount=0,this.isUpToDate=!0,this.last_message_at=((a=t==null?void 0:t.state)==null?void 0:a.last_message_at)!=null?new Date(t.state.last_message_at):null}get messages(){var t;return((t=this.messageSets.find(a=>a.isCurrent))==null?void 0:t.messages)||[]}set messages(t){const a=this.messageSets.findIndex(e=>e.isCurrent);this.messageSets[a].messages=t}get latestMessages(){var t;return((t=this.messageSets.find(a=>a.isLatest))==null?void 0:t.messages)||[]}set latestMessages(t){const a=this.messageSets.findIndex(e=>e.isLatest);this.messageSets[a].messages=t}get messagePagination(){var t;return((t=this.messageSets.find(a=>a.isCurrent))==null?void 0:t.pagination)||jp}addMessageSorted(t,a=!1,e=!0,n="latest"){return this.addMessagesSorted([t],a,!1,e,n)}addMessagesSorted(t,a=!1,e=!1,n=!0,s="current"){var u;const{messagesToAdd:o,targetMessageSetIndex:l}=this.findTargetMessageSet(t,n,s);for(let h=0;h<o.length;h+=1){if(o[h].shadowed)continue;const p=o[h].created_at instanceof Date;let v;p?v=o[h]:(v=this.formatMessage(o[h]),v.user&&((u=this._channel)!=null&&u.cid)&&this._channel.getClient().state.updateUserReference(v.user,this._channel.cid),e&&v.id&&this.threads[v.id]&&delete this.threads[v.id],this.last_message_at||(this.last_message_at=new Date(v.created_at.getTime())),v.created_at.getTime()>this.last_message_at.getTime()&&(this.last_message_at=new Date(v.created_at.getTime())));const b=v.parent_id;if((!b||v.show_in_channel)&&l!==-1&&(this.messageSets[l].messages=this._addToMessageList(this.messageSets[l].messages,v,a,"created_at",n)),b&&!e){const S=this.threads[b]||[];this.threads[b]=this._addToMessageList(S,v,a,"created_at",n)}}return{messageSet:this.messageSets[l]}}addPinnedMessages(t){for(let a=0;a<t.length;a+=1)this.addPinnedMessage(t[a])}addPinnedMessage(t){this.pinnedMessages=this._addToMessageList(this.pinnedMessages,this.formatMessage(t),!1,"pinned_at")}removePinnedMessage(t){const{result:a}=this.removeMessageFromArray(this.pinnedMessages,t);this.pinnedMessages=a}addReaction(t,a,e){const n=a;let s;if(n||(s=this.findMessage(t.message_id)),!n&&!s)return;const o=n??s,l={id:o==null?void 0:o.id,parent_id:o==null?void 0:o.parent_id,pinned:o==null?void 0:o.pinned,show_in_channel:o==null?void 0:o.show_in_channel};return this._updateMessage(l,u=>{if(n){const h={...n};return n.own_reactions=this._addOwnReactionToMessage(u.own_reactions,t,e),h.own_reactions=this._channel.getClient().userID===t.user_id?n.own_reactions:u.own_reactions,this.formatMessage(h)}return s?this._addReactionToState(s,t,e):u}),n??s}_addReactionToState(t,a,e){if(t.reaction_groups||(t.reaction_groups={}),e)for(const u of t.own_reactions??[]){const h=t.reaction_groups[u.type];t.reaction_groups[u.type]={...h,count:h.count-1,sum_scores:h.sum_scores-(u.score??1)},t.reaction_groups[u.type].count<1&&delete t.reaction_groups[u.type]}const s=t.reaction_groups[a.type],o=a.score??1;t.reaction_groups[a.type]=s?{...s,count:s.count+1,sum_scores:s.sum_scores+o,last_reaction_at:a.created_at}:{count:1,first_reaction_at:a.created_at,last_reaction_at:a.created_at,sum_scores:o},t.own_reactions=this._addOwnReactionToMessage(t.own_reactions,a,e);const l=this._channel.getClient().userID;return t.latest_reactions=e?[...(t.latest_reactions||[]).filter(u=>u.user_id!==l),a]:[...t.latest_reactions||[],a],t}_addOwnReactionToMessage(t,a,e){return e?t=[]:t=this._removeOwnReactionFromMessage(t,a),t=t||[],this._channel.getClient().userID===a.user_id&&t.push(a),t}_removeOwnReactionFromMessage(t,a){return t&&t.filter(e=>e.user_id!==a.user_id||e.type!==a.type)}removeReaction(t,a){const e=a;let n;if(e||(n=this.findMessage(t.message_id)),!e&&!n)return;const s=e??n,o={id:s==null?void 0:s.id,parent_id:s==null?void 0:s.parent_id,pinned:s==null?void 0:s.pinned,show_in_channel:s==null?void 0:s.show_in_channel};return this._updateMessage(o,l=>e?(e.own_reactions=this._removeOwnReactionFromMessage(l.own_reactions,t),this.formatMessage(e)):n?this._removeReactionFromState(n,t):l),e}_removeReactionFromState(t,a){var s,o,l,u;const e=(s=t.own_reactions)==null?void 0:s.find(h=>h.type===a.type);if(e&&((o=t.reaction_groups)!=null&&o[e.type])){const h=t.reaction_groups[e.type];t.reaction_groups[e.type]={...h,count:h.count-1,sum_scores:h.sum_scores-(e.score??1)},t.reaction_groups[e.type].count<1&&delete t.reaction_groups[e.type]}t.own_reactions=(l=t.own_reactions)==null?void 0:l.filter(h=>h.type!==a.type);const n=this._channel.getClient().userID;return t.latest_reactions=(u=t.latest_reactions)==null?void 0:u.filter(h=>!(h.user_id===n&&h.type===a.type)),t}_updateQuotedMessageReferences({message:t,remove:a}){const e=s=>{var o,l;return{...s,created_at:s.created_at.toISOString(),pinned_at:(o=s.pinned_at)==null?void 0:o.toISOString(),updated_at:(l=s.updated_at)==null?void 0:l.toISOString()}},n=s=>{const o=s.reduce((l,u)=>(u.quoted_message_id===t.id&&l.push({...e(u),quoted_message:a?{...t,attachments:[]}:t}),l),[]);this.addMessagesSorted(o,!0)};t.parent_id?t.parent_id&&this.threads[t.parent_id]&&n(this.threads[t.parent_id]):this.messageSets.forEach(s=>n(s.messages))}removeQuotedMessageReferences(t){this._updateQuotedMessageReferences({message:t,remove:!0})}_updateMessage(t,a){const{parent_id:e,show_in_channel:n,pinned:s}=t;if(e&&this.threads[e]){const o=this.threads[e],l=o.findIndex(u=>u.id===t.id);l!==-1&&(o[l]=a(o[l]),this.threads[e]=o)}if(!n&&!e||n){const o=this.findMessageSetIndex(t);if(o!==-1){const l=this.messageSets[o].messages.findIndex(u=>u.id===t.id);if(l!==-1){const u=a(this.messageSets[o].messages[l]);this.messageSets[o].messages[l]=u}}}if(s){const o=this.pinnedMessages.findIndex(l=>l.id===t.id);o!==-1&&(this.pinnedMessages[o]=a(this.pinnedMessages[o]))}}_addToMessageList(t,a,e=!1,n="created_at",s=!0){return M_(t,a,e,n,s)}removeMessage(t){let a=!1;if(t.parent_id&&this.threads[t.parent_id]){const{removed:e,result:n}=this.removeMessageFromArray(this.threads[t.parent_id],t);this.threads[t.parent_id]=n,a=e}else{const e=t.messageSetIndex??this.findMessageSetIndex(t);if(e!==-1){const{removed:n,result:s}=this.removeMessageFromArray(this.messageSets[e].messages,t);this.messageSets[e].messages=s,a=n}}return a}filterErrorMessages(){const t=this.latestMessages.filter(a=>a.type!=="error");this.latestMessages=t}clean(){const t=new Date;for(const[a,e]of Object.entries(this.typing)){const n=typeof e.received_at=="string"?new Date(e.received_at):e.received_at||new Date;t.getTime()-n.getTime()>7e3&&(delete this.typing[a],this._channel.getClient().dispatchEvent({cid:this._channel.cid,type:"typing.stop",user:{id:a}}))}}clearMessages(){this.initMessages(),this.pinnedMessages=[]}initMessages(){this.messageSets=[{messages:[],isLatest:!0,isCurrent:!0,pagination:jp}]}async loadMessageIntoState(t,a,e=25){var u;let n,s=!1,o=!1;const l=a||t;if(t==="latest"){if(this.messages===this.latestMessages)return;n=this.messageSets.findIndex(h=>h.isLatest)}else n=this.findMessageSetIndex({id:l});n!==-1&&(this.switchToMessageSet(n),s=!0),o=!a||!!((u=this.threads[a])!=null&&u.find(h=>h.id===t)),!(s&&o)&&(s||await this._channel.query({messages:{id_around:l,limit:e}},"new"),!o&&a&&await this._channel.getReplies(a,{id_around:t,limit:e}),n=this.findMessageSetIndex({id:l}),n!==-1&&this.switchToMessageSet(n))}findMessage(t,a){if(a){const n=this.threads[a];return n?n.find(s=>s.id===t):void 0}const e=this.findMessageSetIndex({id:t});if(e!==-1)return this.messageSets[e].messages.find(n=>n.id===t)}switchToMessageSet(t){const a=this.messageSets.find(e=>e.isCurrent);a&&(a.isCurrent=!1,this.messageSets[t].isCurrent=!0)}areMessageSetsOverlap(t,a){return t.some(e=>a.find(n=>e.id===n.id))}findMessageSetIndex(t){return this.messageSets.findIndex(a=>!!a.messages.find(e=>e.id===t.id))}findTargetMessageSet(t,a=!0,e="current"){let n=t,s;if(a){const o=this.messageSets.map((h,m)=>m).filter(h=>this.areMessageSetsOverlap(this.messageSets[h].messages,t));switch(e){case"new":o.length>0?s=o[0]:t.some(h=>!h.parent_id)&&(this.messageSets.push({messages:[],isCurrent:!1,isLatest:!1,pagination:jp}),s=this.messageSets.length-1);break;case"current":s=this.messageSets.findIndex(h=>h.isCurrent);break;case"latest":s=this.messageSets.findIndex(h=>h.isLatest);break;default:s=-1}const l=o.splice(0,1)[0],u=[...o];if(l!==void 0&&l!==s&&u.push(s),u.length>0){const h=this.messageSets[l],m=this.messageSets.filter((v,b)=>u.indexOf(b)!==-1);m.forEach(v=>{h.isLatest=h.isLatest||v.isLatest,h.isCurrent=h.isCurrent||v.isCurrent,h.pagination.hasPrev=v.messages[0].created_at<h.messages[0].created_at?v.pagination.hasPrev:h.pagination.hasPrev,h.pagination.hasNext=h.messages.slice(-1)[0].created_at<v.messages.slice(-1)[0].created_at?v.pagination.hasNext:h.pagination.hasNext,n=[...n,...v.messages]}),m.forEach(v=>this.messageSets.splice(this.messageSets.indexOf(v),1)),s=this.messageSets.findIndex(v=>this.areMessageSetsOverlap(v.messages,t))}}else s=this.findMessageSetIndex(t[0]);return{targetMessageSetIndex:s,messagesToAdd:n}}},aP=t=>!!(t!=null&&t.og_scrape_url)||!!(t!=null&&t.title_link),L_=t=>{var a;return!!((a=t==null?void 0:t.localMetadata)!=null&&a.id)},rP=(t,a=[])=>t.type==="file"||!!(t.mime_type&&a.indexOf(t.mime_type)===-1&&t.type!=="video"),P_=t=>t.type==="image"&&!aP(t),sP=t=>P_(t)&&L_(t),iP=t=>t.type==="audio",oP=t=>t.type==="voiceRecording",lP=(t,a=[])=>t.type==="video"||!!(t.mime_type&&a.indexOf(t.mime_type)!==-1),cP=t=>iP(t)||rP(t)||P_(t)||lP(t)||oP(t),Wd=t=>!!t.lastModified&&!("uri"in t),uP=t=>t==null||typeof t!="object"?!1:typeof FileList<"u"&&t instanceof FileList||"item"in t&&"length"in t&&!Array.isArray(t),dP=t=>t instanceof Blob&&!(t instanceof File),Ho=t=>t!==null&&typeof t=="object"&&!Wd(t)&&!dP(t)&&typeof t.name=="string"&&typeof t.uri=="string"&&typeof t.size=="number"&&typeof t.type=="string",k1=({blobsArray:t,fileName:a,mimeType:e})=>{const n=new Blob(t,{type:e});return new File([n],a,{type:n.type})},fP=t=>{const a=t.match(/\/([^/;]+)/);return a==null?void 0:a[1]},L1=t=>{const a=fP(t);return`file_${new Date().toISOString()}${a?"."+a:""}`},yc=t=>{const a=t.type;return a.startsWith("image/")&&!a.endsWith(".photoshop")},hP=t=>t.startsWith("image/")&&!t.endsWith(".photoshop")?"image":t.includes("video/")?"video":t.includes("audio/")?"audio":"file",P1=t=>{if(!t)return null;if(L_(t))return t;const{localMetadata:a,...e}=t;return{localMetadata:{...a??{},id:(a==null?void 0:a.id)||nr()},...e}},O_=t=>typeof t=="function",sa=class{constructor(t){this.value=t,this.handlerSet=new Set,this.next=a=>{const e=O_(a)?a(this.value):a;if(e===this.value)return;const n=this.value;this.value=e,this.handlerSet.forEach(s=>s(this.value,n))},this.partialNext=a=>this.next(e=>({...e,...a})),this.getLatestValue=()=>this.value,this.subscribe=a=>(a(this.value,void 0),this.handlerSet.add(a),()=>{this.handlerSet.delete(a)}),this.subscribeWithSelector=(a,e)=>{let n;const s=o=>{const l=a(o);let u=typeof n>"u";for(const m in n)if(n[m]!==l[m]){u=!0;break}if(!u)return;const h=n;n=l,e(l,h)};return this.subscribe(s)}}},qi=t=>{if(!t||typeof t!="object"||Array.isArray(t))return!1;const a=Object.getPrototypeOf(t);return a===null||a===Object.prototype?!1:t.constructor&&t.constructor!==Object},Rg=(t,a,e=new Set,n=new WeakSet,s=new WeakSet)=>{if(t===a)return!0;if(t==null||a==null)return!1;const o=typeof t;if(o!==typeof a)return!1;if(o!=="object")return t!==t&&a!==a?!0:t===a;const u=t,h=a;if(n.has(u)||s.has(h))return n.has(u)&&s.has(h);if(n.add(u),s.add(h),t instanceof Date&&a instanceof Date)return n.delete(u),s.delete(h),t.getTime()===a.getTime();if(t instanceof RegExp&&a instanceof RegExp)return n.delete(u),s.delete(h),t.toString()===a.toString();if(qi(t)||qi(a))return n.delete(u),s.delete(h),!1;const m=Array.isArray(t),p=Array.isArray(a);if(m!==p)return n.delete(u),s.delete(h),!1;if(m&&p){const E=t,I=a;if(E.length!==I.length)return n.delete(u),s.delete(h),!1;const A=[t,a];if(e.has(A))return n.delete(u),s.delete(h),!0;e.add(A);for(let M=0;M<E.length;M++)if(!Rg(E[M],I[M],e,n,s))return e.delete(A),n.delete(u),s.delete(h),!1;return e.delete(A),n.delete(u),s.delete(h),!0}const v=t,b=a,S=Object.keys(v),C=Object.keys(b);if(S.length!==C.length)return n.delete(u),s.delete(h),!1;for(const E of C)if(!Object.prototype.hasOwnProperty.call(v,E))return n.delete(u),s.delete(h),!1;const _=[t,a];if(e.has(_))return n.delete(u),s.delete(h),!0;e.add(_);for(const E of S)if(!Rg(v[E],b[E],e,n,s))return e.delete(_),n.delete(u),s.delete(h),!1;return e.delete(_),n.delete(u),s.delete(h),!0};function mP(t,a){const e={children:{}};return B_(t,a,e),ky(e)}function B_(t,a,e,n,s=new Set,o=new Set){if(Rg(t,a,new Set(s)))return;if(t==null){n!==void 0&&(e.children[String(n)]={type:"added",value:a,children:{}});return}if(typeof t=="object"&&t!==null){if(o.has(t)){n!==void 0&&(e.children[String(n)]={type:"circular",value:a,oldValue:t,children:{}});return}o.add(t)}if(typeof t!="object"||typeof a!="object"||t===null||a===null||Array.isArray(t)!==Array.isArray(a)||qi(t)||qi(a)){n!==void 0&&(e.children[String(n)]={type:"updated",value:a,oldValue:t,children:{}}),typeof t=="object"&&t!==null&&o.delete(t);return}const u=t,h=a,m=n!==void 0?{type:"updated",children:{},oldValue:t,value:a}:e;n!==void 0&&(e.children[String(n)]=m);const p=[t,a];if(s.has(p)){typeof t=="object"&&t!==null&&o.delete(t);return}s.add(p);const v=new Set([...Object.keys(u),...Object.getOwnPropertySymbols(u),...Object.keys(h),...Object.getOwnPropertySymbols(h)]);for(const b of v){const S=u[b],C=h[b];if(b in h){if(!(b in u)){m.children[String(b)]={type:"added",value:C,children:{}};continue}B_(S,C,m,b,s,o)}}s.delete(p),typeof t=="object"&&t!==null&&o.delete(t)}function U_(t={}){const{trackDiff:a=!1}=t;return function({target:n,source:s,customizer:o}){const l=Array.isArray(s)?s:[s],u=a?structuredClone(n):void 0;function h(E,I,A,M,k,L){const U=o==null?void 0:o(E,I,A,M,k,L);return U!==void 0?(Object.defineProperty(M,A,{value:U,enumerable:!0,writable:!0,configurable:!0}),!0):!1}function m(E,I){if(E&&typeof E=="object"){const A=qi(E),M=qi(I);return A||M?M?I:E:Array.isArray(E)?[...E]:{...E}}return Array.isArray(I)?[]:{}}function p(E,I,A,M,k){const L=I[A],U=E[A];if(!h(U,L,A,E,I,M))if(L&&typeof L=="object"){if(!M.has(L)){const F=m(U,L);if(Object.defineProperty(E,A,{value:F,enumerable:!0,writable:!0,configurable:!0}),qi(F))return;k.push({target:F,source:L,sourceKey:A,parentTarget:E})}}else L!==void 0&&(E[A]=L)}function v(E,I,A,M){const k=[...Object.keys(I),...Object.getOwnPropertySymbols(I)];for(const L of k)p(E,I,L,A,M)}function b({target:E,source:I,sourceKey:A,parentTarget:M},k,L){if(k.has(I)){a&&A&&M&&Object.defineProperty(M,A,{value:E,enumerable:!0,writable:!0,configurable:!0});return}!k.has(E)&&!k.has(I)&&(k.add(E),k.add(I),v(E,I,k,L),k.delete(I),k.delete(E))}function S(E,I,A=new Set){if(A.has(E)||A.has(I))return{...E};const M={...E},k=[];for(A.add(M),A.add(I),v(M,I,A,k);k.length;)b(k.pop(),A,k);return A.delete(I),A.delete(M),M}const C=l.reduce((E,I)=>S(E,I),{...n}),_=a&&u?mP(u,C):null;return{result:C,diff:_}}}function ky(t){const a={};let e=!1;for(const n in t.children){const s=ky(t.children[n]);s&&(a[n]=s,e=!0)}return t.type||e?{...t,children:a}:null}function gf(t,a,e){return U_()({target:t,source:a,customizer:e}).result}function z_(t,a,e){const n=U_({trackDiff:!0}),{result:s,diff:o}=n({target:t,source:a,customizer:e});return{result:s,diff:ky(o??{children:{}})||{children:{}}}}var O1=({message:t})=>{var a;return{attachments:(a=(t==null?void 0:t.attachments)??[])==null?void 0:a.filter(({og_scrape_url:e})=>!e).map(e=>{const n=cP(e)?{id:nr(),uploadState:"finished"}:{id:nr()};return{...e,localMetadata:n}})}},pP=class{constructor({composer:t,message:a}){this.setCustomUploadFn=e=>{this.composer.updateConfig({attachments:{doUploadRequest:e}})},this.initState=({message:e}={})=>{this.state.next(O1({message:e}))},this.getAttachmentIndex=e=>{const n=this.attachmentsById;return this.attachments.indexOf(n[e])},this.prepareAttachmentUpdate=e=>{const n=this.attachments,s=[...this.attachments],o=this.getAttachmentIndex(e.localMetadata.id);if(o===-1)return null;const l=z_(n[o],e);if(l.diff&&Object.keys(l.diff.children).length){const h=P1(l.result);if(h)return s.splice(o,1,h),s}return null},this.updateAttachment=e=>{const n=this.prepareAttachmentUpdate(e);n&&this.state.partialNext({attachments:n})},this.upsertAttachments=e=>{if(!e.length)return;let n=[...this.attachments],s=!1;e.forEach(o=>{const l=this.prepareAttachmentUpdate(o);if(l)n=l,s=!0;else{const u=P1(o);u&&(n.push(u),s=!0)}}),s&&this.state.partialNext({attachments:n})},this.removeAttachments=e=>{this.state.partialNext({attachments:this.attachments.filter(n=>{var s;return!e.includes((s=n.localMetadata)==null?void 0:s.id)})})},this.getUploadConfigCheck=async e=>{var S,C;const n=this.channel.getClient();let s;n.appSettingsPromise?s=await n.appSettingsPromise:s=await n.getAppSettings();const o=yc(e)?(S=s==null?void 0:s.app)==null?void 0:S.image_upload_config:(C=s==null?void 0:s.app)==null?void 0:C.file_upload_config;if(!o)return{uploadBlocked:!1};const{allowed_file_extensions:l,allowed_mime_types:u,blocked_file_extensions:h,blocked_mime_types:m,size_limit:p}=o,v=p||ML,b=e.type;if(Wd(e)||Ho(e)){if(l!=null&&l.length&&!l.some(_=>e.name.toLowerCase().endsWith(_.toLowerCase())))return{uploadBlocked:!0,reason:"allowed_file_extensions"};if(h!=null&&h.length&&h.some(_=>e.name.toLowerCase().endsWith(_.toLowerCase())))return{uploadBlocked:!0,reason:"blocked_file_extensions"}}return u!=null&&u.length&&!u.some(_=>_.toLowerCase()===(b==null?void 0:b.toLowerCase()))?{uploadBlocked:!0,reason:"allowed_mime_types"}:m!=null&&m.length&&m.some(_=>_.toLowerCase()===(b==null?void 0:b.toLowerCase()))?{uploadBlocked:!0,reason:"blocked_mime_types"}:e.size&&e.size>v?{uploadBlocked:!0,reason:"size_limit"}:{uploadBlocked:!1}},this.fileToLocalUploadAttachment=async e=>{var l;const n=Ho(e)||Wd(e)?e:k1({blobsArray:[e],fileName:L1(e.type),mimeType:e.type}),s=await this.getUploadConfigCheck(n),o={file_size:n.size,mime_type:n.type,localMetadata:{file:n,id:nr(),uploadPermissionCheck:s,uploadState:s.uploadBlocked?"blocked":"pending"},type:hP(n.type)};return o[yc(n)?"fallback":"title"]=n.name,yc(n)&&(o.localMetadata.previewUri=Ho(e)?e.uri:(l=URL.createObjectURL)==null?void 0:l.call(URL,e),Ho(e)&&e.height&&e.width&&(o.original_height=e.height,o.original_width=e.width)),Ho(e)&&e.thumb_url&&(o.thumb_url=e.thumb_url),o},this.ensureLocalUploadAttachment=async e=>{var s;if(!((s=e.localMetadata)!=null&&s.file)||!e.localMetadata.id){this.client.notifications.addError({message:"File is required for upload attachment",origin:{emitter:"AttachmentManager",context:{attachment:e}}});return}if(!this.fileUploadFilter(e))return;const n=await this.fileToLocalUploadAttachment(e.localMetadata.file);return e.localMetadata.id&&(n.localMetadata.id=e.localMetadata.id),n},this.doDefaultUploadRequest=async e=>{if(Ho(e))return this.channel[yc(e)?"sendImage":"sendFile"](e.uri,e.name,e.type);const n=Wd(e)?e:k1({blobsArray:[e],fileName:L1(e.type),mimeType:e.type}),{duration:s,...o}=await this.channel[yc(e)?"sendImage":"sendFile"](n);return o},this.doUploadRequest=async e=>{const n=this.config.doUploadRequest;return n?await n(e):this.doDefaultUploadRequest(e)},this.uploadAttachment=async e=>{if(!this.isUploadEnabled)return;const n=await this.ensureLocalUploadAttachment(e);if(typeof n>"u")return;if(n.localMetadata.uploadState==="blocked")return this.upsertAttachments([n]),this.client.notifications.addError({message:"Error uploading attachment",origin:{emitter:"AttachmentManager",context:{attachment:e}}}),n;this.upsertAttachments([{...e,localMetadata:{...e.localMetadata,uploadState:"uploading"}}]);let s;try{s=await this.doUploadRequest(n.localMetadata.file)}catch(l){let u={message:"Error uploading attachment",name:"Error"};typeof l.message=="string"?u=l:typeof l=="object"&&(u=Object.assign(u,l)),this.client.notifications.addError({message:u.message,origin:{emitter:"AttachmentManager",context:{attachment:e}}});const h={...e,localMetadata:{...e.localMetadata,uploadState:"failed"}};return this.updateAttachment(h),h}if(!s){this.removeAttachments([e.localMetadata.id]);return}const o={...e,localMetadata:{...e.localMetadata,uploadState:"finished"}};return sP(o)?(o.localMetadata.previewUri&&(URL.revokeObjectURL(o.localMetadata.previewUri),delete o.localMetadata.previewUri),o.image_url=s.file):o.asset_url=s.file,s.thumb_url&&(o.thumb_url=s.thumb_url),this.updateAttachment(o),o},this.uploadFiles=async e=>{if(!this.isUploadEnabled)return;const n=uP(e)?Array.from(e):e,s=await Promise.all(n.map(this.fileToLocalUploadAttachment));return Promise.all(s.filter(this.fileUploadFilter).slice(0,this.availableUploadSlots).map(this.uploadAttachment))},this.composer=t,this.state=new sa(O1({message:a})),this.attachmentsByIdGetterCache={attachmentsById:{},attachments:[]}}get attachmentsById(){const{attachments:t}=this.state.getLatestValue();return t!==this.attachmentsByIdGetterCache.attachments&&(this.attachmentsByIdGetterCache.attachments=t,this.attachmentsByIdGetterCache.attachmentsById=t.reduce((a,e)=>{var n;return e.localMetadata.id&&(a[n=e.localMetadata.id]??(a[n]=e)),a},{})),this.attachmentsByIdGetterCache.attachmentsById}get client(){return this.composer.client}get channel(){return this.composer.channel}get config(){return this.composer.config.attachments}get acceptedFiles(){return this.config.acceptedFiles}set acceptedFiles(t){this.composer.updateConfig({attachments:{acceptedFiles:t}})}get fileUploadFilter(){return this.config.fileUploadFilter}set fileUploadFilter(t){this.composer.updateConfig({attachments:{fileUploadFilter:t}})}get maxNumberOfFilesPerMessage(){return this.config.maxNumberOfFilesPerMessage}set maxNumberOfFilesPerMessage(t){t!==this.maxNumberOfFilesPerMessage&&this.composer.updateConfig({attachments:{maxNumberOfFilesPerMessage:t}})}get attachments(){return this.state.getLatestValue().attachments}get hasUploadPermission(){var t,a;return!!((a=(t=this.channel.data)==null?void 0:t.own_capabilities)!=null&&a.includes("upload-file"))}get isUploadEnabled(){return this.hasUploadPermission&&this.availableUploadSlots>0}get successfulUploads(){return this.getUploadsByState("finished")}get successfulUploadsCount(){return this.successfulUploads.length}get uploadsInProgressCount(){return this.getUploadsByState("uploading").length}get failedUploadsCount(){return this.getUploadsByState("failed").length}get blockedUploadsCount(){return this.getUploadsByState("blocked").length}get pendingUploadsCount(){return this.getUploadsByState("pending").length}get availableUploadSlots(){return this.config.maxNumberOfFilesPerMessage-this.successfulUploadsCount-this.uploadsInProgressCount}getUploadsByState(t){return Object.values(this.attachments).filter(({localMetadata:a})=>a.uploadState===t)}},gP="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",yP="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",il=(t,a)=>{for(const e in a)t[e]=a[e];return t},kg="numeric",Lg="ascii",Pg="alpha",Mc="asciinumeric",Ic="alphanumeric",Og="domain",H_="emoji",vP="scheme",bP="slashscheme",Gp="whitespace";function wP(t,a){return t in a||(a[t]=[]),a[t]}function ji(t,a,e){a[kg]&&(a[Mc]=!0,a[Ic]=!0),a[Lg]&&(a[Mc]=!0,a[Pg]=!0),a[Mc]&&(a[Ic]=!0),a[Pg]&&(a[Ic]=!0),a[Ic]&&(a[Og]=!0),a[H_]&&(a[Og]=!0);for(const n in a){const s=wP(n,e);s.indexOf(t)<0&&s.push(t)}}function CP(t,a){const e={};for(const n in a)a[n].indexOf(t)>=0&&(e[n]=!0);return e}function Ta(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Ta.groups={};Ta.prototype={accepts(){return!!this.t},go(t){const a=this,e=a.j[t];if(e)return e;for(let n=0;n<a.jr.length;n++){const s=a.jr[n][0],o=a.jr[n][1];if(o&&s.test(t))return o}return a.jd},has(t,a=!1){return a?t in this.j:!!this.go(t)},ta(t,a,e,n){for(let s=0;s<t.length;s++)this.tt(t[s],a,e,n)},tr(t,a,e,n){n=n||Ta.groups;let s;return a&&a.j?s=a:(s=new Ta(a),e&&n&&ji(a,e,n)),this.jr.push([t,s]),s},ts(t,a,e,n){let s=this;const o=t.length;if(!o)return s;for(let l=0;l<o-1;l++)s=s.tt(t[l]);return s.tt(t[o-1],a,e,n)},tt(t,a,e,n){n=n||Ta.groups;const s=this;if(a&&a.j)return s.j[t]=a,a;const o=a;let l,u=s.go(t);if(u?(l=new Ta,il(l.j,u.j),l.jr.push.apply(l.jr,u.jr),l.jd=u.jd,l.t=u.t):l=new Ta,o){if(n)if(l.t&&typeof l.t=="string"){const h=il(CP(l.t,n),e);ji(o,h,n)}else e&&ji(o,e,n);l.t=o}return s.j[t]=l,l}};var it=(t,a,e,n,s)=>t.ta(a,e,n,s),sn=(t,a,e,n,s)=>t.tr(a,e,n,s),B1=(t,a,e,n,s)=>t.ts(a,e,n,s),Se=(t,a,e,n,s)=>t.tt(a,e,n,s),hs="WORD",Bg="UWORD",Y_="ASCIINUMERICAL",F_="ALPHANUMERICAL",Wc="LOCALHOST",Ug="TLD",zg="UTLD",Gd="SCHEME",jo="SLASH_SCHEME",Ly="NUM",Hg="WS",Py="NL",Ac="OPENBRACE",Tc="CLOSEBRACE",yf="OPENBRACKET",vf="CLOSEBRACKET",bf="OPENPAREN",wf="CLOSEPAREN",Cf="OPENANGLEBRACKET",Sf="CLOSEANGLEBRACKET",_f="FULLWIDTHLEFTPAREN",Ef="FULLWIDTHRIGHTPAREN",xf="LEFTCORNERBRACKET",If="RIGHTCORNERBRACKET",Df="LEFTWHITECORNERBRACKET",Mf="RIGHTWHITECORNERBRACKET",Af="FULLWIDTHLESSTHAN",Tf="FULLWIDTHGREATERTHAN",Nf="AMPERSAND",Oy="APOSTROPHE",Rf="ASTERISK",ii="AT",kf="BACKSLASH",Lf="BACKTICK",Pf="CARET",oi="COLON",By="COMMA",Of="DOLLAR",Nr="DOT",Bf="EQUALS",Uy="EXCLAMATION",Va="HYPHEN",Nc="PERCENT",Uf="PIPE",zf="PLUS",Hf="POUND",Rc="QUERY",zy="QUOTE",j_="FULLWIDTHMIDDLEDOT",Hy="SEMI",Rr="SLASH",kc="TILDE",Yf="UNDERSCORE",W_="EMOJI",Ff="SYM",G_=Object.freeze({__proto__:null,WORD:hs,UWORD:Bg,ASCIINUMERICAL:Y_,ALPHANUMERICAL:F_,LOCALHOST:Wc,TLD:Ug,UTLD:zg,SCHEME:Gd,SLASH_SCHEME:jo,NUM:Ly,WS:Hg,NL:Py,OPENBRACE:Ac,CLOSEBRACE:Tc,OPENBRACKET:yf,CLOSEBRACKET:vf,OPENPAREN:bf,CLOSEPAREN:wf,OPENANGLEBRACKET:Cf,CLOSEANGLEBRACKET:Sf,FULLWIDTHLEFTPAREN:_f,FULLWIDTHRIGHTPAREN:Ef,LEFTCORNERBRACKET:xf,RIGHTCORNERBRACKET:If,LEFTWHITECORNERBRACKET:Df,RIGHTWHITECORNERBRACKET:Mf,FULLWIDTHLESSTHAN:Af,FULLWIDTHGREATERTHAN:Tf,AMPERSAND:Nf,APOSTROPHE:Oy,ASTERISK:Rf,AT:ii,BACKSLASH:kf,BACKTICK:Lf,CARET:Pf,COLON:oi,COMMA:By,DOLLAR:Of,DOT:Nr,EQUALS:Bf,EXCLAMATION:Uy,HYPHEN:Va,PERCENT:Nc,PIPE:Uf,PLUS:zf,POUND:Hf,QUERY:Rc,QUOTE:zy,FULLWIDTHMIDDLEDOT:j_,SEMI:Hy,SLASH:Rr,TILDE:kc,UNDERSCORE:Yf,EMOJI:W_,SYM:Ff}),us=/[a-z]/,vc=new RegExp("\\p{L}","u"),Zp=new RegExp("\\p{Emoji}","u"),ds=/\d/,$p=/\s/,U1="\r",qp=`
`,SP="️",_P="‍",Qp="￼",_d=null,Ed=null;function EP(t=[]){const a={};Ta.groups=a;const e=new Ta;_d==null&&(_d=z1(gP)),Ed==null&&(Ed=z1(yP)),Se(e,"'",Oy),Se(e,"{",Ac),Se(e,"}",Tc),Se(e,"[",yf),Se(e,"]",vf),Se(e,"(",bf),Se(e,")",wf),Se(e,"<",Cf),Se(e,">",Sf),Se(e,"（",_f),Se(e,"）",Ef),Se(e,"「",xf),Se(e,"」",If),Se(e,"『",Df),Se(e,"』",Mf),Se(e,"＜",Af),Se(e,"＞",Tf),Se(e,"&",Nf),Se(e,"*",Rf),Se(e,"@",ii),Se(e,"`",Lf),Se(e,"^",Pf),Se(e,":",oi),Se(e,",",By),Se(e,"$",Of),Se(e,".",Nr),Se(e,"=",Bf),Se(e,"!",Uy),Se(e,"-",Va),Se(e,"%",Nc),Se(e,"|",Uf),Se(e,"+",zf),Se(e,"#",Hf),Se(e,"?",Rc),Se(e,'"',zy),Se(e,"/",Rr),Se(e,";",Hy),Se(e,"~",kc),Se(e,"_",Yf),Se(e,"\\",kf),Se(e,"・",j_);const n=sn(e,ds,Ly,{[kg]:!0});sn(n,ds,n);const s=sn(n,us,Y_,{[Mc]:!0}),o=sn(n,vc,F_,{[Ic]:!0}),l=sn(e,us,hs,{[Lg]:!0});sn(l,ds,s),sn(l,us,l),sn(s,ds,s),sn(s,us,s);const u=sn(e,vc,Bg,{[Pg]:!0});sn(u,us),sn(u,ds,o),sn(u,vc,u),sn(o,ds,o),sn(o,us),sn(o,vc,o);const h=Se(e,qp,Py,{[Gp]:!0}),m=Se(e,U1,Hg,{[Gp]:!0}),p=sn(e,$p,Hg,{[Gp]:!0});Se(e,Qp,p),Se(m,qp,h),Se(m,Qp,p),sn(m,$p,p),Se(p,U1),Se(p,qp),sn(p,$p,p),Se(p,Qp,p);const v=sn(e,Zp,W_,{[H_]:!0});Se(v,"#"),sn(v,Zp,v),Se(v,SP,v);const b=Se(v,_P);Se(b,"#"),sn(b,Zp,v);const S=[[us,l],[ds,s]],C=[[us,null],[vc,u],[ds,o]];for(let _=0;_<_d.length;_++)ei(e,_d[_],Ug,hs,S);for(let _=0;_<Ed.length;_++)ei(e,Ed[_],zg,Bg,C);ji(Ug,{tld:!0,ascii:!0},a),ji(zg,{utld:!0,alpha:!0},a),ei(e,"file",Gd,hs,S),ei(e,"mailto",Gd,hs,S),ei(e,"http",jo,hs,S),ei(e,"https",jo,hs,S),ei(e,"ftp",jo,hs,S),ei(e,"ftps",jo,hs,S),ji(Gd,{scheme:!0,ascii:!0},a),ji(jo,{slashscheme:!0,ascii:!0},a),t=t.sort((_,E)=>_[0]>E[0]?1:-1);for(let _=0;_<t.length;_++){const E=t[_][0],A=t[_][1]?{[vP]:!0}:{[bP]:!0};E.indexOf("-")>=0?A[Og]=!0:us.test(E)?ds.test(E)?A[Mc]=!0:A[Lg]=!0:A[kg]=!0,B1(e,E,E,A)}return B1(e,"localhost",Wc,{ascii:!0}),e.jd=new Ta(Ff),{start:e,tokens:il({groups:a},G_)}}function Z_(t,a){const e=xP(a.replace(/[A-Z]/g,u=>u.toLowerCase())),n=e.length,s=[];let o=0,l=0;for(;l<n;){let u=t,h=null,m=0,p=null,v=-1,b=-1;for(;l<n&&(h=u.go(e[l]));)u=h,u.accepts()?(v=0,b=0,p=u):v>=0&&(v+=e[l].length,b++),m+=e[l].length,o+=e[l].length,l++;o-=v,l-=b,m-=v,s.push({t:p.t,v:a.slice(o-m,o),s:o-m,e:o})}return s}function xP(t){const a=[],e=t.length;let n=0;for(;n<e;){let s=t.charCodeAt(n),o,l=s<55296||s>56319||n+1===e||(o=t.charCodeAt(n+1))<56320||o>57343?t[n]:t.slice(n,n+2);a.push(l),n+=l.length}return a}function ei(t,a,e,n,s){let o;const l=a.length;for(let u=0;u<l-1;u++){const h=a[u];t.j[h]?o=t.j[h]:(o=new Ta(n),o.jr=s.slice(),t.j[h]=o),t=o}return o=new Ta(e),o.jr=s.slice(),t.j[a[l-1]]=o,o}function z1(t){const a=[],e=[];let n=0,s="0123456789";for(;n<t.length;){let o=0;for(;s.indexOf(t[n+o])>=0;)o++;if(o>0){a.push(e.join(""));for(let l=parseInt(t.substring(n,n+o),10);l>0;l--)e.pop();n+=o}else e.push(t[n]),n++}return a}var Gc={defaultProtocol:"http",events:null,format:H1,formatHref:H1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Yy(t,a=null){let e=il({},Gc);t&&(e=il(e,t instanceof Yy?t.o:t));const n=e.ignoreTags,s=[];for(let o=0;o<n.length;o++)s.push(n[o].toUpperCase());this.o=e,a&&(this.defaultRender=a),this.ignoreTags=s}Yy.prototype={o:Gc,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,a,e){const n=a!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=e.t in s?s[e.t]:Gc[t],typeof s=="function"&&n&&(s=s(a,e))):typeof s=="function"&&n&&(s=s(a,e.t,e)),s)},getObj(t,a,e){let n=this.o[t];return typeof n=="function"&&a!=null&&(n=n(a,e.t,e)),n},render(t){const a=t.render(this);return(this.get("render",null,t)||this.defaultRender)(a,t.t,t)}};function H1(t){return t}function $_(t,a){this.t="token",this.v=t,this.tk=a}$_.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const a=this.toString(),e=t.get("truncate",a,this),n=t.get("format",a,this);return e&&n.length>e?n.substring(0,e)+"…":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Gc.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const a=this,e=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",e,this),s=t.get("tagName",e,a),o=this.toFormattedString(t),l={},u=t.get("className",e,a),h=t.get("target",e,a),m=t.get("rel",e,a),p=t.getObj("attributes",e,a),v=t.getObj("events",e,a);return l.href=n,u&&(l.class=u),h&&(l.target=h),m&&(l.rel=m),p&&il(l,p),{tagName:s,attributes:l,content:o,eventListeners:v}}};function mh(t,a){class e extends $_{constructor(s,o){super(s,o),this.t=t}}for(const n in a)e.prototype[n]=a[n];return e.t=t,e}var Y1=mh("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),F1=mh("text"),IP=mh("nl"),xd=mh("url",{isLink:!0,toHref(t=Gc.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Wc&&t[1].t===oi}}),Za=t=>new Ta(t);function DP({groups:t}){const a=t.domain.concat([Nf,Rf,ii,kf,Lf,Pf,Of,Bf,Va,Ly,Nc,Uf,zf,Hf,Rr,Ff,kc,Yf]),e=[oi,By,Nr,Uy,Nc,Rc,zy,Hy,Cf,Sf,Ac,Tc,vf,yf,bf,wf,_f,Ef,xf,If,Df,Mf,Af,Tf],n=[Nf,Oy,Rf,kf,Lf,Pf,Of,Bf,Va,Ac,Tc,Nc,Uf,zf,Hf,Rc,Rr,Ff,kc,Yf],s=Za(),o=Se(s,kc);it(o,n,o),it(o,t.domain,o);const l=Za(),u=Za(),h=Za();it(s,t.domain,l),it(s,t.scheme,u),it(s,t.slashscheme,h),it(l,n,o),it(l,t.domain,l);const m=Se(l,ii);Se(o,ii,m),Se(u,ii,m),Se(h,ii,m);const p=Se(o,Nr);it(p,n,o),it(p,t.domain,o);const v=Za();it(m,t.domain,v),it(v,t.domain,v);const b=Se(v,Nr);it(b,t.domain,v);const S=Za(Y1);it(b,t.tld,S),it(b,t.utld,S),Se(m,Wc,S);const C=Se(v,Va);Se(C,Va,C),it(C,t.domain,v),it(S,t.domain,v),Se(S,Nr,b),Se(S,Va,C);const _=Se(S,oi);it(_,t.numeric,Y1);const E=Se(l,Va),I=Se(l,Nr);Se(E,Va,E),it(E,t.domain,l),it(I,n,o),it(I,t.domain,l);const A=Za(xd);it(I,t.tld,A),it(I,t.utld,A),it(A,t.domain,l),it(A,n,o),Se(A,Nr,I),Se(A,Va,E),Se(A,ii,m);const M=Se(A,oi),k=Za(xd);it(M,t.numeric,k);const L=Za(xd),U=Za();it(L,a,L),it(L,e,U),it(U,a,L),it(U,e,U),Se(A,Rr,L),Se(k,Rr,L);const F=Se(u,oi),z=Se(h,oi),q=Se(z,Rr),te=Se(q,Rr);it(u,t.domain,l),Se(u,Nr,I),Se(u,Va,E),it(h,t.domain,l),Se(h,Nr,I),Se(h,Va,E),it(F,t.domain,L),Se(F,Rr,L),Se(F,Rc,L),it(te,t.domain,L),it(te,a,L),Se(te,Rr,L);const ge=[[Ac,Tc],[yf,vf],[bf,wf],[Cf,Sf],[_f,Ef],[xf,If],[Df,Mf],[Af,Tf]];for(let le=0;le<ge.length;le++){const[re,ee]=ge[le],j=Se(L,re);Se(U,re,j),Se(j,ee,L);const D=Za(xd);it(j,a,D);const H=Za();it(j,e),it(D,a,D),it(D,e,H),it(H,a,D),it(H,e,H),Se(D,ee,L),Se(H,ee,L)}return Se(s,Wc,A),Se(s,Py,IP),{start:s,tokens:G_}}function MP(t,a,e){let n=e.length,s=0,o=[],l=[];for(;s<n;){let u=t,h=null,m=null,p=0,v=null,b=-1;for(;s<n&&!(h=u.go(e[s].t));)l.push(e[s++]);for(;s<n&&(m=h||u.go(e[s].t));)h=null,u=m,u.accepts()?(b=0,v=u):b>=0&&b++,s++,p++;if(b<0)s-=p,s<n&&(l.push(e[s]),s++);else{l.length>0&&(o.push(Vp(F1,a,l)),l=[]),s-=b,p-=b;const S=v.t,C=e.slice(s-p,s);o.push(Vp(S,a,C))}}return l.length>0&&o.push(Vp(F1,a,l)),o}function Vp(t,a,e){const n=e[0].s,s=e[e.length-1].e,o=a.slice(n,s);return new t(o,e)}var Gn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function AP(){Gn.scanner=EP(Gn.customSchemes);for(let t=0;t<Gn.tokenQueue.length;t++)Gn.tokenQueue[t][1]({scanner:Gn.scanner});Gn.parser=DP(Gn.scanner.tokens);for(let t=0;t<Gn.pluginQueue.length;t++)Gn.pluginQueue[t][1]({scanner:Gn.scanner,parser:Gn.parser});return Gn.initialized=!0,Gn}function q_(t){return Gn.initialized||AP(),MP(Gn.parser.start,t,Z_(Gn.scanner.start,t))}q_.scan=Z_;function TP(t,a=null,e=null){if(a&&typeof a=="object"){if(e)throw Error(`linkifyjs: Invalid link type ${a}; must be a string`);e=a,a=null}const n=new Yy(e),s=q_(t),o=[];for(let l=0;l<s.length;l++){const u=s[l];u.isLink&&(!a||u.t===a)&&n.check(u)&&o.push(u.toFormattedObject(n))}return o}var NP={debounceURLEnrichmentMs:1500,enabled:!1,findURLFn:t=>TP(t,"url",{defaultProtocol:"https"}).reduce((a,e)=>{try{const n=new URL(e.href);e.isLink&&/^[a-zA-Z0-9-.]+\.[a-zA-Z]{2,}$/.test(n.hostname)&&a.push(e.href)}catch{}return a},[])},RP={acceptedFiles:[],fileUploadFilter:()=>!0,maxNumberOfFilesPerMessage:AL},kP={enabled:!0,publishTypingEvents:!0},LP={attachments:RP,drafts:{enabled:!1},linkPreviews:NP,text:kP},j1=t=>t?{message:{},custom:{}}:{message:{},custom:{}},PP=class{constructor({composer:t,message:a}){this.isMessageDataEqual=(e,n)=>JSON.stringify(e.message)===JSON.stringify(n==null?void 0:n.message),this.initState=({message:e}={})=>{this.state.next(j1({composer:this.composer}))},this.composer=t,this.state=new sa(j1({}))}get customMessageData(){return this.state.getLatestValue().message}get customComposerData(){return this.state.getLatestValue().custom}setMessageData(t){this.state.partialNext({message:{...this.state.getLatestValue().message,...t}})}setCustomData(t){this.state.partialNext({custom:{...this.state.getLatestValue().custom,...t}})}},OP=t=>new Map(t.map(a=>[a.og_scrape_url,a])),W1=({message:t})=>{var a;return t?{previews:((a=t.attachments)==null?void 0:a.reduce((e,n)=>(n.og_scrape_url&&e.set(n.og_scrape_url,{...n,status:"loaded"}),e),new Map))??new Map}:{previews:new Map}},ro=class zi{constructor({composer:a,message:e}){this.shouldDiscardEnrichQueries=!1,this.initState=({message:n}={})=>{this.state.next(W1({message:this.enabled?n:void 0}))},this._findAndEnrichUrls=async n=>{if(!this.enabled)return;const s=this.config.findURLFn(n);if(this.shouldDiscardEnrichQueries=!s.length,this.shouldDiscardEnrichQueries){this.state.next({previews:new Map});return}const o=new Map(Array.from(this.previews).filter(([u])=>s.includes(u)||s.includes(u+"/"))),l=s.filter(u=>{const h=this.previews;return!(h.get(u)||h.get(u+"/"))}).map(u=>({og_scrape_url:u.trim(),status:"loading"}));l.length&&(this.state.partialNext({previews:new Map([...o,...OP(l)])}),await Promise.all(l.map(async u=>{try{const{duration:h,...m}=await this.client.enrichURL(u.og_scrape_url);if(this.shouldDiscardEnrichQueries)return;this.previews.has(u.og_scrape_url)&&this.updatePreview(u.og_scrape_url,{status:"loaded",...m})}catch{this.previews.has(u.og_scrape_url)&&this.updatePreview(u.og_scrape_url,{status:"failed"})}return u})))},this.cancelURLEnrichment=()=>{this.findAndEnrichUrls.cancel(),this.findAndEnrichUrls.flush()},this.clearPreviews=()=>{const n=this.previews,s=new Map;n.forEach((o,l)=>{zi.previewIsDismissed(o)&&s.set(l,o)}),this.state.partialNext({previews:s})},this.updatePreview=(n,s)=>{var h;if(!n)return;const o=this.previews.get(n),l=s.status??((h=this.previews.get(n))==null?void 0:h.status)??"pending";let u=s;if(o){const m=z_(o,s);if(!m.diff||Object.keys(m.diff).length===0)return;u=m.result}this.state.partialNext({previews:new Map(this.previews).set(n,{...u,og_scrape_url:n,status:l})})},this.dismissPreview=n=>{var o;const s=this.previews.get(n);s&&((o=this.onLinkPreviewDismissed)==null||o.call(this,s),this.updatePreview(n,{status:"dismissed"}))},this.composer=a,this.state=new sa(W1({message:this.enabled?e:void 0})),this.findAndEnrichUrls=Tg(this._findAndEnrichUrls.bind(this),this.config.debounceURLEnrichmentMs)}get client(){return this.composer.client}get channel(){return this.composer.channel}get previews(){return this.state.getLatestValue().previews}get loadingPreviews(){return Array.from(this.previews.values()).filter(a=>zi.previewIsLoading(a))}get loadedPreviews(){return Array.from(this.previews.values()).filter(a=>zi.previewIsLoaded(a))}get dismissedPreviews(){return Array.from(this.previews.values()).filter(a=>zi.previewIsDismissed(a))}get failedPreviews(){return Array.from(this.previews.values()).filter(a=>zi.previewIsFailed(a))}get pendingPreviews(){return Array.from(this.previews.values()).filter(a=>zi.previewIsPending(a))}get config(){return this.composer.config.linkPreviews}get debounceURLEnrichmentMs(){return this.config.debounceURLEnrichmentMs}set debounceURLEnrichmentMs(a){this.cancelURLEnrichment(),this.findAndEnrichUrls=Tg(this._findAndEnrichUrls.bind(this),this.config.debounceURLEnrichmentMs),this.composer.updateConfig({linkPreviews:{debounceURLEnrichmentMs:a}})}get enabled(){var a;return!!((a=this.channel.getConfig())!=null&&a.url_enrichment)&&this.composer.config.linkPreviews.enabled}set enabled(a){a!==this.enabled&&this.composer.updateConfig({linkPreviews:{enabled:a}})}get findURLFn(){return this.config.findURLFn}set findURLFn(a){this.composer.updateConfig({linkPreviews:{findURLFn:a}})}get onLinkPreviewDismissed(){return this.config.onLinkPreviewDismissed}set onLinkPreviewDismissed(a){this.composer.updateConfig({linkPreviews:{onLinkPreviewDismissed:a}})}};ro.previewIsLoading=t=>t.status==="loading";ro.previewIsLoaded=t=>t.status==="loaded";ro.previewIsDismissed=t=>t.status==="dismissed";ro.previewIsFailed=t=>t.status==="failed";ro.previewIsPending=t=>t.status==="pending";ro.getPreviewData=t=>{const{status:a,...e}=t;return e};var Fy=ro,BP=UP(zP),Yg=new Map;function UP(t){return function(e,n){const{cb:s,onContinued:o}=t(e,n),l=Yg.get(e);l==null||l.onContinued();const u=l?l.promise.then(s,s):s();return Yg.set(e,{promise:u,onContinued:o}),u}}function zP(t,a){const e=new AbortController;return{cb:()=>e.signal.aborted?Promise.resolve("canceled"):a(e.signal).finally(()=>{e.signal.aborted||Yg.delete(t)}),onContinued:()=>e.abort()}}var ru=class{constructor(){this.middleware=[],this.id=nr()}use(t){return this.middleware=this.middleware.concat(t),this}replace(t){const a=[...this.middleware];return t.forEach(e=>{const n=this.middleware.findIndex(s=>s.id===e.id);n>=0?a.splice(n,1,e):a.push(e)}),this.middleware=a,this}insert({middleware:t,position:a,unique:e}){e&&t.forEach(l=>{const u=this.middleware.findIndex(h=>h.id===l.id);u>=0&&this.middleware.splice(u,1)});const n=a.after||a.before,s=this.middleware.findIndex(l=>l.id===n),o=a.after?s+1:s;return this.middleware.splice(o,0,...t),this}setOrder(t){this.middleware=t.map(a=>this.middleware.find(e=>e.id===a)).filter(Boolean)}async executeMiddlewareChain({eventName:t,initialValue:a}){let e=-1;const n=async(o,l,u)=>{if(o<=e)throw new Error("next() called multiple times");if(e=o,o===this.middleware.length||u&&["complete","discard"].includes(u))return{state:l,status:u};const p=this.middleware[o].handlers[t];return p?await p({state:l,next:_=>n(o+1,_),complete:_=>n(o+1,_,"complete"),discard:()=>n(o+1,l,"discard"),forward:()=>n(o+1,l)}):n(o+1,l,u)},s=await BP(`middleware-execution-${this.id}-${t}`,async o=>{const l=await n(0,a);return o.aborted?"canceled":l});return s==="canceled"?{state:a,status:"discard"}:s}async execute({eventName:t,initialValue:a}){return await this.executeMiddlewareChain({eventName:t,initialValue:a})}},jy=/^([2-9]|10)$/,HP=100,G1=t=>!t.trim(),Lc={enforce_unique_vote:()=>({max_votes_allowed:void 0}),max_votes_allowed:({data:t,value:a})=>t.enforce_unique_vote&&a?{max_votes_allowed:"Enforce unique vote is enabled"}:!a.match(/^[0-9]+$/)&&a?{max_votes_allowed:"Only numbers are allowed"}:(a==null?void 0:a.length)>1&&!a.match(jy)?{max_votes_allowed:"Type a number from 2 to 10"}:{max_votes_allowed:void 0},options:({value:t})=>{const a={},e=new Set;return t.forEach(n=>{const s=n.text.trim();e.has(s)?a[n.id]="Option already exists":e.add(s)}),Object.keys(a).length>0?{options:a}:{options:void 0}}},YP={name:({currentError:t,value:a})=>a&&t?{name:void 0}:{name:typeof t=="string"?t:void 0}},FP={max_votes_allowed:({value:t})=>t&&!t.match(jy)?{max_votes_allowed:"Type a number from 2 to 10"}:{max_votes_allowed:void 0},name:({value:t})=>G1(t)?{name:"Question is required"}:{name:void 0},options:t=>{var n;const a=(n=Lc.options)==null?void 0:n.call(Lc,t),e=(a==null?void 0:a.options)??{};return t.value.forEach((s,o)=>{const l=o===t.value.length-1;G1(s.text)&&!l&&(e[s.id]="Option is empty")}),Object.keys(e).length>0?{options:e}:{options:void 0}}},jP=t=>!Array.isArray(t)&&typeof(t==null?void 0:t.index)=="number"&&typeof(t==null?void 0:t.text)=="string",WP={enforce_unique_vote:({value:t})=>({enforce_unique_vote:t,max_votes_allowed:""}),options:({value:t,data:a})=>{if(Array.isArray(t))return{options:t.map(p=>({id:p.id,text:p.text.trim()}))};const{index:e,text:n}=t,s=a.options||[],o=s&&s.slice(e+1).length>0&&!n,l=s.slice(0,e),u=s.slice(e+1),h=[...l,...o?[]:[{...s[e],text:n}],...u];return s.length<HP&&!h.some(p=>!p.text.trim())&&h.push({id:nr(),text:""}),{options:h}}},GP=({processors:t,validators:a}={})=>{const e=({state:n,validators:s,processors:o})=>{const{previousState:l,targetFields:u}=n;let h;if(!o&&jP(u.options)){const p=[...l.data.options],v=l.data.options[u.options.index];v&&(v.text=u.options.text,p.splice(u.options.index,1,v)),h={...u,options:p}}else o?h=Object.entries(u).reduce((p,[v,b])=>{const S=o[v];return p={...p,...S?S({data:l.data,value:b}):{[v]:b}},p},{}):h=u;const m=Object.keys(u).reduce((p,v)=>{const b=s[v];if(b){const S=b({currentError:l.errors[v],data:l.data,value:h[v]});p={...p,...S}}return p},{});return{newData:h,newErrors:m}};return{id:"stream-io/poll-composer-state-processing",handlers:{handleFieldChange:({state:n,next:s,forward:o})=>{if(!n.targetFields)return o();const{previousState:l,injectedFieldErrors:u}=n,{newData:h,newErrors:m}=e({processors:{...WP,...t==null?void 0:t.handleFieldChange},state:n,validators:{...Lc,...YP,...a==null?void 0:a.handleFieldChange}});return s({...n,nextState:{...l,data:{...l.data,...h},errors:{...l.errors,...m,...u}}})},handleFieldBlur:({state:n,next:s,forward:o})=>{if(!n.targetFields)return o();const{previousState:l}=n,{newData:u,newErrors:h}=e({processors:t==null?void 0:t.handleFieldBlur,state:n,validators:{...Lc,...FP,...a==null?void 0:a.handleFieldBlur}});return s({...n,nextState:{...l,data:{...l.data,...u},errors:{...l.errors,...h,...n.injectedFieldErrors}}})}}}},ZP=t=>({id:"stream-io/poll-composer-composition",handlers:{compose:({discard:a,forward:e})=>t.pollComposer.canCreatePoll?e():a()}}),$P=class extends ru{constructor({composer:t}){super(),this.use([ZP(t)])}},qP=class extends ru{constructor(){super(),this.use([GP()])}},QP=class extends Error{constructor(t,{code:a,status:e,response:n}){super(t),this.name="ErrorFromResponse",this.code=a,this.response=n,this.status=e}toJSON(){const t=[["status",this.status],["code",this.code]],a=[];for(const[e,n]of t)typeof n<"u"&&n!==null&&a.push(`${e}: ${n}`);return{message:`(${a.join(", ")}) - ${this.message}`,stack:this.stack,name:this.name}}},VP=class{constructor({composer:t}){this.initState=()=>{this.state.next(this.initialState)},this.updateFields=async(a,e)=>{const{state:n,status:s}=await this.stateMiddlewareExecutor.execute({eventName:"handleFieldChange",initialValue:{nextState:{...this.state.getLatestValue()},previousState:{...this.state.getLatestValue()},targetFields:a,injectedFieldErrors:e}});s!=="discard"&&this.state.next(n.nextState)},this.handleFieldBlur=async a=>{const e=await this.stateMiddlewareExecutor.execute({eventName:"handleFieldBlur",initialValue:{nextState:{...this.state.getLatestValue()},previousState:{...this.state.getLatestValue()},targetFields:{[a]:this.state.getLatestValue().data[a]}}});e.status!=="discard"&&this.state.next(e.state.nextState)},this.compose=async()=>{var s;const{data:a,errors:e}=this.state.getLatestValue(),n=await this.compositionMiddlewareExecutor.execute({eventName:"compose",initialValue:{data:{...a,max_votes_allowed:a.max_votes_allowed?parseInt(a.max_votes_allowed):void 0,options:(s=a.options)==null?void 0:s.filter(o=>o.text.trim()).map(o=>({text:o.text}))},errors:e}});if(n.status!=="discard")return n.state},this.composer=t,this.state=new sa(this.initialState),this.compositionMiddlewareExecutor=new $P({composer:t}),this.stateMiddlewareExecutor=new qP}get initialState(){var t;return{data:{allow_answers:!1,allow_user_suggested_options:!1,description:"",enforce_unique_vote:!0,id:nr(),max_votes_allowed:"",name:"",options:[{id:nr(),text:""}],user_id:(t=this.composer.client.user)==null?void 0:t.id,voting_visibility:"public"},errors:{}}}get allow_answers(){return this.state.getLatestValue().data.allow_answers}get allow_user_suggested_options(){return this.state.getLatestValue().data.allow_user_suggested_options}get description(){return this.state.getLatestValue().data.description}get enforce_unique_vote(){return this.state.getLatestValue().data.enforce_unique_vote}get id(){return this.state.getLatestValue().data.id}get max_votes_allowed(){return this.state.getLatestValue().data.max_votes_allowed}get name(){return this.state.getLatestValue().data.name}get options(){return this.state.getLatestValue().data.options}get user_id(){return this.state.getLatestValue().data.user_id}get voting_visibility(){return this.state.getLatestValue().data.voting_visibility}get canCreatePoll(){var l,u;const{data:t,errors:a}=this.state.getLatestValue(),e=t.options.filter(h=>!!h.text).length>0,n=!!t.name,s=parseInt(((u=(l=t.max_votes_allowed)==null?void 0:l.match(jy))==null?void 0:u[0])||""),o=t.max_votes_allowed===""||!!s&&(2<=s||s<=10);return e&&n&&o&&Object.values(a).filter(h=>!!h).length===0}},Q_=t=>{const{localMetadata:a,...e}=t;return e},XP=t=>({id:"stream-io/message-composer-middleware/attachments",handlers:{compose:({state:a,next:e,discard:n,forward:s})=>{const{attachmentManager:o}=t;if(!o)return s();if(o.uploadsInProgressCount>0)return t.client.notifications.addWarning({message:"Wait until all attachments have uploaded",origin:{emitter:"MessageComposer",context:{composer:t}}}),n();const l=(a.message.attachments??[]).concat(o.successfulUploads.map(Q_));return l.length?e({...a,localMessage:{...a.localMessage,attachments:l},message:{...a.message,attachments:l}}):s()}}}),KP=t=>({id:"stream-io/message-composer-middleware/draft-attachments",handlers:{compose:({state:a,next:e,forward:n})=>{const{attachmentManager:s}=t;if(!s)return n();const o=s.successfulUploads,l=o.length?(a.draft.attachments??[]).concat(o.map(Q_)):void 0;return e({...a,draft:{...a.draft,attachments:l}})}}}),JP=t=>({id:"stream-io/message-composer-middleware/data-cleanup",handlers:{compose:({state:a,next:e})=>{var o,l,u;const n={type:((o=t.editedMessage)==null?void 0:o.type)??"regular"},s=t.editedMessage?I_(t.editedMessage):void 0;return e({...a,localMessage:Aa({...t.editedMessage,...a.localMessage,...n,user:t.client.user}),message:{...s,...a.message,...n},sendOptions:t.editedMessage&&((l=a.sendOptions)!=null&&l.skip_enrich_url)?{skip_enrich_url:(u=a.sendOptions)==null?void 0:u.skip_enrich_url}:a.sendOptions})}}}),eO=t=>({id:"stream-io/message-composer-middleware/custom-data",handlers:{compose:({state:a,next:e,forward:n})=>{const s=t.customDataManager.customMessageData;return s?e({...a,localMessage:{...a.localMessage,...s},message:{...a.message,...s}}):n()}}}),tO=t=>({id:"stream-io/message-composer-middleware/draft-custom-data",handlers:{compose:({state:a,next:e,forward:n})=>{const s=t.customDataManager.customMessageData;return s?e({...a,draft:{...a.draft,...s}}):n()}}}),nO=t=>({id:"stream-io/message-composer-middleware/data-validation",handlers:{compose:async({state:a,discard:e,forward:n})=>{var m;const{maxLengthOnSend:s}=t.config.text??{},o=a.message.text??"",l=Wy(o)&&!((m=a.message.attachments)!=null&&m.length)&&!a.message.poll_id,u=typeof s=="number"&&o.length>s,h=t.editedMessage&&!t.lastChangeOriginIsLocal;return l||h||u?await e():await n()}}}),aO=t=>({id:"stream-io/message-composer-middleware/draft-data-validation",handlers:{compose:async({state:a,discard:e,forward:n})=>{var l;const s=!Wy(a.draft.text??"")||((l=a.draft.attachments)==null?void 0:l.length)||a.draft.poll_id||a.draft.quoted_message_id;return t.lastChangeOriginIsLocal&&s?await n():await e()}}}),rO=t=>({id:"stream-io/message-composer-middleware/link-previews",handlers:{compose:({state:a,next:e,forward:n})=>{const{linkPreviewsManager:s}=t;if(!s)return n();s.cancelURLEnrichment();const o=s.loadingPreviews.length>0,l=s.dismissedPreviews.length>0,u=s.loadingPreviews.length>0?[]:s.loadedPreviews.map(v=>Fy.getPreviewData(v)),h=(a.message.attachments??[]).concat(u);if(!h.length)return n();const m={...a.sendOptions};return(!o&&u.length>0||l)&&(m.skip_enrich_url=!0),e({...a,message:{...a.message,attachments:h},localMessage:{...a.localMessage,attachments:h},sendOptions:m})}}}),sO=t=>({id:"stream-io/message-composer-middleware/draft-link-previews",handlers:{compose:({state:a,next:e,forward:n})=>{const{linkPreviewsManager:s}=t;if(!s)return n();s.cancelURLEnrichment();const o=s.loadedPreviews.map(l=>Fy.getPreviewData(l));return o.length?e({...a,draft:{...a.draft,attachments:(a.draft.attachments??[]).concat(o)}}):n()}}}),iO=t=>({id:"stream-io/message-composer-middleware/text-composition",handlers:{compose:({state:a,next:e,forward:n})=>{if(!t.textComposer)return n();const{mentionedUsers:s,text:o}=t.textComposer,l=Array.from(new Set(s.filter(({id:u,name:h})=>o.includes(`@${u}`)||o.includes(`@${h}`))));return!o&&l.length===0?n():e({...a,localMessage:{...a.localMessage,mentioned_users:l,text:o},message:{...a.message,mentioned_users:l.map(u=>u.id),text:o}})}}}),oO=t=>({id:"stream-io/message-composer-middleware/draft-text-composition",handlers:{compose:({state:a,next:e,forward:n})=>{if(!t.textComposer)return n();const{maxLengthOnSend:s}=t.config.text??{},{mentionedUsers:o,text:l}=t.textComposer,u=o.length?Array.from(new Set(o.filter(({id:m,name:p})=>l.includes(`@${m}`)||l.includes(`@${p}`)))):void 0,h=typeof s=="number"&&l.length>s?l.slice(0,s):l;return e({...a,draft:{...a.draft,mentioned_users:u==null?void 0:u.map(m=>m.id),text:h}})}}}),lO=t=>({id:"stream-io/message-composer-middleware/own-state",handlers:{compose:({state:a,next:e})=>{const n={};return t.quotedMessage&&(n.quoted_message_id=t.quotedMessage.id),t.pollId&&(n.poll_id=t.pollId),e({...a,localMessage:{...a.localMessage,...n,quoted_message:t.quotedMessage??void 0},message:{...a.message,...n}})}}}),cO=t=>({id:"stream-io/message-composer-middleware/draft-own-state",handlers:{compose:({state:a,next:e})=>{const n={};return t.quotedMessage&&(n.quoted_message_id=t.quotedMessage.id),t.pollId&&(n.poll_id=t.pollId),e({...a,draft:{...a.draft,...n}})}}}),uO={attachments:[],mentioned_users:[],parent_id:void 0,quoted_message:void 0,text:""},dO=t=>({id:"stream-io/message-composer-middleware/poll-only",handlers:{compose:({state:a,complete:e,forward:n})=>{const s=t.pollId,o=!!t.editedMessage,l=!!t.threadId;return!s||l||o?n():e({...a,localMessage:{...a.localMessage,...uO,poll_id:s},message:{id:a.localMessage.id,poll_id:s}})}}}),fO=class extends ru{constructor({composer:t}){super(),this.use([dO(t),iO(t),XP(t),rO(t),lO(t),eO(t),nO(t),JP(t)])}},hO=class extends ru{constructor({composer:t}){super(),this.use([oO(t),KP(t),sO(t),cO(t),tO(t),aO(t)])}},mO={debounceMs:300,pageSize:10},V_=class{constructor(t){this.setDebounceOptions=({debounceMs:n})=>{this.searchDebounced=Tg(this.executeQuery.bind(this),n)},this.activate=()=>{this.isActive||this.state.partialNext({isActive:!0})},this.deactivate=()=>{this.isActive&&this.state.partialNext({isActive:!1})},this.canExecuteQuery=n=>{const s=typeof n<"u",o=n??this.searchQuery;return!!(this.isActive&&!this.isLoading&&(this.hasNext||s)&&o)},this.search=n=>this.searchDebounced(n);const{debounceMs:a,pageSize:e}={...mO,...t};this.pageSize=e,this.state=new sa(this.initialState),this.setDebounceOptions({debounceMs:a})}get lastQueryError(){return this.state.getLatestValue().lastQueryError}get hasNext(){return this.state.getLatestValue().hasNext}get hasResults(){return Array.isArray(this.state.getLatestValue().items)}get isActive(){return this.state.getLatestValue().isActive}get isLoading(){return this.state.getLatestValue().isLoading}get initialState(){return{hasNext:!0,isActive:!1,isLoading:!1,items:void 0,lastQueryError:void 0,next:void 0,offset:0,searchQuery:""}}get items(){return this.state.getLatestValue().items}get next(){return this.state.getLatestValue().next}get offset(){return this.state.getLatestValue().offset}get searchQuery(){return this.state.getLatestValue().searchQuery}getStateBeforeFirstQuery(t){return{...this.initialState,isActive:this.isActive,isLoading:!0,searchQuery:t}}getStateAfterQuery(t,a){return{...this.state.getLatestValue(),lastQueryError:void 0,...t,isLoading:!1,items:a?t.items:[...this.items??[],...t.items||[]]}}async executeQuery(t){if(!this.canExecuteQuery(t))return;const a=typeof t<"u",e=t??this.searchQuery;a?this.state.next(this.getStateBeforeFirstQuery(t??"")):this.state.partialNext({isLoading:!0});const n={};try{const s=await this.query(e);if(!s)return;const{items:o,next:l}=s;l||l===null?(n.next=l,n.hasNext=!!l):(n.offset=(this.offset??0)+o.length,n.hasNext=o.length===this.pageSize),n.items=await this.filterQueryResults(o)}catch(s){n.lastQueryError=s}finally{this.state.next(this.getStateAfterQuery(n,a))}}cancelScheduledQuery(){this.searchDebounced.cancel()}resetState(){this.state.next(this.initialState)}resetStateAndActivate(){this.resetState(),this.activate()}},X_=({trigger:t,text:a,isCommand:e=!1,acceptTrailingSpaces:n=!0})=>{const s=`[^\\s${t}]*`,o=a.match(new RegExp(e?`^[${t}]${s}$`:n?`(?!^|\\W)?[${t}]${s}\\s?${s}$`:`(?!^|\\W)?[${t}]${s}$`,"g"));return o&&o[o.length-1].trim()},K_=({insertText:t,selection:a,text:e,trigger:n})=>{const s=e.slice(0,a.end),o=e.slice(a.end),l=s.lastIndexOf(n);return{text:s.slice(0,l)+t+o,selection:{start:l+t.length,end:l+t.length}}};function pO(t){return t.replace(/[-[\]{}()*+?.,/\\^$|#]/g,"\\$&")}var gO=({displayName:t,searchToken:a})=>({tokenizedDisplayName:{token:a,parts:a?t.split(new RegExp(`(${pO(a)})`,"gi")).filter(Boolean):[t]}}),yO=class extends V_{constructor(t,a){super(a),this.type="commands",this.canExecuteQuery=e=>{const n=typeof e<"u";return this.isActive&&!this.isLoading&&(this.hasNext||n)},this.channel=t}getStateBeforeFirstQuery(t){const a=super.getStateBeforeFirstQuery(t),{items:e}=this.state.getLatestValue();return{...a,items:e}}query(t){const a=this.channel.getConfig(),n=((a==null?void 0:a.commands)||[]).filter(s=>!!(s.name&&s.name.toLowerCase().indexOf(t.toLowerCase())!==-1));return n.sort((s,o)=>{var h,m;let l=(h=s.name)==null?void 0:h.toLowerCase(),u=(m=o.name)==null?void 0:m.toLowerCase();if((l==null?void 0:l.indexOf(t))===0&&(l=`0${l}`),(u==null?void 0:u.indexOf(t))===0&&(u=`0${u}`),l!=null&&u!=null){if(l<u)return-1;if(l>u)return 1}return 0}),Promise.resolve({items:n.map(s=>({...s,id:s.name})),next:null})}filterQueryResults(t){return t}},vO={minChars:1,trigger:"/"},bO=(t,a)=>{const e=gf(vO,{});let n=new yO(t);return n.activate(),{id:"stream-io/text-composer/commands-middleware",handlers:{onChange:({state:s,next:o,complete:l,forward:u})=>{var v;if(!s.selection)return u();const h=X_({trigger:e.trigger,text:s.text.slice(0,s.selection.end),acceptTrailingSpaces:!1,isCommand:!0});if(h&&h.length===e.minChars&&n.resetStateAndActivate(),!h||h.length<e.minChars){const b=((v=s.suggestions)==null?void 0:v.trigger)===e.trigger,S={...s};return b&&delete S.suggestions,o(S)}return l({...s,suggestions:{query:h.slice(1),searchSource:n,trigger:e.trigger}})},onSuggestionItemSelect:({state:s,complete:o,forward:l})=>{var h;const{selectedSuggestion:u}=s.change??{};return!u||((h=s.suggestions)==null?void 0:h.trigger)!==e.trigger?l():(n.resetStateAndActivate(),o({...s,...K_({insertText:`/${u.name} `,selection:s.selection,text:s.text,trigger:e.trigger}),suggestions:void 0}))}}}},Z1={a:"á|à|ã|â|À|Á|Ã|Â",c:"ç|Ç",e:"é|è|ê|É|È|Ê",i:"í|ì|î|Í|Ì|Î",n:"ñ|Ñ",o:"ó|ò|ô|ő|õ|Ó|Ò|Ô|Õ",u:"ú|ù|û|ü|Ú|Ù|Û|Ü"},Xp=t=>t?Object.keys(Z1).reduce((a,e)=>a.replace(new RegExp(Z1[e],"g"),e),t):"",$1=(t,a)=>{if(t.length===0)return a.length;if(a.length===0)return t.length;const e=[];let n;for(n=0;n<=a.length;n++)e[n]=[n];let s;for(s=0;s<=t.length;s++)e[0][s]=s;for(n=1;n<=a.length;n++)for(s=1;s<=t.length;s++)a.charAt(n-1)===t.charAt(s-1)?e[n][s]=e[n-1][s-1]:e[n][s]=Math.min(e[n-1][s-1]+1,Math.min(e[n][s-1]+1,e[n-1][s]+1));return e[a.length][t.length]},wO=class extends V_{constructor(t,a){const{mentionAllAppUsers:e,textComposerText:n,transliterate:s,...o}=a||{};super(o),this.type="mentions",this.canExecuteQuery=l=>{const u=typeof l<"u";return this.isActive&&!this.isLoading&&(u||this.hasNext)},this.transliterate=l=>l,this.getMembersAndWatchers=()=>{const l=Object.values(this.channel.state.members??{}).map(({user:p})=>p),u=Object.values(this.channel.state.watchers??{}),h=[...l,...u],m={};return h.forEach(p=>{p&&!m[p.id]&&(m[p.id]=p)}),Object.values(m)},this.searchMembersLocally=l=>{const{textComposerText:u}=this.config;return u?this.getMembersAndWatchers().filter(h=>{if(h.id===this.client.userID)return!1;if(!l)return!0;const m=this.transliterate(Xp(h.id)).toLowerCase(),p=this.transliterate(Xp(h.name)).toLowerCase(),v=this.transliterate(Xp(l)).toLowerCase(),b=3,S=u.slice(-4).includes("@");if(p){const _=$1(v,p);if(p.includes(v)||_<=b&&S)return!0}const C=$1(v,m);return m.includes(v)||C<=b&&S}).sort((h,m)=>{if(!this.memberSort)return(h.name||"").localeCompare(m.name||"");for(const[p,v]of Object.entries(this.memberSort)){const b=h[p],S=m[p];if(b!==S)return v===1?String(b||"").localeCompare(String(S||"")):String(S||"").localeCompare(String(b||""))}return 0}):[]},this.prepareQueryUsersParams=l=>({filters:{$or:[{id:{$autocomplete:l}},{name:{$autocomplete:l}}],...this.userFilters},sort:this.userSort??[{name:1},{id:1}],options:{...this.searchOptions,limit:this.pageSize,offset:this.offset}}),this.prepareQueryMembersParams=l=>{let h=[{user_id:1}];return this.memberSort?Array.isArray(this.memberSort)?h=this.memberSort[0]:Object.keys(this.memberSort).length===1&&(h=this.memberSort):h=[{user_id:1}],{filters:this.memberFilters??{name:{$autocomplete:l}},sort:h,options:{...this.searchOptions,limit:this.pageSize,offset:this.offset}}},this.queryUsers=async l=>{const{filters:u,sort:h,options:m}=this.prepareQueryUsersParams(l),{users:p}=await this.client.queryUsers(u,h,m);return p},this.queryMembers=async l=>{const{filters:u,sort:h,options:m}=this.prepareQueryMembersParams(l);return(await this.channel.queryMembers(u,h,m)).members.map(v=>v.user)},this.filterMutes=l=>{const{textComposerText:u}=this.config;if(!u)return[];const{mutedUsers:h}=this.client;return u.includes("/unmute")&&!h.length?[]:h.length?u.includes("/unmute")?l.filter(m=>h.some(p=>p.target.id===m.id)):l.filter(m=>h.every(p=>p.target.id!==m.id)):l},this.client=t.getClient(),this.channel=t,this.config={mentionAllAppUsers:e,textComposerText:n},s&&(this.transliterate=s)}get allMembersLoadedWithInitialChannelQuery(){return Object.keys(this.channel.state.members||{}).length<TL}getStateBeforeFirstQuery(t){const a=super.getStateBeforeFirstQuery(t),{items:e}=this.state.getLatestValue();return{...a,items:e}}async query(t){let a;const e=this.allMembersLoadedWithInitialChannelQuery||!t;return this.config.mentionAllAppUsers?a=await this.queryUsers(t):e?a=this.searchMembersLocally(t):a=await this.queryMembers(t),{items:a.map(n=>({...n,...gO({displayName:n.name||n.id,searchToken:this.searchQuery})}))}}filterQueryResults(t){return this.filterMutes(t)}},CO={minChars:1,trigger:"@"},SO=t=>{const{tokenizedDisplayName:a,...e}=t;return e},_O=(t,a)=>{const e=gf(CO,{});let n;return n=new wO(t),n.activate(),{id:"stream-io/text-composer/mentions-middleware",handlers:{onChange:({state:s,next:o,complete:l,forward:u})=>{var v;if(!s.selection)return u();const h=X_({trigger:e.trigger,text:s.text.slice(0,s.selection.end)});if(h&&h.length===e.minChars&&n.resetStateAndActivate(),!h||h.length<e.minChars){const b=((v=s.suggestions)==null?void 0:v.trigger)===e.trigger,S={...s};return b&&delete S.suggestions,o(S)}return n.config.textComposerText=s.text,l({...s,suggestions:{query:h.slice(1),searchSource:n,trigger:e.trigger}})},onSuggestionItemSelect:({state:s,complete:o,forward:l})=>{var h;const{selectedSuggestion:u}=s.change??{};return!u||((h=s.suggestions)==null?void 0:h.trigger)!==e.trigger?l():(n.resetStateAndActivate(),o({...s,...K_({insertText:`@${u.name||u.id} `,selection:s.selection,text:s.text,trigger:e.trigger}),mentionedUsers:s.mentionedUsers.concat(SO(u)),suggestions:void 0}))}}}},EO=t=>({id:"stream-io/text-composer/pre-validation-middleware",handlers:{onChange:({state:a,next:e,forward:n})=>{const{maxLengthOnEdit:s}=t.config.text??{};return typeof s=="number"&&a.text.length>s?(a.text=a.text.slice(0,s),e({...a,text:a.text})):n()},onSuggestionItemSelect:({forward:a})=>a()}}),xO=class extends ru{constructor({composer:t}){super(),this.use([EO(t),_O(t.channel),bO(t.channel)])}async execute({eventName:t,initialValue:a}){var o;const e=await this.executeMiddlewareChain({eventName:t,initialValue:a}),{query:n,searchSource:s}=e.state.suggestions??{};return(o=s==null?void 0:s.search(n))==null||o.catch(console.error),e}},Wy=t=>{const a=t.trim();return a===""||a===">"||a==="``````"||a==="``"||a==="**"||a==="____"||a==="__"||a==="****"},q1=({composer:t,message:a})=>{if(!a){const n=t.config.text.defaultValue??"";return{mentionedUsers:[],text:n,selection:{start:n.length,end:n.length}}}const e=a.text??"";return{mentionedUsers:(a.mentioned_users??[]).map(n=>typeof n=="string"?{id:n}:n),text:e,selection:{start:e.length,end:e.length}}},IO=class{constructor({composer:t,message:a}){this.initState=({message:e}={})=>{this.state.next(q1({composer:this.composer,message:e}))},this.upsertMentionedUser=e=>{const n=[...this.mentionedUsers],s=n.findIndex(o=>o.id===e.id);s>=0?(n.splice(s,1,e),this.state.partialNext({mentionedUsers:n})):(n.push(e),this.state.partialNext({mentionedUsers:n}))},this.getMentionedUser=e=>this.state.getLatestValue().mentionedUsers.find(n=>n.id===e),this.removeMentionedUser=e=>{const n=this.mentionedUsers.findIndex(o=>o.id===e);if(n===-1)return;const s=[...this.mentionedUsers];s.splice(n,1),this.state.partialNext({mentionedUsers:s})},this.setText=e=>{!this.enabled||e===this.text||this.state.partialNext({text:e})},this.setSelection=e=>{const n=e.start!==this.selection.start||e.end!==this.selection.end;!this.enabled||!n||this.state.partialNext({selection:e})},this.insertText=({text:e,selection:n})=>{if(!this.enabled)return;const s=n??this.selection,{maxLengthOnEdit:o}=this.composer.config.text??{},l=this.text,u=[l.slice(0,s.start),e,l.slice(s.end)].join(""),h=u.slice(0,typeof o=="number"?o:u.length),m=l.slice(0,s.start).length+e.length,p=m>=h.length?h.length:l.slice(0,m).length;this.state.partialNext({text:h,selection:{start:p,end:p}})},this.wrapSelection=({head:e="",selection:n,tail:s=""})=>{if(!this.enabled)return;const o=n??this.selection,l=this.text.slice(0,o.start),u=this.text.slice(o.start,o.end),h=this.text.slice(o.end),m={start:l.length+e.length,end:l.length+e.length+u.length};this.state.partialNext({text:[l,e,u,s,h].join(""),selection:m})},this.setSuggestions=e=>{this.state.partialNext({suggestions:e})},this.closeSuggestions=()=>{const{suggestions:e}=this.state.getLatestValue();e&&this.state.partialNext({suggestions:void 0})},this.handleChange=async({text:e,selection:n})=>{if(!this.enabled)return;const s=await this.middlewareExecutor.execute({eventName:"onChange",initialValue:{...this.state.getLatestValue(),text:e,selection:n}});s.status!=="discard"&&(this.state.next(s.state),this.config.publishTypingEvents&&e&&__(this.channel.keystroke(this.composer.threadId??void 0),"start typing event"))},this.handleSelect=async e=>{if(!this.enabled)return;const n=await this.middlewareExecutor.execute({eventName:"onSuggestionItemSelect",initialValue:{...this.state.getLatestValue(),change:{selectedSuggestion:e}}});(n==null?void 0:n.status)!=="discard"&&this.state.next(n.state)},this.composer=t,this.state=new sa(q1({composer:t,message:a})),this.middlewareExecutor=new xO({composer:t})}get channel(){return this.composer.channel}get config(){return this.composer.config.text}get enabled(){return this.composer.config.text.enabled}set enabled(t){t!==this.enabled&&this.composer.updateConfig({text:{enabled:t}})}get defaultValue(){return this.composer.config.text.defaultValue}set defaultValue(t){t!==this.defaultValue&&this.composer.updateConfig({text:{defaultValue:t}})}get maxLengthOnEdit(){return this.composer.config.text.maxLengthOnEdit}set maxLengthOnEdit(t){t!==this.maxLengthOnEdit&&this.composer.updateConfig({text:{maxLengthOnEdit:t}})}get maxLengthOnSend(){return this.composer.config.text.maxLengthOnSend}set maxLengthOnSend(t){t!==this.maxLengthOnSend&&this.composer.updateConfig({text:{maxLengthOnSend:t}})}get publishTypingEvents(){return this.composer.config.text.publishTypingEvents}set publishTypingEvents(t){t!==this.publishTypingEvents&&this.composer.updateConfig({text:{publishTypingEvents:t}})}get mentionedUsers(){return this.state.getLatestValue().mentionedUsers}get selection(){return this.state.getLatestValue().selection}get suggestions(){return this.state.getLatestValue().suggestions}get text(){return this.state.getLatestValue().text}get textIsEmpty(){return Wy(this.text)}setMentionedUsers(t){this.state.partialNext({mentionedUsers:t})}},Fg=class J_{constructor(){this.unsubscribeFunctions=new Set}get hasSubscriptions(){return this.unsubscribeFunctions.size>0}addUnsubscribeFunction(a){this.unsubscribeFunctions.add(a)}unregisterSubscriptions(){return this.unsubscribeFunctions.forEach(a=>a()),this.unsubscribeFunctions.clear(),J_.symbol}};Fg.symbol=Symbol(Fg.name);var su=Fg,Kp=50,DO=[{created_at:-1}],MO=1e3,AO={active_participant_count:!0,channel:!0,channel_cid:!0,created_at:!0,created_by:!0,created_by_user_id:!0,deleted_at:!0,draft:!0,last_message_at:!0,latest_replies:!0,parent_message:!0,parent_message_id:!0,participant_count:!0,read:!0,reply_count:!0,thread_participants:!0,title:!0,updated_at:!0},Q1=t=>{const a={};for(const e in t){if(AO[e])continue;const n=e;a[n]=t[n]}return a},Pc=class extends su{constructor({client:t,threadData:a}){super(),this.failedRepliesMap=new Map,this.activate=()=>{this.state.partialNext({active:!0})},this.deactivate=()=>{this.state.partialNext({active:!1})},this.reload=async()=>{if(!this.state.getLatestValue().isLoading){this.state.partialNext({isLoading:!0});try{const s=await this.client.getThread(this.id,{watch:!0});this.hydrateState(s)}finally{this.state.partialNext({isLoading:!1})}}},this.hydrateState=s=>{if(s===this)return;if(s.id!==this.id)throw new Error("Cannot hydrate thread's state using thread with different threadId");const{createdAt:o,custom:l,title:u,deletedAt:h,parentMessage:m,participants:p,read:v,replyCount:b,replies:S,updatedAt:C}=s.state.getLatestValue(),_=Array.from(this.failedRepliesMap.values());this.state.partialNext({title:u,createdAt:o,custom:l,deletedAt:h,parentMessage:m,participants:p,read:v,replyCount:b,replies:_.length?S.concat(_):S,updatedAt:C,isStateStale:!1})},this.registerSubscriptions=()=>{this.hasSubscriptions||(this.addUnsubscribeFunction(this.subscribeThreadUpdated()),this.addUnsubscribeFunction(this.subscribeMarkActiveThreadRead()),this.addUnsubscribeFunction(this.subscribeReloadActiveStaleThread()),this.addUnsubscribeFunction(this.subscribeMarkThreadStale()),this.addUnsubscribeFunction(this.subscribeNewReplies()),this.addUnsubscribeFunction(this.subscribeRepliesRead()),this.addUnsubscribeFunction(this.subscribeMessageDeleted()),this.addUnsubscribeFunction(this.subscribeMessageUpdated()))},this.subscribeThreadUpdated=()=>this.client.on("thread.updated",s=>{if(!s.thread||s.thread.parent_message_id!==this.id)return;const o=s.thread;this.state.partialNext({title:o.title,updatedAt:new Date(o.updated_at),deletedAt:o.deleted_at?new Date(o.deleted_at):null,custom:Q1(o)})}).unsubscribe,this.subscribeMarkActiveThreadRead=()=>this.state.subscribeWithSelector(s=>({active:s.active,unreadMessageCount:V1(this.client.userID)(s)}),({active:s,unreadMessageCount:o})=>{!s||!o||this.throttledMarkAsRead()}),this.subscribeReloadActiveStaleThread=()=>this.state.subscribeWithSelector(s=>({active:s.active,isStateStale:s.isStateStale}),({active:s,isStateStale:o})=>{s&&o&&this.reload()}),this.subscribeMarkThreadStale=()=>this.client.on("user.watching.stop",s=>{var l,u;const{channel:o}=this.state.getLatestValue();!this.client.userID||this.client.userID!==((l=s.user)==null?void 0:l.id)||((u=s.channel)==null?void 0:u.cid)!==o.cid||this.state.partialNext({isStateStale:!0})}).unsubscribe,this.subscribeNewReplies=()=>this.client.on("message.new",s=>{var m,p,v;if(!this.client.userID||((m=s.message)==null?void 0:m.parent_id)!==this.id)return;const o=((p=s.message.user)==null?void 0:p.id)===this.client.userID,{active:l,read:u}=this.state.getLatestValue();this.upsertReplyLocally({message:s.message,timestampChanged:o}),l&&this.throttledMarkAsRead();const h={};for(const b of Object.keys(u)){const S=u[b];if(S){let C=S;b===((v=s.user)==null?void 0:v.id)?C={...C,lastReadAt:s.created_at?new Date(s.created_at):new Date,user:s.user,unreadMessageCount:0}:l&&b===this.client.userID||(C={...C,unreadMessageCount:S.unreadMessageCount+1}),h[b]=C}}this.state.partialNext({read:h})}).unsubscribe,this.subscribeRepliesRead=()=>this.client.on("message.read",s=>{if(!s.user||!s.created_at||!s.thread||s.thread.parent_message_id!==this.id)return;const o=s.user.id,l=s.created_at,u=s.user;this.state.next(h=>({...h,read:{...h.read,[o]:{lastReadAt:new Date(l),user:u,lastReadMessageId:s.last_read_message_id,unreadMessageCount:0}}}))}).unsubscribe,this.subscribeMessageDeleted=()=>this.client.on("message.deleted",s=>{s.message&&(s.message.parent_id===this.id&&(s.hard_delete?this.deleteReplyLocally({message:s.message}):this.upsertReplyLocally({message:s.message})),s.message.id===this.id&&this.updateParentMessageLocally({message:s.message}))}).unsubscribe,this.subscribeMessageUpdated=()=>{const o=["message.updated","reaction.new","reaction.deleted","reaction.updated"].map(l=>this.client.on(l,u=>{u.message&&this.updateParentMessageOrReplyLocally(u.message)}).unsubscribe);return()=>o.forEach(l=>l())},this.unregisterSubscriptions=()=>{const s=super.unregisterSubscriptions();return this.state.partialNext({isStateStale:!0}),s},this.deleteReplyLocally=({message:s})=>{var h;const{replies:o}=this.state.getLatestValue(),l=D_({needle:Aa(s),sortedArray:o,sortDirection:"ascending",selectValueToCompare:m=>m.created_at.getTime(),selectKey:m=>m.id});if(((h=o[l])==null?void 0:h.id)!==s.id)return;const u=[...o];u.splice(l,1),this.state.partialNext({replies:u})},this.upsertReplyLocally=({message:s,timestampChanged:o=!1})=>{if(s.parent_id!==this.id)throw new Error("Reply does not belong to this thread");const l=Aa(s);s.status==="failed"?this.failedRepliesMap.set(l.id,l):this.failedRepliesMap.has(s.id)&&this.failedRepliesMap.delete(s.id),this.state.next(u=>({...u,replies:M_(u.replies,l,o)}))},this.updateParentMessageLocally=({message:s})=>{if(s.id!==this.id)throw new Error("Message does not belong to this thread");this.state.next(o=>{const l=Aa(s);return{...o,deletedAt:l.deleted_at,parentMessage:l,replyCount:s.reply_count??o.replyCount}})},this.updateParentMessageOrReplyLocally=s=>{s.parent_id===this.id&&this.upsertReplyLocally({message:s}),!s.parent_id&&s.id===this.id&&this.updateParentMessageLocally({message:s})},this.markAsRead=async({force:s=!1}={})=>this.ownUnreadCount===0&&!s?null:await this.channel.markRead({thread_id:this.id}),this.throttledMarkAsRead=A_(()=>this.markAsRead(),MO,{trailing:!0}),this.queryReplies=({limit:s=Kp,sort:o=DO,...l}={})=>this.channel.getReplies(this.id,{limit:s,...l},o),this.loadNextPage=({limit:s=Kp}={})=>this.loadPage(s),this.loadPrevPage=({limit:s=Kp}={})=>this.loadPage(-s),this.loadPage=async s=>{var v;const{pagination:o}=this.state.getLatestValue(),[l,u,h]=s>0?["isLoadingNext","nextCursor","push"]:["isLoadingPrev","prevCursor","unshift"];if(o[l]||o[u]===null)return;const m={[s>0?"id_gt":"id_lt"]:o[u]},p=Math.abs(s);this.state.partialNext({pagination:{...o,[l]:!0}});try{const b=await this.queryReplies({...m,limit:p}),S=b.messages.map(Aa),C=((v=S.at(s>0?-1:0))==null?void 0:v.id)??null;this.state.next(_=>{let E=_.replies;return S.length>0&&(E=[..._.replies],E[h](...S)),{..._,replies:E,pagination:{..._.pagination,[u]:b.messages.length<p?null:C,[l]:!1}}})}catch(b){this.client.logger("error",b.message),this.state.next(S=>({...S,pagination:{...S.pagination,[l]:!1}}))}};const e=t.channel(a.channel.type,a.channel.id,{name:a.channel.name});e._hydrateMembers({members:a.channel.members??[],overrideCurrentState:!1});const n=t.userID?[{user:{id:t.userID},unread_messages:0,last_read:new Date().toISOString()}]:[];this.state=new sa({active:!1,isLoading:!1,isStateStale:!1,channel:e,createdAt:new Date(a.created_at),deletedAt:a.deleted_at?new Date(a.deleted_at):null,pagination:NO(a),parentMessage:Aa(a.parent_message),participants:a.thread_participants,read:TO(!a.read||a.read.length===0?n:a.read),replies:a.latest_replies.map(Aa),replyCount:a.reply_count??0,updatedAt:a.updated_at?new Date(a.updated_at):null,title:a.title,custom:Q1(a)}),this.id=a.parent_message_id,this.client=t,this.messageComposer=new jf({client:t,composition:a.draft,compositionContext:this})}get channel(){return this.state.getLatestValue().channel}get hasStaleState(){return this.state.getLatestValue().isStateStale}get ownUnreadCount(){return V1(this.client.userID)(this.state.getLatestValue())}},TO=t=>t.reduce((a,e)=>(a[e.user.id]={user:e.user,lastReadMessageId:e.last_read_message_id,unreadMessageCount:e.unread_messages??0,lastReadAt:new Date(e.last_read)},a),{}),NO=t=>{var e;return{nextCursor:null,prevCursor:t.latest_replies.length===t.reply_count?null:((e=t.latest_replies.at(0))==null?void 0:e.id)??null,isLoadingNext:!1,isLoadingPrev:!1}},V1=t=>a=>{var e;return t&&((e=a.read[t])==null?void 0:e.unreadMessageCount)||0},Oc=t=>!!(t!=null&&t.message),RO=t=>{let a=null,e=new Date().getTime();return Oc(t)?e=a=new Date(t.created_at).getTime():t&&k_(t)&&(e=new Date(t.updated_at).getTime()),{lastChange:{draftUpdate:a,stateUpdate:e}}},X1=t=>{if(!t)return{id:jf.generateId(),quotedMessage:null,pollId:null,draftId:null};const a=t.quoted_message;let e,n=null,s=jf.generateId();return Oc(t)?(e=t.message,n=t.message.id):(e=t,s=t.id),{draftId:n,id:s,quotedMessage:a?Aa(a):null,pollId:e.poll_id??null}},kO=()=>{},eE=class jg extends su{constructor({composition:a,config:e,compositionContext:n,client:s}){if(super(),this.initState=({composition:l}={})=>{this.editingAuditState.partialNext(this.initEditingAuditState(l));const u=typeof l>"u"?l:Oc(l)?l.message:Aa(l);this.attachmentManager.initState({message:u}),this.linkPreviewsManager.initState({message:u}),this.textComposer.initState({message:u}),this.pollComposer.initState(),this.customDataManager.initState({message:u}),this.state.next(X1(l)),l&&!Oc(l)&&u&&k_(u)&&(this.editedMessage=u)},this.initEditingAuditState=l=>RO(l),this.registerSubscriptions=()=>this.hasSubscriptions?kO:(this.addUnsubscribeFunction(this.subscribeMessageComposerSetupStateChange()),this.addUnsubscribeFunction(this.subscribeMessageUpdated()),this.addUnsubscribeFunction(this.subscribeMessageDeleted()),this.addUnsubscribeFunction(this.subscribeTextComposerStateChanged()),this.addUnsubscribeFunction(this.subscribeAttachmentManagerStateChanged()),this.addUnsubscribeFunction(this.subscribeLinkPreviewsManagerStateChanged()),this.addUnsubscribeFunction(this.subscribePollComposerStateChanged()),this.addUnsubscribeFunction(this.subscribeCustomDataManagerStateChanged()),this.addUnsubscribeFunction(this.subscribeMessageComposerStateChanged()),this.addUnsubscribeFunction(this.subscribeMessageComposerConfigStateChanged()),this.unregisterSubscriptions.bind(this)),this.subscribeMessageUpdated=()=>{const u=["message.updated","reaction.new","reaction.deleted","reaction.updated"].map(h=>this.client.on(h,m=>{var p;m.message&&(m.message.id===this.id&&this.initState({composition:m.message}),(p=this.quotedMessage)!=null&&p.id&&m.message.id===this.quotedMessage.id&&this.setQuotedMessage(Aa(m.message)))}).unsubscribe);return()=>u.forEach(h=>h())},this.subscribeMessageComposerSetupStateChange=()=>{let l=null;const u=this.client._messageComposerSetupState.subscribeWithSelector(({setupFunction:h})=>({setup:h}),({setup:h})=>{l==null||l(),l=(h==null?void 0:h({composer:this}))??null});return()=>{l==null||l(),u()}},this.subscribeMessageDeleted=()=>this.client.on("message.deleted",l=>{l.message&&(l.message.id===this.id?this.clear():this.quotedMessage&&l.message.id===this.quotedMessage.id&&this.setQuotedMessage(null))}).unsubscribe,this.subscribeDraftUpdated=()=>this.client.on("draft.updated",l=>{const u=l.draft;!u||!!u.parent_id!=!!this.threadId||u.channel_cid!==this.channel.cid||this.initState({composition:u})}).unsubscribe,this.subscribeDraftDeleted=()=>this.client.on("draft.deleted",l=>{const u=l.draft;!u||!!u.parent_id!=!!this.threadId||u.channel_cid!==this.channel.cid||(this.logDraftUpdateTimestamp(),!this.compositionIsEmpty&&this.clear())}).unsubscribe,this.subscribeTextComposerStateChanged=()=>this.textComposer.state.subscribeWithSelector(({text:l})=>[l],([l],u)=>{if(!(typeof u>"u")){if(this.logStateUpdateTimestamp(),this.compositionIsEmpty){this.deleteDraft();return}this.linkPreviewsManager.enabled&&(l?this.linkPreviewsManager.findAndEnrichUrls(l):this.linkPreviewsManager.clearPreviews())}}),this.subscribeAttachmentManagerStateChanged=()=>this.attachmentManager.state.subscribe((l,u)=>{if(!(typeof u>"u")&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}}),this.subscribeLinkPreviewsManagerStateChanged=()=>this.linkPreviewsManager.state.subscribe((l,u)=>{if(!(typeof u>"u")&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}}),this.subscribePollComposerStateChanged=()=>this.pollComposer.state.subscribe((l,u)=>{if(!(typeof u>"u")&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}}),this.subscribeCustomDataManagerStateChanged=()=>this.customDataManager.state.subscribe((l,u)=>{typeof u<"u"&&!this.customDataManager.isMessageDataEqual(l,u)&&this.logStateUpdateTimestamp()}),this.subscribeMessageComposerStateChanged=()=>this.state.subscribe((l,u)=>{typeof u>"u"||(this.logStateUpdateTimestamp(),this.compositionIsEmpty&&this.deleteDraft())}),this.subscribeMessageComposerConfigStateChanged=()=>{let l;const u=this.configState.subscribeWithSelector(h=>({textDefaultValue:h.text.defaultValue,draftsEnabled:h.drafts.enabled}),({textDefaultValue:h,draftsEnabled:m})=>{this.textComposer.text===""&&h&&this.textComposer.insertText({text:h,selection:{start:0,end:0}}),m&&!l?l=[this.subscribeDraftUpdated(),this.subscribeDraftDeleted()]:!m&&l&&(l.forEach(p=>p()),l=null)});return()=>{l==null||l.forEach(h=>h()),u()}},this.setQuotedMessage=l=>{this.state.partialNext({quotedMessage:l})},this.clear=()=>{this.initState()},this.restore=()=>{const{editedMessage:l}=this;if(l){this.initState({composition:l});return}this.clear()},this.compose=async()=>{var m;const l=((m=this.editedMessage)==null?void 0:m.created_at)??new Date,h=await this.compositionMiddlewareExecutor.execute({eventName:"compose",initialValue:{message:{id:this.id,parent_id:this.threadId??void 0,type:"regular"},localMessage:{attachments:[],created_at:l,deleted_at:null,error:void 0,id:this.id,mentioned_users:[],parent_id:this.threadId??void 0,pinned_at:null,reaction_groups:null,status:this.editedMessage?this.editedMessage.status:"sending",text:"",type:"regular",updated_at:l},sendOptions:{}}});if(h.status!=="discard")return h.state},this.composeDraft=async()=>{const{state:l,status:u}=await this.draftCompositionMiddlewareExecutor.execute({eventName:"compose",initialValue:{draft:{id:this.id,parent_id:this.threadId??void 0,text:""}}});if(u!=="discard")return l},this.createDraft=async()=>{if(this.editedMessage||!this.config.drafts.enabled)return;const l=await this.composeDraft();if(!l)return;const{draft:u}=l;this.state.partialNext({draftId:u.id}),this.logDraftUpdateTimestamp(),await this.channel.createDraft(u)},this.deleteDraft=async()=>{this.editedMessage||!this.config.drafts.enabled||!this.draftId||(this.state.partialNext({draftId:null}),this.logDraftUpdateTimestamp(),await this.channel.deleteDraft({parent_id:this.threadId??void 0}))},this.createPoll=async()=>{const l=await this.pollComposer.compose();if(!(!l||!l.data.id))try{const{poll:u}=await this.client.createPoll(l.data);this.state.partialNext({pollId:u.id}),this.pollComposer.initState()}catch(u){throw this.client.notifications.add({message:"Failed to create the poll",origin:{emitter:"MessageComposer",context:{composer:this}}}),u}},this.compositionContext=n,this.configState=new sa(gf(LP,e??{})),n instanceof Qo)this.channel=n;else if(n instanceof Pc)this.channel=n.channel;else if(n.cid){const[l,u]=n.cid.split(":");this.channel=s.channel(l,u)}else throw new Error("MessageComposer requires composition context pointing to channel (channel or context.cid)");let o;Oc(a)?o=a.message:a&&(o=Aa(a),this.editedMessage=o),this.attachmentManager=new pP({composer:this,message:o}),this.linkPreviewsManager=new Fy({composer:this,message:o}),this.textComposer=new IO({composer:this,message:o}),this.pollComposer=new VP({composer:this}),this.customDataManager=new PP({composer:this,message:o}),this.editingAuditState=new sa(this.initEditingAuditState(a)),this.state=new sa(X1(a)),this.compositionMiddlewareExecutor=new fO({composer:this}),this.draftCompositionMiddlewareExecutor=new hO({composer:this})}static evaluateContextType(a){return a instanceof Qo?"channel":a instanceof Pc?"thread":typeof a.legacyThreadId=="string"?"legacy_thread":"message"}static constructTag(a){return`${this.evaluateContextType(a)}_${a.id}`}get config(){return this.configState.getLatestValue()}updateConfig(a){this.configState.partialNext(gf(this.config,a))}get contextType(){return jg.evaluateContextType(this.compositionContext)}get tag(){return jg.constructTag(this.compositionContext)}get threadId(){return this.compositionContext instanceof Qo?null:this.compositionContext instanceof Pc?this.compositionContext.id:typeof this.compositionContext.legacyThreadId=="string"?this.compositionContext.legacyThreadId:typeof this.compositionContext.parent_id=="string"?this.compositionContext.parent_id:null}get client(){return this.channel.getClient()}get id(){return this.state.getLatestValue().id}get draftId(){return this.state.getLatestValue().draftId}get lastChange(){return this.editingAuditState.getLatestValue().lastChange}get quotedMessage(){return this.state.getLatestValue().quotedMessage}get pollId(){return this.state.getLatestValue().pollId}get hasSendableData(){return!!(!this.attachmentManager.uploadsInProgressCount&&(!this.textComposer.textIsEmpty||this.attachmentManager.successfulUploadsCount>0)||this.pollId)}get compositionIsEmpty(){return!this.quotedMessage&&this.textComposer.textIsEmpty&&!this.attachmentManager.attachments.length&&!this.pollId}get lastChangeOriginIsLocal(){var o;const e=this.lastChange.draftUpdate===null&&!this.editedMessage,n=!!((o=this.editedMessage)!=null&&o.updated_at)&&new Date(this.editedMessage.updated_at).getTime()<this.lastChange.stateUpdate,s=!!this.lastChange.draftUpdate&&this.lastChange.draftUpdate<this.lastChange.stateUpdate;return n||s||e}logStateUpdateTimestamp(){this.editingAuditState.partialNext({lastChange:{...this.lastChange,stateUpdate:new Date().getTime()}})}logDraftUpdateTimestamp(){if(!this.config.drafts.enabled)return;const a=new Date().getTime();this.editingAuditState.partialNext({lastChange:{draftUpdate:a,stateUpdate:a}})}};eE.generateId=nr;var jf=eE,Qo=class{constructor(t,a,e,n){this.create=async l=>{const u={...l,watch:!1,state:!1,presence:!1};return await this.query(u,"latest")},this._callChannelListeners=l=>{const u=this,h=[];u.listeners.all&&h.push(...u.listeners.all),u.listeners[l.type]&&h.push(...u.listeners[l.type]);for(const m of h)typeof m!="string"&&m(l)},this._channelURL=()=>{if(!this.id)throw new Error("channel id is not defined");return`${this.getClient().baseURL}/channels/${encodeURIComponent(this.type)}/${encodeURIComponent(this.id)}`};const s=/^[\w_-]+$/,o=/^[\w!_-]+$/;if(!s.test(a))throw new Error(`Invalid chat type ${a}, letters, numbers and "_-" are allowed`);if(typeof e=="string"&&!o.test(e))throw new Error(`Invalid chat id ${e}, letters, numbers and "!-_" are allowed`);this._client=t,this.type=a,this.id=e,this.data=n,this._data={...n},this.cid=`${a}:${e}`,this.listeners={},this.state=new nP(this),this.initialized=!1,this.offlineMode=!1,this.lastTypingEvent=null,this.isTyping=!1,this.disconnected=!1,this.messageComposer=new jf({client:this._client,compositionContext:this})}getClient(){if(this.disconnected===!0)throw Error("You can't use a channel after client.disconnect() was called");return this._client}getConfig(){return this.getClient().configs[this.cid]}async _sendMessage(t,a){return await this.getClient().post(this._channelURL()+"/message",{message:t,...a})}async sendMessage(t,a){try{const e=this.getClient().offlineDb;if(e){const n=t.id;if(n)return await e.queueTask({task:{channelId:this.id,channelType:this.type,messageId:n,payload:[t,a],type:"send-message"}})}}catch(e){this._client.logger("error","offlineDb:send-message",{tags:["channel","offlineDb"],error:e})}return await this._sendMessage(t,a)}sendFile(t,a,e,n){return this.getClient().sendFile(`${this._channelURL()}/file`,t,a,e,n)}sendImage(t,a,e,n){return this.getClient().sendFile(`${this._channelURL()}/image`,t,a,e,n)}deleteFile(t){return this.getClient().delete(`${this._channelURL()}/file`,{url:t})}deleteImage(t){return this.getClient().delete(`${this._channelURL()}/image`,{url:t})}async sendEvent(t){return this._checkInitialized(),await this.getClient().post(this._channelURL()+"/event",{event:t})}async search(t,a={}){if(a.offset&&a.next)throw Error("Cannot specify offset with next");const e={filter_conditions:{cid:this.cid},...a,sort:a.sort?Zn(a.sort):void 0};if(typeof t=="string")e.query=t;else if(typeof t=="object")e.message_filter_conditions=t;else throw Error(`Invalid type ${typeof t} for query parameter`);return await this.getClient().wsPromise,await this.getClient().get(this.getClient().baseURL+"/search",{payload:e})}async queryMembers(t,a=[],e={}){var l;let n;const s=this.type;let o;return this.id?n=this.id:(l=this.data)!=null&&l.members&&Array.isArray(this.data.members)&&(o=this.data.members),await this.getClient().get(this.getClient().baseURL+"/members",{payload:{type:s,id:n,members:o,sort:Zn(a),filter_conditions:t,...e}})}async updateMemberPartial(t,a){const e=new URL(`${this._channelURL()}/member`);return a!=null&&a.userId&&e.searchParams.append("user_id",a.userId),await this.getClient().patch(e.toString(),t)}async partialUpdateMember(t,a){if(!t)throw Error("Please specify the user id");return await this.getClient().patch(this._channelURL()+`/member/${encodeURIComponent(t)}`,a)}async sendReaction(t,a,e){if(!t)throw Error("Message id is missing");if(!a||Object.keys(a).length===0)throw Error("Reaction object is missing");try{const n=this.getClient().offlineDb;if(n)return await n.queueTask({task:{channelId:this.id,channelType:this.type,messageId:t,payload:[t,a,e],type:"send-reaction"}})}catch(n){this._client.logger("error","offlineDb:send-reaction",{tags:["channel","offlineDb"],error:n})}return this._sendReaction(t,a,e)}async _sendReaction(t,a,e){if(!t)throw Error("Message id is missing");if(!a||Object.keys(a).length===0)throw Error("Reaction object is missing");return await this.getClient().post(this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/reaction`,{reaction:a,...e})}async deleteReaction(t,a,e){if(this._checkInitialized(),!a||!t)throw Error("Deleting a reaction requires specifying both the message and reaction type");try{const n=this.getClient().offlineDb;if(n){const s=this.state.messages.find(({id:l})=>l===t),o={created_at:"",updated_at:"",message_id:t,type:a,user_id:this.getClient().userID??e};return s&&await n.deleteReaction({message:s,reaction:o}),await n.queueTask({task:{channelId:this.id,channelType:this.type,messageId:t,payload:[t,a],type:"delete-reaction"}})}}catch(n){this._client.logger("error","offlineDb:delete-reaction",{tags:["channel","offlineDb"],error:n})}return await this._deleteReaction(t,a,e)}async _deleteReaction(t,a,e){if(this._checkInitialized(),!a||!t)throw Error("Deleting a reaction requires specifying both the message and reaction type");const n=this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/reaction/${encodeURIComponent(a)}`;return e?await this.getClient().delete(n,{user_id:e}):await this.getClient().delete(n,{})}async update(t={},a,e){return["config","cid","created_by","id","member_count","type","created_at","updated_at","last_message_at","own_capabilities"].forEach(s=>{delete t[s]}),await this._update({message:a,data:t,...e})}async updatePartial(t){var n,s;const a=await this.getClient().patch(this._channelURL(),t),e=[...a.channel.own_capabilities||[]].sort().join()!==[...Array.isArray((n=this.data)==null?void 0:n.own_capabilities)?(s=this.data)==null?void 0:s.own_capabilities:[]].sort().join();return this.data=a.channel,e&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:a.channel.own_capabilities}),a}async enableSlowMode(t){const a=await this.getClient().post(this._channelURL(),{cooldown:t});return this.data=a.channel,a}async disableSlowMode(){const t=await this.getClient().post(this._channelURL(),{cooldown:0});return this.data=t.channel,t}async delete(t={}){return await this.getClient().delete(this._channelURL(),{...t})}async truncate(t={}){return await this.getClient().post(this._channelURL()+"/truncate",t)}async acceptInvite(t={}){return await this._update({accept_invite:!0,...t})}async rejectInvite(t={}){return await this._update({reject_invite:!0,...t})}async addMembers(t,a,e={}){return await this._update({add_members:t,message:a,...e})}async addModerators(t,a,e={}){return await this._update({add_moderators:t,message:a,...e})}async assignRoles(t,a,e={}){return await this._update({assign_roles:t,message:a,...e})}async inviteMembers(t,a,e={}){return await this._update({invites:t,message:a,...e})}async removeMembers(t,a,e={}){return await this._update({remove_members:t,message:a,...e})}async demoteModerators(t,a,e={}){return await this._update({demote_moderators:t,message:a,...e})}async _update(t){const a=await this.getClient().post(this._channelURL(),t);return this.data=a.channel,a}async mute(t={}){return await this.getClient().post(this.getClient().baseURL+"/moderation/mute/channel",{channel_cid:this.cid,...t})}async unmute(t={}){return await this.getClient().post(this.getClient().baseURL+"/moderation/unmute/channel",{channel_cid:this.cid,...t})}async archive(t={}){const a=this.getClient(),e=t.user_id||a.userID;if(!e)throw Error("A user_id is required for archiving a channel");return(await this.partialUpdateMember(e,{set:{archived:!0}})).channel_member}async unarchive(t={}){const a=this.getClient(),e=t.user_id||a.userID;if(!e)throw Error("A user_id is required for unarchiving a channel");return(await this.partialUpdateMember(e,{set:{archived:!1}})).channel_member}async pin(t={}){const a=this.getClient(),e=t.user_id||a.userID;if(!e)throw new Error("A user_id is required for pinning a channel");return(await this.partialUpdateMember(e,{set:{pinned:!0}})).channel_member}async unpin(t={}){const a=this.getClient(),e=t.user_id||a.userID;if(!e)throw new Error("A user_id is required for unpinning a channel");return(await this.partialUpdateMember(e,{set:{pinned:!1}})).channel_member}muteStatus(){return this._checkInitialized(),this.getClient()._muteStatus(this.cid)}sendAction(t,a){if(this._checkInitialized(),!t)throw Error("Message id is missing");return this.getClient().post(this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/action`,{message_id:t,form_data:a,id:this.id,type:this.type})}async keystroke(t,a){if(!this._isTypingIndicatorsEnabled())return;const e=new Date,n=this.lastTypingEvent&&e.getTime()-this.lastTypingEvent.getTime();this.lastKeyStroke=e,this.isTyping=!0,(n===null||n>2e3)&&(this.lastTypingEvent=new Date,await this.sendEvent({type:"typing.start",parent_id:t,...a||{}}))}async updateAIState(t,a,e={}){await this.sendEvent({...e,type:"ai_indicator.update",message_id:t,ai_state:a})}async clearAIIndicator(){await this.sendEvent({type:"ai_indicator.clear"})}async stopAIResponse(){await this.sendEvent({type:"ai_indicator.stop"})}async stopTyping(t,a){this._isTypingIndicatorsEnabled()&&(this.lastTypingEvent=null,this.isTyping=!1,await this.sendEvent({type:"typing.stop",parent_id:t,...a||{}}))}_isTypingIndicatorsEnabled(){var t,a,e,n,s;return!((t=this.getConfig())!=null&&t.typing_events)||!((a=this.getClient().wsConnection)!=null&&a.isHealthy)?!1:((s=(n=(e=this.getClient().user)==null?void 0:e.privacy_settings)==null?void 0:n.typing_indicators)==null?void 0:s.enabled)??!0}lastMessage(){let t=this.state.latestMessages.length-5;t<0&&(t=0);const a=this.state.latestMessages.length+1,e=this.state.latestMessages.slice(t,a);return e.sort((n,s)=>s.created_at.getTime()-n.created_at.getTime()),e[0]}async markRead(t={}){var a;return this._checkInitialized(),!((a=this.getConfig())!=null&&a.read_events)&&!this.getClient()._isUsingServerAuth()?Promise.resolve(null):await this.getClient().post(this._channelURL()+"/read",{...t})}async markUnread(t){var a;return this._checkInitialized(),!((a=this.getConfig())!=null&&a.read_events)&&!this.getClient()._isUsingServerAuth()?Promise.resolve(null):await this.getClient().post(this._channelURL()+"/unread",{...t})}clean(){this.lastKeyStroke&&new Date().getTime()-this.lastKeyStroke.getTime()>1e3&&this.isTyping&&__(this.stopTyping(),"stop typing event"),this.state.clean()}async watch(t){const a={state:!0,watch:!0,presence:!1};await this.getClient().wsPromise,this.getClient()._hasConnectionID()||(a.watch=!1);const e={...a,...t},n=await this.query(e,"latest");return this.initialized=!0,this.data=n.channel,this._client.logger("info",`channel:watch() - started watching channel ${this.cid}`,{tags:["channel"],channel:this}),n}async stopWatching(){const t=await this.getClient().post(this._channelURL()+"/stop-watching",{});return this._client.logger("info",`channel:watch() - stopped watching channel ${this.cid}`,{tags:["channel"],channel:this}),t}async getReplies(t,a,e){const n=e?Zn(e):void 0,s=await this.getClient().get(this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/replies`,{sort:n,...a});return s.messages&&this.state.addMessagesSorted(s.messages),s}async getPinnedMessages(t,a=[]){return await this.getClient().get(this._channelURL()+"/pinned_messages",{payload:{...t,sort:Zn(a)}})}getReactions(t,a){return this.getClient().get(this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/reactions`,{...a})}getMessagesById(t){return this.getClient().get(this._channelURL()+"/messages",{ids:t.join(",")})}lastRead(){const{userID:t}=this.getClient();if(t)return this.state.read[t]?this.state.read[t].last_read:null}_countMessageAsUnread(t){var a,e,n,s;return!(t.shadowed||t.silent||t.parent_id&&!t.show_in_channel||((a=t.user)==null?void 0:a.id)===this.getClient().userID||(e=t.user)!=null&&e.id&&this.getClient().userMuteStatus(t.user.id)||Array.isArray((n=this.data)==null?void 0:n.own_capabilities)&&!((s=this.data)!=null&&s.own_capabilities.includes("read-events"))||this.muteStatus().muted)}countUnread(t){if(!t)return this.state.unreadCount;let a=0;for(let e=0;e<this.state.latestMessages.length;e+=1){const n=this.state.latestMessages[e];n.created_at>t&&this._countMessageAsUnread(n)&&a++}return a}countUnreadMentions(){var n;const t=this.lastRead(),a=this.getClient().userID;let e=0;for(let s=0;s<this.state.latestMessages.length;s+=1){const o=this.state.latestMessages[s];this._countMessageAsUnread(o)&&(!t||o.created_at>t)&&((n=o.mentioned_users)!=null&&n.some(l=>l.id===a))&&e++}return e}async query(t={},a="current"){var u,h,m,p,v,b,S;await this.getClient().wsPromise;const e=((u=t.created_by)==null?void 0:u.id)??t.created_by_id??((m=(h=this._data)==null?void 0:h.created_by)==null?void 0:m.id)??((p=this._data)==null?void 0:p.created_by_id);this.getClient()._isUsingServerAuth()&&typeof e!="string"&&this.getClient().logger("warn","Either `created_by` (with `id` property) or `created_by_id` are missing from both `Channel._data` and `options` parameter");let n=`${this.getClient().baseURL}/channels/${encodeURIComponent(this.type)}`;this.id&&(n+=`/${encodeURIComponent(this.id)}`);const s=await this.getClient().post(n+"/query",{data:this._data,state:!0,...t});if(!this.id){this.id=s.channel.id,this.cid=s.channel.cid;const C=Ry(this.type,s.members.map(_=>{var E;return _.user_id||((E=_.user)==null?void 0:E.id)||""}));C&&C in this.getClient().activeChannels&&delete this.getClient().activeChannels[C],!(this.cid in this.getClient().activeChannels)&&this.getClient()._cacheEnabled()&&(this.getClient().activeChannels[this.cid]=this)}this.getClient()._addChannelConfig(s.channel);const{messageSet:o}=this._initializeState(s,a);o.pagination={...o.pagination,...T_({parentSet:o,messagePaginationOptions:t==null?void 0:t.messages,requestedPageSize:((v=t==null?void 0:t.messages)==null?void 0:v.limit)??DL,returnedPage:s.messages,logger:this.getClient().logger})},this.getClient().polls.hydratePollCache(s.messages,!0),s.draft&&this.messageComposer.initState({composition:s.draft});const l=[...s.channel.own_capabilities||[]].sort().join()!==[...this.data&&Array.isArray((b=this.data)==null?void 0:b.own_capabilities)?this.data.own_capabilities:[]].sort().join();return this.data=s.channel,this.offlineMode=!1,l&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:s.channel.own_capabilities}),this.getClient().dispatchEvent({type:"channels.queried",queriedChannels:{channels:[s],isLatestMessageSet:o.isLatest}}),(S=this.getClient().offlineDb)==null||S.executeQuerySafely(C=>{var _;return(_=C.upsertChannels)==null?void 0:_.call(C,{channels:[s],isLatestMessagesSet:o.isLatest})},{method:"upsertChannels"}),s}async banUser(t,a){return this._checkInitialized(),await this.getClient().banUser(t,{...a,type:this.type,id:this.id})}async hide(t=null,a=!1){return this._checkInitialized(),await this.getClient().post(`${this._channelURL()}/hide`,{user_id:t,clear_history:a})}async show(t=null){return this._checkInitialized(),await this.getClient().post(`${this._channelURL()}/show`,{user_id:t})}async unbanUser(t){return this._checkInitialized(),await this.getClient().unbanUser(t,{type:this.type,id:this.id})}async shadowBan(t,a){return this._checkInitialized(),await this.getClient().shadowBan(t,{...a,type:this.type,id:this.id})}async removeShadowBan(t){return this._checkInitialized(),await this.getClient().removeShadowBan(t,{type:this.type,id:this.id})}async vote(t,a,e){return await this.getClient().castPollVote(t,a,e)}async removeVote(t,a,e){return await this.getClient().removePollVote(t,a,e)}async createDraft(t){return await this.getClient().post(this._channelURL()+"/draft",{message:t})}async deleteDraft({parent_id:t}={}){return await this.getClient().delete(this._channelURL()+"/draft",{parent_id:t})}async getDraft({parent_id:t}={}){return await this.getClient().get(this._channelURL()+"/draft",{parent_id:t})}on(t,a){const e=a?t:"all",n=a||t;return e in this.listeners||(this.listeners[e]=[]),this._client.logger("info",`Attaching listener for ${e} event on channel ${this.cid}`,{tags:["event","channel"],channel:this}),this.listeners[e].push(n),{unsubscribe:()=>{this._client.logger("info",`Removing listener for ${e} event from channel ${this.cid}`,{tags:["event","channel"],channel:this}),this.listeners[e]=this.listeners[e].filter(s=>s!==n)}}}off(t,a){const e=a?t:"all",n=a||t;e in this.listeners||(this.listeners[e]=[]),this._client.logger("info",`Removing listener for ${e} event from channel ${this.cid}`,{tags:["event","channel"],channel:this}),this.listeners[e]=this.listeners[e].filter(s=>s!==n)}_handleChannelEvent(t){var n,s,o,l,u,h,m,p,v,b,S,C,_,E,I,A,M,k,L,U,F,z,q,te,ge,le,re,ee;const a=this;this._client.logger("info",`channel:_handleChannelEvent - Received event of type { ${t.type} } on ${this.cid}`,{tags:["event","channel"],channel:this});const e=a.state;switch(t.type){case"typing.start":(n=t.user)!=null&&n.id&&(e.typing[t.user.id]=t);break;case"typing.stop":(s=t.user)!=null&&s.id&&delete e.typing[t.user.id];break;case"message.read":(o=t.user)!=null&&o.id&&t.created_at&&(e.read[t.user.id]={last_read:new Date(t.created_at),last_read_message_id:t.last_read_message_id,user:t.user,unread_messages:0},((l=t.user)==null?void 0:l.id)===((u=this.getClient().user)==null?void 0:u.id)&&(e.unreadCount=0));break;case"user.watching.start":case"user.updated":(h=t.user)!=null&&h.id&&(e.watchers[t.user.id]=t.user);break;case"user.watching.stop":(m=t.user)!=null&&m.id&&delete e.watchers[t.user.id];break;case"message.deleted":t.message&&(this._extendEventWithOwnReactions(t),t.hard_delete?e.removeMessage(t.message):e.addMessageSorted(t.message,!1,!1),e.removeQuotedMessageReferences(t.message),t.message.pinned&&e.removePinnedMessage(t.message));break;case"message.new":if(t.message){const j=((p=t.user)==null?void 0:p.id)===((v=this.getClient().user)==null?void 0:v.id),D=t.message.parent_id&&!t.message.show_in_channel;if((this.state.isUpToDate||D)&&e.addMessageSorted(t.message,j),t.message.pinned&&e.addPinnedMessage(t.message),j||D)break;if((b=t.user)!=null&&b.id)for(const V in e.read)V===t.user.id?e.read[t.user.id]={last_read:new Date(t.created_at),user:t.user,unread_messages:0}:e.read[V].unread_messages+=1;this._countMessageAsUnread(t.message)&&(e.unreadCount=e.unreadCount+1)}break;case"message.updated":case"message.undeleted":t.message&&(this._extendEventWithOwnReactions(t),e.addMessageSorted(t.message,!1,!1),e._updateQuotedMessageReferences({message:t.message}),t.message.pinned?e.addPinnedMessage(t.message):e.removePinnedMessage(t.message));break;case"channel.truncated":if((S=t.channel)!=null&&S.truncated_at){const j=+new Date(t.channel.truncated_at);e.messageSets.forEach((D,H)=>{D.messages.forEach(({created_at:V,id:W})=>{j>+V&&e.removeMessage({id:W,messageSetIndex:H})})}),e.pinnedMessages.forEach(({id:D,created_at:H})=>{j>+H&&e.removePinnedMessage({id:D})}),e.unreadCount=this.countUnread(new Date(t.channel.truncated_at))}else e.clearMessages(),e.unreadCount=0;t.message&&(e.addMessageSorted(t.message),t.message.pinned&&e.addPinnedMessage(t.message));break;case"member.added":case"member.updated":{const j={...t.member};j.pinned_at===null&&delete j.pinned_at,j.archived_at===null&&delete j.archived_at,j!=null&&j.user&&(e.members={...e.members,[j.user.id]:j},(C=a.data)!=null&&C.member_count&&t.type==="member.added"&&(a.data.member_count+=1));const D=this.getClient().userID;typeof D=="string"&&typeof((_=j==null?void 0:j.user)==null?void 0:_.id)=="string"&&j.user.id===D&&(e.membership=j);break}case"member.removed":if((E=t.user)!=null&&E.id){const j={...e.members};delete j[t.user.id],e.members=j,(I=a.data)!=null&&I.member_count&&(a.data.member_count=Math.max(a.data.member_count-1,0))}break;case"notification.mark_unread":{if(!(((A=t.user)==null?void 0:A.id)===((M=this.getClient().user)==null?void 0:M.id)&&t.user))break;const D=t.unread_messages??0;e.read[t.user.id]={first_unread_message_id:t.first_unread_message_id,last_read:new Date(t.last_read_at),last_read_message_id:t.last_read_message_id,user:t.user,unread_messages:D},e.unreadCount=D;break}case"channel.updated":if(t.channel){((k=t.channel)==null?void 0:k.frozen)!==void 0&&t.channel.frozen!==((L=a.data)==null?void 0:L.frozen)&&this.query({state:!1,messages:{limit:0},watchers:{limit:0}});const D={...t.channel,hidden:((U=t.channel)==null?void 0:U.hidden)??((F=a.data)==null?void 0:F.hidden),own_capabilities:((z=t.channel)==null?void 0:z.own_capabilities)??((q=a.data)==null?void 0:q.own_capabilities)};a.data=D}break;case"reaction.new":if(t.message&&t.reaction){const{message:j,reaction:D}=t;t.message=e.addReaction(D,j)}break;case"reaction.deleted":if(t.message&&t.reaction){const{message:j,reaction:D}=t;t.message=e.removeReaction(D,j)}break;case"reaction.updated":if(t.message&&t.reaction){const{message:j,reaction:D}=t;t.message=e.addReaction(D,j,!0)}break;case"channel.hidden":a.data={...a.data,hidden:!0},t.clear_history&&e.clearMessages();break;case"channel.visible":a.data={...a.data,hidden:!1},(te=this.getClient().offlineDb)==null||te.handleChannelVisibilityEvent({event:t});break;case"user.banned":if(!((ge=t.user)!=null&&ge.id))break;e.members[t.user.id]={...e.members[t.user.id]||{},shadow_banned:!!t.shadow,banned:!t.shadow,user:{...((le=e.members[t.user.id])==null?void 0:le.user)||{},...t.user}};break;case"user.unbanned":if(!((re=t.user)!=null&&re.id))break;e.members[t.user.id]={...e.members[t.user.id]||{},shadow_banned:!1,banned:!1,user:{...((ee=e.members[t.user.id])==null?void 0:ee.user)||{},...t.user}};break}t.watcher_count!==void 0&&(a.state.watcher_count=t.watcher_count)}_checkInitialized(){if(!this.initialized&&!this.offlineMode&&!this.getClient()._isUsingServerAuth())throw Error(`Channel ${this.cid} hasn't been initialized yet. Make sure to call .watch() and wait for it to resolve`)}_initializeState(t,a="latest"){const{state:e,user:n,userID:s}=this.getClient();if(t.members){this._hydrateMembers({members:t.members});for(const u of t.members)u.user&&e.updateUserReference(u.user,this.cid)}this.state.membership=t.membership||{};const o=t.messages||[];this.state.messages||this.state.initMessages();const{messageSet:l}=this.state.addMessagesSorted(o,!1,!0,!0,a);if(this.state.pinnedMessages||(this.state.pinnedMessages=[]),this.state.addPinnedMessages(t.pinned_messages||[]),t.pending_messages&&(this.state.pending_messages=t.pending_messages),t.watcher_count!==void 0&&(this.state.watcher_count=t.watcher_count),t.watchers)for(const u of t.watchers)u&&(e.updateUserReference(u,this.cid),this.state.watchers[u.id]=u);if(s!=null){const u=this.state.last_message_at||new Date;n&&(this.state.read[n.id]={user:n,last_read:u,unread_messages:0})}if(t.read)for(const u of t.read)this.state.read[u.user.id]={last_read:new Date(u.last_read),last_read_message_id:u.last_read_message_id,unread_messages:u.unread_messages??0,user:u.user},u.user.id===(n==null?void 0:n.id)&&(this.state.unreadCount=this.state.read[u.user.id].unread_messages);return{messageSet:l}}_extendEventWithOwnReactions(t){if(!t.message)return;const a=this.state.findMessage(t.message.id,t.message.parent_id);a&&(t.message.own_reactions=a.own_reactions)}_hydrateMembers({members:t,overrideCurrentState:a=!0}){const e=t.reduce((n,s)=>(s.user&&(n[s.user.id]=s),n),{});a?this.state.members=e:!a&&t.length&&(this.state.members={...this.state.members,...e})}_disconnect(){this._client.logger("info",`channel:disconnect() - Disconnecting the channel ${this.cid}`,{tags:["connection","channel"],channel:this}),this.disconnected=!0,this.state.setIsUpToDate(!1)}},K1=class{constructor({client:t}){this.client=t,this.users={},this.userChannelReferences={}}updateUsers(t){for(const a of t)this.updateUser(a)}updateUser(t){t!=null&&this.client._cacheEnabled()&&(this.users[t.id]=t)}updateUserReference(t,a){t==null||!this.client._cacheEnabled()||(this.updateUser(t),this.userChannelReferences[t.id]||(this.userChannelReferences[t.id]={}),this.userChannelReferences[t.id][a]=!0)}deleteAllChannelReference(t){for(const a in this.userChannelReferences)delete this.userChannelReferences[a][t]}},Wo=null;typeof WebSocket<"u"?Wo=WebSocket:typeof MozWebSocket<"u"?Wo=MozWebSocket:typeof global<"u"?Wo=global.WebSocket||global.MozWebSocket:typeof window<"u"?Wo=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Wo=self.WebSocket||self.MozWebSocket);var LO=Wo,PO=class{constructor(){this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=Go()}},Dc=async(t,a)=>{for(let n=0;n<3;n++){try{await jc.post(`https://chat-insights.getstream.io/insights/${t}`,a)}catch{await fi((n+1)*3e3);continue}break}};function OO(t,a){return{...a,...tE(t)}}function tE(t){var e;const{client:a}=t;return{ready_state:(e=t.ws)==null?void 0:e.readyState,url:t._buildUrl(),api_key:a.key,start_ts:a.insightMetrics.connectionStartTimestamp,end_ts:new Date().getTime(),auth_type:a.getAuthType(),token:a.tokenManager.token,user_id:a.userID,user_details:a._user,device:a.options.device,client_id:t.connectionID,ws_details:t.ws,ws_consecutive_failures:a.insightMetrics.wsConsecutiveFailures,ws_total_failures:a.insightMetrics.wsTotalFailures,request_id:t.requestID,online:typeof navigator<"u"?navigator==null?void 0:navigator.onLine:null,user_agent:typeof navigator<"u"?navigator==null?void 0:navigator.userAgent:null,instance_client_id:a.insightMetrics.instanceClientId}}function BO(t){return tE(t)}var UO=t=>t.code!==void 0,zO=t=>t.error!==void 0,HO=class{constructor({client:t}){this._buildUrl=()=>{const a=this.client._buildWSPayload(this.requestID),e=this.client.tokenManager.getToken(),n=this.client.options.wsUrlParams,s=new URLSearchParams(n);return s.set("json",a),s.set("api_key",this.client.key),s.set("authorization",`${e}`),s.set("stream-auth-type",this.client.getAuthType()),s.set("X-Stream-Client",this.client.getUserAgent()),`${this.client.wsBaseURL}/connect?${s.toString()}`},this.onlineStatusChanged=a=>{a.type==="offline"?(this._log("onlineStatusChanged() - Status changing to offline"),this._setHealth(!1)):a.type==="online"&&(this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`),this.isHealthy||this._reconnect({interval:10}))},this.onopen=a=>{this.wsID===a&&this._log("onopen() - onopen callback",{wsID:a})},this.onmessage=(a,e)=>{var s,o;if(this.wsID!==a)return;this._log("onmessage() - onmessage callback",{event:e,wsID:a});const n=typeof e.data=="string"?JSON.parse(e.data):null;if(!this.isResolved&&n){if(this.isResolved=!0,n.error){(s=this.rejectPromise)==null||s.call(this,this._errorFromWSEvent(n,!1));return}(o=this.resolvePromise)==null||o.call(this,n),this._setHealth(!0)}this.lastEvent=new Date,n&&n.type==="health.check"&&this.scheduleNextPing(),this.client.handleEvent(e),this.scheduleConnectionCheck()},this.onclose=(a,e)=>{var n,s;if(this.wsID===a)if(this._log("onclose() - onclose callback - "+e.code,{event:e,wsID:a}),e.code===xc.WS_CLOSED_SUCCESS){const o=new Error(`WS connection reject with error ${e.reason}`);o.reason=e.reason,o.code=e.code,o.wasClean=e.wasClean,o.target=e.target,(n=this.rejectPromise)==null||n.call(this,o),this._log(`onclose() - WS connection reject with error ${e.reason}`,{event:e})}else this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,(s=this.rejectPromise)==null||s.call(this,this._errorFromWSEvent(e)),this._log("onclose() - WS connection closed. Calling reconnect ...",{event:e}),this._reconnect()},this.onerror=(a,e)=>{var n;this.wsID===a&&(this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,(n=this.rejectPromise)==null||n.call(this,this._errorFromWSEvent(e)),this._log("onerror() - WS connection resulted into error",{event:e}),this._reconnect())},this._setHealth=a=>{if(a!==this.isHealthy){if(this.isHealthy=a,this.isHealthy){this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy});return}setTimeout(()=>{this.isHealthy||this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy})},5e3)}},this._errorFromWSEvent=(a,e=!0)=>{let n,s,o;UO(a)&&(n=a.code,s="unknown",o=a.reason),zO(a)&&(n=a.error.code,s=a.error.StatusCode,o=a.error.message),this._log(`_errorFromWSEvent() - WS failed with code ${n}`,{event:a},"warn");const l=new Error(`WS failed with code ${n} and reason - ${o}`);return l.code=n,l.StatusCode=s,l.isWSFailure=e,l},this._setupConnectionPromise=()=>{this.isResolved=!1,this.connectionOpen=new Promise((a,e)=>{this.resolvePromise=a,this.rejectPromise=e})},this.scheduleNextPing=()=>{this.healthCheckTimeoutRef&&clearTimeout(this.healthCheckTimeoutRef),this.healthCheckTimeoutRef=setTimeout(()=>{var e;const a=[{type:"health.check",client_id:this.client.clientID}];try{(e=this.ws)==null||e.send(JSON.stringify(a))}catch{}},this.pingInterval)},this.scheduleConnectionCheck=()=>{this.connectionCheckTimeoutRef&&clearTimeout(this.connectionCheckTimeoutRef),this.connectionCheckTimeoutRef=setTimeout(()=>{const a=new Date;this.lastEvent&&a.getTime()-this.lastEvent.getTime()>this.connectionCheckTimeout&&(this._log("scheduleConnectionCheck - going to reconnect"),this._setHealth(!1),this._reconnect())},this.connectionCheckTimeout)},this.client=t,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.isDisconnected=!1,this.isResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25*1e3,this.connectionCheckTimeout=this.pingInterval+10*1e3,E_(this.onlineStatusChanged)}_log(t,a={},e="info"){this.client.logger(e,"connection:"+t,{tags:["connection"],...a})}setClient(t){this.client=t}async connect(t=15e3){if(this.isConnecting)throw Error("You've called connect twice, can only attempt 1 connection at the time");this.isDisconnected=!1;try{const a=await this._connect();this.consecutiveFailures=0,this._log(`connect() - Established ws connection with healthcheck: ${a}`)}catch(a){this.isHealthy=!1,this.consecutiveFailures+=1;const e=a;if(e.code===xc.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});else if(!e.isWSFailure)throw new Error(JSON.stringify({code:e.code,StatusCode:e.StatusCode,message:e.message,isWSFailure:e.isWSFailure}))}return await this._waitForHealthy(t)}_waitForHealthy(t=15e3){return Promise.race([(async()=>{for(let e=0;e<=t;e+=50)try{return await this.connectionOpen}catch(n){if(e===t)throw new Error(JSON.stringify({code:n.code,StatusCode:n.StatusCode,message:n.message,isWSFailure:n.isWSFailure}));await fi(50)}})(),(async()=>{throw await fi(t),this.isConnecting=!1,new Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}))})()])}disconnect(t){this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),x_(this.onlineStatusChanged),this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();let a;const{ws:e}=this;return e&&e.close&&e.readyState===e.OPEN?(a=new Promise(n=>{const s=o=>{this._log(`disconnect() - resolving isClosedPromise ${o?"with":"without"} close frame`,{event:o}),n()};e.onclose=s,setTimeout(s,t??1e3)}),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),e.close(xc.WS_CLOSED_SUCCESS,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),a=Promise.resolve()),delete this.ws,a}async _connect(){if(this.isConnecting||this.isDisconnected&&this.client.options.enableWSFallback)return;this.isConnecting=!0,this.requestID=Go(),this.client.insightMetrics.connectionStartTimestamp=new Date().getTime();let t=!1;try{this._log("_connect() - waiting for token"),await this.client.tokenManager.tokenReady(),t=!0}catch{}try{t||(this._log("_connect() - tokenProvider failed before, so going to retry"),await this.client.tokenManager.loadToken()),this._setupConnectionPromise();const a=this._buildUrl();this._log(`_connect() - Connecting to ${a}`,{wsURL:a,requestID:this.requestID}),this.ws=new LO(a),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID);const e=await this.connectionOpen;if(this.isConnecting=!1,e)return this.connectionID=e.connection_id,this.client.insightMetrics.wsConsecutiveFailures>0&&this.client.options.enableInsights&&(Dc("ws_success_after_failure",BO(this)),this.client.insightMetrics.wsConsecutiveFailures=0),e}catch(a){if(this.isConnecting=!1,this._log("_connect() - Error - ",a),this.client.options.enableInsights){this.client.insightMetrics.wsConsecutiveFailures++,this.client.insightMetrics.wsTotalFailures++;const e=OO(this,WL(a));Dc==null||Dc("ws_fatal",e)}throw a}}async _reconnect(t={}){if(this._log("_reconnect() - Initiating the reconnect"),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (1) since already connecting or healthy");return}let a=t.interval;if(a||(a=mf(this.consecutiveFailures)),await fi(a),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (2) since already connecting or healthy");return}if(this.isDisconnected&&this.client.options.enableWSFallback){this._log("_reconnect() - Abort (3) since disconnect() is called");return}this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),t.refreshToken&&await this.client.tokenManager.loadToken();try{await this._connect(),this._log("_reconnect() - Waiting for recoverCallBack"),await this.client.recoverState(),this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0}catch(e){if(this.isHealthy=!1,this.consecutiveFailures+=1,e.code===xc.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});e.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect())}this._log("_reconnect() - == END ==")}_destroyCurrentWSConnection(){var t,a;this.wsID+=1;try{(t=this==null?void 0:this.ws)==null||t.removeAllListeners(),(a=this==null?void 0:this.ws)==null||a.close()}catch{}}},Zd=nu(JR()),J1=nu(ek());function nE(t,a,e={},n={}){if(typeof a!="string")throw new TypeError("userId should be a string");const s={user_id:a,...e};if(Zd.default==null||Zd.default.sign==null)throw Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.");const o=Object.assign({algorithm:"HS256",noTimestamp:!0},n);return s.iat&&(o.noTimestamp=!1),Zd.default.sign(s,t,o)}function eC(t,a={}){const e={server:!0},n=Object.assign({algorithm:"HS256",noTimestamp:!0},a);return Zd.default.sign(e,t,n)}function YO(t){const a=t.split(".");if(a.length!==3)return"";const e=a[1],n=rk(e);return JSON.parse(n).user_id}function FO(t){return["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",ak(JSON.stringify({user_id:t})),"devtoken"].join(".")}function jO(t,a,e){const n=Buffer.from(a,"utf8"),s=J1.default.createHmac("sha256",n).update(t).digest("hex");try{return J1.default.timingSafeEqual(Buffer.from(s),Buffer.from(e))}catch{return!1}}var WO=class{constructor(t){this.setTokenOrProvider=async(a,e)=>{this.validateToken(a,e),this.user=e,Ag(a)&&(this.tokenProvider=a,this.type="provider"),typeof a=="string"&&(this.token=a,this.type="static"),!a&&this.user&&this.secret&&(this.token=nE(this.secret,e.id,{},{}),this.type="static"),await this.loadToken()},this.reset=()=>{this.token=void 0,this.tokenProvider=void 0,this.type="static",this.user=void 0,this.loadTokenPromise=null},this.validateToken=(a,e)=>{if(!(e&&e.anon&&!a)){if(!this.secret&&!a)throw new Error("User token can not be empty");if(a&&typeof a!="string"&&!Ag(a))throw new Error("user token should either be a string or a function");if(typeof a=="string"){if(e.anon&&a==="")return;const n=YO(a);if(a!=null&&(n==null||n===""||n!==e.id))throw new Error("userToken does not have a user_id or is not matching with user.id")}}},this.tokenReady=()=>this.loadTokenPromise,this.loadToken=()=>(this.loadTokenPromise=new Promise(async(a,e)=>{if(this.type==="static")return a(this.token);if(this.tokenProvider&&typeof this.tokenProvider!="string"){try{this.token=await this.tokenProvider()}catch(n){return e(new Error(`Call to tokenProvider failed with message: ${n}`))}a(this.token)}}),this.loadTokenPromise),this.getToken=()=>{if(this.token)return this.token;if(this.user&&this.user.anon&&!this.token)return this.token;if(this.secret)return eC(this.secret);throw new Error("Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called")},this.isStatic=()=>this.type==="static",this.loadTokenPromise=null,t&&(this.secret=t),this.type="static",this.secret&&(this.token=eC(this.secret))}},GO={"-1":{name:"InternalSystemError",retryable:!0},2:{name:"AccessKeyError",retryable:!1},3:{name:"AuthenticationFailedError",retryable:!0},4:{name:"InputError",retryable:!1},6:{name:"DuplicateUsernameError",retryable:!1},9:{name:"RateLimitError",retryable:!0},16:{name:"DoesNotExistError",retryable:!1},17:{name:"NotAllowedError",retryable:!1},18:{name:"EventNotSupportedError",retryable:!1},19:{name:"ChannelFeatureNotSupportedError",retryable:!1},20:{name:"MessageTooLongError",retryable:!1},21:{name:"MultipleNestingLevelError",retryable:!1},22:{name:"PayloadTooBigError",retryable:!1},23:{name:"RequestTimeoutError",retryable:!0},24:{name:"MaxHeaderSizeExceededError",retryable:!1},40:{name:"AuthErrorTokenExpired",retryable:!1},41:{name:"AuthErrorTokenNotValidYet",retryable:!1},42:{name:"AuthErrorTokenUsedBeforeIssuedAt",retryable:!1},43:{name:"AuthErrorTokenSignatureInvalid",retryable:!1},44:{name:"CustomCommandEndpointMissingError",retryable:!1},45:{name:"CustomCommandEndpointCallError",retryable:!0},46:{name:"ConnectionIDNotFoundError",retryable:!1},60:{name:"CoolDownError",retryable:!0},69:{name:"ErrWrongRegion",retryable:!1},70:{name:"ErrQueryChannelPermissions",retryable:!1},71:{name:"ErrTooManyConnections",retryable:!0},99:{name:"AppSuspendedError",retryable:!1}};function ZO(t){return t.code!==void 0}function tC(t){if(!t.code)return!1;const a=GO[`${t.code}`];return a?a.retryable:!1}function $O(t){return t.code===46}function qO(t){if(typeof t.isWSFailure=="boolean")return t.isWSFailure;try{return JSON.parse(t.message).isWSFailure}catch{return!1}}function QO(t){return!t.status||t.status<200||300<=t.status}var VO=class{constructor({client:t}){this._onlineStatusChanged=a=>{var e;if(this._log(`_onlineStatusChanged() - ${a.type}`),a.type==="offline"){this._setState("CLOSED"),(e=this.cancelToken)==null||e.cancel("disconnect() is called"),this.cancelToken=void 0;return}a.type==="online"&&this.state==="CLOSED"&&this.connect(!0)},this._req=async(a,e,n)=>{var s;!this.cancelToken&&!a.close&&(this.cancelToken=jc.CancelToken.source());try{const o=await this.client.doAxiosRequest("get",this.client.baseURL.replace(":3030",":8900")+"/longpoll",void 0,{config:{...e,cancelToken:(s=this.cancelToken)==null?void 0:s.token},params:a});return this.consecutiveFailures=0,o}catch(o){if(this.consecutiveFailures+=1,n&&tC(o))return this._log("_req() - Retryable error, retrying request"),await fi(mf(this.consecutiveFailures)),this._req(a,e,n);throw o}},this._poll=async()=>{var a;for(;this.state==="CONNECTED";)try{const e=await this._req({},{timeout:3e4},!0);if((a=e.events)!=null&&a.length)for(let n=0;n<e.events.length;n++)this.client.dispatchEvent(e.events[n])}catch(e){if(jc.isCancel(e)){this._log("_poll() - axios canceled request");return}if($O(e)){this._log("_poll() - ConnectionID error, connecting without ID..."),this._setState("DISCONNECTED"),this.connect(!0);return}if(ZO(e)&&!tC(e)){this._setState("CLOSED");return}await fi(mf(this.consecutiveFailures))}},this.connect=async(a=!1)=>{if(this.state==="CONNECTING"){this._log("connect() - connecting already in progress",{reconnect:a},"warn");return}if(this.state==="CONNECTED"){this._log("connect() - already connected and polling",{reconnect:a},"warn");return}this._setState("CONNECTING"),this.connectionID=void 0;try{const{event:e}=await this._req({json:this.client._buildWSPayload()},{timeout:8e3},a);return this._setState("CONNECTED"),this.connectionID=e.connection_id,this.client.dispatchEvent(e),this._poll(),a&&this.client.recoverState(),e}catch(e){throw this._setState("CLOSED"),e}},this.isHealthy=()=>!!this.connectionID&&this.state==="CONNECTED",this.disconnect=async(a=2e3)=>{var n;x_(this._onlineStatusChanged),this._setState("DISCONNECTED"),(n=this.cancelToken)==null||n.cancel("disconnect() is called"),this.cancelToken=void 0;const e=this.connectionID;this.connectionID=void 0;try{await this._req({close:!0,connection_id:e},{timeout:a},!1),this._log("disconnect() - Closed connectionID")}catch(s){this._log("disconnect() - Failed",{err:s},"error")}},this.client=t,this.state="INIT",this.consecutiveFailures=0,E_(this._onlineStatusChanged)}_log(t,a={},e="info"){this.client.logger(e,"WSConnectionFallback:"+t,{tags:["connection_fallback","connection"],...a})}_setState(t){this._log(`_setState() - ${t}`),this.state==="CONNECTING"&&t==="CONNECTED"&&this.client.dispatchEvent({type:"connection.changed",online:!0}),(t==="CLOSED"||t==="DISCONNECTED")&&this.client.dispatchEvent({type:"connection.changed",online:!1}),this.state=t}},nC=class{constructor(t,a,e,n){this.client=t,this.type=a,this.id=e,this.data=n}create(){var a,e,n,s,o;const t={name:(a=this.data)==null?void 0:a.name,filter:(e=this.data)==null?void 0:e.filter,description:(n=this.data)==null?void 0:n.description,all_sender_channels:(s=this.data)==null?void 0:s.all_sender_channels,all_users:(o=this.data)==null?void 0:o.all_users};return this.client.createSegment(this.type,this.id,t)}verifySegmentId(){if(!this.id)throw new Error("Segment id is missing. Either create the segment using segment.create() or set the id during instantiation - const segment = client.segment(id)")}get(){return this.verifySegmentId(),this.client.getSegment(this.id)}update(t){return this.verifySegmentId(),this.client.updateSegment(this.id,t)}addTargets(t){return this.verifySegmentId(),this.client.addSegmentTargets(this.id,t)}removeTargets(t){return this.verifySegmentId(),this.client.removeSegmentTargets(this.id,t)}delete(){return this.verifySegmentId(),this.client.deleteSegment(this.id)}targetExists(t){return this.verifySegmentId(),this.client.segmentTargetExists(this.id,t)}queryTargets(t={},a=[],e={}){return this.verifySegmentId(),this.client.querySegmentTargets(this.id,t,a,e)}},Id={user:"stream:user",message:"stream:chat:v1:message",userprofile:"stream:v1:user_profile"},XO=class{constructor(t){this.client=t}flagUser(t,a,e={}){return this.flag(Id.user,t,"",a,e)}flagMessage(t,a,e={}){return this.flag(Id.message,t,"",a,e)}async flag(t,a,e,n,s={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/flag",{entity_type:t,entity_id:a,entity_creator_id:e,reason:n,...s})}async muteUser(t,a={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/mute",{target_ids:[t],...a})}async unmuteUser(t,a){return await this.client.post(this.client.baseURL+"/api/v2/moderation/unmute",{target_ids:[t],...a})}async getUserModerationReport(t,a={}){return await this.client.get(this.client.baseURL+"/api/v2/moderation/user_report",{user_id:t,...a})}async queryReviewQueue(t={},a=[],e={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/review_queue",{filter:t,sort:Zn(a),...e})}async upsertConfig(t){return await this.client.post(this.client.baseURL+"/api/v2/moderation/config",t)}async getConfig(t,a){return await this.client.get(this.client.baseURL+"/api/v2/moderation/config/"+t,a)}async deleteConfig(t,a){return await this.client.delete(this.client.baseURL+"/api/v2/moderation/config/"+t,a)}async queryConfigs(t,a,e={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/configs",{filter:t,sort:a,...e})}async submitAction(t,a,e={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/submit_action",{action_type:t,item_id:a,...e})}async check(t,a,e,n,s,o){return await this.client.post(this.client.baseURL+"/api/v2/moderation/check",{entity_type:t,entity_id:a,entity_creator_id:e,moderation_payload:n,config_key:s,options:o})}async checkUserProfile(t,a){if(!a.username&&!a.image)throw new Error("Either username or image must be provided");const e={};return a.username&&(e.texts=[a.username]),a.image&&(e.images=[a.image]),await this.check(Id.userprofile,t,t,e,"user_profile:default",{force_sync:!0,test_mode:!0})}async addCustomFlags(t,a,e,n,s){return await this.client.post(this.client.baseURL+"/api/v2/moderation/custom_check",{entity_type:t,entity_id:a,entity_creator_id:e,moderation_payload:n,flags:s})}async addCustomMessageFlags(t,a){return await this.addCustomFlags(Id.message,t,"",{},a)}},KO=1e3,aC=25,rC={active:!1,isThreadOrderStale:!1,threads:[],unreadThreadCount:0,unseenThreadIds:[],lastConnectionDropAt:null,pagination:{isLoading:!1,isLoadingNext:!1,nextCursor:null},ready:!1},JO=class extends su{constructor({client:t}){super(),this.resetState=()=>{this.state.next(rC)},this.activate=()=>{this.state.partialNext({active:!0})},this.deactivate=()=>{this.state.partialNext({active:!1})},this.registerSubscriptions=()=>{this.hasSubscriptions||(this.addUnsubscribeFunction(this.subscribeUnreadThreadsCountChange()),this.addUnsubscribeFunction(this.subscribeManageThreadSubscriptions()),this.addUnsubscribeFunction(this.subscribeReloadOnActivation()),this.addUnsubscribeFunction(this.subscribeNewReplies()),this.addUnsubscribeFunction(this.subscribeRecoverAfterConnectionDrop()),this.addUnsubscribeFunction(this.subscribeChannelDeleted()))},this.subscribeUnreadThreadsCountChange=()=>{const{unread_threads:a=0}=this.client.user??{};this.state.partialNext({unreadThreadCount:a});const e=["health.check","notification.mark_read","notification.thread_message_new","notification.channel_deleted"].map(n=>this.client.on(n,s=>{const{unread_threads:o}=s.me??s;typeof o=="number"&&this.state.partialNext({unreadThreadCount:o})}).unsubscribe);return()=>e.forEach(n=>n())},this.subscribeChannelDeleted=()=>this.client.on("notification.channel_deleted",a=>{const{cid:e}=a,{threads:n}=this.state.getLatestValue(),s=n.filter(o=>o.channel.cid!==e);this.state.partialNext({threads:s})}).unsubscribe,this.subscribeManageThreadSubscriptions=()=>this.state.subscribeWithSelector(a=>({threads:a.threads}),({threads:a},e)=>{const{threads:n=[]}=e??{},s=n.filter(o=>o!==this.threadsById[o.id]);a.forEach(o=>o.registerSubscriptions()),s.forEach(o=>o.unregisterSubscriptions())}),this.subscribeReloadOnActivation=()=>this.state.subscribeWithSelector(a=>({active:a.active}),({active:a})=>{a&&this.reload()}),this.subscribeNewReplies=()=>this.client.on("notification.thread_message_new",a=>{var o;const e=(o=a.message)==null?void 0:o.parent_id;if(!e)return;const{unseenThreadIds:n,ready:s}=this.state.getLatestValue();s&&(this.threadsById[e]?this.state.partialNext({isThreadOrderStale:!0}):n.includes(e)||this.state.partialNext({unseenThreadIds:n.concat(e)}))}).unsubscribe,this.subscribeRecoverAfterConnectionDrop=()=>{const a=this.client.on("connection.changed",s=>{s.online===!1&&this.state.next(o=>o.lastConnectionDropAt?o:{...o,lastConnectionDropAt:new Date})}).unsubscribe,e=A_(()=>{const{lastConnectionDropAt:s}=this.state.getLatestValue();s&&this.reload({force:!0})},KO,{trailing:!0}),n=this.client.on("connection.recovered",e).unsubscribe;return()=>{a(),n()}},this.unregisterSubscriptions=()=>(this.state.getLatestValue().threads.forEach(a=>a.unregisterSubscriptions()),super.unregisterSubscriptions()),this.reload=async({force:a=!1}={})=>{const{threads:e,unseenThreadIds:n,isThreadOrderStale:s,pagination:o,ready:l}=this.state.getLatestValue();if(o.isLoading||!a&&l&&!n.length&&!s)return;const u=e.length+n.length;try{this.state.next(p=>({...p,pagination:{...p.pagination,isLoading:!0}}));const h=await this.queryThreads({limit:Math.min(u,aC)||aC}),m=[];for(const p of h.threads){const v=this.threadsById[p.id];v?(m.push(v),v.hasStaleState&&v.hydrateState(p)):m.push(p)}this.state.next(p=>({...p,threads:m,unseenThreadIds:[],isThreadOrderStale:!1,pagination:{...p.pagination,isLoading:!1,nextCursor:h.next??null},ready:!0}))}catch(h){this.client.logger("error",h.message),this.state.next(m=>({...m,pagination:{...m.pagination,isLoading:!1}}))}},this.queryThreads=(a={})=>this.client.queryThreads({limit:25,participant_limit:10,reply_limit:10,watch:!0,...a}),this.loadNextPage=async(a={})=>{const{pagination:e}=this.state.getLatestValue();if(!(e.isLoadingNext||!e.nextCursor))try{this.state.partialNext({pagination:{...e,isLoadingNext:!0}});const n=await this.queryThreads({...a,next:e.nextCursor});this.state.next(s=>({...s,threads:n.threads.length?s.threads.concat(n.threads):s.threads,pagination:{...s.pagination,nextCursor:n.next??null,isLoadingNext:!1}}))}catch(n){this.client.logger("error",n.message),this.state.next(s=>({...s,pagination:{...s.pagination,isLoadingNext:!1}}))}},this.client=t,this.state=new sa(rC),this.threadsByIdGetterCache={threads:[],threadsById:{}}}get threadsById(){const{threads:t}=this.state.getLatestValue();if(t===this.threadsByIdGetterCache.threads)return this.threadsByIdGetterCache.threadsById;const a=t.reduce((e,n)=>(e[n.id]=n,e),{});return this.threadsByIdGetterCache.threads=t,this.threadsByIdGetterCache.threadsById=a,a}},e4=t=>t.type==="poll.updated",t4=t=>t.type==="poll.closed",n4=t=>t.type==="poll.vote_casted",a4=t=>t.type==="poll.vote_changed",r4=t=>t.type==="poll.vote_removed",Hi=t=>!!(t!=null&&t.answer_text),sC=class{constructor({client:t,poll:a}){this.getInitialStateFromPollResponse=e=>{const{own_votes:n,id:s,...o}=e,{ownAnswer:l,ownVotes:u}=(n==null?void 0:n.reduce((h,m)=>(Hi(m)?h.ownAnswer=m:h.ownVotes.push(m),h),{ownVotes:[]}))??{ownVotes:[]};return{...o,lastActivityAt:new Date,maxVotedOptionIds:bc(o.vote_counts_by_option),ownAnswer:l,ownVotesByOptionId:s4(u)}},this.upsertOfflineDb=()=>{var e;(e=this.client.offlineDb)==null||e.executeQuerySafely(n=>n.upsertPoll({poll:o4(this)}),{method:"upsertPoll"})},this.reinitializeState=e=>{this.state.partialNext(this.getInitialStateFromPollResponse(e))},this.handlePollUpdated=e=>{var o;if((o=e.poll)!=null&&o.id&&e.poll.id!==this.id||!e4(e))return;const{id:n,...s}=i4(e.poll);this.state.partialNext({...s,lastActivityAt:new Date(e.created_at)}),this.upsertOfflineDb()},this.handlePollClosed=e=>{var n;(n=e.poll)!=null&&n.id&&e.poll.id!==this.id||t4(e)&&(this.state.partialNext({is_closed:!0,lastActivityAt:new Date(e.created_at)}),this.upsertOfflineDb())},this.handleVoteCasted=e=>{var p;if((p=e.poll)!=null&&p.id&&e.poll.id!==this.id||!n4(e))return;const n=this.data,s=e.poll_vote.user_id===this.client.userID;let o=[...n.latest_answers],l=n.ownAnswer;const u=n.ownVotesByOptionId;let h=n.maxVotedOptionIds;s&&(Hi(e.poll_vote)?l=e.poll_vote:e.poll_vote.option_id&&(u[e.poll_vote.option_id]=e.poll_vote)),Hi(e.poll_vote)?o=[e.poll_vote,...o]:h=bc(e.poll.vote_counts_by_option);const m=Jp(e.poll);this.state.partialNext({...m,latest_answers:o,lastActivityAt:new Date(e.created_at),ownAnswer:l,ownVotesByOptionId:u,maxVotedOptionIds:h}),this.upsertOfflineDb()},this.handleVoteChanged=e=>{var p;if((p=e.poll)!=null&&p.id&&e.poll.id!==this.id||!a4(e))return;const n=this.data,s=e.poll_vote.user_id===this.client.userID;let o=[...n.latest_answers],l=n.ownAnswer,u=n.ownVotesByOptionId,h=n.maxVotedOptionIds;s?Hi(e.poll_vote)?(o=[e.poll_vote,...o.filter(v=>v.id!==e.poll_vote.id)],l=e.poll_vote):e.poll_vote.option_id&&(e.poll.enforce_unique_vote?u={[e.poll_vote.option_id]:e.poll_vote}:(u=Object.entries(u).reduce((v,[b,S])=>(b!==e.poll_vote.option_id&&S.id===e.poll_vote.id||(v[b]=S),v),{}),u[e.poll_vote.option_id]=e.poll_vote),(l==null?void 0:l.id)===e.poll_vote.id&&(l=void 0),h=bc(e.poll.vote_counts_by_option)):Hi(e.poll_vote)?o=[e.poll_vote,...o]:h=bc(e.poll.vote_counts_by_option);const m=Jp(e.poll);this.state.partialNext({...m,latest_answers:o,lastActivityAt:new Date(e.created_at),ownAnswer:l,ownVotesByOptionId:u,maxVotedOptionIds:h}),this.upsertOfflineDb()},this.handleVoteRemoved=e=>{var p;if((p=e.poll)!=null&&p.id&&e.poll.id!==this.id||!r4(e))return;const n=this.data,s=e.poll_vote.user_id===this.client.userID;let o=[...n.latest_answers],l=n.ownAnswer;const u={...n.ownVotesByOptionId};let h=n.maxVotedOptionIds;Hi(e.poll_vote)?(o=o.filter(v=>v.id!==e.poll_vote.id),s&&(l=void 0)):(h=bc(e.poll.vote_counts_by_option),s&&e.poll_vote.option_id&&delete u[e.poll_vote.option_id]);const m=Jp(e.poll);this.state.partialNext({...m,latest_answers:o,lastActivityAt:new Date(e.created_at),ownAnswer:l,ownVotesByOptionId:u,maxVotedOptionIds:h}),this.upsertOfflineDb()},this.query=async e=>{const{poll:n}=await this.client.getPoll(e);return this.state.partialNext({...n,lastActivityAt:new Date}),n},this.update=async e=>await this.client.updatePoll({...e,id:this.id}),this.partialUpdate=async e=>await this.client.partialUpdatePoll(this.id,e),this.close=async()=>await this.client.closePoll(this.id),this.delete=async()=>await this.client.deletePoll(this.id),this.createOption=async e=>await this.client.createPollOption(this.id,e),this.updateOption=async e=>await this.client.updatePollOption(this.id,e),this.deleteOption=async e=>await this.client.deletePollOption(this.id,e),this.castVote=async(e,n)=>{const{max_votes_allowed:s,ownVotesByOptionId:o}=this.data;if(s&&s===Object.keys(o).length){let u=Object.values(o)[0];Object.values(o).slice(1).forEach(h=>{(!(u!=null&&u.created_at)||new Date(h.created_at)<new Date(u.created_at))&&(u=h)}),u!=null&&u.id&&await this.removeVote(u.id,n)}return await this.client.castPollVote(n,this.id,{option_id:e})},this.removeVote=async(e,n)=>await this.client.removePollVote(n,this.id,e),this.addAnswer=async(e,n)=>await this.client.addPollAnswer(n,this.id,e),this.removeAnswer=async(e,n)=>await this.client.removePollVote(n,this.id,e),this.queryAnswers=async e=>await this.client.queryPollAnswers(this.id,e.filter,e.sort,e.options),this.queryOptionVotes=async e=>await this.client.queryPollVotes(this.id,e.filter,e.sort,e.options),this.client=t,this.id=a.id,this.state=new sa(this.getInitialStateFromPollResponse(a))}get data(){return this.state.getLatestValue()}};function bc(t){let a=0,e=[];for(const[n,s]of Object.entries(t??{}))s>a?(e=[n],a=s):s===a&&e.push(n);return e}function s4(t){return t?t.reduce((a,e)=>(Hi(e)||!e.option_id||(a[e.option_id]=e),a),{}):{}}function i4(t){return{allow_answers:t.allow_answers,allow_user_suggested_options:t.allow_user_suggested_options,description:t.description,enforce_unique_vote:t.enforce_unique_vote,id:t.id,is_closed:t.is_closed,max_votes_allowed:t.max_votes_allowed,name:t.name,options:t.options,voting_visibility:t.voting_visibility}}function o4(t){const{lastActivityAt:a,maxVotedOptionIds:e,ownVotesByOptionId:n,ownAnswer:s,...o}=t.data,l=[...Object.values(n),...s?[s]:[]].sort((u,h)=>Date.parse(u.created_at)-Date.parse(h.created_at));return{...o,own_votes:l,id:t.id}}function Jp(t){return{answers_count:t.answers_count,latest_votes_by_option:t.latest_votes_by_option,vote_count:t.vote_count,vote_counts_by_option:t.vote_counts_by_option}}var l4=class extends su{constructor({client:t}){super(),this.pollCache=new Map,this.fromState=a=>this.pollCache.get(a),this.registerSubscriptions=()=>{this.hasSubscriptions||(this.addUnsubscribeFunction(this.subscribeMessageNew()),this.addUnsubscribeFunction(this.subscribePollUpdated()),this.addUnsubscribeFunction(this.subscribePollClosed()),this.addUnsubscribeFunction(this.subscribeVoteCasted()),this.addUnsubscribeFunction(this.subscribeVoteChanged()),this.addUnsubscribeFunction(this.subscribeVoteRemoved()))},this.createPoll=async a=>{const{poll:e}=await this.client.createPoll(a);return new sC({client:this.client,poll:e})},this.getPoll=async a=>{const e=this.fromState(a);if(e)return this.client.getPoll(a).then(({poll:s})=>this.setOrOverwriteInCache(s,!0)),e;const{poll:n}=await this.client.getPoll(a);return this.setOrOverwriteInCache(n),this.fromState(a)},this.queryPolls=async(a,e=[],n={})=>{const{polls:s,next:o}=await this.client.queryPolls(a,e,n);return{polls:s.map(u=>(this.setOrOverwriteInCache(u,!0),this.fromState(u.id))),next:o}},this.hydratePollCache=(a,e)=>{for(const n of a){if(!n.poll)continue;const s=n.poll;this.setOrOverwriteInCache(s,e)}},this.setOrOverwriteInCache=(a,e)=>{if(!this.client._cacheEnabled())return;const n=this.fromState(a.id);if(n)e&&n.reinitializeState(a);else{const s=new sC({client:this.client,poll:a});this.pollCache.set(s.id,s)}},this.subscribePollUpdated=()=>this.client.on("poll.updated",a=>{var e,n;(e=a.poll)!=null&&e.id&&((n=this.fromState(a.poll.id))==null||n.handlePollUpdated(a))}).unsubscribe,this.subscribePollClosed=()=>this.client.on("poll.closed",a=>{var e,n;(e=a.poll)!=null&&e.id&&((n=this.fromState(a.poll.id))==null||n.handlePollClosed(a))}).unsubscribe,this.subscribeVoteCasted=()=>this.client.on("poll.vote_casted",a=>{var e,n;(e=a.poll)!=null&&e.id&&((n=this.fromState(a.poll.id))==null||n.handleVoteCasted(a))}).unsubscribe,this.subscribeVoteChanged=()=>this.client.on("poll.vote_changed",a=>{var e,n;(e=a.poll)!=null&&e.id&&((n=this.fromState(a.poll.id))==null||n.handleVoteChanged(a))}).unsubscribe,this.subscribeVoteRemoved=()=>this.client.on("poll.vote_removed",a=>{var e,n;(e=a.poll)!=null&&e.id&&((n=this.fromState(a.poll.id))==null||n.handleVoteRemoved(a))}).unsubscribe,this.subscribeMessageNew=()=>this.client.on("message.new",a=>{const{message:e}=a;if(e){const n=Aa(e);this.hydratePollCache([n])}}).unsubscribe,this.client=t}get data(){return this.pollCache}},iC={"channel.deleted":"channelDeletedHandler","channel.hidden":"channelHiddenHandler","channel.truncated":"channelTruncatedHandler","channel.updated":"channelUpdatedHandler","channel.visible":"channelVisibleHandler","message.new":"newMessageHandler","member.updated":"memberUpdatedHandler","notification.added_to_channel":"notificationAddedToChannelHandler","notification.message_new":"notificationNewMessageHandler","notification.removed_from_channel":"notificationRemovedFromChannelHandler"},c4={abortInFlightQuery:!1,allowNotLoadedChannelPromotionForEvent:{"channel.visible":!0,"message.new":!0,"notification.added_to_channel":!0,"notification.message_new":!0},lockChannelOrder:!1},eg={limit:10,offset:0},u4=class extends su{constructor({client:t,eventHandlerOverrides:a={},options:e={}}){super(),this.eventHandlers=new Map,this.eventHandlerOverrides=new Map,this.options={},this.stateOptions={},this.setChannels=n=>{var u;this.state.next(h=>{const{channels:m}=h,p=O_(n)?n(m):n;return m===p?h:{...h,channels:p}});const{channels:s,pagination:{filters:o,sort:l}}=this.state.getLatestValue();(u=this.client.offlineDb)==null||u.executeQuerySafely(h=>h.upsertCidsForQuery({cids:s.map(m=>m.cid),filters:o,sort:l}),{method:"upsertCidsForQuery"})},this.setEventHandlerOverrides=(n={})=>{const s=Object.entries(n).reduce((o,[l,u])=>(u&&(o[l]=u),o),{});this.eventHandlerOverrides=new Map(Object.entries(s))},this.setOptions=(n={})=>{this.options={...c4,...n}},this.executeChannelsQuery=async(n,s=0)=>{var v;const{filters:o,sort:l,options:u,stateOptions:h}=n,{offset:m,limit:p}={...eg,...u};try{const b=await this.client.queryChannels(o,l,u,h),S=m+((b==null?void 0:b.length)??0),C={...u,offset:S},{pagination:_}=this.state.getLatestValue();this.state.partialNext({channels:b,pagination:{..._,hasNext:((b==null?void 0:b.length)??0)>=p,isLoading:!1,options:C},initialized:!0,error:void 0}),(v=this.client.offlineDb)==null||v.executeQuerySafely(E=>E.upsertCidsForQuery({cids:b.map(I=>I.cid),filters:_.filters,sort:_.sort}),{method:"upsertCidsForQuery"})}catch(b){if(s>=kL){console.warn(b);const S=new Error(`Maximum number of retries reached in queryChannels. Last error message is: ${b}`);this.state.partialNext({error:S});return}return await fi(LL),this.executeChannelsQuery(n,s+1)}},this.queryChannels=async(n,s=[],o={},l={})=>{var v,b;const{pagination:{isLoading:u,filters:h},initialized:m}=this.state.getLatestValue();if(u&&!this.options.abortInFlightQuery&&JSON.stringify(h)===JSON.stringify(n))return;const p={filters:n,sort:s,options:o,stateOptions:l};try{if(this.stateOptions=l,this.state.next(S=>({...S,pagination:{...S.pagination,isLoading:!0,isLoadingNext:!1,filters:n,sort:s,options:o},error:void 0})),(v=this.client.offlineDb)!=null&&v.getChannelsForQuery&&((b=this.client.user)!=null&&b.id)){if(!m){const S=await this.client.offlineDb.getChannelsForQuery({userId:this.client.user.id,filters:n,sort:s});if(S){const C=this.client.hydrateActiveChannels(S,{offlineMode:!0,skipInitialization:[]});this.state.partialNext({channels:C})}}if(!this.client.offlineDb.syncManager.syncStatus){this.client.offlineDb.syncManager.scheduleSyncStatusChangeCallback(this.id,async()=>{await this.executeChannelsQuery(p)});return}}await this.executeChannelsQuery(p)}catch(S){throw this.client.logger("error",S.message),this.state.next(C=>({...C,pagination:{...C.pagination,isLoading:!1}})),S}},this.loadNext=async()=>{const{pagination:n,initialized:s}=this.state.getLatestValue(),{filters:o,sort:l,options:u,isLoadingNext:h,hasNext:m}=n;if(!(!s||h||!m))try{const{offset:p,limit:v}={...eg,...u};this.state.partialNext({pagination:{...n,isLoading:!1,isLoadingNext:!0}});const b=await this.client.queryChannels(o,l,u,this.stateOptions),{channels:S}=this.state.getLatestValue(),C=p+((b==null?void 0:b.length)??0),_={...u,offset:C};this.state.partialNext({channels:QL([...S||[],...b],"cid"),pagination:{...n,hasNext:((b==null?void 0:b.length)??0)>=v,isLoading:!1,isLoadingNext:!1,options:_}})}catch(p){throw this.client.logger("error",p.message),this.state.next(v=>({...v,pagination:{...v.pagination,isLoadingNext:!1}})),p}},this.notificationAddedToChannelHandler=async n=>{var v;const{id:s,type:o,members:l}=(n==null?void 0:n.channel)??{};if(!o||!((v=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&v["notification.added_to_channel"]))return;const u=await Wp({client:this.client,id:s,members:l==null?void 0:l.reduce((b,{user:S,user_id:C})=>{const _=C||(S==null?void 0:S.id);return _&&b.push(_),b},[]),type:o}),{pagination:h,channels:m}=this.state.getLatestValue();if(!m)return;const{sort:p}=h??{};this.setChannels(Sd({channels:m,channelToMove:u,sort:p}))},this.channelDeletedHandler=n=>{const{channels:s}=this.state.getLatestValue();if(!s)return;const o=[...s],l=o.findIndex(u=>{var h;return u.cid===(n.cid||((h=n.channel)==null?void 0:h.cid))});l<0||(o.splice(l,1),this.setChannels(o))},this.channelHiddenHandler=this.channelDeletedHandler,this.newMessageHandler=n=>{var I;const{pagination:s,channels:o}=this.state.getLatestValue();if(!o)return;const{filters:l,sort:u}=s??{},h=n.channel_type,m=n.channel_id;if(!h||!m)return;const p=this.client.channel(h,m),v=o.indexOf(p),b=v>=0,S=pf(p),C=wd(p),_=Cd(l),E=Ng(u);_&&C&&!l.archived||_&&!C&&l.archived||E&&S||this.options.lockChannelOrder||!b&&!((I=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&I["message.new"])||this.setChannels(Sd({channels:o,channelToMove:p,channelToMoveIndexWithinChannels:v,sort:u}))},this.notificationNewMessageHandler=async n=>{var S;const{id:s,type:o}=(n==null?void 0:n.channel)??{};if(!s||!o)return;const l=await Wp({client:this.client,id:s,type:o}),{channels:u,pagination:h}=this.state.getLatestValue(),{filters:m,sort:p}=h??{},v=Cd(m),b=wd(l);!u||v&&b&&!m.archived||v&&!b&&m.archived||!((S=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&S["notification.message_new"])||this.setChannels(Sd({channels:u,channelToMove:l,sort:p}))},this.channelVisibleHandler=async n=>{var S;const{channel_type:s,channel_id:o}=n;if(!s||!o)return;const l=await Wp({client:this.client,id:n.channel_id,type:n.channel_type}),{channels:u,pagination:h}=this.state.getLatestValue(),{sort:m,filters:p}=h??{},v=Cd(p),b=wd(l);!u||v&&b&&!p.archived||v&&!b&&p.archived||!((S=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&S["channel.visible"])||this.setChannels(Sd({channels:u,channelToMove:l,sort:m}))},this.notificationRemovedFromChannelHandler=this.channelDeletedHandler,this.memberUpdatedHandler=n=>{var L;const{pagination:s,channels:o}=this.state.getLatestValue(),{filters:l,sort:u}=s;if(!((L=n.member)!=null&&L.user)||n.member.user.id!==this.client.userID||!n.channel_type||!n.channel_id)return;const h=n.channel_type,m=n.channel_id,p=Ng(u),v=Cd(l),b=N_({atIndex:0,sort:u,targetKey:"pinned_at"});if(!o||!p&&!v||this.options.lockChannelOrder)return;const S=this.client.channel(h,m),C=o.indexOf(S),_=C>=0,E=pf(S),I=wd(S),A=[...o];if(_&&A.splice(C,1),v&&!I&&(l!=null&&l.archived)||v&&I&&!(l!=null&&l.archived)){this.setChannels(A);return}let M=null;(b===1||b===-1&&!E)&&(M=R_({channels:A}));const k=typeof M=="number"?M+1:0;o[k]!==S&&(A.splice(k,0,S),this.setChannels(A))},this.subscriptionOrOverride=n=>{const s=iC[n.type],o=this.eventHandlers.get(s),l=this.eventHandlerOverrides.get(s);if(l&&typeof l=="function"){l(this.setChannels,n);return}o&&typeof o=="function"&&o(n)},this.registerSubscriptions=()=>{if(!this.hasSubscriptions)for(const n of Object.keys(iC))this.addUnsubscribeFunction(this.client.on(n,this.subscriptionOrOverride).unsubscribe)},this.id=`channel-manager-${nr()}`,this.client=t,this.state=new sa({channels:[],pagination:{isLoading:!1,isLoadingNext:!1,hasNext:!1,filters:{},sort:{},options:eg},initialized:!1,error:void 0}),this.setEventHandlerOverrides(a),this.setOptions(e),this.eventHandlers=new Map(Object.entries({channelDeletedHandler:this.channelDeletedHandler,channelHiddenHandler:this.channelHiddenHandler,channelVisibleHandler:this.channelVisibleHandler,memberUpdatedHandler:this.memberUpdatedHandler,newMessageHandler:this.newMessageHandler,notificationAddedToChannelHandler:this.notificationAddedToChannelHandler,notificationNewMessageHandler:this.notificationNewMessageHandler,notificationRemovedFromChannelHandler:this.notificationRemovedFromChannelHandler}))}},d4={error:1e4,warning:5e3,info:3e3,success:3e3},f4=class{constructor(t={}){this.timeouts=new Map,this.store=new sa({notifications:[]}),this.config={...t,durations:t.durations||d4}}get notifications(){return this.store.getLatestValue().notifications}get warning(){return this.notifications.filter(t=>t.severity==="warning")}get error(){return this.notifications.filter(t=>t.severity==="error")}get info(){return this.notifications.filter(t=>t.severity==="info")}get success(){return this.notifications.filter(t=>t.severity==="success")}add({message:t,origin:a,options:e={}}){const n=nr(),s=Date.now(),o={id:n,message:t,origin:a,severity:e.severity||"info",createdAt:s,expiresAt:e.duration?s+e.duration:void 0,autoClose:e.autoClose??!0,actions:e.actions,metadata:e.metadata};if(this.store.partialNext({notifications:[...this.store.getLatestValue().notifications,o]}),o.autoClose&&o.expiresAt){const l=setTimeout(()=>{this.remove(n)},e.duration||this.config.durations[o.severity]);this.timeouts.set(n,l)}return n}addError({message:t,origin:a,options:e}){return this.add({message:t,origin:a,options:{...e,severity:"error"}})}addWarning({message:t,origin:a,options:e}){return this.add({message:t,origin:a,options:{...e,severity:"warning"}})}addInfo({message:t,origin:a,options:e}){return this.add({message:t,origin:a,options:{...e,severity:"info"}})}addSuccess({message:t,origin:a,options:e}){return this.add({message:t,origin:a,options:{...e,severity:"success"}})}remove(t){const a=this.timeouts.get(t);a&&(clearTimeout(a),this.timeouts.delete(t)),this.store.partialNext({notifications:this.store.getLatestValue().notifications.filter(e=>e.id!==t)})}clear(){this.timeouts.forEach(t=>clearTimeout(t)),this.timeouts.clear(),this.store.partialNext({notifications:[]})}};function tg(t){return typeof t=="string"||t instanceof String}var Gy=class Yi{constructor(a,e,n){var o;this.nextRequestAbortController=null,this._messageComposerSetupState=new sa({setupFunction:null}),this._getConnectionID=()=>{var l,u;return((l=this.wsConnection)==null?void 0:l.connectionID)||((u=this.wsFallback)==null?void 0:u.connectionID)},this._hasConnectionID=()=>!!this._getConnectionID(),this.connectUser=async(l,u)=>{if(!l.id)throw new Error('The "id" field on the user is missing');if(this.userID===l.id&&this.setUserPromise)return console.warn("Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),this.setUserPromise;if(this.userID)throw new Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");(this._isUsingServerAuth()||this.node)&&!this.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),this.userID=l.id,this.anonymous=!1;const h=this._setToken(l,u);this._setUser(l);const m=this.openConnection();this.setUserPromise=Promise.all([h,m]).then(p=>p[1]);try{return await this.setUserPromise}catch(p){throw this.persistUserOnConnectionFailure?this.closeConnection():this.disconnectUser(),p}},this.setUser=this.connectUser,this._setToken=(l,u)=>this.tokenManager.setTokenOrProvider(u,l),this.closeConnection=async l=>{var u,h,m;return this.cleaningIntervalRef!=null&&(clearInterval(this.cleaningIntervalRef),this.cleaningIntervalRef=void 0),await Promise.all([(u=this.wsConnection)==null?void 0:u.disconnect(l),(h=this.wsFallback)==null?void 0:h.disconnect(l)]),(m=this.offlineDb)==null||m.executeQuerySafely(async p=>{this.userID&&await p.upsertUserSyncStatus({userId:this.userID,lastSyncedAt:new Date().toString()})},{method:"upsertUserSyncStatus"}),Promise.resolve()},this.createChannelManager=({eventHandlerOverrides:l={},options:u={}})=>new u4({client:this,eventHandlerOverrides:l,options:u}),this.openConnection=()=>{var l,u,h;if(!this.userID)throw Error("User is not set on client, use client.connectUser or client.connectAnonymousUser instead");if((l=this.wsConnection)!=null&&l.isConnecting&&this.wsPromise)return this.logger("info","client:openConnection() - connection already in progress",{tags:["connection","client"]}),this.wsPromise;if(((u=this.wsConnection)!=null&&u.isHealthy||(h=this.wsFallback)!=null&&h.isHealthy())&&this._hasConnectionID()){this.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists",{tags:["connection","client"]});return}return this.clientID=`${this.userID}--${Go()}`,this.wsPromise=this.connect(),this._startCleaning(),this.wsPromise},this._setupConnection=this.openConnection,this._normalizeDate=l=>{if(l instanceof Date&&(l=l.toISOString()),l==="")throw new Error("Don't pass blank string for since, use null instead if resetting the token revoke");return l},this.disconnectUser=l=>{this.logger("info","client:disconnect() - Disconnecting the client",{tags:["connection","client"]}),delete this.user,delete this._user,delete this.userID,this.anonymous=!1;const u=this.closeConnection(l);for(const h of Object.values(this.activeChannels))h._disconnect();return this.activeChannels={},this.state=new K1({client:this}),this.threads.resetState(),setTimeout(this.tokenManager.reset),u},this.disconnect=this.disconnectUser,this.connectAnonymousUser=()=>{(this._isUsingServerAuth()||this.node)&&!this.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),this.anonymous=!0,this.userID=Go();const l={id:this.userID,anon:!0};return this._setToken(l,""),this._setUser(l),this._setupConnection()},this.setAnonymousUser=this.connectAnonymousUser,this.doAxiosRequest=async(l,u,h,m={})=>{var v;await this.tokenManager.tokenReady();const p=this._enrichAxiosOptions(m);try{let b;switch(this._logApiRequest(l,u,h,p),l){case"get":b=await this.axiosInstance.get(u,p);break;case"delete":b=await this.axiosInstance.delete(u,p);break;case"post":b=await this.axiosInstance.post(u,h,p);break;case"postForm":b=await this.axiosInstance.postForm(u,h,p);break;case"put":b=await this.axiosInstance.put(u,h,p);break;case"patch":b=await this.axiosInstance.patch(u,h,p);break;case"options":b=await this.axiosInstance.options(u,p);break;default:throw new Error("Invalid request type")}return this._logApiResponse(l,u,b),this.consecutiveFailures=0,this.handleResponse(b)}catch(b){if(b.client_request_id=(v=p.headers)==null?void 0:v["x-client-request-id"],this._logApiError(l,u,b),this.consecutiveFailures+=1,b.response)return b.response.data.code===xc.TOKEN_EXPIRED&&!this.tokenManager.isStatic()?(this.consecutiveFailures>1&&await fi(mf(this.consecutiveFailures)),this.tokenManager.loadToken(),await this.doAxiosRequest(l,u,h,m)):this.handleResponse(b.response);throw b}},this.dispatchEvent=l=>{var p;l.received_at||(l.received_at=new Date);const u=this._handleClientEvent(l),h=l.cid,m=h?this.activeChannels[h]:void 0;m&&m._handleChannelEvent(l),this._callClientListeners(l),m&&m._callChannelListeners(l),u.forEach(v=>v()),(p=this.offlineDb)==null||p.executeQuerySafely(v=>v.handleEvent({event:l}),{method:`handleEvent;${l.type}`})},this.handleEvent=l=>{const u=l.data,h=JSON.parse(u);this.dispatchEvent(h)},this._updateMemberWatcherReferences=l=>{const u=this.state.userChannelReferences[l.id]||{};for(const h in u){const m=this.activeChannels[h];m!=null&&m.state&&(m.state.members[l.id]&&(m.state.members[l.id].user=l),m.state.watchers[l.id]&&(m.state.watchers[l.id]=l),m.state.read[l.id]&&(m.state.read[l.id].user=l))}},this._updateUserReferences=this._updateMemberWatcherReferences,this._updateUserMessageReferences=l=>{const u=this.state.userChannelReferences[l.id]||{};for(const h in u){const m=this.activeChannels[h];if(!m)continue;const p=m.state;p==null||p.updateUserMessages(l)}},this._deleteUserMessageReference=(l,u=!1)=>{const h=this.state.userChannelReferences[l.id]||{};for(const m in h){const p=this.activeChannels[m];if(p){const v=p.state;v==null||v.deleteUserMessages(l,u)}}},this._handleUserEvent=l=>{if(l.user){if(l.type==="user.presence.changed"||l.type==="user.updated"){if(l.user.id===this.userID){const u={...this.user},h={...this._user};for(const m in this.user){if(m in l.user||zL(m))continue;const p=m;delete u[p],delete h[p]}for(const m in h){const p=m;p in l.user&&(h[p]=l.user[p])}this._user=h,this.user={...u,...l.user}}this.state.updateUser(l.user),this._updateMemberWatcherReferences(l.user)}l.type==="user.updated"&&this._updateUserMessageReferences(l.user),l.type==="user.deleted"&&l.user.deleted_at&&(l.mark_messages_deleted||l.hard_delete)&&this._deleteUserMessageReference(l.user,l.hard_delete)}},this._callClientListeners=l=>{const u=this,h=[];u.listeners.all&&h.push(...u.listeners.all),u.listeners[l.type]&&h.push(...u.listeners[l.type]);for(const m of h)m(l)},this.recoverState=async()=>{this.logger("info",`client:recoverState() - Start of recoverState with connectionID ${this._getConnectionID()}`,{tags:["connection"]});const l=Object.keys(this.activeChannels);l.length&&this.recoverStateOnReconnect?(this.logger("info",`client:recoverState() - Start the querying of ${l.length} channels`,{tags:["connection","client"]}),await this.queryChannels({cid:{$in:l}},{last_message_at:-1},{limit:30}),this.logger("info","client:recoverState() - Querying channels finished",{tags:["connection","client"]}),this.dispatchEvent({type:"connection.recovered"})):this.dispatchEvent({type:"connection.recovered"}),this.wsPromise=Promise.resolve(),this.setUserPromise=Promise.resolve()},this.getChannelByMembers=(l,u)=>{const h=(u.members??[]).map(b=>typeof b=="string"?b:b.user_id??""),m=h.sort().join(","),p=Ry(l,h);if(!p)throw Error("Please specify atleast one member when creating unique conversation");for(const b in this.activeChannels){const S=this.activeChannels[b];if(!S.disconnected&&(b===p||b.indexOf(`${l}:!members-`)===0&&Object.keys(S.state.members).sort().join(",")===m))return S}const v=new Qo(this,l,void 0,u);return this._cacheEnabled()&&(this.activeChannels[p]=v),v},this.getChannelById=(l,u,h)=>{if(typeof u=="string"&&~u.indexOf(":"))throw Error(`Invalid channel id ${u}, can't contain the : character`);const m=`${l}:${u}`;if(m in this.activeChannels&&this.activeChannels[m]&&!this.activeChannels[m].disconnected){const v=this.activeChannels[m];return Object.keys(h).length>0&&(v.data={...v.data,...h},v._data={...v._data,...h}),v}const p=new Qo(this,l,u,h);return this._cacheEnabled()&&(this.activeChannels[p.cid]=p),p},this.updateUsers=this.upsertUsers,this.updateUser=this.upsertUser,this._unblockMessage=this.unblockMessage,this.markAllRead=this.markChannelsRead,this._isUsingServerAuth=()=>!!this.secret,this._cacheEnabled=()=>!this._isUsingServerAuth()||!this.options.disableCache,this._buildWSPayload=l=>JSON.stringify({user_id:this.userID,user_details:this._user,device:this.options.device,client_request_id:l}),this.setMessageComposerSetupFunction=l=>{this._messageComposerSetupState.partialNext({setupFunction:l})},this.key=a,this.listeners={},this.state=new K1({client:this}),this.mutedChannels=[],this.mutedUsers=[],this.moderation=new XO(this),this.notifications=(n==null?void 0:n.notifications)??new f4,e&&tg(e)&&(this.secret=e);const s=n||(e&&!tg(e)?e:{});this.browser=typeof s.browser<"u"?s.browser:typeof window<"u",this.node=!this.browser,this.options={timeout:3e3,withCredentials:!1,warmUp:!1,recoverStateOnReconnect:!0,disableCache:!1,wsUrlParams:new URLSearchParams({}),...s},this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new EL.default.Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.axiosInstance=jc.create(this.options),this.setBaseURL(this.options.baseURL||"https://chat.stream-io-api.com"),typeof process<"u"&&"env"in process&&Up.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030"),typeof process<"u"&&"env"in process&&Up.STREAM_LOCAL_TEST_HOST&&this.setBaseURL("http://"+Up.STREAM_LOCAL_TEST_HOST),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.activeChannels={},this.configs={},this.anonymous=!1,this.persistUserOnConnectionFailure=(o=this.options)==null?void 0:o.persistUserOnConnectionFailure,this.tokenManager=new WO(this.secret),this.consecutiveFailures=0,this.insightMetrics=new PO,this.defaultWSTimeoutWithFallback=6*1e3,this.defaultWSTimeout=15*1e3,this.axiosInstance.defaults.paramsSerializer=ZL,this.logger=Ag(s.logger)?s.logger:()=>null,this.recoverStateOnReconnect=this.options.recoverStateOnReconnect,this.threads=new JO({client:this}),this.polls=new l4({client:this})}static getInstance(a,e,n){return Yi._instance||(typeof e=="string"?Yi._instance=new Yi(a,e,n):Yi._instance=new Yi(a,e)),Yi._instance}setOfflineDBApi(a){this.offlineDb||(this.offlineDb=a)}devToken(a){return FO(a)}getAuthType(){return this.anonymous?"anonymous":"jwt"}setBaseURL(a){this.baseURL=a,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")}_setUser(a){this.user=a,this.userID=a.id,this._user={...a}}async updateAppSettings(a){const e=a.apn_config;return e!=null&&e.p12_cert&&(a={...a,apn_config:{...e,p12_cert:Buffer.from(e.p12_cert).toString("base64")}}),await this.patch(this.baseURL+"/app",a)}async revokeTokens(a){return await this.updateAppSettings({revoke_tokens_issued_before:this._normalizeDate(a)})}async revokeUserToken(a,e){return await this.revokeUsersToken([a],e)}async revokeUsersToken(a,e){e===void 0?e=new Date().toISOString():e=this._normalizeDate(e);const n=[];for(const s of a)n.push({id:s,set:{revoke_tokens_issued_before:e}});return await this.partialUpdateUsers(n)}async getAppSettings(){return this.appSettingsPromise=this.get(this.baseURL+"/app"),await this.appSettingsPromise}async testPushSettings(a,e={}){return await this.post(this.baseURL+"/check_push",{user_id:a,...e.messageID?{message_id:e.messageID}:{},...e.apnTemplate?{apn_template:e.apnTemplate}:{},...e.firebaseTemplate?{firebase_template:e.firebaseTemplate}:{},...e.firebaseDataTemplate?{firebase_data_template:e.firebaseDataTemplate}:{},...e.skipDevices?{skip_devices:!0}:{},...e.pushProviderName?{push_provider_name:e.pushProviderName}:{},...e.pushProviderType?{push_provider_type:e.pushProviderType}:{}})}async testSQSSettings(a={}){return await this.post(this.baseURL+"/check_sqs",a)}async testSNSSettings(a={}){return await this.post(this.baseURL+"/check_sns",a)}async setGuestUser(a){let e;this.anonymous=!0;try{e=await this.post(this.baseURL+"/guest",{user:a})}catch(h){throw this.anonymous=!1,h}this.anonymous=!1;const{created_at:n,updated_at:s,last_active:o,online:l,...u}=e.user;return await this.connectUser(u,e.access_token)}createToken(a,e,n){if(this.secret==null)throw Error("tokens can only be created server-side using the API Secret");const s={};return e&&(s.exp=e),n&&(s.iat=n),nE(this.secret,a,s,{})}on(a,e){const n=e?a:"all",s=e||a;return n in this.listeners||(this.listeners[n]=[]),this.logger("info",`Attaching listener for ${n} event`,{tags:["event","client"]}),this.listeners[n].push(s),{unsubscribe:()=>{this.logger("info",`Removing listener for ${n} event`,{tags:["event","client"]}),this.listeners[n]=this.listeners[n].filter(o=>o!==s)}}}off(a,e){const n=e?a:"all",s=e||a;n in this.listeners||(this.listeners[n]=[]),this.logger("info",`Removing listener for ${n} event`,{tags:["event","client"]}),this.listeners[n]=this.listeners[n].filter(o=>o!==s)}_logApiRequest(a,e,n,s){this.logger("info",`client: ${a} - Request - ${e}`,{tags:["api","api_request","client"],url:e,payload:n,config:s})}_logApiResponse(a,e,n){this.logger("info",`client:${a} - Response - url: ${e} > status ${n.status}`,{tags:["api","api_response","client"],url:e,response:n})}_logApiError(a,e,n){this.logger("error",`client:${a} - Error - url: ${e}`,{tags:["api","api_response","client"],url:e,error:n})}get(a,e){return this.doAxiosRequest("get",a,null,{params:e})}put(a,e){return this.doAxiosRequest("put",a,e)}post(a,e){return this.doAxiosRequest("post",a,e)}patch(a,e){return this.doAxiosRequest("patch",a,e)}delete(a,e){return this.doAxiosRequest("delete",a,null,{params:e})}sendFile(a,e,n,s,o){const l=HL(e,n,s||"multipart/form-data");return o!=null&&l.append("user",JSON.stringify(o)),this.doAxiosRequest("postForm",a,l,{headers:l.getHeaders?l.getHeaders():{},config:{timeout:0,maxContentLength:1/0,maxBodyLength:1/0}})}errorFromResponse(a){const e=typeof a.data.code<"u"?`StreamChat error code ${a.data.code}: ${a.data.message}`:`StreamChat error HTTP code: ${a.status}`;return new QP(e,{code:a.data.code??null,response:a,status:a.status})}handleResponse(a){const e=a.data;if(QO(a))throw this.errorFromResponse(a);return e}_handleClientEvent(a){var s,o,l;const e=this,n=[];if(this.logger("info",`client:_handleClientEvent - Received event of type { ${a.type} }`,{tags:["event","client"],event:a}),(a.type==="user.presence.changed"||a.type==="user.updated"||a.type==="user.deleted")&&this._handleUserEvent(a),a.type==="health.check"&&a.me&&(e.user=a.me,e.state.updateUser(a.me),e.mutedChannels=a.me.channel_mutes,e.mutedUsers=a.me.mutes),a.channel&&a.type==="notification.message_new"){const{channel:u}=a;this._addChannelConfig(u)}if(a.type==="notification.channel_mutes_updated"&&((s=a.me)!=null&&s.channel_mutes)&&(this.mutedChannels=a.me.channel_mutes),a.type==="notification.mutes_updated"&&((o=a.me)!=null&&o.mutes)&&(this.mutedUsers=a.me.mutes),a.type==="notification.mark_read"&&a.unread_channels===0&&Object.keys(this.activeChannels).forEach(h=>this.activeChannels[h].state.unreadCount=0),(a.type==="channel.deleted"||a.type==="notification.channel_deleted")&&a.cid){const{cid:u}=a;e.state.deleteAllChannelReference(u),(l=this.activeChannels[a.cid])==null||l._disconnect(),n.push(()=>{u&&delete this.activeChannels[u]})}return n}_muteStatus(a){var n;let e;for(let s=0;s<this.mutedChannels.length;s++){const o=this.mutedChannels[s];if(((n=o.channel)==null?void 0:n.cid)===a){e={muted:o.expires?new Date(o.expires).getTime()>new Date().getTime():!0,createdAt:o.created_at?new Date(o.created_at):new Date,expiresAt:o.expires?new Date(o.expires):null};break}}return e||{muted:!1,createdAt:null,expiresAt:null}}async connect(){if(!this.userID||!this._user)throw Error("Call connectUser or connectAnonymousUser before starting the connection");if(!this.wsBaseURL)throw Error("Websocket base url not set");if(!this.clientID)throw Error("clientID is not set");!this.wsConnection&&(this.options.warmUp||this.options.enableInsights)&&this._sayHi(),this.options.wsConnection&&this.node?(this.options.wsConnection.setClient(this),this.wsConnection=this.options.wsConnection):this.wsConnection=new HO({client:this});try{return this.wsFallback?await this.wsFallback.connect():await this.wsConnection.connect(this.options.enableWSFallback?this.defaultWSTimeoutWithFallback:this.defaultWSTimeout)}catch(a){if(this.options.enableWSFallback&&qO(a)&&GL())return this.logger("info","client:connect() - WS failed, fallback to longpoll",{tags:["connection","client"]}),this.dispatchEvent({type:"transport.changed",mode:"longpoll"}),this.wsConnection._destroyCurrentWSConnection(),this.wsConnection.disconnect().then(),this.wsFallback=new VO({client:this}),await this.wsFallback.connect();throw a}}_sayHi(){const a=Go(),e={headers:{"x-client-request-id":a}};this.doAxiosRequest("get",this.baseURL+"/hi",null,e).catch(n=>{this.options.enableInsights&&Dc("http_hi_failed",{api_key:this.key,err:n,client_request_id:a})})}async queryUsers(a,e=[],n={}){const s={presence:!1};await this.wsPromise,this._hasConnectionID()||(s.presence=!1);const o=await this.get(this.baseURL+"/users",{payload:{filter_conditions:a,sort:Zn(e),...s,...n}});return this.state.updateUsers(o.users),o}async queryBannedUsers(a={},e=[],n={}){return await this.get(this.baseURL+"/query_banned_users",{payload:{filter_conditions:a,sort:Zn(e),...n}})}async queryMessageFlags(a={},e={}){return await this.get(this.baseURL+"/moderation/flags/message",{payload:{filter_conditions:a,...e}})}async queryChannelsRequest(a,e=[],n={}){const s={state:!0,watch:!0,presence:!1};await this.wsPromise,this._hasConnectionID()||(s.watch=!1);const o={filter_conditions:a,sort:Zn(e),...s,...n};return(await this.post(this.baseURL+"/channels",o)).channels}async queryChannels(a,e=[],n={},s={}){var l;const o=await this.queryChannelsRequest(a,e,n);return this.dispatchEvent({type:"channels.queried",queriedChannels:{channels:o,isLatestMessageSet:!0}}),o!=null&&o.length&&((l=this.offlineDb)!=null&&l.upsertChannels)&&await this.offlineDb.upsertChannels({channels:o,isLatestMessagesSet:!0}),this.hydrateActiveChannels(o,s,n)}async queryReactions(a,e,n=[],s={}){var l;const o={filter:e,sort:Zn(n),...s};if((l=this.offlineDb)!=null&&l.getReactions&&!s.next)try{const u=await this.offlineDb.getReactions({messageId:a,filters:e,sort:n,limit:s.limit});u&&this.dispatchEvent({type:"offline_reactions.queried",offlineReactions:u})}catch(u){this.logger("warn","An error has occurred while querying offline reactions",{error:u})}return await this.wsPromise,await this.post(this.baseURL+"/messages/"+encodeURIComponent(a)+"/reactions",o)}hydrateActiveChannels(a=[],e={},n){const{skipInitialization:s,offlineMode:o=!1}=e,l=[];for(const u of a){this._addChannelConfig(u.channel);const h=this.channel(u.channel.type,u.channel.id);h.data=u.channel,h.offlineMode=o,h.initialized=!o,h.push_preferences=u.push_preferences;let m;if(s===void 0){const{messageSet:p}=h._initializeState(u,"latest");m=p}else if(!s.includes(u.channel.id)){h.state.clearMessages();const{messageSet:p}=h._initializeState(u,"latest");m=p}m&&(m.pagination={...m.pagination,...T_({parentSet:m,requestedPageSize:(n==null?void 0:n.message_limit)||IL,returnedPage:u.messages,logger:this.logger})},this.polls.hydratePollCache(u.messages,!0)),u.draft&&h.messageComposer.initState({composition:u.draft}),l.push(h)}return l}async search(a,e,n={}){if(n.offset&&n.next)throw Error("Cannot specify offset with next");const s={filter_conditions:a,...n,sort:n.sort?Zn(n.sort):void 0};if(typeof e=="string")s.query=e;else if(typeof e=="object")s.message_filter_conditions=e;else throw Error(`Invalid type ${typeof e} for query parameter`);return await this.wsPromise,await this.get(this.baseURL+"/search",{payload:s})}setLocalDevice(a){var e,n,s;if((e=this.wsConnection)!=null&&e.isConnecting&&this.wsPromise||((n=this.wsConnection)!=null&&n.isHealthy||(s=this.wsFallback)!=null&&s.isHealthy())&&this._hasConnectionID())throw new Error("you can only set device before opening a websocket connection");this.options.device=a}async addDevice(a,e,n,s){return await this.post(this.baseURL+"/devices",{id:a,push_provider:e,...n!=null?{user_id:n}:{},...s!=null?{push_provider_name:s}:{}})}async getDevices(a){return await this.get(this.baseURL+"/devices",a?{user_id:a}:{})}async getUnreadCount(a){return await this.get(this.baseURL+"/unread",a?{user_id:a}:{})}async getUnreadCountBatch(a){return await this.post(this.baseURL+"/unread_batch",{user_ids:a})}async setPushPreferences(a){return await this.post(this.baseURL+"/push_preferences",{preferences:a})}async removeDevice(a,e){return await this.delete(this.baseURL+"/devices",{id:a,...e?{user_id:e}:{}})}getRateLimits(a){const{serverSide:e,web:n,android:s,ios:o,endpoints:l}=a||{};return this.get(this.baseURL+"/rate_limits",{server_side:e,web:n,android:s,ios:o,endpoints:l?l.join(","):void 0})}_addChannelConfig({cid:a,config:e}){this._cacheEnabled()&&(this.configs[a]=e)}channel(a,e,n={}){var s;if(!this.userID&&!this._isUsingServerAuth())throw Error("Call connectUser or connectAnonymousUser before creating a channel");if(~a.indexOf(":"))throw new Error(`Invalid channel group ${a}, can't contain the : character`);return e&&typeof e=="object"?this.getChannelByMembers(a,e):!e&&typeof n=="object"&&((s=n.members)!=null&&s.length)?this.getChannelByMembers(a,n):e?this.getChannelById(a,e,n):new Qo(this,a,void 0,n)}async partialUpdateUser(a){return await this.partialUpdateUsers([a])}async upsertUsers(a){const e={};for(const n of a){if(!n.id)throw Error("User ID is required when updating a user");e[n.id]=n}return await this.post(this.baseURL+"/users",{users:e})}upsertUser(a){return this.upsertUsers([a])}async partialUpdateUsers(a){for(const e of a)if(!e.id)throw Error("User ID is required when updating a user");return await this.patch(this.baseURL+"/users",{users:a})}async deleteUser(a,e){return await this.delete(this.baseURL+`/users/${encodeURIComponent(a)}`,e)}async restoreUsers(a){return await this.post(this.baseURL+"/users/restore",{user_ids:a})}async reactivateUser(a,e){return await this.post(this.baseURL+`/users/${encodeURIComponent(a)}/reactivate`,{...e})}async reactivateUsers(a,e){return await this.post(this.baseURL+"/users/reactivate",{user_ids:a,...e})}async deactivateUser(a,e){return await this.post(this.baseURL+`/users/${encodeURIComponent(a)}/deactivate`,{...e})}async deactivateUsers(a,e){return await this.post(this.baseURL+"/users/deactivate",{user_ids:a,...e})}async exportUser(a,e){return await this.get(this.baseURL+`/users/${encodeURIComponent(a)}/export`,{...e})}async banUser(a,e){return await this.post(this.baseURL+"/moderation/ban",{target_user_id:a,...e})}async unbanUser(a,e){return await this.delete(this.baseURL+"/moderation/ban",{target_user_id:a,...e})}async shadowBan(a,e){return await this.banUser(a,{shadow:!0,...e})}async removeShadowBan(a,e){return await this.unbanUser(a,{shadow:!0,...e})}async blockUser(a,e){return await this.post(this.baseURL+"/users/block",{blocked_user_id:a,...e?{user_id:e}:{}})}async getBlockedUsers(a){return await this.get(this.baseURL+"/users/block",{...a?{user_id:a}:{}})}async unBlockUser(a,e){return await this.post(this.baseURL+"/users/unblock",{blocked_user_id:a,...e?{user_id:e}:{}})}async muteUser(a,e,n={}){return await this.post(this.baseURL+"/moderation/mute",{target_id:a,...e?{user_id:e}:{},...n})}async unmuteUser(a,e){return await this.post(this.baseURL+"/moderation/unmute",{target_id:a,...e?{user_id:e}:{}})}userMuteStatus(a){if(!this.user||!this.wsPromise)throw new Error("Make sure to await connectUser() first.");for(let e=0;e<this.mutedUsers.length;e+=1)if(this.mutedUsers[e].target.id===a)return!0;return!1}async flagMessage(a,e={}){return await this.post(this.baseURL+"/moderation/flag",{target_message_id:a,...e})}async flagUser(a,e={}){return await this.post(this.baseURL+"/moderation/flag",{target_user_id:a,...e})}async unflagMessage(a,e={}){return await this.post(this.baseURL+"/moderation/unflag",{target_message_id:a,...e})}async unflagUser(a,e={}){return await this.post(this.baseURL+"/moderation/unflag",{target_user_id:a,...e})}async _queryFlags(a={},e={}){return await this.post(this.baseURL+"/moderation/flags",{filter_conditions:a,...e})}async _queryFlagReports(a={},e={}){return await this.post(this.baseURL+"/moderation/reports",{filter_conditions:a,...e})}async _reviewFlagReport(a,e,n={}){return await this.patch(this.baseURL+`/moderation/reports/${encodeURIComponent(a)}`,{review_result:e,...n})}async unblockMessage(a,e={}){return await this.post(this.baseURL+"/moderation/unblock_message",{target_message_id:a,...e})}async markChannelsRead(a={}){await this.post(this.baseURL+"/channels/read",{...a})}createCommand(a){return this.post(this.baseURL+"/commands",a)}getCommand(a){return this.get(this.baseURL+`/commands/${encodeURIComponent(a)}`)}updateCommand(a,e){return this.put(this.baseURL+`/commands/${encodeURIComponent(a)}`,e)}deleteCommand(a){return this.delete(this.baseURL+`/commands/${encodeURIComponent(a)}`)}listCommands(){return this.get(this.baseURL+"/commands")}createChannelType(a){const e=Object.assign({},{commands:["all"]},a);return this.post(this.baseURL+"/channeltypes",e)}getChannelType(a){return this.get(this.baseURL+`/channeltypes/${encodeURIComponent(a)}`)}updateChannelType(a,e){return this.put(this.baseURL+`/channeltypes/${encodeURIComponent(a)}`,e)}DBDeleteChannelType(a){return this.delete(this.baseURL+`/channeltypes/${encodeURIComponent(a)}`)}listChannelTypes(){return this.get(this.baseURL+"/channeltypes")}async translateMessage(a,e){return await this.post(this.baseURL+`/messages/${encodeURIComponent(a)}/translate`,{language:e})}async translate(a,e,n){return await this.post(this.baseURL+"/translate",{text:a,source_language:n,destination_language:e})}_normalizeExpiration(a){let e=null;if(typeof a=="number"){const n=new Date;n.setSeconds(n.getSeconds()+a),e=n.toISOString()}else tg(a)?e=a:a instanceof Date&&(e=a.toISOString());return e}_validateAndGetMessageId(a,e){let n;if(typeof a=="string")n=a;else{if(!a.id)throw Error(e);n=a.id}return n}pinMessage(a,e,n,s){const o=this._validateAndGetMessageId(a,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(o,{set:{pinned:!0,pin_expires:this._normalizeExpiration(e),pinned_at:this._normalizeExpiration(s)}},n)}unpinMessage(a,e){const n=this._validateAndGetMessageId(a,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(n,{set:{pinned:!1}},e)}async updateMessage(a,e,n){if(!a.id)throw Error("Please specify the message.id when calling updateMessage");const s=I_(a);return typeof e=="string"?s.user_id=e:typeof(e==null?void 0:e.id)=="string"&&(s.user_id=e.id),await this.post(this.baseURL+`/messages/${encodeURIComponent(a.id)}`,{message:s,...n})}async partialUpdateMessage(a,e,n,s){if(!a)throw Error("Please specify the message.id when calling partialUpdateMessage");let o;return typeof n=="string"?o={id:n}:typeof(n==null?void 0:n.id)=="string"&&(o={id:n.id}),await this.put(this.baseURL+`/messages/${encodeURIComponent(a)}`,{...e,...s,user:o})}async deleteMessage(a,e){try{if(this.offlineDb)return e?await this.offlineDb.hardDeleteMessage({id:a}):await this.offlineDb.softDeleteMessage({id:a}),await this.offlineDb.queueTask({task:{messageId:a,payload:[a,e],type:"delete-message"}})}catch(n){this.logger("error","offlineDb:deleteMessage",{tags:["channel","offlineDb"],error:n})}return this._deleteMessage(a,e)}async _deleteMessage(a,e){let n={};return e&&(n={hard:!0}),await this.delete(this.baseURL+`/messages/${encodeURIComponent(a)}`,n)}async undeleteMessage(a,e){return await this.post(this.baseURL+`/messages/${encodeURIComponent(a)}/undelete`,{undeleted_by:e})}async getMessage(a,e){return await this.get(this.baseURL+`/messages/${encodeURIComponent(a)}`,{...e})}async queryThreads(a={}){const e={limit:10,participant_limit:10,reply_limit:3,watch:!0,...a},n={...e};e.filter&&Object.keys(e.filter).length>0&&(n.filter=e.filter),e.sort&&(Array.isArray(e.sort)?e.sort.length>0:Object.keys(e.sort).length>0)&&(n.sort=Zn(e.sort));const s=await this.post(`${this.baseURL}/threads`,n);return{threads:s.threads.map(o=>new Pc({client:this,threadData:o})),next:s.next}}async getThread(a,e={}){if(!a)throw new Error("Please specify the messageId when calling getThread");const n={participant_limit:100,reply_limit:3,watch:!0,...e},s=await this.get(`${this.baseURL}/threads/${encodeURIComponent(a)}`,n);return new Pc({client:this,threadData:s.thread})}async partialUpdateThread(a,e){if(!a)throw Error("Please specify the message id when calling partialUpdateThread");const n=["created_at","id","last_message_at","type","updated_at","user","reply_count","participants","channel","custom"];for(const s in{...e.set,...e.unset})if(n.includes(s))throw Error(`You cannot set ${s} field on Thread object. ${s} is reserved for server-side use. Please omit ${s} from your set object.`);return await this.patch(`${this.baseURL}/threads/${encodeURIComponent(a)}`,e)}getUserAgent(){if(this.userAgent)return this.userAgent;const a="9.2.0",e="browser-esm";let n="";this.sdkIdentifier?n=`stream-chat-${this.sdkIdentifier.name}-v${this.sdkIdentifier.version}-llc-v${a}`:n=`stream-chat-js-v${a}-${this.node?"node":"browser"}`;const{os:s,model:o}=this.deviceIdentifier??{};return[["os",s],["device_model",o],["client_bundle",e]].reduce((l,[u,h])=>h&&h.length>0?l.concat(`|${u}=${h}`):l,n)}setUserAgent(a){this.userAgent=a}_enrichAxiosOptions(a={params:{},headers:{},config:{}}){var h;const e=this._getToken(),n=e?{Authorization:e}:void 0;let s=null;this.nextRequestAbortController!==null&&(s=this.nextRequestAbortController.signal,this.nextRequestAbortController=null),(h=a.headers)!=null&&h["x-client-request-id"]||(a.headers={...a.headers,"x-client-request-id":Go()});const{params:o,headers:l,...u}=this.options.axiosRequestConfig||{};return{params:{user_id:this.userID,connection_id:this._getConnectionID(),api_key:this.key,...a.params,...o||{}},headers:{...n,"stream-auth-type":this.getAuthType(),"X-Stream-Client":this.getUserAgent(),...a.headers,...l||{}},...s?{signal:s}:{},...a.config,...u||{}}}_getToken(){return!this.tokenManager||this.anonymous?null:this.tokenManager.getToken()}_startCleaning(){const a=this;this.cleaningIntervalRef==null&&(this.cleaningIntervalRef=setInterval(()=>{for(const e of Object.values(a.activeChannels))e.clean()},500))}verifyWebhook(a,e){return!!this.secret&&jO(a,this.secret,e)}getPermission(a){return this.get(`${this.baseURL}/permissions/${encodeURIComponent(a)}`)}createPermission(a){return this.post(`${this.baseURL}/permissions`,{...a})}updatePermission(a,e){return this.put(`${this.baseURL}/permissions/${encodeURIComponent(a)}`,{...e})}deletePermission(a){return this.delete(`${this.baseURL}/permissions/${encodeURIComponent(a)}`)}listPermissions(){return this.get(`${this.baseURL}/permissions`)}createRole(a){return this.post(`${this.baseURL}/roles`,{name:a})}listRoles(){return this.get(`${this.baseURL}/roles`)}deleteRole(a){return this.delete(`${this.baseURL}/roles/${encodeURIComponent(a)}`)}sync(a,e,n={}){return this.post(`${this.baseURL}/sync`,{channel_cids:a,last_sync_at:e,...n})}async sendUserCustomEvent(a,e){return await this.post(`${this.baseURL}/users/${encodeURIComponent(a)}/event`,{event:e})}createBlockList(a){return this.post(`${this.baseURL}/blocklists`,a)}listBlockLists(a){return this.get(`${this.baseURL}/blocklists`,a)}getBlockList(a,e){return this.get(`${this.baseURL}/blocklists/${encodeURIComponent(a)}`,e)}updateBlockList(a,e){return this.put(`${this.baseURL}/blocklists/${encodeURIComponent(a)}`,e)}deleteBlockList(a,e){return this.delete(`${this.baseURL}/blocklists/${encodeURIComponent(a)}`,e)}exportChannels(a,e={}){const n={channels:a,...e};return this.post(`${this.baseURL}/export_channels`,n)}exportUsers(a){return this.post(`${this.baseURL}/export/users`,a)}exportChannel(a,e){return this.exportChannels([a],e)}getExportChannelStatus(a){return this.get(`${this.baseURL}/export_channels/${encodeURIComponent(a)}`)}campaign(a,e){return a&&typeof a=="object"?new C1(this,null,a):new C1(this,a,e)}segment(a,e,n){return typeof e=="string"?new nC(this,a,e,n):new nC(this,a,null,e)}validateServerSideAuth(){if(!this.secret)throw new Error("Campaigns is a server-side only feature. Please initialize the client with a secret to use this feature.")}createSegment(a,e,n){this.validateServerSideAuth();const s={id:e,type:a,...n};return this.post(this.baseURL+"/segments",s)}createUserSegment(a,e){return this.validateServerSideAuth(),this.createSegment("user",a,e)}createChannelSegment(a,e){return this.validateServerSideAuth(),this.createSegment("channel",a,e)}getSegment(a){return this.validateServerSideAuth(),this.get(this.baseURL+`/segments/${encodeURIComponent(a)}`)}updateSegment(a,e){return this.validateServerSideAuth(),this.put(this.baseURL+`/segments/${encodeURIComponent(a)}`,e)}addSegmentTargets(a,e){this.validateServerSideAuth();const n={target_ids:e};return this.post(this.baseURL+`/segments/${encodeURIComponent(a)}/addtargets`,n)}querySegmentTargets(a,e={},n=[],s={}){return this.validateServerSideAuth(),this.post(this.baseURL+`/segments/${encodeURIComponent(a)}/targets/query`,{filter:e||{},sort:n||[],...s})}removeSegmentTargets(a,e){this.validateServerSideAuth();const n={target_ids:e};return this.post(this.baseURL+`/segments/${encodeURIComponent(a)}/deletetargets`,n)}querySegments(a,e,n={}){return this.validateServerSideAuth(),this.post(this.baseURL+"/segments/query",{filter:a,sort:e,...n})}deleteSegment(a){return this.validateServerSideAuth(),this.delete(this.baseURL+`/segments/${encodeURIComponent(a)}`)}segmentTargetExists(a,e){return this.validateServerSideAuth(),this.get(this.baseURL+`/segments/${encodeURIComponent(a)}/target/${encodeURIComponent(e)}`)}createCampaign(a){return this.validateServerSideAuth(),this.post(this.baseURL+"/campaigns",{...a})}getCampaign(a,e){return this.validateServerSideAuth(),this.get(this.baseURL+`/campaigns/${encodeURIComponent(a)}`,{...e==null?void 0:e.users})}startCampaign(a,e){return this.validateServerSideAuth(),this.post(this.baseURL+`/campaigns/${encodeURIComponent(a)}/start`,{scheduled_for:e==null?void 0:e.scheduledFor,stop_at:e==null?void 0:e.stopAt})}async queryCampaigns(a,e,n){return this.validateServerSideAuth(),await this.post(this.baseURL+"/campaigns/query",{filter:a,sort:e,...n||{}})}updateCampaign(a,e){return this.validateServerSideAuth(),this.put(this.baseURL+`/campaigns/${encodeURIComponent(a)}`,e)}deleteCampaign(a){return this.validateServerSideAuth(),this.delete(this.baseURL+`/campaigns/${encodeURIComponent(a)}`)}stopCampaign(a){return this.validateServerSideAuth(),this.post(this.baseURL+`/campaigns/${encodeURIComponent(a)}/stop`)}enrichURL(a){return this.get(this.baseURL+"/og",{url:a})}getTask(a){return this.get(`${this.baseURL}/tasks/${encodeURIComponent(a)}`)}async deleteChannels(a,e={}){return await this.post(this.baseURL+"/channels/delete",{cids:a,...e})}async deleteUsers(a,e={}){if(typeof e.user<"u"&&!["soft","hard","pruning"].includes(e.user))throw new Error("Invalid delete user options. user must be one of [soft hard pruning]");if(typeof e.conversations<"u"&&!["soft","hard"].includes(e.conversations))throw new Error("Invalid delete user options. conversations must be one of [soft hard]");if(typeof e.messages<"u"&&!["soft","hard","pruning"].includes(e.messages))throw new Error("Invalid delete user options. messages must be one of [soft hard pruning]");return await this.post(this.baseURL+"/users/delete",{user_ids:a,...e})}async _createImportURL(a){return await this.post(this.baseURL+"/import_urls",{filename:a})}async _createImport(a,e={mode:"upsert"}){return await this.post(this.baseURL+"/imports",{path:a,...e})}async _getImport(a){return await this.get(this.baseURL+`/imports/${encodeURIComponent(a)}`)}async _listImports(a){return await this.get(this.baseURL+"/imports",a)}async upsertPushProvider(a){return await this.post(this.baseURL+"/push_providers",{push_provider:a})}async deletePushProvider({type:a,name:e}){return await this.delete(this.baseURL+`/push_providers/${encodeURIComponent(a)}/${encodeURIComponent(e)}`)}async listPushProviders(){return await this.get(this.baseURL+"/push_providers")}createAbortControllerForNextRequest(){return this.nextRequestAbortController=new AbortController}async commitMessage(a){return await this.post(this.baseURL+`/messages/${encodeURIComponent(a)}/commit`)}async createPoll(a,e){return await this.post(this.baseURL+"/polls",{...a,...e?{user_id:e}:{}})}async getPoll(a,e){return await this.get(this.baseURL+`/polls/${encodeURIComponent(a)}`,e?{user_id:e}:{})}async updatePoll(a,e){return await this.put(this.baseURL+"/polls",{...a,...e?{user_id:e}:{}})}async partialUpdatePoll(a,e,n){return await this.patch(this.baseURL+`/polls/${encodeURIComponent(a)}`,{...e,...n?{user_id:n}:{}})}async deletePoll(a,e){return await this.delete(this.baseURL+`/polls/${encodeURIComponent(a)}`,{...e?{user_id:e}:{}})}closePoll(a,e){return this.partialUpdatePoll(a,{set:{is_closed:!0}},e)}async createPollOption(a,e,n){return await this.post(this.baseURL+`/polls/${encodeURIComponent(a)}/options`,{...e,...n?{user_id:n}:{}})}async getPollOption(a,e,n){return await this.get(this.baseURL+`/polls/${encodeURIComponent(a)}/options/${encodeURIComponent(e)}`,n?{user_id:n}:{})}async updatePollOption(a,e,n){return await this.put(this.baseURL+`/polls/${encodeURIComponent(a)}/options`,{...e,...n?{user_id:n}:{}})}async deletePollOption(a,e,n){return await this.delete(this.baseURL+`/polls/${encodeURIComponent(a)}/options/${encodeURIComponent(e)}`,n?{user_id:n}:{})}async castPollVote(a,e,n,s){return await this.post(this.baseURL+`/messages/${encodeURIComponent(a)}/polls/${encodeURIComponent(e)}/vote`,{vote:n,...s?{user_id:s}:{}})}addPollAnswer(a,e,n,s){return this.castPollVote(a,e,{answer_text:n},s)}async removePollVote(a,e,n,s){return await this.delete(this.baseURL+`/messages/${encodeURIComponent(a)}/polls/${encodeURIComponent(e)}/vote/${encodeURIComponent(n)}`,{...s?{user_id:s}:{}})}async queryPolls(a={},e=[],n={},s){const o=s?`?user_id=${s}`:"";return await this.post(this.baseURL+`/polls/query${o}`,{filter:a,sort:Zn(e),...n})}async queryPollVotes(a,e={},n=[],s={},o){const l=o?`?user_id=${o}`:"";return await this.post(this.baseURL+`/polls/${encodeURIComponent(a)}/votes${l}`,{filter:e,sort:Zn(n),...s})}async queryPollAnswers(a,e={},n=[],s={},o){const l=o?`?user_id=${o}`:"";return await this.post(this.baseURL+`/polls/${encodeURIComponent(a)}/votes${l}`,{filter:{...e,is_answer:!0},sort:Zn(n),...s})}async queryMessageHistory(a={},e=[],n={}){return await this.post(this.baseURL+"/messages/history",{filter:a,sort:Zn(e),...n})}async updateFlags(a,e,n={}){return await this.post(this.baseURL+"/automod/v1/moderation/update_flags",{message_ids:a,reviewed_by:e,...n})}async queryDrafts(a={}){const e={...a,sort:a.sort?Zn(a.sort):void 0};return await this.post(this.baseURL+"/drafts/query",e)}};const aE=(t,a)=>{const[e,n]=w.useState([]),[s,o]=w.useState([]),[l,u]=w.useState(!0),[h,m]=w.useState(null),p=async()=>{try{u(!0);const[v,b]=await Promise.all([ui.getPendingProposals(t,a),ui.getSentProposals(t,a)]);n(v.filter(S=>S.status==="pending")),o(b.filter(S=>["pending","countered"].includes(S.status))),m(null)}catch(v){m(v.message),n([]),o([])}finally{u(!1)}};return w.useEffect(()=>{t&&a&&p()},[t,a]),{pendingProposals:e,sentProposals:s,loading:l,error:h,refetch:p}},h4="nbvut8j4y6se",m4="frbcaplgmailcom";function p4(t){if(!t)return"";const a=new Date(t),e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function Dd(t){if(!t)return"";const a=new Date(t),e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");return`${a.getFullYear()}-${e}-${n}`}function g4(t){let a=t.trim();a=a.replace(/(\d{1,2}):(\d{2})\s*(am|pm)/i,(n,s,o,l)=>`${parseInt(s,10)}:${o} ${l.toUpperCase()}`),a=a.replace(/^(\d{1,2})(\d{2})(am|pm)$/i,(n,s,o,l)=>`${parseInt(s,10)}:${o} ${l.toUpperCase()}`),a=a.replace(/^(\d{1,2})(am|pm)$/i,(n,s,o)=>`${parseInt(s,10)}:00 ${o.toUpperCase()}`),a=a.replace(/(am|pm)$/i," $1"),a=a.replace(/(am|pm)$/i,n=>n.toUpperCase());const e=a.match(/^(\d{1,2}):(\d{2}) (AM|PM)$/i);if(e){const n=e[1],s=e[2],o=e[3].toUpperCase(),l=`${n}:${s} ${o}`;return console.log("normalizeTimeString final:",l),l}return console.log("normalizeTimeString fallback:",a),a}function Md(t){return t.replace(/[^a-zA-Z0-9]/g,"")}async function y4({senderEmail:t,senderName:a,receiverEmail:e,receiverName:n,matchName:s}){try{const o=Gy.getInstance(h4),l=await fetch(`${mt}/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:Md(t)})}),{token:u}=await l.json();if(!u)throw new Error("Could not get chat token");o.userID||await o.connectUser({id:Md(t),name:a},u);const h=Array.from(new Set([Md(t),Md(e),m4])),m=o.channel("messaging",{members:h,name:s});await m.create(),await m.sendMessage({text:"Chat created for your match proposal!"})}catch(o){console.error("Failed to create chat channel:",o),alert("Failed to create chat channel: "+o.message)}}const ng=`This is a BETA test match. Matches that are created, scheduled, and confirmed will NOT be played.

`,v4=t=>t.replace(/[–—−]/g,"-").replace(/\s*-\s*/g," - ").trim();function Zy({player:t,day:a,slot:e,onClose:n,senderName:s,senderEmail:o,onProposalComplete:l,selectedDivision:u,phase:h}){console.log("MatchProposalModal player prop:",t),console.log("MatchProposalModal phase prop:",h),console.log("MatchProposalModal slot prop:",e,JSON.stringify(e));const[m,p]=w.useState(e),[v,b]=w.useState(""),[S,C]=w.useState(""),[_,E]=w.useState(""),[I,A]=w.useState(!1),[M,k]=w.useState("8 Ball"),[L,U]=w.useState(h==="scheduled"||h==="challenge"?5:7),F=t.locations?t.locations.split(/\r?\n/).map(W=>W.trim()).filter(Boolean):[],z=FR(a),[q,te]=w.useState(z),ge=t.availability[a]||[],re=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][q.getDay()],ee=w.useMemo(()=>{if(!e)return[];const W=v4(e);if(console.log("DEBUG: normalized slot:",W),!W.includes(" - "))return[];let[R,B]=W.split(" - ").map(K=>g4(K.trim()));if(console.log("DEBUG: blockStart:",R,"blockEnd:",B),!R||!B)return[];const Z=Iy(R,B,30);return console.log("DEBUG: generated times:",Z),Z},[e]);w.useEffect(()=>{b("")},[e]);const{sentProposals:j}=aE(s,u);function D(W){return j.some(R=>R.receiverName===(W.player?`${W.player.firstName} ${W.player.lastName}`:W.opponentName)&&R.date===Dd(q)&&R.time===v&&R.location===S&&R.phase===h&&R.divisions&&R.divisions.includes(u)&&["pending","countered"].includes(R.status))}t.opponents&&t.opponents.filter(W=>!D(W));const H=()=>{if(!o||!t.email||!v||!S||!q){alert("Please fill in all required fields.");return}if(h==="scheduled"){const R=new Date,B=new Date(q),Z=Math.ceil((B-R)/(1e3*60*60*24));if(Z<0){alert("⚠️ You cannot schedule a match in the past.");return}if(Z<=2&&!window.confirm(`⚠️ WARNING: This match is scheduled for ${Z} day(s) from now.

Phase 1 matches must be completed by the end of week 6. Scheduling this close to the deadline may not give enough time to complete the match.

Do you want to continue with this schedule?`))return}const W={senderEmail:o,senderName:s,receiverEmail:t.email,receiverName:t.firstName?`${t.firstName} ${t.lastName}`:t.name,date:Dd(q),time:v,location:S,message:_,gameType:M,raceLength:L,phase:h,divisions:[u]};console.log("Proposal data to send:",W),fetch(`${mt}/api/proposals`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)}).then(R=>R.json()).then(R=>{if(console.log("Backend response:",R),R.error)throw new Error(R.error);y4({senderEmail:o,senderName:s,receiverEmail:t.email,receiverName:t.firstName?`${t.firstName} ${t.lastName}`:t.name,matchName:`${s} vs ${t.firstName?`${t.firstName} ${t.lastName}`:t.name} - ${p4(q)}`}),QA({to_email:t.email,to_name:t.firstName?`${t.firstName} ${t.lastName}`:t.name,from_name:s,from_email:o,day:re,date:Dd(q),time:v,location:S,note:_,gameType:M,raceLength:L}),A(!0)}).catch(R=>{console.error("Failed to send proposal:",R),alert("Failed to send proposal: "+R.message)})},V=()=>{A(!1),n(),l&&l()};return f.createElement(f.Fragment,null,f.createElement(zn,{open:!0,onClose:n,title:f.createElement("span",{className:Gt["match-proposal-title"]},"Propose a Match - BETA"),maxWidth:"500px",className:"proposal-modal"},f.createElement("div",{className:Gt["match-proposal-content"]},f.createElement("div",{style:{display:"flex",justifyContent:"center",gap:12,marginBottom:12}},f.createElement("div",{className:Gt["match-proposal-phase"]},f.createElement("b",null,f.createElement("span",{style:{color:"#fff"}},h==="scheduled"?"Phase 1:":h==="challenge"?"Phase 2:":""),f.createElement("span",{className:Gt["match-proposal-label-red"],style:{marginLeft:4}},h==="scheduled"?"Scheduled Match Phase":h==="challenge"?"Challenge Phase":""))),f.createElement("div",{className:Gt["match-proposal-division"]},f.createElement("b",null,f.createElement("span",{style:{color:"#fff"}},"Division:"))," ",f.createElement("span",{className:Gt["match-proposal-label-red"]},u))),f.createElement("div",{className:Gt["match-proposal-row"],style:{marginBottom:10}},f.createElement("b",null,"To Opponent:"),f.createElement("div",{className:Gt.opponentName,style:{fontWeight:"bold",fontSize:"1.25rem",margin:"2px 0"}},t.firstName?`${t.firstName} ${t.lastName}`:t.name),f.createElement("span",{style:{color:"#fff",fontSize:"1rem"}},"Day: "),f.createElement("span",{className:Gt["match-proposal-day-value"],style:{color:"#e53e3e",fontWeight:600}},re)),f.createElement("div",{className:Gt["match-proposal-row"],style:{marginBottom:10}},f.createElement("b",null,"Date:"),f.createElement(QS,{selected:q,onChange:W=>te(W),dateFormat:"MM-dd-yyyy",className:Gt["match-proposal-date-input"],required:!0})),f.createElement("div",{className:Gt["match-proposal-row"],style:{marginBottom:10}},f.createElement("b",null,"Time Block:"),f.createElement("select",{className:Gt["match-proposal-select"],value:m,onChange:W=>p(W.target.value)},f.createElement("option",{value:""},"Select time block"),ge.map((W,R)=>f.createElement("option",{key:R,value:W},W)))),f.createElement("div",{className:Gt["match-proposal-row"],style:{marginBottom:10}},f.createElement("b",null,"Start Time:"),f.createElement("select",{className:Gt["match-proposal-select"],value:v,onChange:W=>b(W.target.value)},f.createElement("option",{value:""},"Select..."),ee.map((W,R)=>f.createElement("option",{key:R,value:W},W)))),f.createElement("div",{className:Gt["match-proposal-row"],style:{marginBottom:10}},f.createElement("b",null,"Game Type:"),f.createElement("select",{className:Gt["match-proposal-select"],value:M,onChange:W=>k(W.target.value)},f.createElement("option",{value:"8 Ball"},"8 Ball"),f.createElement("option",{value:"9 Ball"},"9 Ball"),f.createElement("option",{value:"10 Ball"},"10 Ball"),f.createElement("option",{value:"Mixed"},"Mixed"))),f.createElement("div",{className:Gt["match-proposal-row"],style:{marginBottom:10}},f.createElement("b",null,"Race Length:"),f.createElement("select",{className:Gt["match-proposal-select"],value:L,onChange:W=>U(Number(W.target.value))},h==="scheduled"||h==="challenge"?f.createElement("option",{value:5},"5"):[...Array(13)].map((W,R)=>{const B=R+3;return f.createElement("option",{key:B,value:B},B)}))),f.createElement("div",{className:Gt["match-proposal-row"],style:{marginBottom:10}},f.createElement("b",null,"Location:"),f.createElement("select",{className:Gt["match-proposal-location-select"],value:S,onChange:W=>C(W.target.value)},f.createElement("option",{value:""},"Select..."),F.map((W,R)=>f.createElement("option",{key:R,value:W},W)))),f.createElement("div",{className:Gt["match-proposal-row"],style:{marginBottom:10}},f.createElement("b",null,"Message to Opponent:"),f.createElement("textarea",{className:Gt["match-proposal-textarea"],value:ng+_,onChange:W=>{const R=W.target.value;R.startsWith(ng)?E(R.slice(ng.length)):E("")},placeholder:"Add a comment to your opponent...",rows:5})),f.createElement("button",{className:Gt["match-proposal-send-btn"],onClick:H,disabled:!v||!S},"Send Proposal"))),I&&f.createElement(tS,{open:I,onClose:V,message:`Your match proposal has been sent to ${t.firstName?`${t.firstName} ${t.lastName}`:t.name}.
          They will receive an email notification and can respond through the app.`,phase:h,gameType:M,raceLength:L,day:re,date:Dd(q),time:v,location:S,proposalNote:_}))}function rE(t,a){return function(){return t.apply(a,arguments)}}const{toString:b4}=Object.prototype,{getPrototypeOf:$y}=Object,{iterator:ph,toStringTag:sE}=Symbol,gh=(t=>a=>{const e=b4.call(a);return t[e]||(t[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),hr=t=>(t=t.toLowerCase(),a=>gh(a)===t),yh=t=>a=>typeof a===t,{isArray:hl}=Array,Zc=yh("undefined");function w4(t){return t!==null&&!Zc(t)&&t.constructor!==null&&!Zc(t.constructor)&&fa(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const iE=hr("ArrayBuffer");function C4(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&iE(t.buffer),a}const S4=yh("string"),fa=yh("function"),oE=yh("number"),vh=t=>t!==null&&typeof t=="object",_4=t=>t===!0||t===!1,$d=t=>{if(gh(t)!=="object")return!1;const a=$y(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(sE in t)&&!(ph in t)},E4=hr("Date"),x4=hr("File"),I4=hr("Blob"),D4=hr("FileList"),M4=t=>vh(t)&&fa(t.pipe),A4=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||fa(t.append)&&((a=gh(t))==="formdata"||a==="object"&&fa(t.toString)&&t.toString()==="[object FormData]"))},T4=hr("URLSearchParams"),[N4,R4,k4,L4]=["ReadableStream","Request","Response","Headers"].map(hr),P4=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function iu(t,a,{allOwnKeys:e=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),hl(t))for(n=0,s=t.length;n<s;n++)a.call(null,t[n],n,t);else{const o=e?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(n=0;n<l;n++)u=o[n],a.call(null,t[u],u,t)}}function lE(t,a){a=a.toLowerCase();const e=Object.keys(t);let n=e.length,s;for(;n-- >0;)if(s=e[n],a===s.toLowerCase())return s;return null}const Wi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cE=t=>!Zc(t)&&t!==Wi;function Wg(){const{caseless:t}=cE(this)&&this||{},a={},e=(n,s)=>{const o=t&&lE(a,s)||s;$d(a[o])&&$d(n)?a[o]=Wg(a[o],n):$d(n)?a[o]=Wg({},n):hl(n)?a[o]=n.slice():a[o]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&iu(arguments[n],e);return a}const O4=(t,a,e,{allOwnKeys:n}={})=>(iu(a,(s,o)=>{e&&fa(s)?t[o]=rE(s,e):t[o]=s},{allOwnKeys:n}),t),B4=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),U4=(t,a,e,n)=>{t.prototype=Object.create(a.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:a.prototype}),e&&Object.assign(t.prototype,e)},z4=(t,a,e,n)=>{let s,o,l;const u={};if(a=a||{},t==null)return a;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)l=s[o],(!n||n(l,t,a))&&!u[l]&&(a[l]=t[l],u[l]=!0);t=e!==!1&&$y(t)}while(t&&(!e||e(t,a))&&t!==Object.prototype);return a},H4=(t,a,e)=>{t=String(t),(e===void 0||e>t.length)&&(e=t.length),e-=a.length;const n=t.indexOf(a,e);return n!==-1&&n===e},Y4=t=>{if(!t)return null;if(hl(t))return t;let a=t.length;if(!oE(a))return null;const e=new Array(a);for(;a-- >0;)e[a]=t[a];return e},F4=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&$y(Uint8Array)),j4=(t,a)=>{const n=(t&&t[ph]).call(t);let s;for(;(s=n.next())&&!s.done;){const o=s.value;a.call(t,o[0],o[1])}},W4=(t,a)=>{let e;const n=[];for(;(e=t.exec(a))!==null;)n.push(e);return n},G4=hr("HTMLFormElement"),Z4=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,s){return n.toUpperCase()+s}),oC=(({hasOwnProperty:t})=>(a,e)=>t.call(a,e))(Object.prototype),$4=hr("RegExp"),uE=(t,a)=>{const e=Object.getOwnPropertyDescriptors(t),n={};iu(e,(s,o)=>{let l;(l=a(s,o,t))!==!1&&(n[o]=l||s)}),Object.defineProperties(t,n)},q4=t=>{uE(t,(a,e)=>{if(fa(t)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const n=t[e];if(fa(n)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},Q4=(t,a)=>{const e={},n=s=>{s.forEach(o=>{e[o]=!0})};return hl(t)?n(t):n(String(t).split(a)),e},V4=()=>{},X4=(t,a)=>t!=null&&Number.isFinite(t=+t)?t:a;function K4(t){return!!(t&&fa(t.append)&&t[sE]==="FormData"&&t[ph])}const J4=t=>{const a=new Array(10),e=(n,s)=>{if(vh(n)){if(a.indexOf(n)>=0)return;if(!("toJSON"in n)){a[s]=n;const o=hl(n)?[]:{};return iu(n,(l,u)=>{const h=e(l,s+1);!Zc(h)&&(o[u]=h)}),a[s]=void 0,o}}return n};return e(t,0)},e5=hr("AsyncFunction"),t5=t=>t&&(vh(t)||fa(t))&&fa(t.then)&&fa(t.catch),dE=((t,a)=>t?setImmediate:a?((e,n)=>(Wi.addEventListener("message",({source:s,data:o})=>{s===Wi&&o===e&&n.length&&n.shift()()},!1),s=>{n.push(s),Wi.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",fa(Wi.postMessage)),n5=typeof queueMicrotask<"u"?queueMicrotask.bind(Wi):typeof process<"u"&&process.nextTick||dE,a5=t=>t!=null&&fa(t[ph]),ie={isArray:hl,isArrayBuffer:iE,isBuffer:w4,isFormData:A4,isArrayBufferView:C4,isString:S4,isNumber:oE,isBoolean:_4,isObject:vh,isPlainObject:$d,isReadableStream:N4,isRequest:R4,isResponse:k4,isHeaders:L4,isUndefined:Zc,isDate:E4,isFile:x4,isBlob:I4,isRegExp:$4,isFunction:fa,isStream:M4,isURLSearchParams:T4,isTypedArray:F4,isFileList:D4,forEach:iu,merge:Wg,extend:O4,trim:P4,stripBOM:B4,inherits:U4,toFlatObject:z4,kindOf:gh,kindOfTest:hr,endsWith:H4,toArray:Y4,forEachEntry:j4,matchAll:W4,isHTMLForm:G4,hasOwnProperty:oC,hasOwnProp:oC,reduceDescriptors:uE,freezeMethods:q4,toObjectSet:Q4,toCamelCase:Z4,noop:V4,toFiniteNumber:X4,findKey:lE,global:Wi,isContextDefined:cE,isSpecCompliantForm:K4,toJSONObject:J4,isAsyncFn:e5,isThenable:t5,setImmediate:dE,asap:n5,isIterable:a5};function at(t,a,e,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",a&&(this.code=a),e&&(this.config=e),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}ie.inherits(at,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const fE=at.prototype,hE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{hE[t]={value:t}});Object.defineProperties(at,hE);Object.defineProperty(fE,"isAxiosError",{value:!0});at.from=(t,a,e,n,s,o)=>{const l=Object.create(fE);return ie.toFlatObject(t,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),at.call(l,t.message,a,e,n,s),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const r5=null;function Gg(t){return ie.isPlainObject(t)||ie.isArray(t)}function mE(t){return ie.endsWith(t,"[]")?t.slice(0,-2):t}function lC(t,a,e){return t?t.concat(a).map(function(s,o){return s=mE(s),!e&&o?"["+s+"]":s}).join(e?".":""):a}function s5(t){return ie.isArray(t)&&!t.some(Gg)}const i5=ie.toFlatObject(ie,{},null,function(a){return/^is[A-Z]/.test(a)});function bh(t,a,e){if(!ie.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,e=ie.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,E){return!ie.isUndefined(E[_])});const n=e.metaTokens,s=e.visitor||p,o=e.dots,l=e.indexes,h=(e.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(a);if(!ie.isFunction(s))throw new TypeError("visitor must be a function");function m(C){if(C===null)return"";if(ie.isDate(C))return C.toISOString();if(!h&&ie.isBlob(C))throw new at("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(C)||ie.isTypedArray(C)?h&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function p(C,_,E){let I=C;if(C&&!E&&typeof C=="object"){if(ie.endsWith(_,"{}"))_=n?_:_.slice(0,-2),C=JSON.stringify(C);else if(ie.isArray(C)&&s5(C)||(ie.isFileList(C)||ie.endsWith(_,"[]"))&&(I=ie.toArray(C)))return _=mE(_),I.forEach(function(M,k){!(ie.isUndefined(M)||M===null)&&a.append(l===!0?lC([_],k,o):l===null?_:_+"[]",m(M))}),!1}return Gg(C)?!0:(a.append(lC(E,_,o),m(C)),!1)}const v=[],b=Object.assign(i5,{defaultVisitor:p,convertValue:m,isVisitable:Gg});function S(C,_){if(!ie.isUndefined(C)){if(v.indexOf(C)!==-1)throw Error("Circular reference detected in "+_.join("."));v.push(C),ie.forEach(C,function(I,A){(!(ie.isUndefined(I)||I===null)&&s.call(a,I,ie.isString(A)?A.trim():A,_,b))===!0&&S(I,_?_.concat(A):[A])}),v.pop()}}if(!ie.isObject(t))throw new TypeError("data must be an object");return S(t),a}function cC(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return a[n]})}function qy(t,a){this._pairs=[],t&&bh(t,this,a)}const pE=qy.prototype;pE.append=function(a,e){this._pairs.push([a,e])};pE.toString=function(a){const e=a?function(n){return a.call(this,n,cC)}:cC;return this._pairs.map(function(s){return e(s[0])+"="+e(s[1])},"").join("&")};function o5(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gE(t,a,e){if(!a)return t;const n=e&&e.encode||o5;ie.isFunction(e)&&(e={serialize:e});const s=e&&e.serialize;let o;if(s?o=s(a,e):o=ie.isURLSearchParams(a)?a.toString():new qy(a,e).toString(n),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class uC{constructor(){this.handlers=[]}use(a,e,n){return this.handlers.push({fulfilled:a,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){ie.forEach(this.handlers,function(n){n!==null&&a(n)})}}const yE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},l5=typeof URLSearchParams<"u"?URLSearchParams:qy,c5=typeof FormData<"u"?FormData:null,u5=typeof Blob<"u"?Blob:null,d5={isBrowser:!0,classes:{URLSearchParams:l5,FormData:c5,Blob:u5},protocols:["http","https","file","blob","url","data"]},Qy=typeof window<"u"&&typeof document<"u",Zg=typeof navigator=="object"&&navigator||void 0,f5=Qy&&(!Zg||["ReactNative","NativeScript","NS"].indexOf(Zg.product)<0),h5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",m5=Qy&&window.location.href||"http://localhost",p5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qy,hasStandardBrowserEnv:f5,hasStandardBrowserWebWorkerEnv:h5,navigator:Zg,origin:m5},Symbol.toStringTag,{value:"Module"})),qn={...p5,...d5};function g5(t,a){return bh(t,new qn.classes.URLSearchParams,Object.assign({visitor:function(e,n,s,o){return qn.isNode&&ie.isBuffer(e)?(this.append(n,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},a))}function y5(t){return ie.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function v5(t){const a={},e=Object.keys(t);let n;const s=e.length;let o;for(n=0;n<s;n++)o=e[n],a[o]=t[o];return a}function vE(t){function a(e,n,s,o){let l=e[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),h=o>=e.length;return l=!l&&ie.isArray(s)?s.length:l,h?(ie.hasOwnProp(s,l)?s[l]=[s[l],n]:s[l]=n,!u):((!s[l]||!ie.isObject(s[l]))&&(s[l]=[]),a(e,n,s[l],o)&&ie.isArray(s[l])&&(s[l]=v5(s[l])),!u)}if(ie.isFormData(t)&&ie.isFunction(t.entries)){const e={};return ie.forEachEntry(t,(n,s)=>{a(y5(n),s,e,0)}),e}return null}function b5(t,a,e){if(ie.isString(t))try{return(a||JSON.parse)(t),ie.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(t)}const ou={transitional:yE,adapter:["xhr","http","fetch"],transformRequest:[function(a,e){const n=e.getContentType()||"",s=n.indexOf("application/json")>-1,o=ie.isObject(a);if(o&&ie.isHTMLForm(a)&&(a=new FormData(a)),ie.isFormData(a))return s?JSON.stringify(vE(a)):a;if(ie.isArrayBuffer(a)||ie.isBuffer(a)||ie.isStream(a)||ie.isFile(a)||ie.isBlob(a)||ie.isReadableStream(a))return a;if(ie.isArrayBufferView(a))return a.buffer;if(ie.isURLSearchParams(a))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return g5(a,this.formSerializer).toString();if((u=ie.isFileList(a))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return bh(u?{"files[]":a}:a,h&&new h,this.formSerializer)}}return o||s?(e.setContentType("application/json",!1),b5(a)):a}],transformResponse:[function(a){const e=this.transitional||ou.transitional,n=e&&e.forcedJSONParsing,s=this.responseType==="json";if(ie.isResponse(a)||ie.isReadableStream(a))return a;if(a&&ie.isString(a)&&(n&&!this.responseType||s)){const l=!(e&&e.silentJSONParsing)&&s;try{return JSON.parse(a)}catch(u){if(l)throw u.name==="SyntaxError"?at.from(u,at.ERR_BAD_RESPONSE,this,null,this.response):u}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],t=>{ou.headers[t]={}});const w5=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),C5=t=>{const a={};let e,n,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),e=l.substring(0,s).trim().toLowerCase(),n=l.substring(s+1).trim(),!(!e||a[e]&&w5[e])&&(e==="set-cookie"?a[e]?a[e].push(n):a[e]=[n]:a[e]=a[e]?a[e]+", "+n:n)}),a},dC=Symbol("internals");function wc(t){return t&&String(t).trim().toLowerCase()}function qd(t){return t===!1||t==null?t:ie.isArray(t)?t.map(qd):String(t)}function S5(t){const a=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=e.exec(t);)a[n[1]]=n[2];return a}const _5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ag(t,a,e,n,s){if(ie.isFunction(n))return n.call(this,a,e);if(s&&(a=e),!!ie.isString(a)){if(ie.isString(n))return a.indexOf(n)!==-1;if(ie.isRegExp(n))return n.test(a)}}function E5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,e,n)=>e.toUpperCase()+n)}function x5(t,a){const e=ie.toCamelCase(" "+a);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+e,{value:function(s,o,l){return this[n].call(this,a,s,o,l)},configurable:!0})})}let ha=class{constructor(a){a&&this.set(a)}set(a,e,n){const s=this;function o(u,h,m){const p=wc(h);if(!p)throw new Error("header name must be a non-empty string");const v=ie.findKey(s,p);(!v||s[v]===void 0||m===!0||m===void 0&&s[v]!==!1)&&(s[v||h]=qd(u))}const l=(u,h)=>ie.forEach(u,(m,p)=>o(m,p,h));if(ie.isPlainObject(a)||a instanceof this.constructor)l(a,e);else if(ie.isString(a)&&(a=a.trim())&&!_5(a))l(C5(a),e);else if(ie.isObject(a)&&ie.isIterable(a)){let u={},h,m;for(const p of a){if(!ie.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[m=p[0]]=(h=u[m])?ie.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}l(u,e)}else a!=null&&o(e,a,n);return this}get(a,e){if(a=wc(a),a){const n=ie.findKey(this,a);if(n){const s=this[n];if(!e)return s;if(e===!0)return S5(s);if(ie.isFunction(e))return e.call(this,s,n);if(ie.isRegExp(e))return e.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,e){if(a=wc(a),a){const n=ie.findKey(this,a);return!!(n&&this[n]!==void 0&&(!e||ag(this,this[n],n,e)))}return!1}delete(a,e){const n=this;let s=!1;function o(l){if(l=wc(l),l){const u=ie.findKey(n,l);u&&(!e||ag(n,n[u],u,e))&&(delete n[u],s=!0)}}return ie.isArray(a)?a.forEach(o):o(a),s}clear(a){const e=Object.keys(this);let n=e.length,s=!1;for(;n--;){const o=e[n];(!a||ag(this,this[o],o,a,!0))&&(delete this[o],s=!0)}return s}normalize(a){const e=this,n={};return ie.forEach(this,(s,o)=>{const l=ie.findKey(n,o);if(l){e[l]=qd(s),delete e[o];return}const u=a?E5(o):String(o).trim();u!==o&&delete e[o],e[u]=qd(s),n[u]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const e=Object.create(null);return ie.forEach(this,(n,s)=>{n!=null&&n!==!1&&(e[s]=a&&ie.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,e])=>a+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...e){const n=new this(a);return e.forEach(s=>n.set(s)),n}static accessor(a){const n=(this[dC]=this[dC]={accessors:{}}).accessors,s=this.prototype;function o(l){const u=wc(l);n[u]||(x5(s,l),n[u]=!0)}return ie.isArray(a)?a.forEach(o):o(a),this}};ha.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(ha.prototype,({value:t},a)=>{let e=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(n){this[e]=n}}});ie.freezeMethods(ha);function rg(t,a){const e=this||ou,n=a||e,s=ha.from(n.headers);let o=n.data;return ie.forEach(t,function(u){o=u.call(e,o,s.normalize(),a?a.status:void 0)}),s.normalize(),o}function bE(t){return!!(t&&t.__CANCEL__)}function ml(t,a,e){at.call(this,t??"canceled",at.ERR_CANCELED,a,e),this.name="CanceledError"}ie.inherits(ml,at,{__CANCEL__:!0});function wE(t,a,e){const n=e.config.validateStatus;!e.status||!n||n(e.status)?t(e):a(new at("Request failed with status code "+e.status,[at.ERR_BAD_REQUEST,at.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function I5(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function D5(t,a){t=t||10;const e=new Array(t),n=new Array(t);let s=0,o=0,l;return a=a!==void 0?a:1e3,function(h){const m=Date.now(),p=n[o];l||(l=m),e[s]=h,n[s]=m;let v=o,b=0;for(;v!==s;)b+=e[v++],v=v%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),m-l<a)return;const S=p&&m-p;return S?Math.round(b*1e3/S):void 0}}function M5(t,a){let e=0,n=1e3/a,s,o;const l=(m,p=Date.now())=>{e=p,s=null,o&&(clearTimeout(o),o=null),t.apply(null,m)};return[(...m)=>{const p=Date.now(),v=p-e;v>=n?l(m,p):(s=m,o||(o=setTimeout(()=>{o=null,l(s)},n-v)))},()=>s&&l(s)]}const Wf=(t,a,e=3)=>{let n=0;const s=D5(50,250);return M5(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,h=l-n,m=s(h),p=l<=u;n=l;const v={loaded:l,total:u,progress:u?l/u:void 0,bytes:h,rate:m||void 0,estimated:m&&u&&p?(u-l)/m:void 0,event:o,lengthComputable:u!=null,[a?"download":"upload"]:!0};t(v)},e)},fC=(t,a)=>{const e=t!=null;return[n=>a[0]({lengthComputable:e,total:t,loaded:n}),a[1]]},hC=t=>(...a)=>ie.asap(()=>t(...a)),A5=qn.hasStandardBrowserEnv?((t,a)=>e=>(e=new URL(e,qn.origin),t.protocol===e.protocol&&t.host===e.host&&(a||t.port===e.port)))(new URL(qn.origin),qn.navigator&&/(msie|trident)/i.test(qn.navigator.userAgent)):()=>!0,T5=qn.hasStandardBrowserEnv?{write(t,a,e,n,s,o){const l=[t+"="+encodeURIComponent(a)];ie.isNumber(e)&&l.push("expires="+new Date(e).toGMTString()),ie.isString(n)&&l.push("path="+n),ie.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const a=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function N5(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function R5(t,a){return a?t.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):t}function CE(t,a,e){let n=!N5(a);return t&&(n||e==!1)?R5(t,a):a}const mC=t=>t instanceof ha?{...t}:t;function Ji(t,a){a=a||{};const e={};function n(m,p,v,b){return ie.isPlainObject(m)&&ie.isPlainObject(p)?ie.merge.call({caseless:b},m,p):ie.isPlainObject(p)?ie.merge({},p):ie.isArray(p)?p.slice():p}function s(m,p,v,b){if(ie.isUndefined(p)){if(!ie.isUndefined(m))return n(void 0,m,v,b)}else return n(m,p,v,b)}function o(m,p){if(!ie.isUndefined(p))return n(void 0,p)}function l(m,p){if(ie.isUndefined(p)){if(!ie.isUndefined(m))return n(void 0,m)}else return n(void 0,p)}function u(m,p,v){if(v in a)return n(m,p);if(v in t)return n(void 0,m)}const h={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(m,p,v)=>s(mC(m),mC(p),v,!0)};return ie.forEach(Object.keys(Object.assign({},t,a)),function(p){const v=h[p]||s,b=v(t[p],a[p],p);ie.isUndefined(b)&&v!==u||(e[p]=b)}),e}const SE=t=>{const a=Ji({},t);let{data:e,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:u}=a;a.headers=l=ha.from(l),a.url=gE(CE(a.baseURL,a.url,a.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(ie.isFormData(e)){if(qn.hasStandardBrowserEnv||qn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[m,...p]=h?h.split(";").map(v=>v.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...p].join("; "))}}if(qn.hasStandardBrowserEnv&&(n&&ie.isFunction(n)&&(n=n(a)),n||n!==!1&&A5(a.url))){const m=s&&o&&T5.read(o);m&&l.set(s,m)}return a},k5=typeof XMLHttpRequest<"u",L5=k5&&function(t){return new Promise(function(e,n){const s=SE(t);let o=s.data;const l=ha.from(s.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:m}=s,p,v,b,S,C;function _(){S&&S(),C&&C(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let E=new XMLHttpRequest;E.open(s.method.toUpperCase(),s.url,!0),E.timeout=s.timeout;function I(){if(!E)return;const M=ha.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),L={data:!u||u==="text"||u==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:M,config:t,request:E};wE(function(F){e(F),_()},function(F){n(F),_()},L),E=null}"onloadend"in E?E.onloadend=I:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(I)},E.onabort=function(){E&&(n(new at("Request aborted",at.ECONNABORTED,t,E)),E=null)},E.onerror=function(){n(new at("Network Error",at.ERR_NETWORK,t,E)),E=null},E.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const L=s.transitional||yE;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new at(k,L.clarifyTimeoutError?at.ETIMEDOUT:at.ECONNABORTED,t,E)),E=null},o===void 0&&l.setContentType(null),"setRequestHeader"in E&&ie.forEach(l.toJSON(),function(k,L){E.setRequestHeader(L,k)}),ie.isUndefined(s.withCredentials)||(E.withCredentials=!!s.withCredentials),u&&u!=="json"&&(E.responseType=s.responseType),m&&([b,C]=Wf(m,!0),E.addEventListener("progress",b)),h&&E.upload&&([v,S]=Wf(h),E.upload.addEventListener("progress",v),E.upload.addEventListener("loadend",S)),(s.cancelToken||s.signal)&&(p=M=>{E&&(n(!M||M.type?new ml(null,t,E):M),E.abort(),E=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const A=I5(s.url);if(A&&qn.protocols.indexOf(A)===-1){n(new at("Unsupported protocol "+A+":",at.ERR_BAD_REQUEST,t));return}E.send(o||null)})},P5=(t,a)=>{const{length:e}=t=t?t.filter(Boolean):[];if(a||e){let n=new AbortController,s;const o=function(m){if(!s){s=!0,u();const p=m instanceof Error?m:this.reason;n.abort(p instanceof at?p:new ml(p instanceof Error?p.message:p))}};let l=a&&setTimeout(()=>{l=null,o(new at(`timeout ${a} of ms exceeded`,at.ETIMEDOUT))},a);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),t=null)};t.forEach(m=>m.addEventListener("abort",o));const{signal:h}=n;return h.unsubscribe=()=>ie.asap(u),h}},O5=function*(t,a){let e=t.byteLength;if(e<a){yield t;return}let n=0,s;for(;n<e;)s=n+a,yield t.slice(n,s),n=s},B5=async function*(t,a){for await(const e of U5(t))yield*O5(e,a)},U5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const a=t.getReader();try{for(;;){const{done:e,value:n}=await a.read();if(e)break;yield n}}finally{await a.cancel()}},pC=(t,a,e,n)=>{const s=B5(t,a);let o=0,l,u=h=>{l||(l=!0,n&&n(h))};return new ReadableStream({async pull(h){try{const{done:m,value:p}=await s.next();if(m){u(),h.close();return}let v=p.byteLength;if(e){let b=o+=v;e(b)}h.enqueue(new Uint8Array(p))}catch(m){throw u(m),m}},cancel(h){return u(h),s.return()}},{highWaterMark:2})},wh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",_E=wh&&typeof ReadableStream=="function",z5=wh&&(typeof TextEncoder=="function"?(t=>a=>t.encode(a))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),EE=(t,...a)=>{try{return!!t(...a)}catch{return!1}},H5=_E&&EE(()=>{let t=!1;const a=new Request(qn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!a}),gC=64*1024,$g=_E&&EE(()=>ie.isReadableStream(new Response("").body)),Gf={stream:$g&&(t=>t.body)};wh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(a=>{!Gf[a]&&(Gf[a]=ie.isFunction(t[a])?e=>e[a]():(e,n)=>{throw new at(`Response type '${a}' is not supported`,at.ERR_NOT_SUPPORT,n)})})})(new Response);const Y5=async t=>{if(t==null)return 0;if(ie.isBlob(t))return t.size;if(ie.isSpecCompliantForm(t))return(await new Request(qn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(t)||ie.isArrayBuffer(t))return t.byteLength;if(ie.isURLSearchParams(t)&&(t=t+""),ie.isString(t))return(await z5(t)).byteLength},F5=async(t,a)=>{const e=ie.toFiniteNumber(t.getContentLength());return e??Y5(a)},j5=wh&&(async t=>{let{url:a,method:e,data:n,signal:s,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:h,responseType:m,headers:p,withCredentials:v="same-origin",fetchOptions:b}=SE(t);m=m?(m+"").toLowerCase():"text";let S=P5([s,o&&o.toAbortSignal()],l),C;const _=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let E;try{if(h&&H5&&e!=="get"&&e!=="head"&&(E=await F5(p,n))!==0){let L=new Request(a,{method:"POST",body:n,duplex:"half"}),U;if(ie.isFormData(n)&&(U=L.headers.get("content-type"))&&p.setContentType(U),L.body){const[F,z]=fC(E,Wf(hC(h)));n=pC(L.body,gC,F,z)}}ie.isString(v)||(v=v?"include":"omit");const I="credentials"in Request.prototype;C=new Request(a,{...b,signal:S,method:e.toUpperCase(),headers:p.normalize().toJSON(),body:n,duplex:"half",credentials:I?v:void 0});let A=await fetch(C);const M=$g&&(m==="stream"||m==="response");if($g&&(u||M&&_)){const L={};["status","statusText","headers"].forEach(q=>{L[q]=A[q]});const U=ie.toFiniteNumber(A.headers.get("content-length")),[F,z]=u&&fC(U,Wf(hC(u),!0))||[];A=new Response(pC(A.body,gC,F,()=>{z&&z(),_&&_()}),L)}m=m||"text";let k=await Gf[ie.findKey(Gf,m)||"text"](A,t);return!M&&_&&_(),await new Promise((L,U)=>{wE(L,U,{data:k,headers:ha.from(A.headers),status:A.status,statusText:A.statusText,config:t,request:C})})}catch(I){throw _&&_(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new at("Network Error",at.ERR_NETWORK,t,C),{cause:I.cause||I}):at.from(I,I&&I.code,t,C)}}),qg={http:r5,xhr:L5,fetch:j5};ie.forEach(qg,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});const yC=t=>`- ${t}`,W5=t=>ie.isFunction(t)||t===null||t===!1,xE={getAdapter:t=>{t=ie.isArray(t)?t:[t];const{length:a}=t;let e,n;const s={};for(let o=0;o<a;o++){e=t[o];let l;if(n=e,!W5(e)&&(n=qg[(l=String(e)).toLowerCase()],n===void 0))throw new at(`Unknown adapter '${l}'`);if(n)break;s[l||"#"+o]=n}if(!n){const o=Object.entries(s).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=a?o.length>1?`since :
`+o.map(yC).join(`
`):" "+yC(o[0]):"as no adapter specified";throw new at("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:qg};function sg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ml(null,t)}function vC(t){return sg(t),t.headers=ha.from(t.headers),t.data=rg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),xE.getAdapter(t.adapter||ou.adapter)(t).then(function(n){return sg(t),n.data=rg.call(t,t.transformResponse,n),n.headers=ha.from(n.headers),n},function(n){return bE(n)||(sg(t),n&&n.response&&(n.response.data=rg.call(t,t.transformResponse,n.response),n.response.headers=ha.from(n.response.headers))),Promise.reject(n)})}const IE="1.9.0",Ch={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{Ch[t]=function(n){return typeof n===t||"a"+(a<1?"n ":" ")+t}});const bC={};Ch.transitional=function(a,e,n){function s(o,l){return"[Axios v"+IE+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(a===!1)throw new at(s(l," has been removed"+(e?" in "+e:"")),at.ERR_DEPRECATED);return e&&!bC[l]&&(bC[l]=!0,console.warn(s(l," has been deprecated since v"+e+" and will be removed in the near future"))),a?a(o,l,u):!0}};Ch.spelling=function(a){return(e,n)=>(console.warn(`${n} is likely a misspelling of ${a}`),!0)};function G5(t,a,e){if(typeof t!="object")throw new at("options must be an object",at.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const o=n[s],l=a[o];if(l){const u=t[o],h=u===void 0||l(u,o,t);if(h!==!0)throw new at("option "+o+" must be "+h,at.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new at("Unknown option "+o,at.ERR_BAD_OPTION)}}const Qd={assertOptions:G5,validators:Ch},Ar=Qd.validators;let Qi=class{constructor(a){this.defaults=a||{},this.interceptors={request:new uC,response:new uC}}async request(a,e){try{return await this._request(a,e)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(a,e){typeof a=="string"?(e=e||{},e.url=a):e=a||{},e=Ji(this.defaults,e);const{transitional:n,paramsSerializer:s,headers:o}=e;n!==void 0&&Qd.assertOptions(n,{silentJSONParsing:Ar.transitional(Ar.boolean),forcedJSONParsing:Ar.transitional(Ar.boolean),clarifyTimeoutError:Ar.transitional(Ar.boolean)},!1),s!=null&&(ie.isFunction(s)?e.paramsSerializer={serialize:s}:Qd.assertOptions(s,{encode:Ar.function,serialize:Ar.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Qd.assertOptions(e,{baseUrl:Ar.spelling("baseURL"),withXsrfToken:Ar.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let l=o&&ie.merge(o.common,o[e.method]);o&&ie.forEach(["delete","get","head","post","put","patch","common"],C=>{delete o[C]}),e.headers=ha.concat(l,o);const u=[];let h=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(e)===!1||(h=h&&_.synchronous,u.unshift(_.fulfilled,_.rejected))});const m=[];this.interceptors.response.forEach(function(_){m.push(_.fulfilled,_.rejected)});let p,v=0,b;if(!h){const C=[vC.bind(this),void 0];for(C.unshift.apply(C,u),C.push.apply(C,m),b=C.length,p=Promise.resolve(e);v<b;)p=p.then(C[v++],C[v++]);return p}b=u.length;let S=e;for(v=0;v<b;){const C=u[v++],_=u[v++];try{S=C(S)}catch(E){_.call(this,E);break}}try{p=vC.call(this,S)}catch(C){return Promise.reject(C)}for(v=0,b=m.length;v<b;)p=p.then(m[v++],m[v++]);return p}getUri(a){a=Ji(this.defaults,a);const e=CE(a.baseURL,a.url,a.allowAbsoluteUrls);return gE(e,a.params,a.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(a){Qi.prototype[a]=function(e,n){return this.request(Ji(n||{},{method:a,url:e,data:(n||{}).data}))}});ie.forEach(["post","put","patch"],function(a){function e(n){return function(o,l,u){return this.request(Ji(u||{},{method:a,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Qi.prototype[a]=e(),Qi.prototype[a+"Form"]=e(!0)});let Z5=class DE{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(s);return l.cancel=function(){n.unsubscribe(o)},l},a(function(o,l,u){n.reason||(n.reason=new ml(o,l,u),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const e=this._listeners.indexOf(a);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const a=new AbortController,e=n=>{a.abort(n)};return this.subscribe(e),a.signal.unsubscribe=()=>this.unsubscribe(e),a.signal}static source(){let a;return{token:new DE(function(s){a=s}),cancel:a}}};function $5(t){return function(e){return t.apply(null,e)}}function q5(t){return ie.isObject(t)&&t.isAxiosError===!0}const Qg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qg).forEach(([t,a])=>{Qg[a]=t});function ME(t){const a=new Qi(t),e=rE(Qi.prototype.request,a);return ie.extend(e,Qi.prototype,a,{allOwnKeys:!0}),ie.extend(e,a,null,{allOwnKeys:!0}),e.create=function(s){return ME(Ji(t,s))},e}const pn=ME(ou);pn.Axios=Qi;pn.CanceledError=ml;pn.CancelToken=Z5;pn.isCancel=bE;pn.VERSION=IE;pn.toFormData=bh;pn.AxiosError=at;pn.Cancel=pn.CanceledError;pn.all=function(a){return Promise.all(a)};pn.spread=$5;pn.isAxiosError=q5;pn.mergeConfig=Ji;pn.AxiosHeaders=ha;pn.formToJSON=t=>vE(ie.isHTMLForm(t)?new FormData(t):t);pn.getAdapter=xE.getAdapter;pn.HttpStatusCode=Qg;pn.default=pn;const{Axios:tH,AxiosError:nH,CanceledError:aH,isCancel:rH,CancelToken:sH,VERSION:iH,all:oH,Cancel:lH,isAxiosError:cH,spread:uH,toFormData:dH,AxiosHeaders:fH,HttpStatusCode:hH,formToJSON:mH,getAdapter:pH,mergeConfig:gH}=pn,Q5="AIzaSyCr05_9Bg1oZE7uJcGg48mWzOo4rLjxTQ8";async function Sh(t,a){const e=`https://sheets.googleapis.com/v4/spreadsheets/${t}/values/${encodeURIComponent(a)}?key=${Q5}`;return(await pn.get(e)).data.values}const V5="1tvMgMHsRwQxsR6lMNlSnztmwpK7fhZeNEyqjTqmRFRc",X5="BCAPL SIGNUP";function wC(t){if(!t)return"";t=t.trim().toLowerCase().replace(/\s+/g,"");let a=t.match(/^(\d{1,2})(:?(\d{2}))?(am|pm)$/);if(!a)return t.toUpperCase();let[,e,,n,s]=a;return n||(n="00"),`${parseInt(e,10)}:${n} ${s.toUpperCase()}`}function K5(t){const a={Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat"},e={Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[]};return t&&t.split(/\r?\n/).forEach(n=>{const s=n.match(/Day:\s*(\w+),\s*Available From:\s*([\w:]+),\s*Available Until:\s*([\w: ]+)/i);if(s){const[o,l,u,h]=s,m=a[l];if(m){const p=wC(u),v=wC(h);e[m].push(`${p} - ${v}`)}}}),e}async function J5(t){try{if(!t)return console.warn("No division selected for standings"),[];const a=t.replace(/[^A-Za-z0-9]/g,"_"),e=`${mt}/static/standings_${a}.json`,n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch standings: ${n.status}`);const s=await n.json();if(!Array.isArray(s))return console.error("Standings data is not an array:",s),[];const o=s.filter(l=>{if(!l||typeof l!="object")return console.warn("Invalid standings entry:",l),!1;if(!l.name||!l.rank)return console.warn("Standings entry missing name or rank:",l),!1;const u=parseInt(l.rank);return isNaN(u)||u<=0?(console.warn("Invalid rank in standings entry:",l),!1):!0});return console.log(`Loaded ${o.length} valid standings entries for division: ${t}`),o}catch(a){return console.error("Failed to load standings:",a),[]}}function ol(t,a){if(!a||typeof a!="string")return console.warn("getPlayerPosition: playerName is undefined or not a string:",a),null;const e=a.toLowerCase().trim(),n=t.find(s=>s.name&&s.name.toLowerCase().trim()===e);return n?parseInt(n.rank):null}function eB(t,a){return t.sort((e,n)=>{const s=e&&e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:"",o=n&&n.firstName&&n.lastName?`${n.firstName} ${n.lastName}`:"",l=ol(a,s),u=ol(a,o);return l!==null&&u!==null?l-u:l!==null&&u===null?-1:l===null&&u!==null?1:s.localeCompare(o)})}function tB(t,a,e){if(!a||a.length===0)return console.warn("No standings data available for Phase 2 filtering"),t;console.log("=== PHASE 2 FILTERING DEBUG ==="),console.log("Current player name:",e),console.log("Standings data:",a),console.log("All players from sheet:",t.map(o=>`${o.firstName} ${o.lastName}`));const n=ol(a,e);if(n===null)return console.warn(`Player ${e} not found in standings`),console.log("Available standings names:",a.map(o=>o.name)),t;console.log(`Phase 2 filtering: ${e} is at position ${n}`);const s=t.filter(o=>{if(!o||!o.firstName||!o.lastName)return console.warn("Player data incomplete, excluding from Phase 2 filtering:",o),!1;const l=`${o.firstName} ${o.lastName}`,u=ol(a,l);if(u===null)return console.warn(`Opponent ${l} not found in standings - excluding from Phase 2`),!1;const h=u-n,m=h<0&&h>=-4;return console.log(`${l} (${u}) - difference: ${h}, eligible: ${m}`),m});return console.log(`Phase 2 filtering complete: ${s.length} eligible opponents out of ${t.length} total players`),console.log("Eligible players:",s.map(o=>`${o.firstName} ${o.lastName}`)),console.log("=== END PHASE 2 DEBUG ==="),s}function Vg({onClose:t,excludeName:a,senderName:e,senderEmail:n,onProposalComplete:s,selectedDivision:o,phase:l}){const[u,h]=w.useState([]),[m,p]=w.useState(""),[v,b]=w.useState(!0),[S,C]=w.useState([]),[_,E]=w.useState("search"),[I,A]=w.useState(null),[M,k]=w.useState(null);w.useEffect(()=>{},[u]),w.useEffect(()=>{let z=!0;async function q(){try{const te=await J5(o);z&&C(te);const ge=await Sh(V5,`${X5}!A1:L1000`);if(!ge||ge.length===0){z&&h([]),b(!1);return}let le=ge.slice(1).map(re=>({firstName:re[0]||"",lastName:re[1]||"",email:re[2]||"",phone:re[3]||"",locations:re[8]||"",availability:K5(re[7]||""),pin:re[11]||"",preferredContacts:(re[10]||"").split(/\r?\n/).map(ee=>ee.trim().toLowerCase()).filter(Boolean)})).filter(re=>re.email&&re.firstName&&re.lastName&&`${re.firstName} ${re.lastName}`.toLowerCase()!==(a==null?void 0:a.toLowerCase()));l==="challenge"&&te.length>0?(console.log("🔄 Phase value:",l),console.log("🔄 Standings data length:",te.length),console.log("🔄 Sender name:",e),le=tB(le,te,e),le=eB(le,te)):(console.log("🔄   - phase === 'challenge':",l==="challenge"),console.log("🔄   - standingsData.length > 0:",te.length>0),console.log("🔄   - phase value:",l),console.log("🔄   - standingsData length:",te.length)),z&&(h(le),setTimeout(()=>{},2e3))}catch(te){console.error("Error loading data:",te),z&&h([])}finally{z&&b(!1)}}return q(),()=>{z=!1}},[a,l,e,o]);const L=m.length>=3?u.filter(z=>`${z.firstName} ${z.lastName}`.toLowerCase().includes(m.toLowerCase())&&`${z.firstName} ${z.lastName}`.toLowerCase()!==(a==null?void 0:a.toLowerCase())):[],U=ol(S,e),F=f.createElement(f.Fragment,null,_==="search"&&f.createElement(zn,{open:!0,onClose:t,title:"🔍 Player Search",maxWidth:"500px"},l==="challenge"?f.createElement(f.Fragment,null,f.createElement("div",{style:{background:"rgba(229, 62, 62, 0.1)",border:"1px solid #e53e3e",borderRadius:"6px",padding:"1rem",marginBottom:"1.5rem",color:"#fff"}},f.createElement("strong",null,"Phase 2 (Challenge):")," You can only challenge players ranked 4 spots above in the standings.",f.createElement("br",null),f.createElement("span",{style:{fontSize:"1rem",color:"#fff",marginTop:8,display:"block"}},f.createElement("b",null,"Your Position:")," #",U??"N/A"),u.length>0&&f.createElement("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",opacity:.9}},u.length," eligible opponent",u.length!==1?"s":""," available")),v?f.createElement("p",{style:{color:"#fff",textAlign:"center"}},"Loading players..."):f.createElement("div",{style:{maxHeight:"60vh",overflowY:"auto"}},u.length===0?f.createElement("p",{style:{color:"#888",textAlign:"center",fontStyle:"italic"}},"No eligible opponents found within 4 spots above you in the standings."):f.createElement("div",{style:{display:"grid",gap:"8px"}},u.map((z,q)=>{const te=`${z.firstName} ${z.lastName}`,ge=ol(S,te);return f.createElement("button",{key:q,onClick:()=>{A(z),E("availability")},style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"1rem",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:le=>{le.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",le.target.style.transform="translateY(-2px)",le.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:le=>{le.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",le.target.style.transform="translateY(0)",le.target.style.boxShadow="none"}},f.createElement("span",{style:{fontWeight:"bold",color:"#fff"}},"#",ge??"N/A"," ",te))})))):f.createElement(f.Fragment,null,m.length>=3&&L.length>0&&f.createElement("div",{style:{color:"#e53e3e",fontSize:"0.9rem",marginBottom:"1rem",textAlign:"center"}},"Click opponent's name to see availability."),f.createElement("input",{type:"text",placeholder:"Type at least 3 letters to search...",value:m,onChange:z=>p(z.target.value),autoFocus:!0,"aria-label":"Search for player",style:{width:"100%",padding:"0.75rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"6px",fontSize:"1rem",marginBottom:"1rem"}}),v?f.createElement("p",{style:{color:"#fff",textAlign:"center"}},"Loading players..."):f.createElement(f.Fragment,null,m.length<3?f.createElement("p",{style:{color:"#888",textAlign:"center",fontStyle:"italic"}},"Please enter at least 3 letters to search for a player."):f.createElement("div",{style:{maxHeight:"60vh",overflowY:"auto"}},L.length===0?f.createElement("p",{style:{color:"#888",textAlign:"center",fontStyle:"italic"}},"No players found."):f.createElement("div",{style:{display:"grid",gap:"8px"}},L.map((z,q)=>f.createElement("button",{key:q,onClick:()=>{A(z),E("availability")},style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"1rem",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:te=>{te.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",te.target.style.transform="translateY(-2px)",te.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:te=>{te.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",te.target.style.transform="translateY(0)",te.target.style.boxShadow="none"}},f.createElement(lT,{text:`${z.firstName} ${z.lastName}`,query:m})))))))),_==="availability"&&I&&f.createElement(Dy,{player:I,onClose:t,onProposeMatch:(z,q,te,ge)=>{k({player:I,day:z,slot:q,phase:te,selectedDivision:ge||o}),E("proposal")},phase:l,selectedDivision:o}),_==="proposal"&&M&&f.createElement(f.Fragment,null,f.createElement(Zy,{player:M.player,day:M.day,slot:M.slot,onClose:t,senderName:e,senderEmail:n,onProposalComplete:()=>{E("search"),k(null),A(null),s&&s(),t()},phase:M.phase,selectedDivision:M.selectedDivision||o})));return Qc.createPortal(F,document.body)}function Xg({loading:t,children:a,loadingText:e="Loading...",disabled:n=!1,...s}){return f.createElement("button",{...s,disabled:t||n,style:{...s.style,position:"relative",opacity:t?.7:1,cursor:t?"not-allowed":"pointer"}},t?f.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}},f.createElement("div",{style:{width:"16px",height:"16px",border:"2px solid rgba(255,255,255,0.3)",borderTop:"2px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e):a,f.createElement("style",null,`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `))}function nB({lines:t=3,height:a="20px",width:e="100%",gap:n="8px"}){return f.createElement("div",{style:{display:"flex",flexDirection:"column",gap:n,padding:"16px"}},Array.from({length:t}).map((s,o)=>f.createElement("div",{key:o,style:{height:a,width:o===t-1?"60%":e,background:"linear-gradient(90deg, #333 25%, #444 50%, #333 75%)",backgroundSize:"200% 100%",borderRadius:"4px",animation:"shimmer 1.5s infinite"}})),f.createElement("style",null,`
        @keyframes shimmer {
          0% { background-position: -200% 0; }
          100% { background-position: 200% 0; }
        }
      `))}function aB(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[o,l,u]=t.split("-"),h=new Date(parseInt(o),parseInt(l)-1,parseInt(u)),m=String(h.getMonth()+1).padStart(2,"0"),p=String(h.getDate()).padStart(2,"0"),v=h.getFullYear();return`${m}-${p}-${v}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const o=t.split("/");if(o.length===3){const[l,u,h]=o;a=new Date(h,l-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function rB({proposal:t,open:a,onClose:e,onEdit:n,onMessage:s}){if(w.useEffect(()=>{a&&setTimeout(()=>{window.dispatchEvent(new Event("resize"))},50)},[a]),!a||!t)return null;const{senderName:o,receiverName:l,day:u,date:h,time:m,location:p,gameType:v,raceLength:b,message:S,proposalNote:C}=t,_=window.innerWidth<=500,[E,I]=w.useState(!1),[A,M]=w.useState("");async function k(){I(!0),M("");try{if(!(await fetch(`${mt}/api/proposals/${t._id}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"confirmed"})})).ok)throw new Error("Failed to confirm proposal");e&&e()}catch(U){M(U.message||"Failed to confirm proposal")}finally{I(!1)}}const L=f.createElement(zn,{open:a,onClose:e,title:"🎱 Proposal Details",maxWidth:_?"99vw":"480px"},t.isCounter&&f.createElement("div",{style:{color:"#ff9800",fontWeight:"bold",marginBottom:8,fontSize:"1.05em",textAlign:"center"}},"This is a counter proposal from ",t.counteredBy||"your opponent"),f.createElement("div",{style:{textAlign:"left",marginBottom:_?"0.7rem":"1.5rem",fontSize:_?"0.95rem":"1.05rem",padding:_?"0.2rem 0.2rem":void 0}},f.createElement("div",{className:ve.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},f.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"You:"),f.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},o||"N/A")),f.createElement("div",{className:ve.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},f.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Opponent:"),f.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},l||"N/A")),u&&f.createElement("div",{className:ve.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},f.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Day:"),f.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},u)),f.createElement("div",{className:ve.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},f.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Date:"),f.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},aB(h))),f.createElement("div",{className:ve.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},f.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Time:"),f.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},m||"N/A")),f.createElement("div",{className:ve.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},f.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Location:"),f.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},p||"N/A")),v&&f.createElement("div",{className:ve.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},f.createElement(Kf,{gameType:v,size:_?12:16}),f.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Game:"),f.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},v)),b&&f.createElement("div",{className:ve.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},f.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Race:"),f.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},b)),C&&f.createElement("div",{style:{margin:_?"8px 0 0 0":"16px 0 0 0",padding:_?"0.4rem 0.5rem":"0.8rem 1rem",background:"rgba(255, 193, 7, 0.1)",borderLeft:"3px solid #ffc107",borderRadius:"6px",color:"#ffc107",fontSize:_?"0.9rem":"0.95rem",textAlign:"left"}},f.createElement("span",{role:"img","aria-label":"note"},"📝")," ",f.createElement("strong",null,"Note:"),f.createElement("br",null),C)),f.createElement("div",{style:{display:"flex",gap:_?6:12,justifyContent:"center",marginTop:_?10:24,flexDirection:_?"column":"row",alignItems:_?"stretch":"center"}},n&&f.createElement("button",{className:ve.dashboardBtn,onClick:n,style:{background:"#e53e3e",color:"#fff",minWidth:_?"90px":"120px",fontSize:_?"0.95em":void 0,padding:_?"0.5em 0.7em":void 0}},"Edit"),s&&f.createElement("button",{className:ve.dashboardBtn,onClick:s,style:{background:"#007bff",color:"#fff",minWidth:_?"90px":"120px",fontSize:_?"0.95em":void 0,padding:_?"0.5em 0.7em":void 0}},"Msg"),t.isCounter&&t.status==="countered"&&f.createElement(Xg,{className:ve.dashboardBtn,onClick:k,loading:E,loadingText:"Confirming...",disabled:E,style:{background:"#43a047",color:"#fff",minWidth:_?"90px":"120px",fontSize:_?"0.95em":void 0,padding:_?"0.5em 0.7em":void 0}},"Confirm"),f.createElement("button",{className:ve.dashboardBtn,onClick:e,style:{background:"#6c757d",color:"#fff",minWidth:_?"90px":"120px",fontSize:_?"0.95em":void 0,padding:_?"0.5em 0.7em":void 0}},"Close")),A&&f.createElement("div",{style:{color:"red",marginTop:8}},A));return Qc.createPortal(L,document.body)}function ig(t){const a=t.getFullYear(),e=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return`${a}-${e}-${n}`}function sB(t){const e=t.trim().replace(/\s+/g,"").toLowerCase().match(/^(\d{1,2})(:\d{2})?(am|pm)$/);if(e){const s=e[1],o=e[2]?e[2]:":00",l=e[3].toUpperCase();return`${s}${o} ${l}`}const n=t.trim().match(/^(\d{1,2})(:\d{2})?\s?(am|pm)$/i);if(n){const s=n[1],o=n[2]?n[2]:":00",l=n[3].toUpperCase();return`${s}${o} ${l}`}return t.trim()}const iB=t=>t.replace(/[–—−]/g,"-").replace(/\s*-\s*/g," - ").trim();function oB({proposal:t,open:a,onClose:e,onSave:n,selectedDivision:s,phase:o,receiverPlayer:l}){var R;const[u,h]=w.useState(new Date),[m,p]=w.useState(""),[v,b]=w.useState(""),[S,C]=w.useState(""),[_,E]=w.useState(""),[I,A]=w.useState(""),[M,k]=w.useState(""),[L,U]=w.useState(""),[F,z]=w.useState(!1);w.useEffect(()=>{if(t&&a){if(t.date){const[B,Z,K]=t.date.split("-");h(new Date(parseInt(B),parseInt(Z)-1,parseInt(K)))}p(t.time||""),C(t.location||""),E(t.message||""),A(t.gameType||""),k(t.raceLength||"")}},[t,a]);const te=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][u.getDay()],le=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][u.getDay()],re=((R=l==null?void 0:l.availability)==null?void 0:R[le])||[];console.log("EditProposalModal - Receiver player:",l),console.log("EditProposalModal - Selected day short:",le),console.log("EditProposalModal - Opponent time blocks:",re);const ee=["6:00 PM - 8:00 PM","8:00 PM - 10:00 PM","10:00 PM - 12:00 AM"],j=re.length>0?re:ee;console.log("EditProposalModal - Available time blocks:",j);const D=!l&&a,H=f.useMemo(()=>{if(!m)return console.log("EditProposalModal - No time selected:",m),[];console.log("EditProposalModal - Selected time block:",m);const B=iB(m);if(console.log("EditProposalModal - Normalized slot:",B),!B.includes(" - "))return console.log("EditProposalModal - No dash found in normalized slot"),[];let[Z,K]=B.split(" - ").map(Ie=>sB(Ie.trim()));if(console.log("EditProposalModal - Normalized times:",{blockStart:Z,blockEnd:K}),!Z||!K)return console.log("EditProposalModal - Failed to normalize times"),[];const se=Iy(Z,K,30);return console.log("EditProposalModal - Generated start times:",se),console.log("EditProposalModal - Times array length:",se.length),se},[m]);w.useEffect(()=>{b("")},[m]);const V=async()=>{if(!v||!S){U("Please fill in all required fields.");return}z(!0),U("");try{const B=await fetch(`${mt}/api/proposals/${t._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:ig(u),time:v,location:S,message:_,gameType:I,raceLength:M,phase:o,divisions:[s]})}),Z=await B.json();if(!B.ok)throw new Error(Z.error||"Failed to update proposal");n&&n({...t,date:ig(u),time:v,location:S,message:_,gameType:I,raceLength:M}),e()}catch(B){U(B.message||"Failed to update proposal")}finally{z(!1)}};if(!a||!t)return null;const W=f.createElement(zn,{open:a,onClose:e,title:"✏️ Edit Proposal",maxWidth:"400px"},f.createElement("div",{className:ve.proposalModalContent,style:{width:"100%",maxWidth:400,margin:"0 auto"}},f.createElement("div",{className:ve.proposalModalHeaderBar},f.createElement("span",{className:ve.phasePill},"Phase 1: Scheduled Match Phase"),f.createElement("span",{className:ve.divisionPill},"Division: ",s||"N/A")),f.createElement("div",{className:ve.proposalModalToRow},f.createElement("span",{className:ve.toOpponentLabel},"To Opponent:"),f.createElement("span",{className:ve.toOpponentName},t.receiverName)),f.createElement("div",{className:ve.proposalModalDayRow},f.createElement("span",{className:ve.dayLabel},"Day:"),f.createElement("span",{className:ve.dayValue},te)),f.createElement("div",{className:ve.formGroup,style:{display:"flex",flexDirection:"column",alignItems:"center"}},f.createElement("label",{htmlFor:"proposal-date",style:{marginBottom:4,textAlign:"center"}},"Date"),f.createElement("input",{id:"proposal-date",type:"date",value:ig(u),onChange:B=>{const[Z,K,se]=B.target.value.split("-");h(new Date(parseInt(Z),parseInt(K)-1,parseInt(se)))},className:ve.input,required:!0,style:{textAlign:"center"}})),f.createElement("div",{className:ve.proposalModalFieldRow},f.createElement("span",{className:ve.fieldLabel},"Time Block:"),D&&f.createElement("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginBottom:"0.5rem"}},"⚠️ Opponent availability data not available. Using default time blocks."),l&&re.length===0&&f.createElement("div",{style:{color:"#ffa500",fontSize:"0.9rem",marginBottom:"0.5rem"}},"ℹ️ No availability for ",te,". Using default time blocks."),f.createElement("select",{value:m,onChange:B=>p(B.target.value),className:ve.inputField},f.createElement("option",{value:""},"Select time block"),j.map(B=>f.createElement("option",{key:B,value:B},B)))),f.createElement("div",{className:ve.proposalModalFieldRow},f.createElement("span",{className:ve.fieldLabel},"Start Time:"),f.createElement("select",{value:v,onChange:B=>b(B.target.value),className:ve.inputField},f.createElement("option",{value:""},"Select start time"),H.map(B=>f.createElement("option",{key:B,value:B},B)))),f.createElement("div",{className:ve.proposalModalFieldRow},f.createElement("span",{className:ve.fieldLabel},"Game Type:"),f.createElement("select",{value:I,onChange:B=>A(B.target.value),className:ve.inputField},f.createElement("option",{value:""},"Select game type"),f.createElement("option",{value:"8 Ball"},"8 Ball"),f.createElement("option",{value:"9 Ball"},"9 Ball"),f.createElement("option",{value:"10 Ball"},"10 Ball"),f.createElement("option",{value:"Mixed"},"Mixed"))),f.createElement("div",{className:ve.proposalModalFieldRow},f.createElement("span",{className:ve.fieldLabel},"Race Length:"),f.createElement("select",{value:M,onChange:B=>k(B.target.value),className:ve.inputField},f.createElement("option",{value:""},"Select race length"),f.createElement("option",{value:"3"},"3"),f.createElement("option",{value:"5"},"5"),f.createElement("option",{value:"7"},"7"),f.createElement("option",{value:"9"},"9"))),f.createElement("div",{className:ve.proposalModalFieldRow},f.createElement("span",{className:ve.fieldLabel},"Location:"),f.createElement("input",{type:"text",value:S,onChange:B=>C(B.target.value),placeholder:"Enter location",className:ve.inputField})),f.createElement("div",{className:ve.proposalModalFieldRow},f.createElement("span",{className:ve.fieldLabel},"Message to Opponent:"),f.createElement("textarea",{value:_,onChange:B=>E(B.target.value),placeholder:"Message to opponent",rows:3,className:ve.inputField})),L&&f.createElement("div",{className:ve.errorBox},L),f.createElement("div",{className:ve.proposalModalButtonRow},f.createElement("button",{className:ve.dashboardBtn,onClick:V,disabled:F,style:{width:"48%"}},F?"Saving...":"Save Changes"),f.createElement("button",{className:ve.dashboardBtn,onClick:e,disabled:F,style:{width:"48%"}},"Cancel"))));return Qc.createPortal(W,document.body)}const lB="_container_qqpwh_3",cB="_header_qqpwh_23",uB="_headerButtons_qqpwh_57",dB="_newChatButton_qqpwh_69",fB="_closeButton_qqpwh_101",hB="_content_qqpwh_133",mB="_conversationsList_qqpwh_147",pB="_loading_qqpwh_181",gB="_emptyState_qqpwh_193",yB="_startChatButton_qqpwh_215",vB="_conversationItems_qqpwh_245",bB="_conversationItem_qqpwh_245",wB="_active_qqpwh_283",CB="_conversationInfo_qqpwh_293",SB="_conversationName_qqpwh_303",_B="_lastMessage_qqpwh_321",EB="_conversationMeta_qqpwh_345",xB="_timestamp_qqpwh_361",IB="_unreadBadge_qqpwh_379",DB="_messagesArea_qqpwh_407",MB="_messagesHeader_qqpwh_421",AB="_messagesList_qqpwh_447",TB="_messageItem_qqpwh_465",NB="_myMessage_qqpwh_475",RB="_theirMessage_qqpwh_483",kB="_messageBubble_qqpwh_491",LB="_messageContent_qqpwh_527",PB="_messageTime_qqpwh_539",OB="_readStatus_qqpwh_563",BB="_noConversation_qqpwh_571",UB="_messageInput_qqpwh_591",zB="_sendButton_qqpwh_647",HB="_playerList_qqpwh_769",YB="_playerItem_qqpwh_781",FB="_selected_qqpwh_807",jB="_playerName_qqpwh_817",WB="_modalActions_qqpwh_847",GB="_cancelButton_qqpwh_861",ZB="_startButton_qqpwh_893",$B="_error_qqpwh_939",ot={container:lB,header:cB,headerButtons:uB,newChatButton:dB,closeButton:fB,content:hB,conversationsList:mB,loading:pB,emptyState:gB,startChatButton:yB,conversationItems:vB,conversationItem:bB,active:wB,conversationInfo:CB,conversationName:SB,lastMessage:_B,conversationMeta:EB,timestamp:xB,unreadBadge:IB,messagesArea:DB,messagesHeader:MB,messagesList:AB,messageItem:TB,myMessage:NB,theirMessage:RB,messageBubble:kB,messageContent:LB,messageTime:PB,readStatus:OB,noConversation:BB,messageInput:UB,sendButton:zB,playerList:HB,playerItem:YB,selected:FB,playerName:jB,modalActions:WB,cancelButton:GB,startButton:ZB,error:$B};console.log("DirectMessagingModal BACKEND_URL in use:",mt);function qB({userName:t,userEmail:a,userPin:e,selectedDivision:n,opponentEmails:s=[],onClose:o}){console.log("Opponent Emails:",s);const[l,u]=w.useState([]),[h,m]=w.useState(null),[p,v]=w.useState([]),[b,S]=w.useState(""),[C,_]=w.useState(!1),[E,I]=w.useState(!1),[A,M]=w.useState(""),[k,L]=w.useState([]),[U,F]=w.useState(!1),[z,q]=w.useState(null),te=w.useRef(null);w.useEffect(()=>{async function D(){try{const V=await(await fetch(`${mt}/api/users`)).json();Array.isArray(V)&&L(V.filter(W=>W.email!==a))}catch(H){console.error("Failed to load players:",H)}}D()},[a]),w.useEffect(()=>{async function D(){_(!0);try{const V=await(await fetch(`${mt}/api/messages/conversations?user=${encodeURIComponent(a)}`)).json();console.log("Conversations fetch data:",V),Array.isArray(V)&&u(V)}catch(H){console.error("Failed to load conversations:",H),M("Failed to load conversations")}finally{_(!1)}}D()},[a]),w.useEffect(()=>{if(!h){v([]);return}async function D(){try{const V=await(await fetch(`${mt}/api/messages?user1=${encodeURIComponent(a)}&user2=${encodeURIComponent(h.email)}`)).json();Array.isArray(V)&&(v(V),V.forEach(W=>{W.receiverEmail===a&&!W.read&&fetch(`${mt}/api/messages/${W._id}/read`,{method:"PUT"})}))}catch(H){console.error("Failed to load messages:",H),M("Failed to load messages")}}D()},[h,a]),w.useEffect(()=>{te.current&&te.current.scrollIntoView({behavior:"smooth"})},[p]);const ge=async()=>{if(!b.trim()||!h)return;I(!0),M("");let D=h.email;if(!D){const H=k.find(V=>V.name===h.name&&V.email);H&&(D=H.email)}if(console.log("Sending message to:",D),!D){M("No email found for selected opponent."),I(!1);return}try{const H=await fetch(`${mt}/api/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({senderEmail:a,receiverEmail:D,content:b})});if(console.log("Send response:",H),!H.ok)throw new Error("Failed to send message");S("");const W=await(await fetch(`${mt}/api/messages?user1=${encodeURIComponent(a)}&user2=${encodeURIComponent(D)}`)).json();Array.isArray(W)&&v(W)}catch(H){M(H.message||"Failed to send message")}finally{I(!1)}},le=async()=>{z&&(m(z),F(!1),q(null))},re=D=>D.unreadCount||0,ee=D=>{const H=new Date(D),W=(new Date-H)/(1e3*60*60);return W<24?H.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):W<48?"Yesterday":H.toLocaleDateString()},j=k.filter(D=>s.length>0?s.includes(D.name):n?Array.isArray(D.divisions)?D.divisions.includes(n):typeof D.divisions=="string"?D.divisions.split(",").map(H=>H.trim()).includes(n):!1:!0).sort((D,H)=>{const V=`${D.name||""}`.trim().toLowerCase(),W=`${H.name||""}`.trim().toLowerCase();return V.localeCompare(W)});return f.createElement("div",{className:ot.container},f.createElement("div",{className:ot.header},f.createElement("h2",null,"Direct Messages"),f.createElement("div",{className:ot.headerButtons},f.createElement("button",{className:ot.newChatButton,onClick:()=>F(!0),type:"button"},"💬 New Chat"),f.createElement("button",{className:ot.closeButton,onClick:o,type:"button"},"×"))),f.createElement("div",{className:ot.content},f.createElement("div",{className:ot.conversationsList},f.createElement("h3",null,"Conversations"),C?f.createElement("div",{className:ot.loading},"Loading conversations..."):l.length===0?f.createElement("div",{className:ot.emptyState},f.createElement("p",null,"No conversations yet"),f.createElement("button",{className:ot.startChatButton,onClick:()=>F(!0),type:"button"},"Start a conversation")):f.createElement("div",{className:ot.conversationItems},l.map(D=>f.createElement("div",{key:D.email,className:`${ot.conversationItem} ${(h==null?void 0:h.email)===D.email?ot.active:""}`,onClick:()=>m(D)},f.createElement("div",{className:ot.conversationInfo},f.createElement("div",{className:ot.conversationName},D.name||D.email),f.createElement("div",{className:ot.lastMessage},D.lastMessage||"No messages yet")),f.createElement("div",{className:ot.conversationMeta},f.createElement("div",{className:ot.timestamp},D.lastMessageTime?ee(D.lastMessageTime):""),re(D)>0&&f.createElement("div",{className:ot.unreadBadge},re(D))))))),f.createElement("div",{className:ot.messagesArea},h?f.createElement(f.Fragment,null,f.createElement("div",{className:ot.messagesHeader},f.createElement("h3",null,"Chat with ",h.name||h.email)),f.createElement("div",{className:ot.messagesList},p.map(D=>f.createElement("div",{key:D._id,className:`${ot.messageItem} ${D.senderEmail===a?ot.myMessage:ot.theirMessage}`},f.createElement("div",{className:ot.messageBubble},f.createElement("div",{className:ot.messageContent},D.content),f.createElement("div",{className:ot.messageTime},ee(D.timestamp),D.senderEmail===a&&f.createElement("span",{className:ot.readStatus},D.read?"✓✓":"✓"))))),f.createElement("div",{ref:te})),f.createElement("div",{className:ot.messageInput},f.createElement("input",{type:"text",value:b,onChange:D=>S(D.target.value),onKeyDown:D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),ge())},placeholder:"Type a message...",disabled:E}),f.createElement("button",{onClick:ge,disabled:E||!b.trim(),className:ot.sendButton,type:"button"},"Send"))):f.createElement("div",{className:ot.noConversation},f.createElement("p",null,"Select a conversation to start messaging")))),U&&f.createElement(zn,{open:U,onClose:()=>{F(!1),q(null)},title:"Start New Conversation",maxWidth:"400px"},f.createElement("button",{style:{position:"absolute",top:10,right:10,background:"none",border:"none",color:"#fff",fontSize:24,cursor:"pointer",zIndex:10001},onClick:()=>{F(!1),q(null)},"aria-label":"Close",type:"button"},"×"),f.createElement("div",{className:ot.playerList},j.map(D=>f.createElement("div",{key:D._id||D.email,className:`${ot.playerItem} ${(z==null?void 0:z.email)===D.email?ot.selected:""}`,onClick:()=>q(D)},f.createElement("div",{className:ot.playerName},D.name?D.name:D.email)))),f.createElement("div",{className:ot.modalActions},f.createElement("button",{onClick:()=>{F(!1),q(null)},className:ot.cancelButton,type:"button"},"Cancel"),f.createElement("button",{onClick:le,disabled:!z,className:ot.startButton,type:"button"},"Start Chat"))),A&&f.createElement("div",{className:ot.error},A))}class QB{async getCurrentSeason(a){try{const e=await fetch(`${mt}/api/seasons/current/${encodeURIComponent(a)}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){return console.error("Error fetching current season:",e),null}}async getCurrentPhaseAndWeek(a){try{const e=await fetch(`${mt}/api/seasons/phase/${encodeURIComponent(a)}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){return console.error("Error fetching current phase and week:",e),{currentWeek:null,phase:"offseason",isActive:!1,season:null}}}async getAllSeasons(a){try{const e=await fetch(`${mt}/api/seasons/${encodeURIComponent(a)}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){return console.error("Error fetching all seasons:",e),[]}}isMatchWithinPhase1Deadline(a,e){if(!e||!e.phase1End)return!0;const n=new Date(a),s=new Date(e.phase1End);return n<=s}getDaysUntilPhase1Deadline(a){if(!a||!a.phase1End)return null;const e=new Date,s=new Date(a.phase1End)-e;return Math.ceil(s/(1e3*60*60*24))}hasPhase1DeadlinePassed(a){if(!a||!a.phase1End)return!1;const e=new Date,n=new Date(a.phase1End);return e>n}hasPhase2Started(a){if(!a||!a.phase2Start)return!1;const e=new Date,n=new Date(a.phase2Start);return e>=n}getCurrentPhaseFromDates(a){if(!a)return"offseason";const e=new Date,n=new Date(a.phase1Start),s=new Date(a.phase1End),o=new Date(a.phase2Start),l=new Date(a.phase2End);return e<n?"offseason":e>=n&&e<=s?"scheduled":e>=o&&e<=l?"challenge":e>l?"completed":"transition"}}const Vo=new QB,VB=({currentPhase:t,seasonData:a,completedMatches:e,totalRequiredMatches:n,playerName:s,playerLastName:o,selectedDivision:l,onOpenOpponentsModal:u,onOpenCompletedMatchesModal:h,onOpenStandingsModal:m,pendingCount:p,sentCount:v,onOpenProposalListModal:b,onOpenSentProposalListModal:S,upcomingMatches:C,onMatchClick:_,isMobile:E})=>{const[I,A]=w.useState(null),[M,k]=w.useState("normal"),[L,U]=w.useState(null),[F,z]=w.useState(null),[q,te]=w.useState([]),[ge,le]=w.useState(!1),[re,ee]=w.useState(null),[j,D]=w.useState(!1);w.useEffect(()=>{if(!l||t!=="scheduled"){A(null);return}const $=async()=>{try{const de=l.replace(/[^A-Za-z0-9]/g,"_"),we=`${mt}/static/schedule_${de}.json`,Oe=await fetch(we);if(!Oe.ok){console.warn(`Failed to fetch schedule: ${Oe.status} - ${Oe.statusText}`);return}const We=await Oe.json();if(!Array.isArray(We)||We.length===0){console.warn("No schedule data available");return}const et=We.filter(xt=>xt.date).sort((xt,gn)=>new Date(xt.date)-new Date(gn.date));if(et.length===0){console.warn("No valid matches found in schedule");return}const qt=Math.min(47,et.length-1),xn=et[qt];if(!xn||!xn.date){console.warn("Could not determine Phase 1 end date from schedule");return}const en=new Date(xn.date);en.setHours(23,59,59,999),ee(en);const Yn=new Date;if(_s(Yn,en))A({days:0,hours:0,passed:!0}),k("passed");else{const xt=oS(en,Yn),gn=kD(en,Yn)%24;A({days:xt,hours:gn,passed:!1}),xt<=0&&gn<=24?k("critical"):xt<=2?k("urgent"):xt<=7?k("warning"):k("normal")}}catch(de){console.error("Error calculating Phase 1 deadline from schedule:",de)}};$();const Ce=setInterval($,6e4);return()=>clearInterval(Ce)},[l,t]),w.useEffect(()=>{t==="scheduled"&&l&&e&&(W(),R())},[t,l,e,n]),w.useEffect(()=>{l&&t==="scheduled"&&H()},[l,t]);const H=async()=>{try{if(le(!0),!l){console.warn("No division selected for standings");return}const $=l.replace(/[^A-Za-z0-9]/g,"_"),Ce=`${mt}/static/standings_${$}.json`,de=await fetch(Ce);if(!de.ok){console.warn(`Failed to fetch standings: ${de.status} - ${de.statusText}`);return}const we=await de.json();if(!Array.isArray(we)){console.error("Standings data is not an array:",we);return}const Oe=we.filter(We=>{if(!We||typeof We!="object")return console.warn("Invalid standings entry:",We),!1;if(!We.name||!We.rank)return console.warn("Standings entry missing name or rank:",We),!1;const et=parseInt(We.rank);return isNaN(et)||et<=0?(console.warn("Invalid rank in standings entry:",We),!1):!0});te(Oe)}catch($){console.error("Failed to load standings:",$)}finally{le(!1)}},V=($,Ce)=>{if(!$||$.length===0)return null;const de=Ce.toLowerCase().trim(),we=$.find(Oe=>Oe.name.toLowerCase().trim()===de);return we?parseInt(we.rank):null},W=()=>{const $=e.length,Ce=n-$,de={completedCount:$,remainingCount:Ce,deadlinePassed:Vo.hasPhase1DeadlinePassed(a)};U(de)},R=()=>{if(!e||e.length===0){z({wins:0,losses:0,winRate:0,position:"N/A"});return}let $=0,Ce=0;const de=`${s} ${o}`;e.forEach(et=>{et.winner===de?$++:Ce++});const we=Math.round($/($+Ce)*100),Oe=V(q,de);let We="N/A";Oe!==null?We=`${Oe}${B(Oe)}`:e.length>=1&&(we>=80?We="1st-3rd":we>=60?We="4th-6th":we>=40?We="7th-9th":We="10th+"),z({wins:$,losses:Ce,winRate:we,position:We,actualPosition:Oe})},B=$=>{const Ce=$%10,de=$%100;return Ce===1&&de!==11?"st":Ce===2&&de!==12?"nd":Ce===3&&de!==13?"rd":"th"};if(!I||!L||t!=="scheduled")return null;const Z=()=>M==="passed"?"#e74c3c":M==="critical"?"#ff6b6b":M==="urgent"?"#ff8800":M==="warning"?"#ffaa00":"#00aa00",K=()=>{const $=n-e.length;return M==="passed"?`⚠️ PHASE 1 DEADLINE PASSED! You have ${$} incomplete matches.`:M==="critical"?`🚨 CRITICAL: Phase 1 ends in ${I.hours} hours! You have ${$} matches to complete.`:M==="urgent"?`⚠️ URGENT: Phase 1 ends in ${I.days} days! You have ${$} matches to complete.`:M==="warning"?`⚠️ WARNING: Phase 1 ends in ${I.days} days. You have ${$} matches to complete.`:`📅 Phase 1 ends in ${I.days} days. You have ${$} matches to complete.`},se=()=>Math.round(e.length/n*100),Ie=Z();return f.createElement("div",{style:{background:`linear-gradient(135deg, ${Ie}40, ${Ie}60)`,border:`2px solid ${Ie}`,borderRadius:"12px",padding:E?"12px":"16px",margin:E?"12px 0":"16px 0",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",cursor:"pointer"},onClick:()=>D(!j)},f.createElement("div",{style:{position:"relative",textAlign:"center",marginBottom:E?"8px":"12px"}},f.createElement("h3",{style:{margin:0,color:Ie,fontSize:E?"1rem":"1.1rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",flexWrap:"wrap"}},M==="critical"&&"🚨",M==="urgent"&&"⚠️",M==="warning"&&"⚠️",M==="passed"&&"⏰",M==="normal"&&"📅",f.createElement("span",{style:{fontSize:E?"0.9rem":"1.1rem"}},"Phase 1")),f.createElement("div",{style:{color:"#ffffff",fontSize:E?"0.85rem":"0.95rem",fontWeight:"bold",marginTop:"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},e.length,"/",n," Complete")),f.createElement("div",{style:{color:"#ffffff",fontSize:E?"0.85rem":"0.95rem",lineHeight:"1.4",marginBottom:E?"8px":"12px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",fontWeight:"500"}},K()),f.createElement("div",{style:{textAlign:"center",marginBottom:E?"8px":"12px"}},f.createElement("div",{style:{fontSize:E?"0.8rem":"0.9rem",color:Ie,fontWeight:"bold",cursor:"pointer",padding:"4px 8px",borderRadius:"6px",display:"inline-block",transition:"background-color 0.2s ease"},onMouseEnter:$=>$.target.style.backgroundColor=`${Ie}20`,onMouseLeave:$=>$.target.style.backgroundColor="transparent"},j?"Hide Stats ▲":"Show Stats ▼")),j&&f.createElement(f.Fragment,null,f.createElement("div",{style:{background:"#333",borderRadius:"8px",height:"8px",marginBottom:"12px",overflow:"hidden"}},f.createElement("div",{style:{background:`linear-gradient(90deg, ${Ie}, ${Ie}dd)`,height:"100%",width:`${se()}%`,transition:"width 0.3s ease",borderRadius:"8px"}})),f.createElement("div",{style:{display:"grid",gridTemplateColumns:E?"1fr 1fr":"1fr 1fr 1fr",gap:E?"8px":"12px",marginBottom:E?"8px":"12px"}},f.createElement("div",{style:{textAlign:"center",padding:E?"6px":"8px",background:"rgba(0,0,0,0.2)",borderRadius:"6px",cursor:"pointer",transition:"all 0.3s ease",border:"2px solid transparent",position:"relative",overflow:"hidden"},onClick:$=>{$.stopPropagation(),u&&u()},onMouseEnter:$=>{const Ce=$.currentTarget;Ce.style.backgroundColor="#4CAF50",Ce.style.borderColor="#fff",Ce.style.transform="translateY(-3px)",Ce.style.boxShadow="0 6px 20px rgba(76, 175, 80, 0.4)",Ce.querySelectorAll("div").forEach(we=>{(we.style.color==="rgb(204, 204, 204)"||we.style.color==="#ccc")&&(we.style.color="#fff"),(we.style.color==="rgb(153, 153, 153)"||we.style.color==="#999")&&(we.style.color="#e8f5e8")})},onMouseLeave:$=>{const Ce=$.currentTarget;Ce.style.backgroundColor="rgba(0,0,0,0.2)",Ce.style.borderColor="transparent",Ce.style.transform="translateY(0)",Ce.style.boxShadow="none",Ce.querySelectorAll("div").forEach(we=>{we.style.color==="#fff"&&we.textContent.includes("Progress")&&(we.style.color="#ccc"),we.style.color==="#e8f5e8"&&(we.style.color="#999")})}},f.createElement("div",{style:{position:"absolute",top:"2px",right:"2px",fontSize:"0.6rem",color:"#4CAF50",opacity:0,transition:"opacity 0.2s ease",pointerEvents:"none"}},"👆"),f.createElement("div",{style:{fontSize:E?"0.7rem":"0.8rem",color:"#e0e0e0",marginBottom:"2px",fontWeight:"600"}},"Progress"),f.createElement("div",{style:{fontSize:E?"0.8rem":"0.9rem",color:"#ffffff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},e.length,"/",n),f.createElement("div",{style:{fontSize:E?"0.6rem":"0.7rem",color:"#cccccc"}},se(),"% complete"),f.createElement("div",{style:{fontSize:E?"0.65rem":"0.75rem",color:"#ffffff",marginTop:"3px",fontWeight:"600",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},"see opponents")),f.createElement("div",{style:{textAlign:"center",padding:E?"6px":"8px",background:"rgba(0,0,0,0.2)",borderRadius:"6px",cursor:"pointer",transition:"all 0.3s ease",border:"2px solid transparent",position:"relative",overflow:"hidden"},onClick:$=>{$.stopPropagation(),h&&h()},onMouseEnter:$=>{const Ce=$.currentTarget;Ce.style.backgroundColor="#2196F3",Ce.style.borderColor="#fff",Ce.style.transform="translateY(-3px)",Ce.style.boxShadow="0 6px 20px rgba(33, 150, 243, 0.4)",Ce.querySelectorAll("div").forEach(we=>{(we.style.color==="rgb(204, 204, 204)"||we.style.color==="#ccc")&&(we.style.color="#fff"),(we.style.color==="rgb(153, 153, 153)"||we.style.color==="#999")&&(we.style.color="#e3f2fd")})},onMouseLeave:$=>{const Ce=$.currentTarget;Ce.style.backgroundColor="rgba(0,0,0,0.2)",Ce.style.borderColor="transparent",Ce.style.transform="translateY(0)",Ce.style.boxShadow="none",Ce.querySelectorAll("div").forEach(we=>{we.style.color==="#fff"&&we.textContent.includes("Record")&&(we.style.color="#ccc"),we.style.color==="#e3f2fd"&&(we.style.color="#999")})}},f.createElement("div",{style:{position:"absolute",top:"2px",right:"2px",fontSize:"0.6rem",color:"#2196F3",opacity:0,transition:"opacity 0.2s ease",pointerEvents:"none"}},"👆"),f.createElement("div",{style:{fontSize:E?"0.7rem":"0.8rem",color:"#ccc",marginBottom:"2px"}},"Record"),f.createElement("div",{style:{fontSize:E?"0.8rem":"0.9rem",color:"#fff",fontWeight:"bold"}},(F==null?void 0:F.wins)||0,"W - ",(F==null?void 0:F.losses)||0,"L"),f.createElement("div",{style:{fontSize:E?"0.6rem":"0.7rem",color:"#999"}},(F==null?void 0:F.winRate)||0,"% win rate"),f.createElement("div",{style:{fontSize:E?"0.65rem":"0.75rem",color:"#aaa",marginTop:"3px",fontWeight:"500"}},"see completed")),f.createElement("div",{style:{textAlign:"center",padding:E?"6px":"8px",background:"rgba(0,0,0,0.2)",borderRadius:"6px",gridColumn:E?"1 / -1":"auto",cursor:"pointer",transition:"all 0.3s ease",border:"2px solid transparent",position:"relative",overflow:"hidden"},onClick:$=>{$.stopPropagation(),m&&m()},onMouseEnter:$=>{const Ce=$.currentTarget;Ce.style.backgroundColor="#FF9800",Ce.style.borderColor="#fff",Ce.style.transform="translateY(-3px)",Ce.style.boxShadow="0 6px 20px rgba(255, 152, 0, 0.4)",Ce.querySelectorAll("div").forEach(we=>{(we.style.color==="rgb(204, 204, 204)"||we.style.color==="#ccc")&&(we.style.color="#fff"),(we.style.color==="rgb(153, 153, 153)"||we.style.color==="#999")&&(we.style.color="#fff3e0")})},onMouseLeave:$=>{const Ce=$.currentTarget;Ce.style.backgroundColor="rgba(0,0,0,0.2)",Ce.style.borderColor="transparent",Ce.style.transform="translateY(0)",Ce.style.boxShadow="none",Ce.querySelectorAll("div").forEach(we=>{we.style.color==="#fff"&&we.textContent.includes("Position")&&(we.style.color="#ccc"),we.style.color==="#fff3e0"&&(we.style.color="#999")})}},f.createElement("div",{style:{position:"absolute",top:"2px",right:"2px",fontSize:"0.6rem",color:"#FF9800",opacity:0,transition:"opacity 0.2s ease",pointerEvents:"none"}},"👆"),f.createElement("div",{style:{fontSize:E?"0.7rem":"0.8rem",color:"#ccc",marginBottom:"2px"}},"Position"),f.createElement("div",{style:{fontSize:E?"0.8rem":"0.9rem",color:"#fff",fontWeight:"bold"}},ge?"...":(F==null?void 0:F.position)||"N/A"),f.createElement("div",{style:{fontSize:E?"0.6rem":"0.7rem",color:"#999"}},ge?"Loading...":(F==null?void 0:F.actualPosition)!==null?"Live standings":e.length>=1?"Est. rank":"No matches yet"),f.createElement("div",{style:{fontSize:E?"0.65rem":"0.75rem",color:"#aaa",marginTop:"3px",fontWeight:"500"}},"view standings"))),f.createElement("div",{style:{fontSize:E?"0.7rem":"0.8rem",color:"#999",marginTop:E?"6px":"8px",textAlign:"center"}},"Phase 1 ends: ",re?zc(re,E?"MMM d, yyyy":"EEEE, MMMM d, yyyy"):"Loading..."),f.createElement("div",{style:{marginTop:E?"12px":"16px",padding:E?"8px":"12px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"}},f.createElement("div",{style:{fontSize:E?"0.8rem":"0.9rem",color:"#fff",fontWeight:"bold",marginBottom:E?"8px":"10px",textAlign:"center"}},"📋 Match Proposals"),f.createElement("div",{style:{display:"flex",gap:E?"6px":"8px",justifyContent:"center"}},f.createElement("button",{onClick:$=>{$.stopPropagation(),b&&b()},style:{background:"#f0ad4e",color:"#222",border:"2px solid #d32f2f",borderRadius:"6px",padding:E?"6px 8px":"8px 12px",fontSize:E?"0.7rem":"0.8rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",transition:"all 0.2s ease",flex:1,maxWidth:E?"120px":"140px"},onMouseEnter:$=>{$.target.style.background="#e09b3d",$.target.style.transform="translateY(-1px)",$.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.3)"},onMouseLeave:$=>{$.target.style.background="#f0ad4e",$.target.style.transform="translateY(0)",$.target.style.boxShadow="0 2px 4px rgba(0,0,0,0.2)"}},"📥 ",p," waiting"),f.createElement("button",{onClick:$=>{$.stopPropagation(),S&&S()},style:{background:"#00aa85",color:"#fff",border:"2px solid #f10",borderRadius:"6px",padding:E?"6px 8px":"8px 12px",fontSize:E?"0.7rem":"0.8rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",transition:"all 0.2s ease",flex:1,maxWidth:E?"120px":"140px"},onMouseEnter:$=>{$.target.style.background="#009973",$.target.style.transform="translateY(-1px)",$.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.3)"},onMouseLeave:$=>{$.target.style.background="#00aa85",$.target.style.transform="translateY(0)",$.target.style.boxShadow="0 2px 4px rgba(0,0,0,0.2)"}},"📤 ",v," sent"))),f.createElement("div",{style:{marginTop:E?"12px":"16px",padding:E?"8px":"12px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"}},f.createElement("div",{style:{fontSize:E?"0.8rem":"0.9rem",color:"#fff",fontWeight:"bold",marginBottom:E?"8px":"10px",textAlign:"center"}},"🎯 Upcoming Matches"),C&&C.length>0?f.createElement("div",{style:{maxHeight:E?"120px":"150px",overflowY:"auto",padding:"4px"}},C.slice(0,E?3:4).map(($,Ce)=>{let de="",we="";if($.type==="scheduled"){if($.player1&&$.player2&&($.player1.trim().toLowerCase()===`${s} ${o}`.trim().toLowerCase()?de=$.player2:de=$.player1),$.date){const Oe=$.date.split("/");if(Oe.length===3){const[We,et,qt]=Oe,xn=new Date(`${qt}-${We.padStart(2,"0")}-${et.padStart(2,"0")}`);isNaN(xn.getTime())||(we=`${We}/${et}`)}}}else if($.senderName&&$.receiverName&&($.senderName.trim().toLowerCase()===`${s} ${o}`.trim().toLowerCase()?de=$.receiverName:de=$.senderName),$.date){const Oe=$.date.split("-");if(Oe.length===3){const[We,et,qt]=Oe;we=`${et}/${qt}`}}return f.createElement("div",{key:$._id||Ce,onClick:Oe=>{Oe.stopPropagation(),_&&_($)},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:E?"4px 6px":"6px 8px",marginBottom:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"4px",cursor:"pointer",transition:"background 0.2s ease",fontSize:E?"0.7rem":"0.8rem"},onMouseEnter:Oe=>{Oe.target.style.background="rgba(255,255,255,0.2)"},onMouseLeave:Oe=>{Oe.target.style.background="rgba(255,255,255,0.1)"}},f.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px",flex:1}},f.createElement("span",{style:{color:"#ff6b6b",fontWeight:"bold"}},"vs"),f.createElement("span",{style:{color:"#fff",fontWeight:"500"}},de||"[Unknown]")),f.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px"}},f.createElement("span",{style:{color:"#ccc"}},we),$.location&&f.createElement("span",{style:{color:"#999",fontSize:E?"0.6rem":"0.7rem",maxWidth:"40px",overflow:"hidden",textOverflow:"ellipsis"}},$.location)))})):f.createElement("div",{style:{textAlign:"center",color:"#999",fontSize:E?"0.7rem":"0.8rem",padding:"8px"}},"No matches scheduled yet."))))},CC={async validateChallenge(t,a,e,n=!1,s=null){return Kt.post("/api/challenges/validate",{senderName:t,receiverName:a,division:e,isRematch:n,originalChallengeId:s})},async validateDefenseAcceptance(t,a,e){return Kt.post("/api/challenges/validate-defense",{defenderName:t,challengerName:a,division:e})},async getChallengeStats(t,a){return Kt.get(`/api/challenges/stats/${encodeURIComponent(t)}/${encodeURIComponent(a)}`)},async getChallengeLimits(t,a){return Kt.get(`/api/challenges/limits/${encodeURIComponent(t)}/${encodeURIComponent(a)}`)},async getEligibleOpponents(t,a){return Kt.get(`/api/challenges/eligible-opponents/${encodeURIComponent(t)}/${encodeURIComponent(a)}`)},async getDivisionChallengeStats(t){return Kt.get(`/api/challenges/division-stats/${encodeURIComponent(t)}`)},async updateChallengeStats(t,a,e){return Kt.put(`/api/challenges/stats/${encodeURIComponent(t)}/${encodeURIComponent(a)}`,e)},async resetDivisionChallengeStats(t){return Kt.delete(`/api/challenges/division-stats/${encodeURIComponent(t)}`)}};function XB({playerName:t,playerLastName:a,selectedDivision:e,phase:n}){const[s,o]=w.useState(null),[l,u]=w.useState(null),[h,m]=w.useState(!0),[p,v]=w.useState(null),[b,S]=w.useState(!1),C=`${t} ${a}`;if(w.useEffect(()=>{if(!t||!a||!e||n!=="challenge"){m(!1);return}async function F(){try{m(!0),v(null);const[z,q]=await Promise.all([CC.getChallengeStats(C,e),CC.getChallengeLimits(C,e)]);o(z),u(q)}catch(z){console.error("Error loading challenge data:",z),v("Failed to load challenge statistics")}finally{m(!1)}}F()},[t,a,e,n,C]),n!=="challenge")return null;if(h)return f.createElement("div",{className:ve.phaseTrackerContainer,style:{padding:"1rem",marginBottom:"1rem"}},f.createElement("div",{style:{textAlign:"center",color:"#888"}},"Loading Phase 2 challenge statistics..."));if(p)return f.createElement("div",{className:ve.phaseTrackerContainer,style:{padding:"1rem",marginBottom:"1rem"}},f.createElement("div",{style:{textAlign:"center",color:"#e53e3e",background:"rgba(229, 62, 62, 0.1)",border:"1px solid #e53e3e",borderRadius:"6px",padding:"0.5rem"}},p));if(!s||!l)return null;const _=()=>{const F=s.totalChallengeMatches;return l.limits.maxChallengeMatches,s.remainingChallenges,s.remainingDefenses,s.hasReachedChallengeLimit&&s.hasReachedDefenseLimit?"completed":s.hasReachedChallengeLimit||s.hasReachedDefenseLimit?"limit_reached":F>=3?"active":F>=1?"progressing":"ready"},E=F=>F?"#28a745":"#e53e3e",I=(F,z)=>{const q=F/z*100;return q>=90?"#e53e3e":q>=75?"#ffc107":"#28a745"},A=()=>{switch(_()){case"completed":return"#00aa00";case"limit_reached":return"#e53e3e";case"active":return"#28a745";case"progressing":return"#ffaa00";case"ready":return"#ffc107";default:return"#ffc107"}},M=()=>{const F=A();return{background:`linear-gradient(135deg, ${F}15, ${F}25)`,border:`2px solid ${F}`,borderRadius:"12px",padding:"16px",margin:"16px 0",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",cursor:"pointer"}},k=()=>{const F=_(),z=s.remainingChallenges,q=s.remainingDefenses;switch(F){case"completed":return"🎉 Phase 2 Complete! You have played all your challenge matches.";case"limit_reached":return"⚠️ Challenge limit reached. You can still defend if eligible.";case"active":return`🏆 Active in Phase 2! You have ${z} challenges and ${q} defenses remaining.`;case"progressing":return`📈 Phase 2 in progress! You have ${z} challenges and ${q} defenses remaining.`;case"ready":return`⚔️ Ready for Phase 2! You can challenge ${s.eligibleOpponentsCount} opponent${s.eligibleOpponentsCount!==1?"s":""} and have ${z} challenges remaining.`;default:return"Phase 2 Challenge Status"}},L=A(),U=window.innerWidth<=768;return f.createElement("div",{style:{...M(),padding:U?"12px":"16px",margin:U?"12px 0":"16px 0"},onClick:()=>S(!b)},f.createElement("div",{style:{position:"relative",textAlign:"center",marginBottom:U?"8px":"12px"}},f.createElement("h3",{style:{margin:0,color:L,fontSize:U?"1rem":"1.1rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",flexWrap:"wrap"}},_()==="completed"&&"🎉",_()==="limit_reached"&&"⚠️",_()==="active"&&"🏆",_()==="progressing"&&"📈",_()==="ready"&&"⚔️",f.createElement("span",{style:{fontSize:U?"0.9rem":"1.1rem"}},"Phase 2: Challenge Tracker")),f.createElement("div",{style:{fontSize:U?"0.8rem":"0.9rem",color:L,fontWeight:"bold",marginTop:"4px"}},"Phase 2, Week ",s.currentWeek," • Rank #",s.currentStanding||"N/A"),f.createElement("div",{style:{fontSize:U?"0.8rem":"0.9rem",color:L,fontWeight:"bold",position:"absolute",bottom:"0",right:"0",fontSize:"0.8rem"}},b?"Hide Stats":"Show Stats")),f.createElement("div",{style:{color:"#fff",fontSize:U?"0.85rem":"0.95rem",lineHeight:"1.4",marginBottom:U?"8px":"12px"}},k()),b&&f.createElement(f.Fragment,null,f.createElement("div",{style:{display:"grid",gridTemplateColumns:U?"1fr":"repeat(auto-fit, minmax(250px, 1fr))",gap:U?"0.75rem":"1rem",marginBottom:U?"1rem":"1.5rem"}},f.createElement("div",{style:{padding:U?"0.75rem":"1rem",background:"rgba(0, 0, 0, 0.4)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.15)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"}},f.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem",fontSize:"1rem",fontWeight:"600"}},f.createElement("span",{style:{color:"#fff"}},"⚔️ Challenge Matches"),f.createElement("span",{style:{color:E(s.isEligibleForChallenges),fontWeight:"bold",fontSize:"1.1rem"}},s.totalChallengeMatches,"/",l.limits.maxChallengeMatches)),f.createElement("div",{style:{height:"8px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"4px",marginBottom:"0.75rem"}},f.createElement("div",{style:{width:`${s.totalChallengeMatches/l.limits.maxChallengeMatches*100}%`,height:"100%",backgroundColor:I(s.totalChallengeMatches,l.limits.maxChallengeMatches),borderRadius:"4px",transition:"width 0.3s ease"}})),f.createElement("div",{style:{fontSize:"0.9rem",lineHeight:"1.4"}},f.createElement("div",{style:{marginBottom:"0.5rem",color:"#ccc"}},f.createElement("span",{style:{color:"#28a745"}},"Challenger:")," ",s.matchesAsChallenger," |",f.createElement("span",{style:{color:"#ffc107"}}," Defender:")," ",s.matchesAsDefender),f.createElement("div",{style:{color:s.remainingChallenges>0?"#28a745":"#e53e3e",fontWeight:"bold",fontSize:"1rem"}},s.remainingChallenges>0?"✅":"❌"," Remaining: ",s.remainingChallenges))),f.createElement("div",{style:{padding:"1rem",background:"rgba(0, 0, 0, 0.4)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.15)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"}},f.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem",fontSize:"1rem",fontWeight:"600"}},f.createElement("span",{style:{color:"#fff"}},"🛡️ Defense Status"),f.createElement("span",{style:{color:E(s.isEligibleForDefense),fontWeight:"bold",fontSize:"1.1rem"}},s.requiredDefenses,"/",l.limits.maxRequiredDefenses)),f.createElement("div",{style:{height:"8px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"4px",marginBottom:"0.75rem"}},f.createElement("div",{style:{width:`${s.requiredDefenses/l.limits.maxRequiredDefenses*100}%`,height:"100%",backgroundColor:I(s.requiredDefenses,l.limits.maxRequiredDefenses),borderRadius:"4px",transition:"width 0.3s ease"}})),f.createElement("div",{style:{fontSize:"0.9rem",lineHeight:"1.4"}},f.createElement("div",{style:{marginBottom:"0.5rem",color:"#ccc"}},f.createElement("span",{style:{color:"#e53e3e"}},"Required:")," ",s.requiredDefenses,"/2 |",f.createElement("span",{style:{color:"#ffc107"}}," Voluntary:")," ",s.voluntaryDefenses),f.createElement("div",{style:{color:s.requiredDefenses<2?"#28a745":"#ffc107",fontWeight:"bold",fontSize:"1rem"}},s.requiredDefenses<2?"⚠️":"✅"," Required Defenses: ",s.requiredDefenses<2?`${2-s.requiredDefenses} left`:"Complete"))),f.createElement("div",{style:{padding:"1rem",background:"rgba(0, 0, 0, 0.4)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.15)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"}},f.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem",fontSize:"1rem",fontWeight:"600"}},f.createElement("span",{style:{color:"#fff"}},"📅 This Week"),f.createElement("span",{style:{color:l.weeklyStatus.canChallengeThisWeek||l.weeklyStatus.canDefendThisWeek?"#28a745":"#e53e3e",fontWeight:"bold",fontSize:"1.1rem"}},l.weeklyStatus.canChallengeThisWeek||l.weeklyStatus.canDefendThisWeek?"✅ Available":"❌ Busy")),f.createElement("div",{style:{fontSize:"0.9rem",lineHeight:"1.4"}},f.createElement("div",{style:{marginBottom:"0.5rem",color:"#ccc"}},f.createElement("span",{style:{color:"#28a745"}},"Challenges:")," ",l.weeklyStatus.challengesThisWeek," |",f.createElement("span",{style:{color:"#ffc107"}}," Defenses:")," ",l.weeklyStatus.defensesThisWeek),f.createElement("div",{style:{color:l.weeklyStatus.canChallengeThisWeek?"#28a745":"#e53e3e",marginBottom:"0.25rem"}},l.weeklyStatus.canChallengeThisWeek?"✅":"❌"," Can Challenge: ",l.weeklyStatus.canChallengeThisWeek?"Yes":"No"),f.createElement("div",{style:{color:l.weeklyStatus.canDefendThisWeek?"#28a745":"#ffc107"}},l.weeklyStatus.canDefendThisWeek?"⚠️":"❌"," Must Defend: ",l.weeklyStatus.canDefendThisWeek?"If Challenged":"No")))),f.createElement("div",{style:{padding:"1rem",background:"rgba(0, 0, 0, 0.5)",border:`2px solid ${L}60`,borderRadius:"8px",fontSize:"0.95rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"}},f.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"}},f.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"}},f.createElement("strong",{style:{color:L,fontSize:"1rem"}},"Status:"),f.createElement("span",{style:{color:"#fff",fontSize:"1rem",fontWeight:"600",padding:"0.25rem 0.75rem",background:`${L}20`,borderRadius:"4px",border:`1px solid ${L}40`}},_().replace("_"," ").toUpperCase())),f.createElement("div",{style:{fontSize:"0.85rem",color:"#888",fontStyle:"italic"}},"Updated: ",new Date(s.lastUpdated).toLocaleDateString())),f.createElement("div",{style:{fontSize:"0.9rem",color:"#fff",lineHeight:"1.5",padding:"0.75rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.1)"}},s.eligibleOpponentsCount>0&&s.remainingChallenges>0&&l.weeklyStatus.canChallengeThisWeek?f.createElement("div",{style:{color:"#28a745",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600"}},f.createElement("span",{style:{fontSize:"1.2rem"}},"✅"),f.createElement("span",null,"You can challenge ",f.createElement("strong",null,s.eligibleOpponentsCount)," opponent",s.eligibleOpponentsCount!==1?"s":""," this week")):s.remainingDefenses>0&&l.weeklyStatus.canDefendThisWeek?f.createElement("div",{style:{color:"#28a745",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600"}},f.createElement("span",{style:{fontSize:"1.2rem"}},"✅"),f.createElement("span",null,"You can accept defense challenges this week")):l.weeklyStatus.canDefendThisWeek?f.createElement("div",{style:{color:"#ffc107",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600"}},f.createElement("span",{style:{fontSize:"1.2rem"}},"⚠️"),f.createElement("span",null,"You have no matches scheduled this week - you ",f.createElement("strong",null,"MUST")," accept defense challenges")):f.createElement("div",{style:{color:"#ffc107",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600"}},f.createElement("span",{style:{fontSize:"1.2rem"}},"⏳"),f.createElement("span",null,"Waiting for next week or opponent selection"))))))}const KB=({isOpen:t,onClose:a,match:e,onValidate:n,onReject:s})=>{const[o,l]=w.useState({actualDate:"",actualTime:"",actualLocation:"",winner:"",score:"",notes:"",witnesses:"",photos:null}),[u,h]=w.useState(!1);if(!t||!e)return null;const m=async v=>{v.preventDefault(),h(!0);try{if(!o.actualDate||!o.winner||!o.score){alert("Please fill in all required fields: Date, Winner, and Score");return}await n({matchId:e._id,...o}),a()}catch(b){console.error("Error validating match:",b),alert("Error validating match. Please try again.")}finally{h(!1)}},p=async()=>{if(window.confirm("Are you sure you want to reject this match completion? This will require the match to be replayed.")){h(!0);try{await s(e._id),a()}catch(v){console.error("Error rejecting match:",v),alert("Error rejecting match. Please try again.")}finally{h(!1)}}};return f.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},f.createElement("div",{style:{background:"#222",border:"2px solid #444",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto"}},f.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}},f.createElement("h2",{style:{margin:0,color:"#fff"}},"🎯 Match Validation"),f.createElement("button",{onClick:a,style:{background:"none",border:"none",color:"#aaa",fontSize:"24px",cursor:"pointer"}},"×")),f.createElement("div",{style:{background:"#333",padding:"16px",borderRadius:"8px",marginBottom:"20px"}},f.createElement("h3",{style:{margin:"0 0 12px 0",color:"#fff"}},"Match Details"),f.createElement("div",{style:{color:"#ccc",fontSize:"0.9rem"}},f.createElement("div",null,f.createElement("strong",null,"Players:")," ",e.player1," vs ",e.player2),f.createElement("div",null,f.createElement("strong",null,"Scheduled Date:")," ",e.date),f.createElement("div",null,f.createElement("strong",null,"Location:")," ",e.location))),f.createElement("form",{onSubmit:m},f.createElement("div",{style:{marginBottom:"16px"}},f.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Actual Date Played * ",f.createElement("span",{style:{color:"#ff4444"}},"Required")),f.createElement("input",{type:"date",value:o.actualDate,onChange:v=>l({...o,actualDate:v.target.value}),style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"},required:!0})),f.createElement("div",{style:{marginBottom:"16px"}},f.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Actual Time Played"),f.createElement("input",{type:"time",value:o.actualTime,onChange:v=>l({...o,actualTime:v.target.value}),style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"}})),f.createElement("div",{style:{marginBottom:"16px"}},f.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Actual Location"),f.createElement("input",{type:"text",value:o.actualLocation,onChange:v=>l({...o,actualLocation:v.target.value}),placeholder:"Where was the match actually played?",style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"}})),f.createElement("div",{style:{marginBottom:"16px"}},f.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Winner * ",f.createElement("span",{style:{color:"#ff4444"}},"Required")),f.createElement("select",{value:o.winner,onChange:v=>l({...o,winner:v.target.value}),style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"},required:!0},f.createElement("option",{value:""},"Select winner..."),f.createElement("option",{value:e.player1},e.player1),f.createElement("option",{value:e.player2},e.player2))),f.createElement("div",{style:{marginBottom:"16px"}},f.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Final Score * ",f.createElement("span",{style:{color:"#ff4444"}},"Required")),f.createElement("input",{type:"text",value:o.score,onChange:v=>l({...o,score:v.target.value}),placeholder:"e.g., 7-3, 8-2, etc.",style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"},required:!0})),f.createElement("div",{style:{marginBottom:"16px"}},f.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Witnesses (optional)"),f.createElement("input",{type:"text",value:o.witnesses,onChange:v=>l({...o,witnesses:v.target.value}),placeholder:"Names of people who witnessed the match",style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"}})),f.createElement("div",{style:{marginBottom:"20px"}},f.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Additional Notes"),f.createElement("textarea",{value:o.notes,onChange:v=>l({...o,notes:v.target.value}),placeholder:"Any additional details about the match...",rows:"3",style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff",resize:"vertical"}})),f.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"}},f.createElement("button",{type:"button",onClick:p,disabled:u,style:{padding:"10px 16px",background:"#ff4444",border:"none",borderRadius:"6px",color:"#fff",cursor:u?"not-allowed":"pointer",opacity:u?.6:1}},u?"Rejecting...":"Reject Match"),f.createElement("button",{type:"submit",disabled:u,style:{padding:"10px 16px",background:"#00aa00",border:"none",borderRadius:"6px",color:"#fff",cursor:u?"not-allowed":"pointer",opacity:u?.6:1}},u?"Validating...":"Validate Match")))))},JB={async getAllMatches(t,a,e){const n=new URLSearchParams({player:t,...a&&{division:a},...e&&{phase:e}});return Kt.get(`/api/matches/all-matches?${n}`)},async getCompletedMatches(t,a){const e=new URLSearchParams({player:t,...a&&{division:a}});return Kt.get(`/api/matches/completed-matches?${e}`)},async createMatch(t){return Kt.post("/api/matches",t)}},eU=(t,a,e)=>{const[n,s]=w.useState([]),[o,l]=w.useState([]),[u,h]=w.useState(!0),[m,p]=w.useState(null),v=async()=>{try{h(!0);const S=await JB.getAllMatches(t,a,e),C=S.filter(E=>E.status==="confirmed"&&(E.completed===!1||E.completed===void 0)),_=S.filter(E=>E.status==="confirmed"&&E.completed===!0);C.sort((E,I)=>b(E)-b(I)),_.sort((E,I)=>b(E)-b(I)),s(C),l(_),p(null)}catch(S){p(S.message),s([]),l([])}finally{h(!1)}},b=S=>{if(S.date&&S.time){const C=S.date.split("-");if(C.length===3){const _=C[0],E=C[1],I=C[2],A=`${_}-${E.padStart(2,"0")}-${I.padStart(2,"0")}`;let k=S.time.trim().toUpperCase().split(" "),L=k[0],U=k[1],F=L.split(":"),z=parseInt(F[0],10),q=parseInt(F[1],10);U==="PM"&&z<12&&(z+=12),U==="AM"&&z===12&&(z=0);const te=z.toString().padStart(2,"0"),ge=(q||0).toString().padStart(2,"0"),le=`${te}:${ge}`;return new Date(`${A}T${le}:00`)}}return new Date(0)};return w.useEffect(()=>{t&&a&&v()},[t,a,e]),{matches:n,completedMatches:o,scheduledConfirmedMatches:n,loading:u,error:m,refetch:v,markMatchCompleted:S=>{s(C=>C.filter(_=>_._id!==S._id)),l(C=>{const _={...S,completed:!0};return[...C,_]})},updateCompletedMatch:S=>{l(C=>C.map(_=>_._id===S._id?S:_))}}},AE={async getUser(t){return Kt.get(`/api/users/${encodeURIComponent(t)}`)},async syncUsers(){return Kt.post("/admin/sync-users")}},Ad={async getAllNotes(){return Kt.get("/api/notes")},async createNote(t){return Kt.post("/api/notes",{text:t})},async deleteNote(t){return Kt.delete(`/api/notes/${t}`)}};class tU{async checkAndSendDeadlineReminder(a,e,n){try{const s=await Vo.getCurrentSeason(n);if(!(s!=null&&s.season)){console.log("No current season found for division:",n);return}const o=s.season,l=new Date,u=new Date(o.phase1End);if(l>u){console.log("Phase 1 deadline has passed, no reminder needed");return}const h=Math.ceil((u-l)/(1e3*60*60*24));if(!this.shouldSendReminder(h))return;const p=await this.getUserMatchStatus(e,n);await XA({to_email:a,to_name:e,division:n,daysUntilDeadline:h,completedMatches:p.completedCount,totalRequiredMatches:p.totalRequired,deadlineDate:zc(u,"EEEE, MMMM d, yyyy"),remainingMatches:p.remainingCount}),console.log(`Deadline reminder sent to ${e} for ${n}`)}catch(s){console.error("Error sending deadline reminder:",s)}}shouldSendReminder(a){return[7,3,1,0].includes(a)}async getUserMatchStatus(a,e){try{return{completedCount:1,totalRequired:6,remainingCount:5}}catch(n){return console.error("Error getting user match status:",n),{completedCount:0,totalRequired:6,remainingCount:6}}}async sendBulkDeadlineReminders(a){try{console.log(`Sending bulk deadline reminders for ${a}`)}catch(e){console.error("Error sending bulk deadline reminders:",e)}}}const nU=new tU,aU="1tvMgMHsRwQxsR6lMNlSnztmwpK7fhZeNEyqjTqmRFRc",rU="BCAPL SIGNUP",sU={"FRBCAPL TEST":"https://lms.fargorate.com/PublicReport/LeagueReports?leagueId=e05896bb-b0f4-4a80-bf99-b2ca012ceaaa&divisionId=b345a437-3415-4765-b19a-b2f7014f2cfa","Singles Test":"https://lms.fargorate.com/PublicReport/LeagueReports?leagueId=e05896bb-b0f4-4a80-bf99-b2ca012ceaaa&divisionId=9058a0cc-3231-4118-bd91-b305006fe578"};function iU(t){const a={Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat"},e={Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[]};return t&&t.split(/\r?\n/).forEach(n=>{const s=n.match(/Day:\s*(\w+),\s*Available From:\s*([\w:]+),\s*Available Until:\s*([\w: ]+)/i);if(s){const[o,l,u,h]=s,m=a[l];m&&e[m].push(`${u} - ${h}`)}}),e}function Td(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[o,l,u]=t.split("-"),h=new Date(parseInt(o),parseInt(l)-1,parseInt(u)),m=String(h.getMonth()+1).padStart(2,"0"),p=String(h.getDate()).padStart(2,"0"),v=h.getFullYear();return`${m}-${p}-${v}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const o=t.split("/");if(o.length===3){const[l,u,h]=o;a=new Date(h,l-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function TE({playerName:t,playerLastName:a,onOpenChat:e,userPin:n,onGoToAdmin:s,onLogout:o,onScheduleMatch:l,senderEmail:u}){const[h,m]=w.useState([]),[p,v]=w.useState(""),[b,S]=w.useState(!1),[C,_]=w.useState(!1),[E,I]=w.useState(null),[A,M]=w.useState(""),[k,L]=w.useState(!1),[U,F]=w.useState(!1),[z,q]=w.useState(null),[te,ge]=w.useState([]),[le,re]=w.useState(!0),[ee,j]=w.useState(!1),[D,H]=w.useState(""),[V,W]=w.useState(""),[R,B]=w.useState(null),[Z,K]=w.useState(!1),[se,Ie]=w.useState(!1),[$,Ce]=w.useState(!1),[de,we]=w.useState("scheduled"),[Oe,We]=w.useState([]),[et,qt]=w.useState(!1),[xn,en]=w.useState(!1),[Yn,xt]=w.useState(!1),[gn,ka]=w.useState(null),[gt,Qn]=w.useState(!1),[ia,yn]=w.useState(null),[so,xs]=w.useState(!1),[kn,tn]=w.useState(null),[Ht,vn]=w.useState([]),[lu,io]=w.useState(0),[mi,Vn]=w.useState(0),[Xn,La]=w.useState(0),pt=`${t} ${a}`.trim(),{pendingProposals:In,sentProposals:pr,loading:gr,refetch:ma}=aE(pt,p),bt=gn||de,{matches:Ln,completedMatches:pa,loading:Pa,refetch:Kn,markMatchCompleted:ar,updateCompletedMatch:Oa}=eU(pt,p,bt),[pi,pl]=w.useState(0),[Jn,cn]=w.useState(0),[un,ea]=w.useState(!1),[Gr,yr]=w.useState(!1),[ga,Is]=w.useState(null),[Zr,gi]=w.useState(!1),[vr,$r]=w.useState(!1),[qr,ya]=w.useState(!1),[Yt,yi]=w.useState(0),[vi,ta]=w.useState(!1),[oa,Ds]=w.useState(null),[br,Ms]=w.useState({player1:"",player2:""}),[wr,As]=w.useState(null),[Cr,va]=w.useState(null),[bi,rr]=w.useState(!1),[Ba,Ts]=w.useState(null),ba=w.useRef(null),gl=no();w.useEffect(()=>{(async()=>{try{const Ee=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);console.log("Device Info:",{userAgent:navigator.userAgent,isMobile:Ee,backendUrl:mt,protocol:window.location.protocol,hostname:window.location.hostname}),console.log("Testing backend connection...");const ye=await fetch(`${mt}/health`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",credentials:"include"});ye.ok?console.log("✅ Backend connection successful"):console.error("❌ Backend connection failed:",ye.status,ye.statusText)}catch(Ee){console.error("❌ Backend connection error:",Ee),console.error("Error details:",{name:Ee.name,message:Ee.message,stack:Ee.stack})}})()},[]),w.useEffect(()=>{pl(In.length)},[In]),w.useEffect(()=>{cn(pr.length)},[pr]),w.useEffect(()=>{async function P(){if(p)try{const[Ee,ye]=await Promise.all([Vo.getCurrentSeason(p),Vo.getCurrentPhaseAndWeek(p)]);As((Ee==null?void 0:Ee.season)||null),va(ye)}catch(Ee){console.error("Error fetching season data:",Ee)}}P()},[p]),w.useEffect(()=>{async function P(){try{const ye=await(await fetch(`${mt}/api/messages/unread?user=${encodeURIComponent(u)}`)).json();Array.isArray(ye)&&yi(ye.length)}catch(Ee){console.error("Failed to fetch unread messages:",Ee)}}if(u){P();const Ee=setInterval(P,3e4);return()=>clearInterval(Ee)}},[u]),w.useEffect(()=>{if(!t||!a||!p||Pa||gr)return;const P=bt==="challenge"?2:1,ye=Oe.filter(Xe=>Xe.division===p&&Xe.phase===P&&(Xe.player1&&Xe.player1.trim().toLowerCase()===pt.toLowerCase()||Xe.player2&&Xe.player2.trim().toLowerCase()===pt.toLowerCase())).length;Vn(pa.length);const je=Ln.filter(Xe=>Xe.status==="confirmed"&&(Xe.completed===!1||Xe.completed===void 0)).length+pa.length,Re=Math.max(0,ye-je);io(Re),La(ye)},[t,a,p,Oe,pa,Ln,Pa,gr]);const wi=(()=>{if(!t||!a||!p)return 0;const Ee=Oe.filter(ye=>ye.division===p&&(ye.player1&&ye.player1.trim().toLowerCase()===pt.toLowerCase()||ye.player2&&ye.player2.trim().toLowerCase()===pt.toLowerCase())).length;return Ee===0&&bt==="scheduled"?(console.log("No schedule matches found, using fallback of 6 matches for Phase 1"),6):Ee})();w.useEffect(()=>{let P=!0;async function Ee(){try{const ye=await Sh(aU,`${rU}!A1:L1000`);if(!ye||ye.length===0){P&&vn([]);return}const _e=ye.slice(1).map(je=>({firstName:je[0]||"",lastName:je[1]||"",email:je[2]||"",phone:je[3]||"",locations:je[8]||"",availability:iU(je[7]||""),pin:je[11]||"",preferredContacts:(je[10]||"").split(/\r?\n/).map(Re=>Re.trim().toLowerCase()).filter(Boolean)})).filter(je=>je.email&&je.firstName&&je.lastName);P&&vn(_e)}catch{P&&vn([])}}return Ee(),()=>{P=!1}},[]),w.useEffect(()=>{if(!p){We([]);return}let P;p==="FRBCAPL TEST"?P="schedule_FRBCAPL_TEST.json":p==="Singles Test"?P="schedule_Singles_Test.json":P=`schedule_${p.replace(/[^A-Za-z0-9]/g,"_")}.json`;const Ee=`${mt}/static/${P}`;fetch(Ee).then(ye=>{if(!ye.ok)throw new Error("Schedule not found");return ye.json()}).then(ye=>{console.log("Schedule loaded for",p,":",ye.length,"matches"),We(ye)}).catch(ye=>{console.error("Failed to load schedule for",p,":",ye),console.log("Schedule URL attempted:",Ee),We([])})},[p]),w.useEffect(()=>{u&&AE.getUser(u).then(P=>{let Ee=[];Array.isArray(P.divisions)?Ee=P.divisions.map(ye=>ye.trim()).filter(Boolean):typeof P.divisions=="string"?Ee=P.divisions.split(",").map(ye=>ye.trim()).filter(Boolean):Ee=[],m(Ee)}).catch(()=>{m([])})},[u]),w.useEffect(()=>{h.length>0?v(h[0]):v("")},[h]),w.useEffect(()=>{re(!0),Ad.getAllNotes().then(P=>{ge(P),re(!1)}).catch(()=>{ge([]),re(!1)})},[]),w.useEffect(()=>{if(!t||!a||!p)return;const P=setInterval(()=>{ma(),Kn()},2*60*1e3);return()=>clearInterval(P)},[t,a,p,ma,Kn]);const Dn=async()=>{W("");try{const P=await Ad.createNote(D.trim());ge([P,...te]),H(""),j(!1)}catch{W("Failed to add note")}},oo=async P=>{if(window.confirm("Delete this note?"))try{await Ad.deleteNote(P),ge(te.filter(Ee=>Ee._id!==P))}catch(Ee){console.error("Failed to delete note:",Ee)}},G=async()=>{if(window.confirm("Are you sure you want to clear all notes?"))try{for(const P of te)await Ad.deleteNote(P._id);ge([])}catch(P){console.error("Failed to clear notes:",P)}};async function N(P){if(z)try{await ui.counterProposal(z._id,P),F(!1),q(null),Kn(),ma()}catch(Ee){console.error("Failed to counter proposal:",Ee)}}function ce(){K(!1),B(null)}const fe=bt==="challenge"?2:1,be=Oe.filter(P=>P.division===p&&(!P.phase||P.phase===fe)&&(P.player1&&P.player1.trim().toLowerCase()===pt.toLowerCase()||P.player2&&P.player2.trim().toLowerCase()===pt.toLowerCase())),Me=Array.from(new Set(be.map(P=>P.player1&&P.player1.trim().toLowerCase()===pt.toLowerCase()?P.player2Email||P.player2EmailAddress||P.player2Email||P.player2||null:P.player2&&P.player2.trim().toLowerCase()===pt.toLowerCase()&&(P.player1Email||P.player1EmailAddress||P.player1Email||P.player1)||null).filter(Boolean)));function De(){var ye,_e;const P=new Set,Ee=[];for(const je of be){const Re=je.player1&&je.player1.trim().toLowerCase()===pt.toLowerCase()?je.player2:je.player1;if(pa.some(st=>{var nn,Mn;const ut=[(nn=st.senderName)==null?void 0:nn.trim().toLowerCase(),(Mn=st.receiverName)==null?void 0:Mn.trim().toLowerCase()];return Array.isArray(st.divisions)&&st.divisions.includes(p)&&ut.includes(pt.toLowerCase())&&ut.includes(Re==null?void 0:Re.trim().toLowerCase())}))continue;let jt=!1;for(let st=0;st<Ln.length;st++){if(P.has(st))continue;const ut=Ln[st],nn=[(ye=ut.senderName)==null?void 0:ye.trim().toLowerCase(),(_e=ut.receiverName)==null?void 0:_e.trim().toLowerCase()];if(Array.isArray(ut.divisions)&&ut.divisions.includes(p)&&nn.includes(pt.toLowerCase())&&nn.includes(Re==null?void 0:Re.trim().toLowerCase())){P.add(st),jt=!0;break}}jt||Ee.push(je)}return Ee}const Je=De().map(P=>{var _e,je;const Ee=P.player1&&P.player1.trim().toLowerCase()===pt.toLowerCase()?(_e=P.player2)==null?void 0:_e.trim():(je=P.player1)==null?void 0:je.trim();if(!Ee)return null;const ye=Ht.find(Re=>`${Re.firstName} ${Re.lastName}`.trim().toLowerCase()===Ee.toLowerCase());return{match:P,player:ye,opponentName:Ee}}).filter(Boolean);function He(P){const Ee=Ht.find(ye=>`${ye.firstName} ${ye.lastName}`.trim().toLowerCase()===P.trim().toLowerCase());if(!Ee){alert("Player data not found for: "+P);return}if(!Ee.email){alert("This opponent does not have an email on file and cannot be proposed a match.");return}yn(Ee),Qn(!0),qt(!1)}w.useEffect(()=>{if(!u||!t||!p||!wr||bt!=="scheduled")return;const P=async()=>{try{await nU.checkAndSendDeadlineReminder(u,`${t} ${a}`,p)}catch(ye){console.error("Error checking deadline reminders:",ye)}};P();const Ee=setInterval(P,60*60*1e3);return()=>clearInterval(Ee)},[u,t,a,p,wr,bt]);const Ke=Ln.filter(P=>P.divisions&&p&&Array.isArray(P.divisions)&&P.divisions.includes(p));function Fe(P){B(P),K(!0)}const Te=$&&f.createElement("div",{className:ve.modalOverlay},f.createElement("div",{className:ve.modalContent,style:{maxWidth:600,maxHeight:"80vh",overflowY:"auto"}},f.createElement("h2",{style:{color:"#fff",marginBottom:16}},"All Upcoming Matches"),f.createElement("ul",{className:ve.dashboardList,style:{width:"100%",maxWidth:520,margin:"0 auto"}},Ke.map((P,Ee)=>{let ye="",_e="";if(P.type==="scheduled")if(P.player1&&P.player2&&(P.player1.trim().toLowerCase()===pt.trim().toLowerCase()?ye=P.player2:ye=P.player1),P.date){const Re=P.date.split("/");if(Re.length===3){const[Xe,jt,st]=Re,ut=new Date(`${st}-${Xe.padStart(2,"0")}-${jt.padStart(2,"0")}`);isNaN(ut.getTime())?_e="[Invalid Date]":_e=Td(P.date)}else _e="[Invalid Date]"}else _e="[No Date]";else if(P.senderName&&P.receiverName&&(P.senderName.trim().toLowerCase()===pt.trim().toLowerCase()?ye=P.receiverName:ye=P.senderName),P.date){const Re=P.date.split("-");if(Re.length===3){const[Xe,jt,st]=Re,ut=new Date(`${Xe}-${jt}-${st}`);isNaN(ut.getTime())?_e="[Invalid Date]":_e=Td(P.date)}else _e="[Invalid Date]"}else _e="[No Date]";P.completed;const je=!!P.completed;return f.createElement("li",{key:P._id||Ee,className:ve.matchCard,style:{padding:"0.4rem 0.5rem",fontSize:"0.98em",marginBottom:8}},f.createElement("div",{className:ve.matchCardContentWrapper},f.createElement("button",{className:ve.matchCardButton,onClick:()=>Fe(P),type:"button",style:{padding:0,margin:0,minHeight:0,fontSize:"0.98em",display:"flex",alignItems:"center",gap:8,width:"100%",background:"none",border:"none"}},f.createElement("span",{className:ve.matchCardOpponentLabel,style:{fontSize:"1em",marginRight:4}},"VS:"),f.createElement("span",{className:ve.matchCardOpponentName,style:{fontSize:"1em",marginRight:8}},ye||"[Unknown Opponent]"),f.createElement("span",{className:ve.matchCardDetail,style:{fontSize:"0.97em",marginRight:8}},_e),f.createElement("span",{className:ve.matchCardDetail,style:{fontSize:"0.97em"}},P.location||"[No Location]")),!je&&f.createElement(Xg,{className:ve.dashboardBtn+" "+ve.matchCardDoneBtn,loading:ga===P._id,loadingText:"Completing...",style:{marginLeft:0,minWidth:70,padding:"4px 8px",fontSize:"0.75em",height:28,lineHeight:"20px",marginTop:6,opacity:.18,filter:"blur(0.5px) grayscale(0.2)",transition:"opacity 0.22s, filter 0.22s, background 0.22s"},onMouseEnter:Re=>{ga!==P._id&&(Re.target.style.opacity="1",Re.target.style.filter="none")},onMouseLeave:Re=>{ga!==P._id&&(Re.target.style.opacity="0.18",Re.target.style.filter="blur(0.5px) grayscale(0.2)")},onClick:()=>{let Re="",Xe="";P.type==="scheduled"?(Re=P.player1,Xe=P.player2):(Re=P.senderName,Xe=P.receiverName),Ds(P),Ms({player1:Re,player2:Xe}),ta(!0)},type:"button"},"Complete")))})),f.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:16}},f.createElement("button",{className:ve.dashboardBtn,onClick:()=>Ce(!1)},"Close")))),oe=[...Ln.filter(P=>{var Ee,ye;return P.status==="confirmed"&&Array.isArray(P.divisions)&&P.divisions.includes(p)&&[(Ee=P.senderName)==null?void 0:Ee.trim().toLowerCase(),(ye=P.receiverName)==null?void 0:ye.trim().toLowerCase()].includes(pt.toLowerCase())}),...pa.filter(P=>{var Ee,ye;return Array.isArray(P.divisions)&&P.divisions.includes(p)&&[(Ee=P.senderName)==null?void 0:Ee.trim().toLowerCase(),(ye=P.receiverName)==null?void 0:ye.trim().toLowerCase()].includes(pt.toLowerCase())})];Array.from(new Set(oe.map(P=>P._id))).map(P=>oe.find(Ee=>Ee._id===P)).length;const[Ne,Ue]=w.useState(!1);[...In.filter(P=>P.status==="pending"&&P.receiverName===pt),...pr.filter(P=>P.status==="countered"&&P.senderName===pt)],[...pr.filter(P=>P.status==="pending"&&P.senderName===pt),...In.filter(P=>P.status==="countered"&&P.receiverName===pt)];const yt=et&&ba.current?Qc.createPortal(f.createElement("div",{style:{position:"absolute",top:ba.current.getBoundingClientRect().top+window.scrollY,left:ba.current.getBoundingClientRect().left+window.scrollX,width:ba.current.offsetWidth,height:ba.current.offsetHeight,zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.6)",pointerEvents:"auto"}},f.createElement(VS,{open:et,onClose:()=>qt(!1),opponents:Je,onOpponentClick:He,phase:bt})),document.body):null,Be=window.innerWidth<=768;return f.createElement("div",{className:ve.dashboardBg,style:{position:"relative"}},f.createElement("div",{className:ve.dashboardFrame,style:{position:"relative",zIndex:1}},f.createElement("div",{className:ve.dashboardCard,style:{position:"relative",zIndex:1,padding:Be?"12px":"20px",margin:Be?"6px":"16px"}},f.createElement("h1",{className:ve.dashboardTitle,style:{fontSize:Be?"1.6rem":"2rem"}},"Welcome,",f.createElement("span",{className:ve.dashboardUserName,style:{fontSize:Be?"1.4rem":"1.8rem"}},t," ",a)),f.createElement("div",{className:ve.announcement,style:{fontSize:Be?"0.75rem":"1rem",marginBottom:Be?"8px":"16px"}},f.createElement("p",null,"This is the BETA version. "),"Matches that are created, scheduled, and confirmed will NOT be played.",f.createElement("br",null),"This is for testing purposes only."),n==="777777"&&f.createElement("div",{style:{marginBottom:Be?12:16,textAlign:"center"}},f.createElement("button",{onClick:()=>window.location.hash="#/tenball-tutorial",style:{background:"linear-gradient(45deg, #4CAF50, #8BC34A)",border:"none",color:"white",padding:Be?"10px 16px":"12px 20px",borderRadius:"25px",cursor:"pointer",fontSize:Be?"0.9rem":"1rem",fontWeight:"bold",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(76, 175, 80, 0.3)"},onMouseEnter:P=>{P.target.style.transform="translateY(-2px)",P.target.style.boxShadow="0 6px 20px rgba(76, 175, 80, 0.4)"},onMouseLeave:P=>{P.target.style.transform="translateY(0)",P.target.style.boxShadow="0 4px 15px rgba(76, 175, 80, 0.3)"}},f.createElement("img",{src:th,alt:"10-Ball",style:{width:"20px",height:"20px",marginRight:"8px",display:"inline-block",verticalAlign:"text-bottom"}}),"Play 10-Ball Tutorial & Learn Official CSI Rules")),!Be&&f.createElement("br",null),h.length>0&&f.createElement("div",{style:{marginBottom:Be?8:16,display:"flex",flexDirection:"column",alignItems:Be?"flex-start":"center",gap:Be?"8px":"12px"}},f.createElement("div",{style:{display:"flex",flexDirection:Be?"column":"row",alignItems:Be?"flex-start":"center",gap:Be?"4px":"12px",width:"100%"}},f.createElement("label",{style:{fontSize:Be?"0.9rem":"1rem"}},"Division: ",h.length>1?f.createElement("select",{value:p,onChange:P=>v(P.target.value),style:{fontSize:Be?"0.9em":"1em",padding:Be?6:4,borderRadius:4}},h.map(P=>f.createElement("option",{key:P,value:P},P))):f.createElement("span",{style:{fontWeight:600}},h[0])),!Be&&f.createElement("span",{style:{fontSize:"0.9em",padding:"4px 8px",borderRadius:"4px",backgroundColor:bt==="challenge"?"#e53e3e":"#28a745",color:"white",fontWeight:"600"}},"Phase ",bt==="challenge"?"2":bt==="scheduled"?"1":"Complete")),Be&&f.createElement("span",{style:{fontSize:"0.8em",padding:"3px 6px",borderRadius:"4px",backgroundColor:bt==="challenge"?"#e53e3e":"#28a745",color:"white",fontWeight:"600",alignSelf:"center"}},"Phase ",bt==="challenge"?"2":bt==="scheduled"?"1":"Complete")),f.createElement(XB,{playerName:t,playerLastName:a,selectedDivision:p,phase:bt}),f.createElement("section",{className:`${ve.dashboardSection} ${ve.dashboardSectionBox} ${ve.matchesSection}`,style:{position:"relative",overflow:"visible",backgroundColor:"rgba(0, 0, 0, .5)",minHeight:Be?"120px":"370px",marginBottom:Be?"16px":"36px",paddingBottom:"20px"}},f.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},f.createElement("div",{className:ve.poolTableContainer,style:{marginBottom:Be?"12px":"24px",position:"relative",width:"100%",maxWidth:Be?"98%":"600px"}},bt==="scheduled"&&wr&&f.createElement("div",{style:{position:"absolute",top:Be?"10px":"20px",left:"50%",transform:"translateX(-50%)",zIndex:10,width:Be?"95%":"90%",maxWidth:Be?"400px":"500px"}},f.createElement(VB,{currentPhase:bt,seasonData:wr,completedMatches:pa,totalRequiredMatches:wi,playerName:t,playerLastName:a,selectedDivision:p,onOpenOpponentsModal:()=>qt(!0),onOpenCompletedMatchesModal:()=>Ue(!0),onOpenStandingsModal:()=>S(!0),pendingCount:pi,sentCount:Jn,onOpenProposalListModal:()=>_(!0),onOpenSentProposalListModal:()=>L(!0),upcomingMatches:Ke,onMatchClick:Fe,isMobile:Be})),Be?f.createElement("div",{className:ve.simulationContainer,ref:ba,style:{width:"100%",height:"140px",position:"relative"}},f.createElement(sf,null)):f.createElement(DS,{aspectWidth:600,aspectHeight:300},f.createElement("div",{className:ve.simulationContainer,ref:ba,style:{width:"100%",height:"100%",position:"relative"}},f.createElement(sf,null))),yt,!Be&&f.createElement("div",{style:{position:"absolute",left:"20%",width:"60%",bottom:"15%",height:"50px",zIndex:1e5,pointerEvents:"auto",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"stretch"}},f.createElement("ul",{className:ve.dashboardList,style:{minHeight:"auto",margin:0,pointerEvents:"auto",padding:0,width:"100%"}},Ke.length===0?f.createElement("div",{style:{color:"#fff",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",fontSize:"1.1rem",fontWeight:"bold"}},"No matches scheduled yet.                  "):f.createElement(f.Fragment,null,(se?Ke:Ke.slice(0,3)).map((P,Ee)=>{let ye="",_e="";if(P.type==="scheduled")if(P.player1&&P.player2&&(P.player1.trim().toLowerCase()===pt.trim().toLowerCase()?ye=P.player2:ye=P.player1),P.date){const Re=P.date.split("/");if(Re.length===3){const[Xe,jt,st]=Re,ut=new Date(`${st}-${Xe.padStart(2,"0")}-${jt.padStart(2,"0")}`);isNaN(ut.getTime())?_e="[Invalid Date]":_e=Td(P.date)}else _e="[Invalid Date]"}else _e="[No Date]";else if(P.senderName&&P.receiverName&&(P.senderName.trim().toLowerCase()===pt.trim().toLowerCase()?ye=P.receiverName:ye=P.senderName),P.date){const Re=P.date.split("-");if(Re.length===3){const[Xe,jt,st]=Re,ut=new Date(`${Xe}-${jt}-${st}`);isNaN(ut.getTime())?_e="[Invalid Date]":_e=Td(P.date)}else _e="[Invalid Date]"}else _e="[No Date]";P.completed;const je=!!P.completed;return f.createElement("li",{key:P._id||Ee,className:ve.matchCard,style:{padding:"0.2rem 0.3rem",fontSize:"0.85em",marginBottom:4}},f.createElement("div",{className:ve.matchCardContentWrapper},f.createElement("button",{className:ve.matchCardButton,onClick:()=>Fe(P),type:"button",style:{padding:0,margin:0,minHeight:0,fontSize:"0.85em",display:"flex",alignItems:"center",gap:4,width:"100%",background:"none",border:"none",justifyContent:"space-between",textAlign:"left"}},f.createElement("div",{style:{display:"flex",alignItems:"center",gap:4}},f.createElement("span",{className:ve.matchCardOpponentLabel,style:{fontSize:"0.95em",marginRight:2}},"VS"),f.createElement("span",{className:ve.matchCardOpponentName,style:{fontSize:"1.25em",fontWeight:700}},ye||"[Unknown]")),f.createElement("span",{className:ve.matchCardDetail,style:{fontSize:"1.08em"}},_e)),f.createElement("div",{style:{width:"100%",textAlign:"center",margin:"2px 0 0 0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"0.95em"}},f.createElement("span",{className:ve.matchCardDetail},P.location||"")),!je&&f.createElement(Xg,{className:ve.dashboardBtn+" "+ve.matchCardDoneBtn,loading:ga===P._id,loadingText:"Completing...",style:{marginLeft:0,minWidth:70,padding:"4px 8px",fontSize:"0.75em",height:28,lineHeight:"20px",marginTop:6,opacity:.18,filter:"blur(0.5px) grayscale(0.2)",transition:"opacity 0.22s, filter 0.22s, background 0.22s"},onMouseEnter:Re=>{ga!==P._id&&(Re.target.style.opacity="1",Re.target.style.filter="none")},onMouseLeave:Re=>{ga!==P._id&&(Re.target.style.opacity="0.18",Re.target.style.filter="blur(0.5px) grayscale(0.2)")},onClick:()=>{let Re="",Xe="";P.type==="scheduled"?(Re=P.player1,Xe=P.player2):(Re=P.senderName,Xe=P.receiverName),Ds(P),Ms({player1:Re,player2:Xe}),ta(!0)},type:"button"},"Complete")))}))))))),f.createElement("section",{className:`${ve.dashboardSection} ${ve.dashboardSectionBox}`},f.createElement("div",{className:ve.newsUpdatesHeader},f.createElement("button",{className:ve.dashboardBtn,onClick:()=>ya(!0),type:"button",style:{position:"relative"}},"💬 Direct Messages",Yt>0&&f.createElement("span",{style:{position:"absolute",top:"-8px",right:"-8px",background:"#e53e3e",color:"#fff",borderRadius:"50%",width:"20px",height:"20px",fontSize:"0.75em",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"}},Yt>99?"99+":Yt)),f.createElement("button",{className:ve.dashboardBtn,onClick:()=>gl("/chat"),type:"button",style:{background:"#4ecdc4",borderColor:"#4ecdc4",color:"#fff"}},"🚀 League Chat"),f.createElement("h2",{className:ve.dashboardSectionTitle},"News & Updates"),f.createElement("button",{className:ve.dashboardBtn,type:"button",onClick:()=>S(!0)},"📊 View Standings")),le?f.createElement(nB,{lines:3,height:"16px"}):f.createElement("ul",{className:ve.dashboardList},te.length===0?f.createElement("li",{className:ve.dashboardNoteItem},"No news yet."):te.map((P,Ee)=>f.createElement("li",{key:P._id||Ee,className:ve.dashboardNoteItem},f.createElement("span",{style:{flex:1}},P.text),n==="777777"&&f.createElement("button",{onClick:()=>oo(P._id),style:{background:"#e53935",color:"#fff",border:"none",borderRadius:4,padding:"2px 8px",cursor:"pointer",fontSize:"0.95em"},"aria-label":"Delete note",title:"Delete note",type:"button"},"Delete")))),n==="777777"&&te.length>0&&f.createElement("button",{style:{marginTop:10,background:"#444",color:"#fff",border:"none",borderRadius:5,padding:"4px 14px",cursor:"pointer",fontSize:"0.98em"},onClick:G,type:"button"},"Clear All Notes")),f.createElement("button",{className:ve.dashboardLogoutBtn,onClick:o,type:"button"},"Logout"),n==="777777"&&f.createElement(f.Fragment,null,f.createElement("button",{className:ve.dashboardAdminBtn,onClick:()=>j(!0),type:"button"},"Add Note"),f.createElement("button",{className:ve.dashboardAdminBtn,onClick:s,type:"button"},"Admin"),f.createElement("button",{className:ve.dashboardAdminBtn,onClick:()=>ka(gn==="challenge"?"scheduled":"challenge"),type:"button"},gn==="challenge"?"Switch to Phase 1 (Scheduled)":"Switch to Phase 2 (Challenge)"),gn&&f.createElement("button",{className:ve.dashboardAdminBtn,onClick:()=>ka(null),type:"button",style:{background:"#888"}},"Clear Phase Override")))),xn&&f.createElement(f.Fragment,null,f.createElement(Vg,{onClose:()=>en(!1),excludeName:pt,senderName:pt,senderEmail:u,selectedDivision:p,phase:bt,onProposalComplete:()=>en(!1)})),Yn&&f.createElement(Vg,{onClose:()=>xt(!1),excludeName:null,senderName:pt,senderEmail:u,phase:bt,onProposalComplete:()=>xt(!1)}),gt&&ia&&f.createElement(Dy,{onClose:()=>{Qn(!1),yn(null)},player:ia,onProposeMatch:(P,Ee)=>{tn({player:ia,day:P,slot:Ee,selectedDivision:p,phase:bt}),xs(!0),Qn(!1),yn(null)},selectedDivision:p,phase:bt}),so&&kn&&f.createElement(Zy,{player:kn.player,day:kn.day,slot:kn.slot,selectedDivision:kn.selectedDivision,phase:kn.phase||bt,onClose:()=>xs(!1),senderName:`${t} ${a}`,senderEmail:u,onProposalComplete:()=>{xs(!1),tn(null),Kn(),ma()}}),f.createElement(hN,{open:b,onClose:()=>S(!1),standingsUrl:sU[p]}),f.createElement(NN,{open:Z,onClose:ce,match:R,onCompleted:P=>setUpcomingMatches(Ee=>Ee.filter(ye=>ye._id!==P)),userPin:n,onMatchUpdated:P=>B(P),senderName:`${t} ${a}`,senderEmail:u}),ee&&f.createElement("div",{className:ve.modalOverlay,style:{zIndex:99999}},f.createElement("div",{className:ve.modalContent,style:{maxWidth:400,margin:"auto"}},f.createElement("h2",null,"Add News/Note"),f.createElement("textarea",{value:D,onChange:P=>H(P.target.value),rows:4,style:{width:"100%",marginBottom:12,borderRadius:6,padding:8},placeholder:"Enter your note..."}),V&&f.createElement("div",{style:{color:"red",marginBottom:8}},V),f.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:8}},f.createElement("button",{className:ve.dashboardBtn,onClick:()=>j(!1),type:"button"},"Cancel"),f.createElement("button",{className:ve.dashboardBtn,disabled:!D.trim(),onClick:Dn,type:"button"},"Add Note")))),C&&f.createElement(Ap,{proposals:In,onSelect:P=>{const Ee=u&&P.senderEmail&&u.toLowerCase()===P.senderEmail.toLowerCase()||`${t} ${a}`.toLowerCase()===(P.senderName||"").toLowerCase();I(P),M(""),_(!1),ea(Ee)},onClose:()=>_(!1),type:"received"}),k&&f.createElement(Ap,{proposals:pr,onSelect:P=>{const Ee=u&&P.senderEmail&&u.toLowerCase()===P.senderEmail.toLowerCase()||`${t} ${a}`.toLowerCase()===(P.senderName||"").toLowerCase();I(P),M(""),L(!1),ea(Ee)},onClose:()=>L(!1),type:"sent"}),E&&!un&&f.createElement("div",{className:ve.modalOverlay},f.createElement("div",{className:ve.modalContent,style:{maxWidth:420,margin:"auto"}},f.createElement(YN,{proposal:E,userNote:A,setUserNote:M,onConfirm:async()=>{await ui.updateProposalStatus(E._id,"confirmed",A),I(null),M(""),Kn(),ma()},onClose:()=>{I(null),M("")},onCounterPropose:()=>{q(E),F(!0),I(null)},phase:bt,currentUserName:`${t} ${a}`,currentUserEmail:u}))),f.createElement(jR,{proposal:z,open:U,onClose:()=>{F(!1),q(null)},onSubmit:N,senderPlayer:Ht.find(P=>{var Ee,ye;return`${P.firstName} ${P.lastName}`.trim().toLowerCase()===((z==null?void 0:z.senderName)||"").trim().toLowerCase()||((Ee=P.email)==null?void 0:Ee.toLowerCase())===((ye=z==null?void 0:z.senderEmail)==null?void 0:ye.toLowerCase())}),phase:bt,selectedDivision:p}),E&&un&&f.createElement(rB,{proposal:E,open:un,onClose:()=>{ea(!1),I(null)},onEdit:()=>{E.isCounter?(ea(!1),setTimeout(()=>{I(null),q(E),F(!0)},0)):yr(!0)},onMessage:()=>{alert("Message opponent coming soon!")}}),E&&Gr&&f.createElement(oB,{proposal:E,open:Gr,onClose:()=>{yr(!1)},onSave:P=>{I(P),ma(),yr(!1)},selectedDivision:p,phase:bt,receiverPlayer:Ht.find(P=>{var Ee,ye;return`${P.firstName} ${P.lastName}`.trim().toLowerCase()===(E.receiverName||"").trim().toLowerCase()||((Ee=P.email)==null?void 0:Ee.toLowerCase())===((ye=E.receiverEmail)==null?void 0:ye.toLowerCase())})}),Te,qr&&f.createElement("div",{className:ve.modalOverlay,style:{zIndex:99999}},f.createElement("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"95vw",height:"95vh",maxWidth:"1400px",maxHeight:"900px",background:"#181818",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",display:"flex",flexDirection:"column",overflow:"hidden"}},f.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderBottom:"1px solid #333",background:"#222",borderRadius:"12px 12px 0 0"}},f.createElement("h2",{style:{margin:0,color:"#fff",fontSize:"1.2em"}},"League Chat"),f.createElement("button",{onClick:()=>ya(!1),style:{background:"none",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px",transition:"background-color 0.2s"},onMouseOver:P=>P.target.style.background="#444",onMouseOut:P=>P.target.style.background="none",type:"button"},"×")),f.createElement("div",{style:{flex:1,overflow:"hidden",position:"relative"}},f.createElement(qB,{userName:`${t} ${a}`,userEmail:u,userPin:n,selectedDivision:p,opponentEmails:Me,onClose:()=>ya(!1)})))),Ne&&f.createElement(Ap,{proposals:pa,onSelect:()=>{},onClose:()=>Ue(!1),type:"completed",isAdmin:n==="777777",senderEmail:u,senderName:`${t} ${a}`,onProposalUpdated:P=>{Oa(P),ma()}}),f.createElement(gy,{open:vi,onClose:()=>ta(!1),player1:br.player1,player2:br.player2,onSelect:async P=>{if(oa){if((Cr==null?void 0:Cr.phase)==="scheduled"&&wr&&Vo.hasPhase1DeadlinePassed(wr)&&!window.confirm(`⚠️ PHASE 1 DEADLINE HAS PASSED!

You are attempting to complete a match after the Phase 1 deadline. This may affect your standings or eligibility for Phase 2.

Do you want to continue marking this match as completed?`)){ta(!1);return}ta(!1),Is(oa._id);try{await ui.markCompleted(oa._id,P),ar({...oa,winner:P}),Kn(),ma()}catch{alert("Failed to mark as completed.")}Is(null)}}}),f.createElement(KB,{isOpen:bi,onClose:()=>{rr(!1),Ts(null)},match:Ba,onValidate:async P=>{console.log("Validating match:",P),Kn()},onReject:async P=>{console.log("Rejecting match:",P),Kn()}}))}const oU="_customChannelHeader_1kvzt_1",lU="_customChannelHeaderIcon_1kvzt_51",cU="_customChannelHeaderTitle_1kvzt_61",uU="_customChannelHeaderDate_1kvzt_71",dU="_customChannelHeaderOnline_1kvzt_83",fU="_customChannelHeaderOnlineLabel_1kvzt_97",hU="_customChannelHeaderNone_1kvzt_109",mU="_customChannelHeaderAvatar_1kvzt_119",ti={customChannelHeader:oU,customChannelHeaderIcon:lU,customChannelHeaderTitle:cU,customChannelHeaderDate:uU,customChannelHeaderOnline:dU,customChannelHeaderOnlineLabel:fU,customChannelHeaderNone:hU,customChannelHeaderAvatar:mU};function pU(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[o,l,u]=t.split("-"),h=new Date(parseInt(o),parseInt(l)-1,parseInt(u)),m=String(h.getMonth()+1).padStart(2,"0"),p=String(h.getDate()).padStart(2,"0"),v=h.getFullYear();return`${m}-${p}-${v}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const o=t.split("/");if(o.length===3){const[l,u,h]=o;a=new Date(h,l-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function gU(t){if(!t)return"";const a=t.trim().split(" ");if(a.length===1){const e=a[0].split(/[^a-zA-Z0-9]/).filter(Boolean);return e.length>1?(e[0][0]+e[1][0]).toUpperCase():a[0].slice(0,2).toUpperCase()}return(a[0][0]+a[a.length-1][0]).toUpperCase()}function yU({channel:t,currentUser:a}){var l,u,h;const e=((l=t==null?void 0:t.data)==null?void 0:l.name)||(t==null?void 0:t.id)||"General Chat",n=(u=t==null?void 0:t.data)==null?void 0:u.matchDate,s=a==null?void 0:a.id,o=(h=t==null?void 0:t.state)!=null&&h.members?Object.values(t.state.members).filter(m=>{var p,v;return((p=m.user)==null?void 0:p.online)||((v=m.user)==null?void 0:v.id)===s}).map(m=>{var p,v;return((p=m.user)==null?void 0:p.name)||((v=m.user)==null?void 0:v.id)}).filter(Boolean):[(a==null?void 0:a.name)||(a==null?void 0:a.id)].filter(Boolean);return f.createElement("div",{className:ti.customChannelHeader,style:{width:"100%",margin:"0",borderRadius:"0",marginTop:"0",marginBottom:"0"}},f.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",width:"100%"}},f.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.8em",fontSize:"1.1em",textAlign:"center",width:"100%"}},f.createElement("span",{className:ti.customChannelHeaderIcon},"💬"),f.createElement("span",{style:{textAlign:"center"}},"You're in the"," ",f.createElement("span",{className:ti.customChannelHeaderTitle},'"',e,'"')," ","channel."),n&&f.createElement("span",{className:ti.customChannelHeaderDate},"Match Date: ",pU(n))),f.createElement("div",{className:ti.customChannelHeaderOnline},f.createElement("span",{className:ti.customChannelHeaderOnlineLabel},"Online:"),o.length===0&&f.createElement("span",{className:ti.customChannelHeaderNone},"No one online"),o.map(m=>f.createElement("span",{key:m,className:ti.customChannelHeaderAvatar,title:m},gU(m))))))}function vU(t){const a={Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat"},e={Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[]};return t&&t.split(/\r?\n/).forEach(n=>{const s=n.match(/Day:\s*(\w+),\s*Available From:\s*([\w:]+),\s*Available Until:\s*([\w: ]+)/i);if(s){const[o,l,u,h]=s,m=a[l];m&&e[m].push(`${u} - ${h}`)}}),e}const bU="1tvMgMHsRwQxsR6lMNlSnztmwpK7fhZeNEyqjTqmRFRc",wU="BCAPL SIGNUP";function CU({userName:t,userEmail:a,userPin:e,onClose:n,fromChat:s=!1}){const[o,l]=w.useState([]),[u,h]=w.useState(!0),[m,p]=w.useState(""),[v,b]=w.useState("scheduled"),[S,C]=w.useState(!1),[_,E]=w.useState(!1),[I,A]=w.useState(!1),[M,k]=w.useState(!1),[L,U]=w.useState(null),[F,z]=w.useState(null),[q,te]=w.useState([]),[ge,le]=w.useState([]),[re,ee]=w.useState(!1);w.useEffect(()=>{a&&AE.getUser(a).then(B=>{let Z=[];Array.isArray(B.divisions)?Z=B.divisions.map(K=>K.trim()).filter(Boolean):typeof B.divisions=="string"?Z=B.divisions.split(",").map(K=>K.trim()).filter(Boolean):Z=[],l(Z),h(!1)}).catch(()=>{l([]),h(!1)})},[a]);const j=async B=>{ee(!0);try{const Z=`schedule_${B.replace(/[^A-Za-z0-9]/g,"_")}.json`,K=`${mt}/static/${Z}`;console.log("🔍 Fetching schedule from:",K);const se=await fetch(K);if(!se.ok)throw new Error("Schedule not found");const Ie=await se.json();console.log("🔍 Schedule data loaded:",Ie.length,"matches"),te(Ie);const $=await fetch(`${mt}/api/users`);if(!$.ok)throw new Error("Players not found");const Ce=await $.json();console.log("🔍 Players data loaded:",Ce.length,"players"),le(Ce)}catch(Z){console.error("Failed to load schedule data:",Z),te([]),le([])}finally{ee(!1)}},D=async B=>{p(B);try{const Z=await Vo.getCurrentPhaseAndWeek(B),K=(Z==null?void 0:Z.phase)||"scheduled";console.log("🔍 DivisionSelectorModal - Phase detection:",{division:B,phase:K,willShowOpponents:K==="scheduled"||K==="offseason"}),b(K),K==="scheduled"||K==="offseason"?(console.log("🔍 Opening OpponentsModal for phase:",K),await j(B),C(!0)):(console.log("🔍 Opening PlayerSearch for phase:",K),E(!0))}catch(Z){console.error("Error fetching phase data:",Z),E(!0)}},H=()=>{if(!q.length||!ge.length)return[];const B=`${t}`,Z=[];for(const se of q)if(se.player1&&se.player2&&!se.scheduled){const Ie=se.player1.trim(),$=se.player2.trim();(Ie.toLowerCase()===B.toLowerCase()||$.toLowerCase()===B.toLowerCase())&&Z.push(se)}return Z.map(se=>{var Ce,de;const Ie=se.player1&&se.player1.trim().toLowerCase()===B.toLowerCase()?(Ce=se.player2)==null?void 0:Ce.trim():(de=se.player1)==null?void 0:de.trim();if(!Ie)return null;const $=ge.find(we=>we.name&&we.name.trim().toLowerCase()===Ie.toLowerCase());return{match:se,player:$,opponentName:Ie}}).filter(Boolean)},V=async B=>{const Z=ge.find(K=>K.name&&K.name.trim().toLowerCase()===B.trim().toLowerCase());if(!Z){alert("Player data not found for: "+B);return}if(!Z.email){alert("This opponent does not have an email on file and cannot be proposed a match.");return}if(s){try{console.log("Fetching detailed player data for:",B);const Ie=(await Sh(bU,`${wU}!A1:L1000`)).slice(1).map($=>({firstName:$[0]||"",lastName:$[1]||"",email:$[2]||"",phone:$[3]||"",locations:$[8]||"",availability:$[7]||"",pin:$[11]||"",preferredContacts:($[10]||"").split(/\r?\n/).map(Ce=>Ce.trim().toLowerCase()).filter(Boolean)})).filter($=>$.email&&$.firstName&&$.lastName).find($=>`${$.firstName} ${$.lastName}`.trim().toLowerCase()===B.trim().toLowerCase());if(Ie){console.log("Raw availability data:",Ie.availability);const $=vU(Ie.availability);console.log("Parsed availability:",$);const Ce={...Ie,availability:$};console.log("Found detailed player data:",Ce),U(Ce)}else console.log("No detailed data found, using basic player data"),U(Z)}catch(K){console.error("Error fetching detailed player data:",K),U(Z)}C(!1),A(!0)}else C(!1),E(!0)},W=(B,Z,K,se)=>{console.log("Proposing match:",{day:B,slot:Z,phase:K,division:se,opponent:L}),z({day:B,slot:Z,phase:K,division:se,opponent:L}),A(!1),k(!0)},R=()=>{C(!1),E(!1),A(!1),k(!1),U(null),z(null),p(""),n()};return u?f.createElement(zn,{open:!0,onClose:n,title:"Loading Divisions...",maxWidth:"500px"},f.createElement("div",{style:{textAlign:"center",padding:"2rem"}},f.createElement("p",null,"Please wait while we load your divisions..."))):o.length===0?f.createElement(zn,{open:!0,onClose:n,title:"No Divisions Found",maxWidth:"500px"},f.createElement("div",{style:{textAlign:"center",padding:"2rem"}},f.createElement("p",null,"You are not registered for any divisions. Please contact an administrator."),f.createElement("button",{onClick:n,style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"0.8rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",marginTop:"1rem"},onMouseEnter:B=>{B.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",B.target.style.transform="translateY(-2px)",B.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:B=>{B.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",B.target.style.transform="translateY(0)",B.target.style.boxShadow="none"}},"Close"))):f.createElement(f.Fragment,null,!S&&!_&&f.createElement(zn,{open:!0,onClose:n,title:"Select Division",maxWidth:"500px"},f.createElement("div",{style:{maxHeight:"60vh",overflowY:"auto"}},f.createElement("p",{style:{color:"#fff",textAlign:"center",marginBottom:"1.5rem",fontSize:"1rem"}},"Choose a division to schedule a match:"),f.createElement("div",{style:{display:"grid",gap:"12px"}},o.map(B=>f.createElement("button",{key:B,onClick:()=>D(B),style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"1rem 1.5rem",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:Z=>{Z.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",Z.target.style.transform="translateY(-2px)",Z.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:Z=>{Z.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",Z.target.style.transform="translateY(0)",Z.target.style.boxShadow="none"}},"🏆 ",B))))),S&&(re?f.createElement(zn,{open:!0,onClose:R,title:"Loading Opponents...",maxWidth:"500px"},f.createElement("div",{style:{textAlign:"center",padding:"2rem"}},f.createElement("p",null,"Please wait while we load your scheduled opponents..."))):f.createElement(VS,{open:S,onClose:R,opponents:H(),onOpponentClick:V,phase:v})),_&&f.createElement(Vg,{onClose:R,excludeName:t,senderName:t,senderEmail:a,onProposalComplete:()=>{console.log("Proposal sent successfully"),R()},selectedDivision:m,phase:v}),I&&L&&f.createElement(Dy,{open:I,onClose:R,player:L,senderName:t,senderEmail:a,selectedDivision:m,onProposeMatch:W,phase:v}),M&&F&&f.createElement(Zy,{open:M,onClose:R,player:F.opponent,day:F.day,slot:F.slot,senderName:t,senderEmail:a,selectedDivision:F.division,phase:F.phase,onProposalComplete:()=>{console.log("Match proposal sent successfully"),R()}}))}const SU="_outerChatBg_ebe4o_29",_U="_chatContainer_ebe4o_85",EU="_topNavBar_ebe4o_125",xU="_chatGreeting_ebe4o_169",IU="_buttonRow_ebe4o_193",DU="_topChatButton_ebe4o_207",MU="_logoutWithTimer_ebe4o_297",AU="_timerBox_ebe4o_311",TU="_sectionHeader_ebe4o_339",NU="_channelListRow_ebe4o_411",RU="_announcements_ebe4o_411",kU="_divisions_ebe4o_421",LU="_gameButton_ebe4o_473",PU="_mainChatArea_ebe4o_509",OU="_mainChatWindow_ebe4o_527",BU="_poolBackground_ebe4o_587",UU="_chatContent_ebe4o_661",zU="_sidebar_ebe4o_675",HU="_hamburgerButton_ebe4o_729",YU="_hamburgerIcon_ebe4o_777",FU="_sidebarBackdrop_ebe4o_787",jU="_closeSidebarButton_ebe4o_813",WU="_mobileNavButtons_ebe4o_861",GU="_mobileNavButton_ebe4o_861",ZU="_mobileTimerBox_ebe4o_923",$U="_generalChannelRow_ebe4o_949",qU="_active_ebe4o_1015",QU="_channelListName_ebe4o_1027",VU="_pinIcon_ebe4o_1039",XU="_pinned_ebe4o_1067",KU="_noPinnedChannels_ebe4o_1077",JU="_noChannelsFound_ebe4o_1079",e9="_sidebarSearch_ebe4o_1101",t9="_channelListWrapper_ebe4o_1181",n9="_customMessageUi_ebe4o_1225",a9="_onlineDot_ebe4o_1263",r9="_online_ebe4o_1263",s9="_messageContent_ebe4o_1319",i9="_messageUsername_ebe4o_1337",o9="_messageText_ebe4o_1357",l9="_loadingContainer_ebe4o_1377",c9="_spinner_ebe4o_1391",u9="_spin_ebe4o_1391",d9="_open_ebe4o_1533",f9="_messagesArea_ebe4o_1775",h9="_messageInputContainer_ebe4o_1783",m9="_messageInput_ebe4o_1783",p9="_sendButton_ebe4o_1805",g9="_messageItem_ebe4o_1945",y9="_messageItemLeft_ebe4o_2591",v9="_messageItemRight_ebe4o_2601",b9="_messageListBackground_ebe4o_2615",w9="_poolTableImg_ebe4o_2645",C9="_poolTableSvg_ebe4o_2647",S9="_channelNamePreview_ebe4o_2675",_9="_messageHeader_ebe4o_3619",E9="_messageAuthor_ebe4o_3633",x9="_messageTime_ebe4o_3647",Ze={outerChatBg:SU,chatContainer:_U,topNavBar:EU,chatGreeting:xU,buttonRow:IU,topChatButton:DU,logoutWithTimer:MU,timerBox:AU,sectionHeader:TU,channelListRow:NU,announcements:RU,divisions:kU,"game-rooms":"_game-rooms_ebe4o_431",gameButton:LU,mainChatArea:PU,mainChatWindow:OU,poolBackground:BU,chatContent:UU,sidebar:zU,hamburgerButton:HU,hamburgerIcon:YU,sidebarBackdrop:FU,closeSidebarButton:jU,mobileNavButtons:WU,mobileNavButton:GU,mobileTimerBox:ZU,generalChannelRow:$U,active:qU,channelListName:QU,pinIcon:VU,pinned:XU,noPinnedChannels:KU,noChannelsFound:JU,sidebarSearch:e9,channelListWrapper:t9,customMessageUi:n9,onlineDot:a9,online:r9,messageContent:s9,messageUsername:i9,messageText:o9,loadingContainer:l9,spinner:c9,spin:u9,"str-chat__send-button":"_str-chat__send-button_ebe4o_1423",open:d9,messagesArea:f9,messageInputContainer:h9,messageInput:m9,sendButton:p9,messageItem:g9,messageItemLeft:y9,messageItemRight:v9,messageListBackground:b9,poolTableImg:w9,poolTableSvg:C9,"str-chat__main-panel":"_str-chat__main-panel_ebe4o_2663",channelNamePreview:S9,"str-chat":"_str-chat_ebe4o_1423","str-chat__container":"_str-chat__container_ebe4o_2727","str-chat__messenger":"_str-chat__messenger_ebe4o_2737","str-chat__messenger--main":"_str-chat__messenger--main_ebe4o_2747","str-chat__messenger--main-panel":"_str-chat__messenger--main-panel_ebe4o_2757","str-chat__messenger--main-panel-inner":"_str-chat__messenger--main-panel-inner_ebe4o_2767","str-chat__messenger--main-panel-inner-content":"_str-chat__messenger--main-panel-inner-content_ebe4o_2777","str-chat__messenger--main-panel-inner-content-inner":"_str-chat__messenger--main-panel-inner-content-inner_ebe4o_2787","str-chat__messenger--main-panel-inner-content-inner-inner":"_str-chat__messenger--main-panel-inner-content-inner-inner_ebe4o_2797","str-chat__message-list":"_str-chat__message-list_ebe4o_2809","str-chat__input-flat--wrapper":"_str-chat__input-flat--wrapper_ebe4o_2819","str-chat__input-flat":"_str-chat__input-flat_ebe4o_2819","str-chat__channel-header":"_str-chat__channel-header_ebe4o_2841","str-chat__thread":"_str-chat__thread_ebe4o_2853","str-chat__window":"_str-chat__window_ebe4o_2865","str-chat__channel":"_str-chat__channel_ebe4o_2841","str-chat__message":"_str-chat__message_ebe4o_2809","str-chat__message-text":"_str-chat__message-text_ebe4o_2939","str-chat__message-author":"_str-chat__message-author_ebe4o_2953","str-chat__message-timestamp":"_str-chat__message-timestamp_ebe4o_2969","str-chat__channel-header-title":"_str-chat__channel-header-title_ebe4o_3117","str-chat__channel-header-info":"_str-chat__channel-header-info_ebe4o_3139","str-chat__thread-header":"_str-chat__thread-header_ebe4o_3159","str-chat__thread-start":"_str-chat__thread-start_ebe4o_3171","str-chat__typing-indicator":"_str-chat__typing-indicator_ebe4o_3191","str-chat__avatar":"_str-chat__avatar_ebe4o_3209","str-chat__avatar-fallback":"_str-chat__avatar-fallback_ebe4o_3219","str-chat__channel-list":"_str-chat__channel-list_ebe4o_3253","str-chat__channel-list-messenger":"_str-chat__channel-list-messenger_ebe4o_3263","str-chat__channel-preview-messenger":"_str-chat__channel-preview-messenger_ebe4o_3271","str-chat__channel-preview-messenger--active":"_str-chat__channel-preview-messenger--active_ebe4o_3299","str-chat__channel-preview-messenger--title":"_str-chat__channel-preview-messenger--title_ebe4o_3311","str-chat__channel-preview-messenger--subtitle":"_str-chat__channel-preview-messenger--subtitle_ebe4o_3323",messageHeader:_9,messageAuthor:E9,messageTime:x9},I9="nbvut8j4y6se",SC=mt,_C="general",D9="announcements";let Nd=!1;const M9=["FRBCAPL TEST","Singles Test"],EC={GENERAL:"general",DIVISIONS:"divisions",ANNOUNCEMENTS:"announcements",GAME_ROOMS:"game-rooms"};function xC(t){return t.toLowerCase().replace(/[^a-z0-9_-]/g,"")}const A9=({channel:t})=>{var a;return f.createElement("div",{className:Ze.channelNamePreview},((a=t.data)==null?void 0:a.name)||t.id)};function T9(){return JSON.parse(localStorage.getItem("pinnedChannels")||"[]")}function N9(t){localStorage.setItem("pinnedChannels",JSON.stringify(t))}const R9=({pinned:t,onClick:a})=>f.createElement("span",{onClick:a,className:`${Ze.pinIcon}${t?" "+Ze.pinned:""}`,title:t?"Unpin channel":"Pin channel"},t?"📌":"📍"),og=({children:t,icon:a})=>f.createElement("div",{className:Ze.sectionHeader},a&&f.createElement("span",{style:{marginRight:"8px"}},a),t);function k9({userName:t,userEmail:a,userPin:e,channelId:n,onClose:s}){var Ce;const o=no(),[l,u]=w.useState(!1),[h,m]=w.useState(null),[p,v]=w.useState(null),[b,S]=w.useState(null),[C,_]=w.useState({}),[E,I]=w.useState([]),[A,M]=w.useState(null),[k,L]=w.useState(T9()),[U,F]=w.useState(!1),[z,q]=w.useState(!1),[te,ge]=w.useState(1800),[le,re]=w.useState(""),[ee,j]=w.useState([]),[D,H]=w.useState(""),[V,W]=w.useState(!0);w.useEffect(()=>{if(te<=0){R();return}const de=setInterval(()=>{ge(we=>we-1)},1e3);return()=>clearInterval(de)},[te]),w.useEffect(()=>{if(Nd){console.log("Global connection already in progress, skipping...");return}Nd=!0;let de=Gy.getInstance(I9),we=!1,Oe=!0;async function We(){console.log("Starting chat initialization...");try{if(de.userID){console.log("Already connected as:",de.userID);try{await de.disconnectUser(),console.log("Disconnected existing user")}catch(gt){console.log("Disconnect error (ignored):",gt.message)}}await new Promise(gt=>setTimeout(gt,300)),console.log("Delay completed, proceeding with token request...");const et=xC(a);console.log("Cleaned userId:",et),console.log("Making token request to:",`${SC}/token`);const qt=await fetch(`${SC}/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:et})});console.log("Token response status:",qt.status);const{token:xn,userId:en}=await qt.json();if(console.log("Token received for userId:",en),console.log("Connecting user to Stream Chat..."),console.log("Using actualUserId for connection:",en),await de.connectUser({id:en,name:t,email:a},xn),console.log("User connected successfully!"),we=!0,!Oe)return;console.log("Setting chat client..."),m(de),console.log("Creating general channel...");const Yn=de.channel("messaging",_C,{name:"General Chat",description:"General discussion for all players"});console.log("General channel object created, now watching..."),await Yn.watch({limit:30}),console.log("General channel created and watched"),console.log("Creating announcements channel...");const xt=de.channel("messaging",D9,{name:"📢 Announcements",description:"Important announcements and updates"});try{await xt.watch({limit:30}),console.log("Announcements channel created and watched")}catch(gt){console.log("Could not load announcements channel:",gt.message)}console.log("Creating division channels...");const gn={};for(const gt of M9){const Qn=xC(gt),ia=de.channel("messaging",`division-${Qn}`,{name:`🏆 ${gt}`,description:`Discussion for ${gt} players`,category:EC.DIVISIONS});try{await ia.watch({limit:30}),gn[gt]=ia,console.log(`Division channel created: ${gt}`)}catch(yn){console.log(`Could not load division channel ${gt}:`,yn.message)}}console.log("Creating game room channels...");const ka=[];for(let gt=1;gt<=5;gt++){const Qn=`game-room-${gt}`,ia=de.channel("messaging",Qn,{name:`🎮 Game Room ${gt}`,description:`Multiplayer game room ${gt} - for future online play`,category:EC.GAME_ROOMS});try{await ia.watch({limit:30}),ka.push(ia),console.log(`Game room ${gt} created`)}catch(yn){console.log(`Could not load game room ${gt}:`,yn.message)}}console.log("Setting up channel states..."),Oe&&(v(Yn),S(xt),_(gn),I(ka),M(Yn),console.log("Setting loading to false..."),W(!1),console.log("Chat initialization complete!"))}catch(et){console.error("Error initializing chat:",et),console.error("Error details:",{message:et.message,stack:et.stack,name:et.name}),Oe&&W(!1)}finally{Nd=!1}}return We(),()=>{if(Oe=!1,de&&we)try{de.disconnectUser()}catch(et){console.log("Error during cleanup disconnect:",et.message)}Nd=!1}},[a,t]),w.useEffect(()=>{N9(k)},[k]),w.useEffect(()=>{if(console.log("Channel changed:",A),A){const de=A.state.messages||[];console.log("Channel messages:",de),j(de);const we=We=>{console.log("New message received:",We);const et=A.state.messages||[];console.log("Updated messages from new message:",et),j([...et])},Oe=()=>{console.log("Channel state updated");const We=A.state.messages||[];console.log("Updated messages from state update:",We),j([...We])};return A.on("message.new",we),A.on("message.updated",Oe),A.on("message.deleted",Oe),()=>{A.off("message.new",we),A.off("message.updated",Oe),A.off("message.deleted",Oe)}}else console.log("No channel available"),j([])},[A]);function R(){h&&h.disconnectUser(),localStorage.clear(),s?s():(o("/"),window.location.reload())}function B(){console.log("Schedule Match button clicked"),q(!0)}const Z=async()=>{if(console.log("Send message called with:",D),console.log("Channel:",A),!D.trim()){console.log("Message is empty, returning");return}if(!A){console.log("No channel available, returning");return}try{console.log("Sending message to channel...");const de=await A.sendMessage({text:D});console.log("Message sent successfully:",de),H("")}catch(de){console.error("Error sending message:",de)}},K=de=>{de.key==="Enter"&&!de.shiftKey&&(de.preventDefault(),Z())};if(V)return f.createElement("div",{className:Ze.loadingContainer},f.createElement("div",{className:Ze.spinner}),f.createElement("div",null,"Loading chat...Please wait"));(Ce=h==null?void 0:h.user)==null||Ce.id;const se=Math.floor(te/60),Ie=te%60,$=(de,we=null)=>!de||!de.cid?null:f.createElement("div",{key:de.cid,className:`${Ze.channelListRow} ${we?Ze[we]:""} ${(A==null?void 0:A.id)===de.id?Ze.active:""}`,onClick:()=>{M(de),u(!1)}},f.createElement("div",{className:Ze.channelListName},f.createElement(A9,{channel:de})),f.createElement(R9,{pinned:k.includes(de.id),onClick:Oe=>{Oe.stopPropagation();let We;k.includes(de.id)?We=k.filter(et=>et!==de.id):We=[...k,de.id],L(We)}}));return f.createElement("div",{className:Ze.outerChatBg},f.createElement("div",{className:Ze.chatContainer},f.createElement("button",{className:Ze.hamburgerButton,onClick:()=>u(!0),"aria-label":"Open channel list"},f.createElement("span",{className:Ze.hamburgerIcon},"☰")),l&&f.createElement("div",{className:Ze.sidebarBackdrop,onClick:()=>u(!1)}),f.createElement("div",{className:Ze.topNavBar},f.createElement("div",{className:Ze.buttonRow},f.createElement("button",{className:Ze.topChatButton,onClick:()=>{s?s():(o("/"),window.location.reload())}},"Dashboard"),f.createElement("button",{className:Ze.topChatButton,onClick:B},"Schedule a Match")),f.createElement("span",{className:Ze.chatGreeting},"Hello, ",t,"!"),f.createElement("div",{className:Ze.logoutWithTimer},f.createElement("button",{className:Ze.topChatButton,onClick:R},"Logout"),f.createElement("span",{className:Ze.timerBox},"Auto Logout: ",se,":",Ie.toString().padStart(2,"0")))),f.createElement("div",{className:Ze.mainChatArea},f.createElement("div",{className:`${Ze.sidebar} ${l?Ze.open:""}`},f.createElement("button",{className:Ze.closeSidebarButton,onClick:()=>u(!1),"aria-label":"Close channel list"},"×"),f.createElement("div",{className:Ze.mobileNavButtons},f.createElement("button",{className:Ze.mobileNavButton,onClick:()=>{s?s():(o("/"),window.location.reload()),u(!1)}},"🏠 Dashboard"),f.createElement("button",{className:Ze.mobileNavButton,onClick:()=>{B(),u(!1)}},"📅 Schedule a Match"),f.createElement("button",{className:Ze.mobileNavButton,onClick:()=>{R(),u(!1)}},"🚪 Logout"),f.createElement("div",{className:Ze.mobileTimerBox},"Auto Logout: ",se,":",Ie.toString().padStart(2,"0"))),f.createElement("div",{className:`${Ze.generalChannelRow}${(A==null?void 0:A.id)===_C?" "+Ze.active:""}`,onClick:()=>{M(p),u(!1)}},f.createElement("span",{style:{marginRight:8}},"#")," General Chat"),f.createElement("div",{className:Ze.sidebarSearch},f.createElement("input",{type:"text",placeholder:"Search channels...",value:le,onChange:de=>re(de.target.value)})),f.createElement("div",{className:Ze.channelListWrapper},f.createElement(og,{icon:"📢"},"Announcements"),b&&$(b,"announcements"),f.createElement(og,{icon:"🏆"},"Division Channels"),Object.values(C).map(de=>$(de,"divisions")),f.createElement(og,{icon:"🎮"},"Game Rooms"),E.map(de=>$(de,"game-rooms")),f.createElement("div",{className:`${Ze.channelListRow} ${Ze.gameButton}`,onClick:()=>{o("/tenball"),u(!1)}},f.createElement("span",{style:{marginRight:8}},"🎯"),"Play Pool Game"))),f.createElement("div",{className:Ze.mainChatWindow},f.createElement("div",{className:Ze.poolBackground},f.createElement(sf,null)),A&&f.createElement(f.Fragment,null,f.createElement(yU,{channel:A,currentUser:h==null?void 0:h.user}),f.createElement("div",{className:Ze.messagesArea},ee.map(de=>{var et,qt,xn,en;const we=(et=de.user)==null?void 0:et.id,Oe=(qt=h==null?void 0:h.user)==null?void 0:qt.id;let We=we===Oe;if(!We&&we&&Oe){const Yn=we.replace(/_\d+$/,"");We=Oe.startsWith(Yn)}return f.createElement("div",{key:de.id,className:`${Ze.messageItem} ${We?Ze.messageItemRight:Ze.messageItemLeft}`},f.createElement("div",{className:Ze.messageHeader},f.createElement("span",{className:Ze.messageAuthor},((xn=de.user)==null?void 0:xn.name)||((en=de.user)==null?void 0:en.id)),f.createElement("span",{className:Ze.messageTime},new Date(de.created_at).toLocaleTimeString())),f.createElement("div",{className:Ze.messageText},de.text))})),f.createElement("div",{className:Ze.messageInputContainer},f.createElement("input",{type:"text",value:D,onChange:de=>H(de.target.value),onKeyPress:K,placeholder:"Type your message...",className:Ze.messageInput}),f.createElement("button",{onClick:Z,className:Ze.sendButton,disabled:!D.trim()},"🚀 Send"))))),z&&f.createElement(CU,{userName:t,userEmail:a,userPin:e,onClose:()=>q(!1),fromChat:!0})))}const L9="_adminDashboardRoot_1nn2q_21",P9="_adminDashboardNav_1nn2q_51",O9="_adminDashboardMainColumn_1nn2q_125",B9="_adminActionButton_1nn2q_335",U9="_adminChatWrapper_1nn2q_355",z9="_adminChannelList_1nn2q_379",H9="_adminChannelMessages_1nn2q_379",Y9="_adminChannelListItem_1nn2q_425",F9="_selected_1nn2q_443",j9="_adminDeleteChannelBtn_1nn2q_451",W9="_adminChannelName_1nn2q_481",G9="_adminMessageItem_1nn2q_513",Z9="_adminDeleteMessageBtn_1nn2q_537",$9="_adminCard_1nn2q_567",q9="_adminCardTitle_1nn2q_597",Q9="_scrollableCardContent_1nn2q_617",Vt={adminDashboardRoot:L9,adminDashboardNav:P9,adminDashboardMainColumn:O9,adminActionButton:B9,adminChatWrapper:U9,adminChannelList:z9,adminChannelMessages:H9,adminChannelListItem:Y9,selected:F9,adminDeleteChannelBtn:j9,adminChannelName:W9,adminMessageItem:G9,adminDeleteMessageBtn:Z9,adminCard:$9,adminCardTitle:q9,scrollableCardContent:Q9},V9="_searchContainer_1xrci_1",X9="_searchTitle_1xrci_23",K9="_searchForm_1xrci_33",J9="_searchInput_1xrci_49",e8="_searchButton_1xrci_73",t8="_resultsTable_1xrci_95",n8="_resultsHeader_1xrci_127",a8="_resultsCell_1xrci_137",r8="_divisionBadge_1xrci_149",s8="_removeBtn_1xrci_179",i8="_addBtn_1xrci_209",da={searchContainer:V9,searchTitle:X9,searchForm:K9,searchInput:J9,searchButton:e8,resultsTable:t8,resultsHeader:n8,resultsCell:a8,divisionBadge:r8,removeBtn:s8,addBtn:i8};function o8(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[o,l,u]=t.split("-"),h=new Date(parseInt(o),parseInt(l)-1,parseInt(u)),m=String(h.getMonth()+1).padStart(2,"0"),p=String(h.getDate()).padStart(2,"0"),v=h.getFullYear();return`${m}-${p}-${v}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const o=t.split("/");if(o.length===3){const[l,u,h]=o;a=new Date(h,l-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}const IC=mt;function l8({open:t,onClose:a}){const[e,n]=w.useState([]),[s,o]=w.useState(!0);w.useEffect(()=>{t&&(o(!0),fetch(`${IC}/admin/unentered-matches`).then(u=>u.json()).then(u=>{n(u),o(!1)}))},[t]);const l=u=>{fetch(`${IC}/admin/mark-lms-entered/${u}`,{method:"PATCH"}).then(h=>h.json()).then(()=>n(e.filter(h=>h._id!==u)))};return t?f.createElement(zn,{open:t,onClose:a,title:"Confirmed Challenge Matches Needing LMS Entry",maxWidth:"520px"},s?f.createElement("div",{style:{color:"#fff",textAlign:"center",padding:"2rem"}},"Loading unentered matches..."):e.length===0?f.createElement("div",{style:{color:"#fff",textAlign:"center",padding:"2rem"}},"All matches are entered!"):f.createElement("ul",{style:{padding:0,listStyle:"none"}},e.map(u=>f.createElement("li",{key:u._id,style:{marginBottom:12,background:"#222",borderRadius:8,padding:"12px 14px",display:"flex",alignItems:"center",justifyContent:"space-between",borderLeft:"4px solid #c00"}},f.createElement("span",null,f.createElement("span",{style:{color:"#fff"}},f.createElement("b",null,o8(u.date))," — ",f.createElement("span",{style:{color:"#c00"}},u.senderName)," vs ",f.createElement("span",{style:{color:"#c00"}},u.receiverName),u.location&&f.createElement("span",{style:{color:"#fff"}}," @ ",u.location))),f.createElement("button",{style:{marginLeft:16,background:"#c00",color:"#fff",border:"none",borderRadius:5,padding:"7px 14px",fontWeight:"bold",cursor:"pointer",fontSize:"1em",transition:"background 0.2s"},onClick:()=>l(u._id)},"Mark as Entered"))))):null}var NE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},DC=f.createContext&&f.createContext(NE),c8=["attr","size","title"];function u8(t,a){if(t==null)return{};var e=d8(t,a),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(a.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(e[n]=t[n])}return e}function d8(t,a){if(t==null)return{};var e={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(a.indexOf(n)>=0)continue;e[n]=t[n]}return e}function Zf(){return Zf=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},Zf.apply(this,arguments)}function MC(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,n)}return e}function $f(t){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?MC(Object(e),!0).forEach(function(n){f8(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):MC(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function f8(t,a,e){return a=h8(a),a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function h8(t){var a=m8(t,"string");return typeof a=="symbol"?a:a+""}function m8(t,a){if(typeof t!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var n=e.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function RE(t){return t&&t.map((a,e)=>f.createElement(a.tag,$f({key:e},a.attr),RE(a.child)))}function mr(t){return a=>f.createElement(p8,Zf({attr:$f({},t.attr)},a),RE(t.child))}function p8(t){var a=e=>{var{attr:n,size:s,title:o}=t,l=u8(t,c8),u=s||e.size||"1em",h;return e.className&&(h=e.className),t.className&&(h=(h?h+" ":"")+t.className),f.createElement("svg",Zf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,l,{className:h,style:$f($f({color:t.color||e.color},e.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&f.createElement("title",null,o),t.children)};return DC!==void 0?f.createElement(DC.Consumer,null,e=>a(e)):a(NE)}function g8(t){return mr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function y8(t){return mr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function v8(t){return mr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function b8(t){return mr({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function w8(t){return mr({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function C8(t){return mr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function S8(t){return mr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}function _8(t){return mr({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(t)}function E8(t){return mr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function x8(t){return mr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(t)}function I8(t){return mr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const D8="nbvut8j4y6se",lg="frbcaplgmailcom";function M8({backendUrl:t}){const[a,e]=w.useState([]),[n,s]=w.useState(""),[o,l]=w.useState(!1),[u,h]=w.useState("");return w.useEffect(()=>{fetch(`${t}/admin/divisions`).then(m=>m.json()).then(m=>{const p=m.map(v=>v.name);e(p),s(p[0]||"")}).catch(()=>e([]))},[t]),f.createElement("div",{style:{margin:"12px 0"}},f.createElement("h3",null,"Update Schedule for Division"),f.createElement("select",{value:n,onChange:m=>s(m.target.value),style:{marginRight:8,padding:4,borderRadius:4}},a.map(m=>f.createElement("option",{key:m,value:m},m))),f.createElement("button",{onClick:async()=>{l(!0),h("");try{const p=await(await fetch(`${t}/admin/update-schedule`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:n})})).text();h("✅ "+p)}catch(m){h("❌ "+m.message)}l(!1)},disabled:o||!n,style:{background:"#673ab7",color:"#fff",border:"none",borderRadius:5,padding:"8px 16px",fontWeight:"bold",cursor:o?"not-allowed":"pointer"}},o?"Updating...":"Update Schedule"),u&&f.createElement("div",{style:{marginTop:8}},u))}function A8({backendUrl:t}){const[a,e]=w.useState(!1),[n,s]=w.useState(""),o=async()=>{e(!0),s("");try{(await fetch(`${t}/admin/sync-users`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok?s("✅ Users synced successfully!"):s("❌ Sync failed.")}catch{s("❌ Sync failed.")}e(!1)};return f.createElement("div",{style:{margin:"12px 0"}},f.createElement("button",{onClick:o,disabled:a,style:{background:"#007bff",color:"#fff",border:"none",borderRadius:5,padding:"8px 16px",cursor:a?"not-allowed":"pointer",fontWeight:"bold"}},a?"Adding...":"Add Players to Database"),n&&f.createElement("div",{style:{marginTop:8}},n))}function T8({backendUrl:t}){const[a,e]=w.useState(!1),[n,s]=w.useState(""),[o,l]=w.useState(""),u=async()=>{e(!0),s(""),l("");try{const h=await fetch(`${t}/admin/update-standings`,{method:"POST",headers:{"Content-Type":"application/json"}}),m=await h.json();h.ok?(s("✅ All standings updated successfully!"),m.message&&m.message.includes("Scraping Summary")&&l(m.message)):(s("❌ Update failed: "+(m.error||"Unknown error")),m.error&&l(m.error))}catch(h){s("❌ Update failed: Network error"),l(h.message)}e(!1)};return f.createElement("div",{style:{margin:"12px 0"}},f.createElement("button",{onClick:u,disabled:a,style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:5,padding:"8px 16px",cursor:a?"not-allowed":"pointer",fontWeight:"bold"}},a?"🔄 Updating All Standings...":"📊 Update All Standings"),n&&f.createElement("div",{style:{marginTop:8,fontWeight:"bold"}},n),o&&f.createElement("div",{style:{marginTop:8,padding:8,backgroundColor:"#f5f5f5",borderRadius:4,fontSize:"0.9em",whiteSpace:"pre-wrap",fontFamily:"monospace"}},o))}function N8({backendUrl:t,onDivisionCreated:a}){const[e,n]=w.useState(""),[s,o]=w.useState(""),[l,u]=w.useState(""),[h,m]=w.useState(""),[p,v]=w.useState(""),[b,S]=w.useState(""),C=async _=>{_.preventDefault(),S("");try{const E=await fetch(`${t}/api/seasons`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,division:e,description:s,scheduleUrl:l,standingsUrl:h,seasonStart:p})}),I=await E.json();E.ok?(S("✅ Division/Season created!"),n(""),o(""),u(""),m(""),v(""),a&&a()):S("❌ "+(I.error||"Failed to create division/season."))}catch{S("❌ Failed to create division/season.")}};return f.createElement("form",{onSubmit:C,style:{marginBottom:16}},f.createElement("h3",null,"Create New Division/Season"),f.createElement("div",{style:{display:"flex",flexDirection:"column",gap:8}},f.createElement("input",{type:"text",placeholder:"Division Name",value:e,onChange:_=>n(_.target.value),required:!0}),f.createElement("input",{type:"text",placeholder:"Description (optional)",value:s,onChange:_=>o(_.target.value)}),f.createElement("input",{type:"url",placeholder:"Schedule URL",value:l,onChange:_=>u(_.target.value),required:!0}),f.createElement("input",{type:"url",placeholder:"Standings URL",value:h,onChange:_=>m(_.target.value),required:!0}),f.createElement("input",{type:"date",placeholder:"Season Start",value:p,onChange:_=>v(_.target.value),required:!0}),f.createElement("div",{style:{fontSize:"0.95em",color:"#aaa",marginTop:4}},"Phase 1: 6 weeks • Phase 2: 4 weeks • Season: 10 weeks total (auto-calculated)"),f.createElement("button",{type:"submit"},"Create")),b&&f.createElement("div",{style:{marginTop:8}},b))}function R8({backendUrl:t}){const[a,e]=w.useState(""),[n,s]=w.useState([]),[o,l]=w.useState([]),[u,h]=w.useState("");w.useEffect(()=>{fetch(`${t}/admin/divisions`).then(b=>b.json()).then(b=>l(b.map(S=>S.name))).catch(()=>l([]))},[t]);const m=async b=>{if(b.preventDefault(),!!a.trim())try{const C=await(await fetch(`${t}/admin/search-users?query=${encodeURIComponent(a)}`)).json();s(C)}catch{s([]),alert("Search failed")}},p=async(b,S)=>{try{await fetch(`${t}/admin/user/${b}/add-division`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:S})}),m({preventDefault:()=>{}})}catch{alert("Failed to add user to division")}},v=async(b,S)=>{try{await fetch(`${t}/admin/user/${b}/remove-division`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:S})}),m({preventDefault:()=>{}})}catch{alert("Failed to remove user from division")}};return f.createElement("div",{className:da.searchContainer},f.createElement("h3",{className:da.searchTitle},"Player Search & Quick Division Management"),f.createElement("form",{onSubmit:m,className:da.searchForm},f.createElement("input",{type:"text",placeholder:"Search by name or email",value:a,onChange:b=>e(b.target.value),className:da.searchInput}),f.createElement("button",{type:"submit",className:da.searchButton},"Search")),n.length>0&&f.createElement("table",{className:da.resultsTable},f.createElement("thead",null,f.createElement("tr",{className:da.resultsHeader},f.createElement("th",null,"Name"),f.createElement("th",null,"Email"),f.createElement("th",null,"Divisions"),f.createElement("th",null,"Add to Division"))),f.createElement("tbody",null,n.map(b=>f.createElement("tr",{key:b.id},f.createElement("td",{className:da.resultsCell},b.name||b.id),f.createElement("td",{className:da.resultsCell},b.email),f.createElement("td",{className:da.resultsCell},(b.divisions||[]).length>0?b.divisions.map(S=>f.createElement("span",{key:S,className:da.divisionBadge},S,f.createElement("button",{className:da.removeBtn,onClick:()=>v(b.id,S),title:`Remove from ${S}`},"×"))):f.createElement("span",{style:{color:"#888"}},"None")),f.createElement("td",{className:da.resultsCell},f.createElement("select",{value:u,onChange:S=>h(S.target.value)},f.createElement("option",{value:""},"Select Division"),o.map(S=>f.createElement("option",{key:S,value:S},S))),f.createElement("button",{disabled:!u,onClick:()=>p(b.email,u),className:da.addBtn},"Add")))))))}function k8({backendUrl:t}){const[a,e]=w.useState([]),[n,s]=w.useState(!1),[o,l]=w.useState(""),[u,h]=w.useState([]),[m,p]=w.useState(""),v=async()=>{const A=await(await fetch(`${t}/admin/divisions`)).json();h(A.map(M=>M.name).sort())},b=()=>{s(!0),fetch(`${t}/api/users`).then(I=>I.json()).then(I=>{e(I),s(!1)}).catch(()=>s(!1))};w.useEffect(()=>{b(),v()},[t]);const S=async(I,A)=>{l("");try{const k=await(await fetch(`${t}/admin/user/${I}/add-division`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:A})})).json();k.success?(e(a.map(L=>L.id===I?k.user:L)),l(`✅ Added to ${A}!`)):l("❌ "+(k.error||"Failed to add division"))}catch{l("❌ Network error")}},C=async(I,A)=>{l("");const k=await(await fetch(`${t}/admin/user/${I}/remove-division`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:A})})).json();k.success?(e(a.map(L=>L.id===I?k.user:L)),l(`✅ Removed from ${A}!`)):l("❌ "+(k.error||"Failed to remove division"))},_=m?a.filter(I=>(I.divisions||[]).includes(m)):[],E=m?a.filter(I=>!(I.divisions||[]).includes(m)):[];return n?f.createElement("div",null,"Loading users..."):f.createElement("div",{style:{margin:"24px 0",padding:16,border:"1px solid #ccc",borderRadius:8}},f.createElement("h3",null,"Division Manager"),f.createElement("div",{style:{marginBottom:12}},f.createElement("label",null,f.createElement("b",null,"Select Division: "),f.createElement("select",{value:m,onChange:I=>p(I.target.value),style:{marginLeft:8,padding:4,borderRadius:4}},f.createElement("option",{value:""},"-- Select --"),u.map(I=>f.createElement("option",{key:I,value:I},I))))),o&&f.createElement("div",{style:{marginBottom:8}},o),m&&f.createElement(f.Fragment,null,f.createElement("h4",null,"Users in ",m),_.length===0?f.createElement("div",null,"No users found in this division."):f.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},f.createElement("thead",null,f.createElement("tr",null,f.createElement("th",null,"User"),f.createElement("th",null,"Email"),f.createElement("th",null,"Divisions"),f.createElement("th",null,"Remove"))),f.createElement("tbody",null,_.map(I=>f.createElement("tr",{key:I.id},f.createElement("td",null,I.name||I.id),f.createElement("td",null,I.email),f.createElement("td",null,(I.divisions||[]).join(", ")),f.createElement("td",null,f.createElement("button",{onClick:()=>C(I.email,m),style:{color:"red",border:"none",background:"none",cursor:"pointer"}},"Remove")))))),f.createElement("h4",{style:{marginTop:24}},"Add Users to ",m),E.length===0?f.createElement("div",null,"All users are already in this division."):f.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},f.createElement("thead",null,f.createElement("tr",null,f.createElement("th",null,"User"),f.createElement("th",null,"Email"),f.createElement("th",null,"Add"))),f.createElement("tbody",null,E.map(I=>f.createElement("tr",{key:I.id},f.createElement("td",null,I.name||I.id),f.createElement("td",null,I.email),f.createElement("td",null,f.createElement("button",{onClick:()=>S(I.email,m),style:{color:"green",border:"none",background:"none",cursor:"pointer"}},"Add"))))))))}function L8(){const[t,a]=w.useState(null),[e,n]=w.useState([]),[s,o]=w.useState(null),[l,u]=w.useState([]),[h,m]=w.useState(!1),[p,v]=w.useState(!1),[b,S]=w.useState("chat"),[C,_]=w.useState(null),E=no();w.useEffect(()=>{const k=Gy.getInstance(D8);async function L(){try{console.log("Admin setup starting..."),console.log("Admin user ID:",lg),console.log("Backend URL:",mt),console.log("Requesting admin token...");const U=await fetch(`${mt}/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:lg})});if(!U.ok){const ge=await U.text();throw console.error("Token request failed:",U.status,ge),new Error(`Token request failed: ${U.status} - ${ge}`)}const F=await U.json();if(console.log("Token response:",F),!F.token){console.error("No token in response:",F),alert("Failed to get admin token - no token in response");return}console.log("Connecting to Stream Chat..."),await k.connectUser({id:lg,name:"Admin"},F.token),a(k),console.log("Querying channels...");const z={type:"messaging"},q=[{last_message_at:-1}],te=await k.queryChannels(z,q,{watch:!1,state:!0});n(te),console.log("Admin setup completed successfully")}catch(U){console.error("Admin setup error:",U),alert("Admin setup error: "+U.message)}}return L(),()=>{k&&k.disconnectUser()}},[]),w.useEffect(()=>{if(!s)return;async function k(){m(!0),await s.watch(),u(s.state.messages),m(!1)}k()},[s]);async function I(k){if(window.confirm("Delete this message?"))try{await t.deleteMessage(k),u(L=>L.filter(U=>U.id!==k))}catch(L){alert("Failed to delete message: "+L.message)}}async function A(k){if(window.confirm(`Delete channel "${k.data.name||k.id}"? This cannot be undone.`))try{await k.delete(),n(L=>L.filter(U=>U.id!==k.id)),s&&s.id===k.id&&(o(null),u([]))}catch(L){alert("Failed to delete channel: "+L.message)}}const M=(k,L)=>{_({type:k,message:L}),setTimeout(()=>_(null),5e3)};return t?f.createElement("div",{className:Vt.adminDashboardRoot},f.createElement("div",{className:Vt.adminDashboardNav},f.createElement("button",{onClick:()=>{E("/"),window.location.reload()}},"🏠 User Dashboard"),f.createElement("button",{onClick:()=>E("/chat")},"💬 Back to Chat"),f.createElement("button",{onClick:()=>{localStorage.clear(),E("/"),window.location.reload()}},"🚪 Logout")),f.createElement("div",{className:Vt.adminDashboardMainColumn},C&&f.createElement("div",{style:{background:C.type==="success"?"#d4edda":"#f8d7da",color:C.type==="success"?"#155724":"#721c24",border:`1px solid ${C.type==="success"?"#c3e6cb":"#f5c6cb"}`,borderRadius:6,padding:"10px 18px",marginBottom:18,fontWeight:600,display:"flex",alignItems:"center",gap:10}},C.type==="success"?f.createElement(v8,null):f.createElement(C8,null)," ",C.message),f.createElement("div",{className:Vt.adminCard},f.createElement("div",{className:Vt.adminCardTitle},f.createElement(x8,null)," Data Sync"),f.createElement("div",{style:{display:"flex",gap:12,flexWrap:"wrap",alignItems:"center"}},f.createElement(M8,{backendUrl:mt}),f.createElement(T8,{backendUrl:mt}),f.createElement(A8,{backendUrl:mt}))),f.createElement("div",{className:Vt.adminCard},f.createElement("div",{className:Vt.adminCardTitle},f.createElement(I8,null)," Division Management"),f.createElement("div",{className:Vt.scrollableCardContent,style:{display:"flex",gap:12,flexWrap:"wrap",alignItems:"flex-start"}},f.createElement(N8,{backendUrl:mt,onDivisionCreated:()=>M("success","Division/Season created!")}),f.createElement(R8,{backendUrl:mt}),f.createElement(k8,{backendUrl:mt}))),f.createElement("div",{className:Vt.adminCard},f.createElement("div",{className:Vt.adminCardTitle},f.createElement(y8,null)," Reports & Monitoring"),f.createElement("div",{style:{display:"flex",gap:12,flexWrap:"wrap",alignItems:"center"}},f.createElement("button",{className:Vt.adminActionButton,onClick:()=>v(!0)},"View Unentered LMS Matches"),f.createElement(l8,{open:p,onClose:()=>v(!1)}))),f.createElement("div",{className:Vt.adminCard},f.createElement("div",{className:Vt.adminCardTitle},f.createElement(g8,null)," Chat Admin"),f.createElement("div",{className:Vt.scrollableCardContent+" "+Vt.adminChatWrapper},f.createElement("div",{className:Vt.adminChannelList},f.createElement("h3",null,"Channels"),f.createElement("ul",{style:{listStyle:"none",padding:0,margin:0}},e.map(k=>f.createElement("li",{key:k.id,className:Vt.adminChannelListItem+((s==null?void 0:s.id)===k.id?` ${Vt.selected}`:"")},f.createElement("button",{className:Vt.adminDeleteChannelBtn,onClick:async L=>{L.stopPropagation(),await A(k)},title:"Delete Channel"},"🗑"),f.createElement("span",{className:Vt.adminChannelName,onClick:()=>o(k),tabIndex:0,style:{outline:"none"},onKeyDown:L=>{L.key==="Enter"&&o(k)}},k.data.name||k.id))))),f.createElement("div",{className:Vt.adminChannelMessages},f.createElement("h3",null,s?`Messages in "${s.data.name||s.id}"`:"Select a channel"),h&&f.createElement("div",null,"Loading messages..."),!h&&s&&f.createElement("ul",{style:{listStyle:"none",padding:0,margin:0}},l.map(k=>{var L,U;return f.createElement("li",{key:k.id,className:Vt.adminMessageItem},f.createElement("b",null,((L=k.user)==null?void 0:L.name)||((U=k.user)==null?void 0:U.id),":")," ",k.text,f.createElement("button",{className:Vt.adminDeleteMessageBtn,onClick:()=>I(k.id),title:"Delete Message"},"🗑"))}))))))):f.createElement("div",null,"Loading admin chat client...")}const P8="_simplePoolGame_1kwr6_1",O8="_tableContainer_1kwr6_11",B8="_tableCanvas_1kwr6_22",U8="_aimingInstructions_1kwr6_35",z8="_instructions_1kwr6_47",H8="_controls_1kwr6_52",Y8="_shootButton_1kwr6_70",F8="_buttonRow_1kwr6_105",j8="_resetAimButton_1kwr6_111",W8="_powerControl_1kwr6_145",G8="_gameInfo_1kwr6_274",Z8="_resetButton_1kwr6_291",$8="_pushOutModal_1kwr6_710",q8="_pushOutContent_1kwr6_723",Q8="_pushOutButtons_1kwr6_762",V8="_acceptButton_1kwr6_768",X8="_declineButton_1kwr6_769",Ft={simplePoolGame:P8,tableContainer:O8,tableCanvas:B8,aimingInstructions:U8,instructions:z8,controls:H8,shootButton:Y8,buttonRow:F8,resetAimButton:j8,powerControl:W8,gameInfo:G8,resetButton:Z8,pushOutModal:$8,pushOutContent:q8,pushOutButtons:Q8,acceptButton:V8,declineButton:X8},eo={BREAK:"break",PLAY:"play"};function Bi(t){return t===eo.BREAK}function cg(t){return t===eo.PLAY}function K8(t,a){return t===eo.BREAK&&a?eo.PLAY:t}function J8(t,a){return t===eo.BREAK&&a}function AC(t,a){return t===eo.PLAY&&a}const e6="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIHllbGxvdyAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGwxTWFpbiIgY3g9IjMwJSIgY3k9IjMwJSIgcj0iNzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMjUlIiBzdG9wLWNvbG9yPSIjZmZlYjNiIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZkZDgzNSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI3NSUiIHN0b3AtY29sb3I9IiNmNTdmMTciLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2U2NTEwMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBIaWdobGlnaHQgZm9yIGRlcHRoIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDFIaWdobGlnaHQiIGN4PSIyNSUiIGN5PSIyNSUiIHI9IjQ1JSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmOWM0IiBzdG9wLW9wYWNpdHk9IjAuOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiIHN0b3Atb3BhY2l0eT0iMC41Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsMVNwZWN1bGFyIiBjeD0iNDAlIiBjeT0iNDAlIiByPSIyMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMC44Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTaGFkb3cgZ3JhZGllbnQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsMVNoYWRvdyIgY3g9IjcwJSIgY3k9IjcwJSIgcj0iMzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4zIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgDQogIDwhLS0gTWFpbiBiYWxsIC0tPg0KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsMU1haW4pIiBzdHJva2U9IiNlNjUxMDAiIHN0cm9rZS13aWR0aD0iMC41Ii8+DQogIA0KICA8IS0tIFByaW1hcnkgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI1IiBmaWxsPSJ1cmwoI2JhbGwxSGlnaGxpZ2h0KSIvPg0KICANCiAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjE0IiBjeT0iMTQiIHI9IjIuNSIgZmlsbD0idXJsKCNiYWxsMVNwZWN1bGFyKSIvPg0KICANCiAgPCEtLSBOdW1iZXIgMSAtIG11Y2ggbGFyZ2VyIGFuZCBtb3JlIHZpc2libGUgLS0+DQogIDx0ZXh0IHg9IjE2IiB5PSIyMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iIzAwMDAwMCI+MTwvdGV4dD4NCiAgDQogIDwhLS0gU3VidGxlIHNoYWRvdyBmb3IgZGVwdGggLS0+DQogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGwxU2hhZG93KSIvPg0KPC9zdmc+IA==",t6="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIGJsdWUgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsMk1haW4iIGN4PSIzMCUiIGN5PSIzMCUiIHI9IjcwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjOTBjYWY5Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjI1JSIgc3RvcC1jb2xvcj0iIzQyYTVmNSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiMyMTk2ZjMiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNzUlIiBzdG9wLWNvbG9yPSIjMTk3NmQyIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwZDQ3YTEiLz4NCiAgICA8L3JhZGlhbEdyYWRpZW50Pg0KICAgIA0KICAgIDwhLS0gSGlnaGxpZ2h0IGZvciBkZXB0aCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGwySGlnaGxpZ2h0IiBjeD0iMjUlIiBjeT0iMjUlIiByPSI0NSUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2JiZGVmYiIgc3RvcC1vcGFjaXR5PSIwLjkiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjOTBjYWY5IiBzdG9wLW9wYWNpdHk9IjAuNSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjOTBjYWY5IiBzdG9wLW9wYWNpdHk9IjAiLz4NCiAgICA8L3JhZGlhbEdyYWRpZW50Pg0KICAgIA0KICAgIDwhLS0gU3BlY3VsYXIgaGlnaGxpZ2h0IC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDJTcGVjdWxhciIgY3g9IjQwJSIgY3k9IjQwJSIgcj0iMjAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIiBzdG9wLW9wYWNpdHk9IjAuOCIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz4NCiAgICA8L3JhZGlhbEdyYWRpZW50Pg0KICAgIA0KICAgIDwhLS0gU2hhZG93IGdyYWRpZW50IC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDJTaGFkb3ciIGN4PSI3MCUiIGN5PSI3MCUiIHI9IjMwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjMDAwMDAwIiBzdG9wLW9wYWNpdHk9IjAuMyIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMDAwMDAwIiBzdG9wLW9wYWNpdHk9IjAiLz4NCiAgICA8L3JhZGlhbEdyYWRpZW50Pg0KICA8L2RlZnM+DQogIA0KICA8IS0tIE1haW4gYmFsbCAtLT4NCiAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTUiIGZpbGw9InVybCgjYmFsbDJNYWluKSIgc3Ryb2tlPSIjMGQ0N2ExIiBzdHJva2Utd2lkdGg9IjAuNSIvPg0KICANCiAgPCEtLSBQcmltYXJ5IGhpZ2hsaWdodCAtLT4NCiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iNSIgZmlsbD0idXJsKCNiYWxsMkhpZ2hsaWdodCkiLz4NCiAgDQogIDwhLS0gU3BlY3VsYXIgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxNCIgY3k9IjE0IiByPSIyLjUiIGZpbGw9InVybCgjYmFsbDJTcGVjdWxhcikiLz4NCiAgDQogIDwhLS0gTnVtYmVyIDIgLSBtdWNoIGxhcmdlciBhbmQgbW9yZSB2aXNpYmxlIC0tPg0KICA8dGV4dCB4PSIxNiIgeT0iMjIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IiNmZmZmZmYiPjI8L3RleHQ+DQogIA0KICA8IS0tIFN1YnRsZSBzaGFkb3cgZm9yIGRlcHRoIC0tPg0KICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjE4IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsMlNoYWRvdykiLz4NCjwvc3ZnPiA=",n6="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIHJlZCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGwzTWFpbiIgY3g9IjMwJSIgY3k9IjMwJSIgcj0iNzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZmNkZDIiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMjUlIiBzdG9wLWNvbG9yPSIjZjQ0MzM2Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2QzMmYyZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI3NSUiIHN0b3AtY29sb3I9IiNiNzFjMWMiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzhlMDAwMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBIaWdobGlnaHQgZm9yIGRlcHRoIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDNIaWdobGlnaHQiIGN4PSIyNSUiIGN5PSIyNSUiIHI9IjQ1JSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZlYmVlIiBzdG9wLW9wYWNpdHk9IjAuOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmNkZDIiIHN0b3Atb3BhY2l0eT0iMC41Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmNkZDIiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsM1NwZWN1bGFyIiBjeD0iNDAlIiBjeT0iNDAlIiByPSIyMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMC44Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTaGFkb3cgZ3JhZGllbnQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsM1NoYWRvdyIgY3g9IjcwJSIgY3k9IjcwJSIgcj0iMzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4zIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgDQogIDwhLS0gTWFpbiBiYWxsIC0tPg0KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsM01haW4pIiBzdHJva2U9IiM4ZTAwMDAiIHN0cm9rZS13aWR0aD0iMC41Ii8+DQogIA0KICA8IS0tIFByaW1hcnkgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI1IiBmaWxsPSJ1cmwoI2JhbGwzSGlnaGxpZ2h0KSIvPg0KICANCiAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjE0IiBjeT0iMTQiIHI9IjIuNSIgZmlsbD0idXJsKCNiYWxsM1NwZWN1bGFyKSIvPg0KICANCiAgPCEtLSBOdW1iZXIgMyAtIG11Y2ggbGFyZ2VyIGFuZCBtb3JlIHZpc2libGUgLS0+DQogIDx0ZXh0IHg9IjE2IiB5PSIyMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iI2ZmZmZmZiI+MzwvdGV4dD4NCiAgDQogIDwhLS0gU3VidGxlIHNoYWRvdyBmb3IgZGVwdGggLS0+DQogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGwzU2hhZG93KSIvPg0KPC9zdmc+IA==",a6="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIHB1cnBsZSAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw0TWFpbiIgY3g9IjMwJSIgY3k9IjMwJSIgcj0iNzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlMWJlZTciLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMjUlIiBzdG9wLWNvbG9yPSIjYWI0N2JjIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iIzljMjdiMCIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI3NSUiIHN0b3AtY29sb3I9IiM3YjFmYTIiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzRhMTQ4YyIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBIaWdobGlnaHQgZm9yIGRlcHRoIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDRIaWdobGlnaHQiIGN4PSIyNSUiIGN5PSIyNSUiIHI9IjQ1JSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZjNlNWY1IiBzdG9wLW9wYWNpdHk9IjAuOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNlMWJlZTciIHN0b3Atb3BhY2l0eT0iMC41Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNlMWJlZTciIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsNFNwZWN1bGFyIiBjeD0iNDAlIiBjeT0iNDAlIiByPSIyMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMC44Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTaGFkb3cgZ3JhZGllbnQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsNFNoYWRvdyIgY3g9IjcwJSIgY3k9IjcwJSIgcj0iMzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4zIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgDQogIDwhLS0gTWFpbiBiYWxsIC0tPg0KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsNE1haW4pIiBzdHJva2U9IiM0YTE0OGMiIHN0cm9rZS13aWR0aD0iMC41Ii8+DQogIA0KICA8IS0tIFByaW1hcnkgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI1IiBmaWxsPSJ1cmwoI2JhbGw0SGlnaGxpZ2h0KSIvPg0KICANCiAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjE0IiBjeT0iMTQiIHI9IjIuNSIgZmlsbD0idXJsKCNiYWxsNFNwZWN1bGFyKSIvPg0KICANCiAgPCEtLSBOdW1iZXIgNCAtIG11Y2ggbGFyZ2VyIGFuZCBtb3JlIHZpc2libGUgLS0+DQogIDx0ZXh0IHg9IjE2IiB5PSIyMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iI2ZmZmZmZiI+NDwvdGV4dD4NCiAgDQogIDwhLS0gU3VidGxlIHNoYWRvdyBmb3IgZGVwdGggLS0+DQogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGw0U2hhZG93KSIvPg0KPC9zdmc+IA==",r6="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIG9yYW5nZSAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw1TWFpbiIgY3g9IjMwJSIgY3k9IjMwJSIgcj0iNzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZmUwYjIiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMjUlIiBzdG9wLWNvbG9yPSIjZmY5ODAwIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2Y1N2MwMCIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI3NSUiIHN0b3AtY29sb3I9IiNlZjZjMDAiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2U2NTEwMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBIaWdobGlnaHQgZm9yIGRlcHRoIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDVIaWdobGlnaHQiIGN4PSIyNSUiIGN5PSIyNSUiIHI9IjQ1JSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmM2UwIiBzdG9wLW9wYWNpdHk9IjAuOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmUwYjIiIHN0b3Atb3BhY2l0eT0iMC41Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmUwYjIiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsNVNwZWN1bGFyIiBjeD0iNDAlIiBjeT0iNDAlIiByPSIyMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMC44Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTaGFkb3cgZ3JhZGllbnQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsNVNoYWRvdyIgY3g9IjcwJSIgY3k9IjcwJSIgcj0iMzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4zIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgDQogIDwhLS0gTWFpbiBiYWxsIC0tPg0KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsNU1haW4pIiBzdHJva2U9IiNlNjUxMDAiIHN0cm9rZS13aWR0aD0iMC41Ii8+DQogIA0KICA8IS0tIFByaW1hcnkgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI1IiBmaWxsPSJ1cmwoI2JhbGw1SGlnaGxpZ2h0KSIvPg0KICANCiAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjE0IiBjeT0iMTQiIHI9IjIuNSIgZmlsbD0idXJsKCNiYWxsNVNwZWN1bGFyKSIvPg0KICANCiAgPCEtLSBOdW1iZXIgNSAtIG11Y2ggbGFyZ2VyIGFuZCBtb3JlIHZpc2libGUgLS0+DQogIDx0ZXh0IHg9IjE2IiB5PSIyMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iIzAwMDAwMCI+NTwvdGV4dD4NCiAgDQogIDwhLS0gU3VidGxlIHNoYWRvdyBmb3IgZGVwdGggLS0+DQogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGw1U2hhZG93KSIvPg0KPC9zdmc+IA==",s6="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIGdyZWVuIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDZNYWluIiBjeD0iMzAlIiBjeT0iMzAlIiByPSI3MCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2M4ZTZjOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIyNSUiIHN0b3AtY29sb3I9IiM2NmJiNmEiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjNGNhZjUwIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9Ijc1JSIgc3RvcC1jb2xvcj0iIzM4OGUzYyIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMWI1ZTIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIEhpZ2hsaWdodCBmb3IgZGVwdGggLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsNkhpZ2hsaWdodCIgY3g9IjI1JSIgY3k9IjI1JSIgcj0iNDUlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlOGY1ZTgiIHN0b3Atb3BhY2l0eT0iMC45Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2M4ZTZjOSIgc3RvcC1vcGFjaXR5PSIwLjUiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2M4ZTZjOSIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw2U3BlY3VsYXIiIGN4PSI0MCUiIGN5PSI0MCUiIHI9IjIwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwLjgiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNoYWRvdyBncmFkaWVudCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw2U2hhZG93IiBjeD0iNzAlIiBjeT0iNzAlIiByPSIzMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjMiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgPC9kZWZzPg0KICANCiAgPCEtLSBNYWluIGJhbGwgLS0+DQogIDxjaXJjbGUgY3g9IjE2IiBjeT0iMTYiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGw2TWFpbikiIHN0cm9rZT0iIzFiNWUyMCIgc3Ryb2tlLXdpZHRoPSIwLjUiLz4NCiAgDQogIDwhLS0gUHJpbWFyeSBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjUiIGZpbGw9InVybCgjYmFsbDZIaWdobGlnaHQpIi8+DQogIA0KICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgPGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMi41IiBmaWxsPSJ1cmwoI2JhbGw2U3BlY3VsYXIpIi8+DQogIA0KICA8IS0tIE51bWJlciA2IC0gbXVjaCBsYXJnZXIgYW5kIG1vcmUgdmlzaWJsZSAtLT4NCiAgPHRleHQgeD0iMTYiIHk9IjIyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjZmZmZmZmIj42PC90ZXh0Pg0KICANCiAgPCEtLSBTdWJ0bGUgc2hhZG93IGZvciBkZXB0aCAtLT4NCiAgPGNpcmNsZSBjeD0iMTgiIGN5PSIxOCIgcj0iMTUiIGZpbGw9InVybCgjYmFsbDZTaGFkb3cpIi8+DQo8L3N2Zz4g",i6="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIGJyb3duIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDdNYWluIiBjeD0iMzAlIiBjeT0iMzAlIiByPSI3MCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2Q3Y2NjOCIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIyNSUiIHN0b3AtY29sb3I9IiNhMTg4N2YiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjOGQ2ZTYzIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9Ijc1JSIgc3RvcC1jb2xvcj0iIzZkNGM0MSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjM2UyNzIzIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIEhpZ2hsaWdodCBmb3IgZGVwdGggLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsN0hpZ2hsaWdodCIgY3g9IjI1JSIgY3k9IjI1JSIgcj0iNDUlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlZmViZTkiIHN0b3Atb3BhY2l0eT0iMC45Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2Q3Y2NjOCIgc3RvcC1vcGFjaXR5PSIwLjUiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2Q3Y2NjOCIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw3U3BlY3VsYXIiIGN4PSI0MCUiIGN5PSI0MCUiIHI9IjIwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwLjgiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNoYWRvdyBncmFkaWVudCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw3U2hhZG93IiBjeD0iNzAlIiBjeT0iNzAlIiByPSIzMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjMiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgPC9kZWZzPg0KICANCiAgPCEtLSBNYWluIGJhbGwgLS0+DQogIDxjaXJjbGUgY3g9IjE2IiBjeT0iMTYiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGw3TWFpbikiIHN0cm9rZT0iIzNlMjcyMyIgc3Ryb2tlLXdpZHRoPSIwLjUiLz4NCiAgDQogIDwhLS0gUHJpbWFyeSBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjUiIGZpbGw9InVybCgjYmFsbDdIaWdobGlnaHQpIi8+DQogIA0KICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgPGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMi41IiBmaWxsPSJ1cmwoI2JhbGw3U3BlY3VsYXIpIi8+DQogIA0KICA8IS0tIE51bWJlciA3IC0gbXVjaCBsYXJnZXIgYW5kIG1vcmUgdmlzaWJsZSAtLT4NCiAgPHRleHQgeD0iMTYiIHk9IjIyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjZmZmZmZmIj43PC90ZXh0Pg0KICANCiAgPCEtLSBTdWJ0bGUgc2hhZG93IGZvciBkZXB0aCAtLT4NCiAgPGNpcmNsZSBjeD0iMTgiIGN5PSIxOCIgcj0iMTUiIGZpbGw9InVybCgjYmFsbDdTaGFkb3cpIi8+DQo8L3N2Zz4g",o6="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIGJsYWNrIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDhNYWluIiBjeD0iMzAlIiBjeT0iMzAlIiByPSI3MCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzQyNDI0MiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIyNSUiIHN0b3AtY29sb3I9IiMyMTIxMjEiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjMDAwMDAwIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9Ijc1JSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMDAwMDAwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIEhpZ2hsaWdodCBmb3IgZGVwdGggLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsOEhpZ2hsaWdodCIgY3g9IjI1JSIgY3k9IjI1JSIgcj0iNDUlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM3NTc1NzUiIHN0b3Atb3BhY2l0eT0iMC45Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iIzQyNDI0MiIgc3RvcC1vcGFjaXR5PSIwLjUiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzQyNDI0MiIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw4U3BlY3VsYXIiIGN4PSI0MCUiIGN5PSI0MCUiIHI9IjIwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwLjgiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNoYWRvdyBncmFkaWVudCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw4U2hhZG93IiBjeD0iNzAlIiBjeT0iNzAlIiByPSIzMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjMiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgPC9kZWZzPg0KICANCiAgPCEtLSBNYWluIGJhbGwgLS0+DQogIDxjaXJjbGUgY3g9IjE2IiBjeT0iMTYiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGw4TWFpbikiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIwLjUiLz4NCiAgDQogIDwhLS0gUHJpbWFyeSBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjUiIGZpbGw9InVybCgjYmFsbDhIaWdobGlnaHQpIi8+DQogIA0KICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgPGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMi41IiBmaWxsPSJ1cmwoI2JhbGw4U3BlY3VsYXIpIi8+DQogIA0KICA8IS0tIE51bWJlciA4IC0gbXVjaCBsYXJnZXIgYW5kIG1vcmUgdmlzaWJsZSAtLT4NCiAgPHRleHQgeD0iMTYiIHk9IjIyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjZmZmZmZmIj44PC90ZXh0Pg0KICANCiAgPCEtLSBTdWJ0bGUgc2hhZG93IGZvciBkZXB0aCAtLT4NCiAgPGNpcmNsZSBjeD0iMTgiIGN5PSIxOCIgcj0iMTUiIGZpbGw9InVybCgjYmFsbDhTaGFkb3cpIi8+DQo8L3N2Zz4g",l6="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIHllbGxvdyAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw5TWFpbiIgY3g9IjMwJSIgY3k9IjMwJSIgcj0iNzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMjUlIiBzdG9wLWNvbG9yPSIjZmZlYjNiIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZkZDgzNSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI3NSUiIHN0b3AtY29sb3I9IiNmNTdmMTciLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2U2NTEwMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBIaWdobGlnaHQgZm9yIGRlcHRoIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDlIaWdobGlnaHQiIGN4PSIyNSUiIGN5PSIyNSUiIHI9IjQ1JSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmOWM0IiBzdG9wLW9wYWNpdHk9IjAuOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiIHN0b3Atb3BhY2l0eT0iMC41Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsOVNwZWN1bGFyIiBjeD0iNDAlIiBjeT0iNDAlIiByPSIyMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMC44Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTaGFkb3cgZ3JhZGllbnQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsOVNoYWRvdyIgY3g9IjcwJSIgY3k9IjcwJSIgcj0iMzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4zIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBXaGl0ZSBzdHJpcGUgZ3JhZGllbnQgLS0+DQogICAgPGxpbmVhckdyYWRpZW50IGlkPSJiYWxsOVN0cmlwZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmOGY4ZjgiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgIDwvbGluZWFyR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgDQogIDwhLS0gTWFpbiBiYWxsIC0tPg0KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsOU1haW4pIiBzdHJva2U9IiNlNjUxMDAiIHN0cm9rZS13aWR0aD0iMC41Ii8+DQogIA0KICA8IS0tIFJlYWxpc3RpYyBjdXJ2ZWQgd2hpdGUgc3RyaXBlIC0tPg0KICA8cGF0aCBkPSJNIDQgOCBBIDggOCAwIDAgMSAxMiA4IEwgMTIgMjQgQSA4IDggMCAwIDEgNCAyNCBaIiBmaWxsPSJ1cmwoI2JhbGw5U3RyaXBlKSIvPg0KICANCiAgPCEtLSBQcmltYXJ5IGhpZ2hsaWdodCAtLT4NCiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iNSIgZmlsbD0idXJsKCNiYWxsOUhpZ2hsaWdodCkiLz4NCiAgDQogIDwhLS0gU3BlY3VsYXIgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxNCIgY3k9IjE0IiByPSIyLjUiIGZpbGw9InVybCgjYmFsbDlTcGVjdWxhcikiLz4NCiAgDQogIDwhLS0gTnVtYmVyIDkgLSBtdWNoIGxhcmdlciBhbmQgbW9yZSB2aXNpYmxlIC0tPg0KICA8dGV4dCB4PSIxNiIgeT0iMjIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IiMwMDAwMDAiPjk8L3RleHQ+DQogIA0KICA8IS0tIFN1YnRsZSBzaGFkb3cgZm9yIGRlcHRoIC0tPg0KICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjE4IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsOVNoYWRvdykiLz4NCjwvc3ZnPiA=",Ot=600,Xt=300,qe=15,Ve=qe/2,$a=1.3,Yo=.9,Cc=30,ug=160,Sc=24.5,dg=270.18,TC=Ot*.75,NC=Xt/2,fg=Ve*.1,RC=.7,kC=.45,LC=.05,Rd=.99,ni=.75,ai=.75,qa=.95,ri=.3,c6=.8,on=(...t)=>{},Kg=({onGameEnd:t})=>{const a=w.useRef(null),[e,n]=w.useState({balls:[],cueBall:{x:100,y:150,originalX:100,originalY:150,vx:0,vy:0,visible:!0,isMoving:!1,rotation:0,rotationSpeed:0,spinX:0,spinY:0},isAnimating:!1,currentPlayer:1,gamePhase:eo.BREAK,ballInHand:!1,scratchOccurred:!1}),[s,o]=w.useState(!1),[l,u]=w.useState({x:0,y:0}),[h,m]=w.useState(0),[p,v]=w.useState(.5),[b,S]=w.useState(0),[C,_]=w.useState(0),[E,I]=w.useState(!0),[A,M]=w.useState(null),[k,L]=w.useState(null),[U,F]=w.useState(null),[z,q]=w.useState(!1),[te,ge]=w.useState(!1),[le,re]=w.useState(0),[ee,j]=w.useState(!1),[D,H]=w.useState(null),[V,W]=w.useState(null),[R,B]=w.useState(!1),[Z,K]=w.useState(!1),[se,Ie]=w.useState(!1),[$,Ce]=w.useState(!1),[de,we]=w.useState(!1),[Oe,We]=w.useState(!1),[et,qt]=w.useState(null),[xn,en]=w.useState(!1),[Yn,xt]=w.useState({1:0,2:0}),[gn,ka]=w.useState(null),[gt,Qn]=w.useState(null),[ia,yn]=w.useState(!1),[so,xs]=w.useState(null),[kn,tn]=w.useState(!1),[Ht,vn]=w.useState(!1),[lu,io]=w.useState(!1),[mi,Vn]=w.useState(!1),[Xn,La]=w.useState(null),[pt,In]=w.useState(0),[pr,gr]=w.useState([]),[ma,bt]=w.useState(!1),Ln=w.useRef(null),pa={cue:ES,1:e6,2:t6,3:n6,4:a6,5:r6,6:s6,7:i6,8:o6,9:l6,10:th},Pa=w.useRef({}),Kn=w.useRef(null),ar=w.useRef(null),Oa=[{x:30,y:24.5,id:"top-left"},{x:570.77,y:24.5,id:"top-right"},{x:30,y:270.18,id:"bottom-left"},{x:570.77,y:270.18,id:"bottom-right"},{x:300.385,y:24.5,id:"top-center"},{x:300.385,y:270.18,id:"bottom-center"}],pi=w.useCallback(G=>{if(!Z)return;const N=a.current.getBoundingClientRect(),ce=N.width/Ot,fe=(G.clientX-N.left)/ce,be=(G.clientY-N.top)/ce,Me=e.balls.find(Le=>Le.visible&&!Le.pocketed&&Math.sqrt((Le.x-fe)**2+(Le.y-be)**2)<Ve*1.5);if(Me){H(Me.id);return}const De=Oa.find(Le=>Math.sqrt((Le.x-fe)**2+(Le.y-be)**2)<60);if(De){W(De.id);return}},[Z,e.balls,Oa]),pl=w.useCallback((G,N)=>{const Le=[{x:30,y:24.5,id:"top-left"},{x:570.77,y:24.5,id:"top-right"},{x:30,y:270.18,id:"bottom-left"},{x:570.77,y:270.18,id:"bottom-right"},{x:300.385,y:24.5,id:"top-center"},{x:300.385,y:270.18,id:"bottom-center"}];let Je=null,He=1/0;return Le.forEach(Ke=>{const Fe=Math.hypot(G-Ke.x,N-Ke.y);Fe<He&&(He=Fe,Je=Ke)}),Je?Je.id:null},[]),Jn=w.useCallback(G=>{const De=[{x:30,y:24.5,margin:qe*$a,type:"corner"},{x:570.77,y:24.5,margin:qe*$a,type:"corner"},{x:30,y:270.18,margin:qe*$a,type:"corner"},{x:570.77,y:270.18,margin:qe*$a,type:"corner"},{x:300.385,y:24.5,margin:qe*Yo,type:"side"},{x:300.385,y:270.18,margin:qe*Yo,type:"side"}],Le=G.x,Je=G.y,He=G.vx??0,Ke=G.vy??0,Fe=Math.hypot(He,Ke);return De.some(Te=>{const oe=Te.x-Le,xe=Te.y-Je,Ne=Math.hypot(oe,xe);if(Ne>=Te.margin+fg)return!1;if(Fe>0){const Ue=(He*oe+Ke*xe)/(Fe*(Ne||1)),yt=Te.type==="side"?RC:kC,Be=(He*oe+Ke*xe)/(Ne||1);if(Ue<yt||Be<LC)return!1}return!0})},[]),cn=w.useCallback((G,N)=>G>=Cc&&G<=ug&&N>=Sc&&N<=dg,[]);w.useCallback(()=>{n(G=>({...G,scratchOccurred:!0,ballInHand:!0,currentPlayer:G.currentPlayer===1?2:1,cueBall:{...G.cueBall,x:100,y:150,vx:0,vy:0,visible:!0,isMoving:!1,rotation:0,rotationSpeed:0}}))},[]);const un=w.useCallback(()=>{const G=e.balls.filter(ce=>ce.visible&&!ce.pocketed);if(on("Visible balls on table:",G.map(ce=>ce.id).sort((ce,fe)=>ce-fe)),G.length===0)return null;const N=G.reduce((ce,fe)=>fe.id<ce.id?fe:ce);return on("Lowest numbered ball:",N.id),N},[e.balls]),ea=w.useCallback(()=>{if(se)return null;const G=so||un();let N=null;if(e.cueBall.visible||(N="scratch"),e.gamePhase==="break"){gt&&gt!==1&&(N="break_wrong_ball_first");const ce=e.balls.filter(be=>be.pocketed&&!be.wasPocketedBeforeShot),fe=pt;ce.length===0&&fe<4&&(N="break_insufficient_cushions")}return!N&&gt&&G&&gt!==G.id&&(on("Wrong ball first foul - Hit:",gt,"Lowest:",G.id),on("Visible balls on table:",e.balls.filter(ce=>ce.visible&&!ce.pocketed).map(ce=>ce.id).sort((ce,fe)=>ce-fe)),N="wrong_ball_first"),!N&&!Ht&&!se&&e.gamePhase!=="break"&&(N="no_contact"),!N&&Ht&&!ia&&e.balls.filter(fe=>fe.pocketed&&!fe.wasPocketedBeforeShot).length===0&&(N="no_rail_contact"),on("Current lowest ball:",G?G.id:"none"),N},[se,gt,ia,Ht,un,e.balls,so,e.cueBall.visible,e.gamePhase,pt]),Gr=w.useCallback(()=>{if(e.gamePhase==="break"||se)return[];const G=e.balls.filter(ce=>ce.pocketed&&!ce.wasPocketedBeforeShot);if(G.length===0)return[];const N=[];return G.forEach(ce=>{if(ce.id===D)ce.pocketedPocket!==V&&(on("Illegally pocketed ball:",ce.id,"- called ball went in wrong pocket"),N.push(ce));else{const fe=G.find(be=>be.id===D);(!fe||fe.pocketedPocket!==V)&&(on("Illegally pocketed ball:",ce.id,"- not called ball and called ball not legally pocketed"),N.push(ce))}}),N},[e.gamePhase,se,D,V,e.balls]),yr=w.useCallback(G=>{const N=Xn||e.currentPlayer;window.dispatchEvent(new CustomEvent("gameFoul",{detail:{foulType:G,player:N}})),G==="scratch"?window.dispatchEvent(new CustomEvent("scratchFoul",{detail:{player:N}})):G==="wrong_ball_first"?window.dispatchEvent(new CustomEvent("wrongBallFoul",{detail:{player:N}})):G==="no_rail_contact"&&window.dispatchEvent(new CustomEvent("noRailFoul",{detail:{player:N}})),window.dispatchEvent(new CustomEvent("ballInHand",{detail:{player:N}})),xt(ce=>{const fe={...ce,[N]:ce[N]+1};return fe[N]>=3&&(window.dispatchEvent(new CustomEvent("threeFoul",{detail:{player:N}})),alert(`Player ${N} loses due to 3 consecutive fouls!`)),fe}),n(ce=>({...ce,ballInHand:!0,currentPlayer:ce.currentPlayer===1?2:1,scratchOccurred:G==="scratch"})),G==="scratch"&&n(ce=>({...ce,cueBall:{...ce.cueBall,visible:!0,x:100,y:150,vx:0,vy:0}})),ka(G)},[e.currentPlayer,Xn]),ga=w.useCallback((G,N)=>{const ce=e.cueBall;return Math.hypot(G-ce.x,N-ce.y)<=Ve},[e.cueBall]),Is=w.useCallback((G,N)=>{(e.ballInHand||e.gamePhase==="break")&&ga(G,N)&&(o(!0),u({x:G-e.cueBall.x,y:N-e.cueBall.y}))},[e.ballInHand,e.gamePhase,e.cueBall,ga]),Zr=w.useCallback((G,N)=>{if(s){const ce=G-l.x,fe=N-l.y;let be,Me;e.gamePhase==="break"?(be=Math.max(Cc+Ve,Math.min(ug-Ve,ce)),Me=Math.max(Sc+Ve,Math.min(dg-Ve,fe))):(be=Math.max(30+Ve,Math.min(570.77-Ve,ce)),Me=Math.max(24.5+Ve,Math.min(270.18-Ve,fe))),n(De=>({...De,cueBall:{...De.cueBall,x:be,y:Me}}))}},[s,l,e.gamePhase]),gi=w.useCallback(()=>{s&&o(!1)},[s]);w.useCallback((G,N)=>{cn(G,N)&&n(ce=>({...ce,cueBall:{...ce.cueBall,x:G,y:N,vx:0,vy:0,visible:!0,isMoving:!1},ballInHand:!1}))},[cn]),w.useCallback((G,N)=>{let ce=null,fe=1/0;return Oa.forEach(be=>{const Me=Math.hypot(G-be.x,N-be.y);Me<fe&&(fe=Me,ce=be)}),ce},[]);const vr=w.useCallback((G,N,ce,fe)=>{const be=G-ce,Me=N-fe,De=Math.sqrt(be*be+Me*Me);if(De<Ve*2)return null;const Le=G-be/De*(Ve*2),Je=N-Me/De*(Ve*2);return{x:Le,y:Je}},[]);function $r(G,N){return G>=15&&G<=30&&N>=Xt-75&&N<=Xt-60}function qr(G,N,ce,fe,be){AC(be,fe)&&(G.fillStyle="rgba(255, 215, 0, 0.2)",G.fillRect(10,N-80,200,25),G.strokeStyle="rgba(255, 215, 0, 0.5)",G.lineWidth=1,G.strokeRect(10,N-80,200,25),G.fillStyle="rgba(255, 215, 0, 0.9)",G.font="12px Arial",G.textAlign="left",G.fillText("Push Out Available",15,N-65),G.fillStyle=ce?"rgba(255, 215, 0, 0.9)":"rgba(255, 255, 255, 0.3)",G.fillRect(15,N-75,15,15),G.strokeStyle="rgba(255, 215, 0, 0.8)",G.lineWidth=2,G.strokeRect(15,N-75,15,15),ce&&(G.fillStyle="rgba(255, 215, 0, 0.9)",G.font="bold 16px Arial",G.textAlign="center",G.fillText("✓",22,N-65)))}function ya(G,N){G.setLineDash([]),G.beginPath(),G.moveTo(N[0].x,N[0].y);for(let ce=1;ce<N.length;ce++){const fe=N[ce];G.lineTo(fe.x,fe.y)}G.stroke()}function Yt(G){let N="rgba(255, 255, 255, 0.8)";z?N="rgba(0, 255, 0, 0.95)":te&&(N="rgba(255, 255, 0, 0.9)"),Math.abs(b)>.1&&(b>0?N="rgba(76, 175, 80, 0.9)":N="rgba(244, 67, 54, 0.9)"),G.strokeStyle=N,G.lineWidth=z?4:te?2:3,G.setLineDash([]),G.globalAlpha=.9}function yi(G){const N=Ot*.3,ce=Ot*.5*G;return N+ce}function vi(G,N){let ce=G-N;for(;ce>Math.PI;)ce-=Math.PI*2;for(;ce<-Math.PI;)ce+=Math.PI*2;return ce}const ta=w.useCallback((G,N)=>{const Le=[{x:30,y:24.5,id:"top-left"},{x:570.77,y:24.5,id:"top-right"},{x:30,y:270.18,id:"bottom-left"},{x:570.77,y:270.18,id:"bottom-right"},{x:300.385,y:24.5,id:"top-center"},{x:300.385,y:270.18,id:"bottom-center"}];let Je=null,He=1/0;if(Le.forEach(Ke=>{const Fe=Math.hypot(G-Ke.x,N-Ke.y);Fe<He&&(He=Fe,Je=Ke)}),Je&&He<80){const Ke=Math.max(0,(80-He)/80),Fe=G+(Je.x-G)*Ke*.3,Te=N+(Je.y-N)*Ke*.3;return{x:Fe,y:Te,assisted:!0}}return{x:G,y:N,assisted:!1}},[]),oa=w.useCallback((G,N,ce=null,fe={})=>{const{ignoreCuePocket:be=!0}=fe,Me={},De=.99,Le=16,Je=30.77,He=570.77,Ke=24.5,Fe=270.18,Te={1:"#ffff00",2:"#0000ff",3:"#ff0000",4:"#800080",5:"#ffa500",6:"#008000",7:"#8b4513",8:"#000000",9:"#ffff00",10:"#ff0000"};return(()=>{const xe=new Map;e.balls.forEach(Ue=>{Ue.visible&&!Ue.pocketed&&xe.set(Ue.id,{id:Ue.id,x:Ue.x,y:Ue.y,vx:0,vy:0,visible:!0,isMoving:!1,trajectory:[{x:Ue.x,y:Ue.y}]})});const Ne=ce||e.cueBall;xe.set("cue",{id:"cue",x:Ne.x,y:Ne.y,vx:G,vy:N,visible:!0,isMoving:!0,trajectory:[{x:Ne.x,y:Ne.y}]});for(let Ue=0;Ue<300;Ue++){const yt=Array.from(xe.values()).filter(ye=>ye.visible);for(let ye=0;ye<Le;ye++)yt.forEach(_e=>{if(Math.abs(_e.vx)<.03&&Math.abs(_e.vy)<.03){_e.vx=0,_e.vy=0;return}_e.vx*=Math.pow(De,1/Le),_e.vy*=Math.pow(De,1/Le);let je=_e.x+_e.vx/Le,Re=_e.y+_e.vy/Le,Xe=!1;je<Je+Ve?(_e.x=Je+Ve,_e.vx=Math.abs(_e.vx)*.85,Xe=!0):je>He-Ve?(_e.x=He-Ve,_e.vx=-Math.abs(_e.vx)*.8,Xe=!0):_e.x=je,Re<Ke+Ve?(_e.y=Ke+Ve,_e.vy=Math.abs(_e.vy)*.85,Xe=!0):Re>Fe-Ve?(_e.y=Fe-Ve,_e.vy=-Math.abs(_e.vy)*.8,Xe=!0):_e.y=Re;let jt=!1;const st=(Je+He)/2,ut=[{x:Je,y:Ke,margin:qe*$a},{x:He,y:Ke,margin:qe*$a},{x:Je,y:Fe,margin:qe*$a},{x:He,y:Fe,margin:qe*$a},{x:st,y:Ke,margin:qe*Yo},{x:st,y:Fe,margin:qe*Yo}],nn=_e.x,Mn=_e.y,Fn=_e.vx??0,Sr=_e.vy??0,wa=Math.hypot(Fn,Sr);let _r=!1;if(be||(_r=ut.some(Ca=>{const sr=Ca.x-nn,Qr=Ca.y-Mn,Sn=Math.hypot(sr,Qr),Vr=Ca.margin+fg;if(Sn>=Vr)return!1;if(wa>0){const lo=(Fn*sr+Sr*Qr)/(wa*(Sn||1)),Ci=Ca.x===st?RC:kC,Eh=(Fn*sr+Sr*Qr)/(Sn||1);if(lo<Ci||Eh<LC)return!1}return!0})),_r&&!(be&&_e.id==="cue")&&(jt=!0),!jt&&_e.id!=="cue"){const Ca=ta(_e.x,_e.y);if(Ca.assisted){const sr=Ca.x-_e.x,Qr=Ca.y-_e.y;Math.sqrt(sr*sr+Qr*Qr)<5&&(jt=!0)}}if(jt){_e.visible=!1,_e.trajectory.push({x:_e.x,y:_e.y,pocketed:!0});return}_e.isMoving&&Math.abs(_e.vx)<.03&&Math.abs(_e.vy)<.03&&(_e.vx=0,_e.vy=0,_e.isMoving=!1),_e.trajectory.push({x:_e.x,y:_e.y,bounced:Xe})});const Be=xe.get("cue");Be&&Be.visible&&xe.forEach((ye,_e)=>{if(_e!=="cue"&&ye.visible){const je=ye.x-Be.x,Re=ye.y-Be.y,Xe=Math.sqrt(je*je+Re*Re);if(Xe>0&&Xe<qe+.5){const jt=qe-Xe+.01,st=je/Xe,ut=Re/Xe,nn=Math.max(jt/2,.1);Be.x-=st*nn,Be.y-=ut*nn,ye.x+=st*nn,ye.y+=ut*nn;const Mn=Be.vx-ye.vx,Fn=Be.vy-ye.vy,wa=-(Mn*st+Fn*ut)||.01;Be.vx+=wa*st,Be.vy+=wa*ut,ye.vx-=wa*st,ye.vy-=wa*ut,Be.trajectory.length>0&&(Be.trajectory[Be.trajectory.length-1].collision=!0),ye.trajectory.length>0&&(ye.trajectory[ye.trajectory.length-1].collision=!0)}}});const P=Array.from(xe.values()).filter(ye=>ye.id!=="cue"&&ye.visible);for(let ye=0;ye<P.length;ye++)for(let _e=ye+1;_e<P.length;_e++){const je=P[ye],Re=P[_e],Xe=Re.x-je.x,jt=Re.y-je.y,st=Math.sqrt(Xe*Xe+jt*jt);if(st>0&&st<qe){const ut=qe-st+.01,nn=Xe/st,Mn=jt/st;je.x-=nn*(ut/2),je.y-=Mn*(ut/2),Re.x+=nn*(ut/2),Re.y+=Mn*(ut/2);const Fn=je.vx-Re.vx,Sr=je.vy-Re.vy,_r=-(Fn*nn+Sr*Mn)||.01;je.vx+=_r*nn,je.vy+=_r*Mn,Re.vx-=_r*nn,Re.vy-=_r*Mn,je.isMoving=!0,Re.isMoving=!0,je.trajectory.length>0&&(je.trajectory[je.trajectory.length-1].collision=!0),Re.trajectory.length>0&&(Re.trajectory[Re.trajectory.length-1].collision=!0)}}if(yt.every(ye=>Math.abs(ye.vx)<.028&&Math.abs(ye.vy)<.028))break}xe.forEach((Ue,yt)=>{Ue.trajectory.length>1&&(Me[yt]={points:Ue.trajectory,color:Te[yt]||"#ffffff"})})})(),Me},[e.balls,e.cueBall,Jn]),Ds=w.useCallback((G,N)=>{const ce=N.x-G.x,fe=N.y-G.y,be=Math.sqrt(ce*ce+fe*fe);if(be===0||be>=qe)return!1;const Me=qe-be+.01,De=ce/be,Le=fe/be;G.x-=De*(Me/2),G.y-=Le*(Me/2),N.x+=De*(Me/2),N.y+=Le*(Me/2);const Je=G.vx-N.vx,He=G.vy-N.vy,Fe=-(Je*De+He*Le)||.01;G.vx+=Fe*De,G.vy+=Fe*Le,N.vx-=Fe*De,N.vy-=Fe*Le;const Te=c6,oe=G.spinX||0,xe=G.spinY||0,Ne=N.spinX||0,Ue=N.spinY||0,yt=(oe-Ne)*Te*De,Be=(xe-Ue)*Te*Le;return G.spinX=(oe-yt)*.9,G.spinY=(xe-Be)*.9,N.spinX=(Ne+yt)*.9,N.spinY=(Ue+Be)*.9,G.isMoving=!0,N.isMoving=!0,!0},[]),br=w.useCallback(()=>{const G=[],N=Ot*.75,ce=Xt/2;function fe(){return(Math.random()-.5)*1.5}const be=[{x:N,y:ce},{x:N+qe*.95,y:ce-qe*.48},{x:N+qe*.95,y:ce+qe*.48},{x:N+2*qe*.95,y:ce-qe*.95},{x:N+2*qe*.95,y:ce},{x:N+2*qe*.95,y:ce+qe*.95},{x:N+3*qe*.95,y:ce-qe*1.43},{x:N+3*qe*.95,y:ce-qe*.48},{x:N+3*qe*.95,y:ce+qe*.48},{x:N+3*qe*.95,y:ce+qe*1.43}],Me=[{x:N+3*qe*.95,y:ce-qe*1.43},{x:N+3*qe*.95,y:ce+qe*1.43}],Le=[2,3].sort(()=>Math.random()-.5),He=[4,5,6,7,8,9].sort(()=>Math.random()-.5);return[1,10,...Le,...He].forEach((Fe,Te)=>{let oe;if(Te===0)oe=be[0];else if(Te===1)oe=be[4];else if(Te===2||Te===3){const xe=Te-2;oe=Me[xe]}else oe=[be[1],be[2],be[3],be[5],be[7],be[8]][Te-4];oe&&G.push({id:Fe,x:oe.x+fe(),y:oe.y+fe(),vx:0,vy:0,visible:!0,pocketed:!1,wasPocketedBeforeShot:!1,isMoving:!1,rotation:0,rotationSpeed:0,spinX:0,spinY:0})}),G},[]),Ms=w.useCallback(()=>{function Me(){let De=[];for(let Te=0;Te<16;Te++){if(e.cueBall.visible){let oe=e.cueBall.x+e.cueBall.vx/16,xe=e.cueBall.y+e.cueBall.vy/16;oe<30+Ve?(e.cueBall.x=30+Ve,e.cueBall.vx=Math.abs(e.cueBall.vx)*ni*ai,e.cueBall.spinY*=qa,Ht&&yn(!0)):oe>570.77-Ve?(e.cueBall.x=570.77-Ve,e.cueBall.vx=-Math.abs(e.cueBall.vx)*ni*ai,e.cueBall.spinY*=qa,Ht&&yn(!0)):e.cueBall.x=oe,xe<24.5+Ve?(e.cueBall.y=24.5+Ve,e.cueBall.vy=Math.abs(e.cueBall.vy)*ni*ai,e.cueBall.spinX*=qa,Ht&&yn(!0)):xe>270.18-Ve?(e.cueBall.y=270.18-Ve,e.cueBall.vy=-Math.abs(e.cueBall.vy)*ni*ai,e.cueBall.spinX*=qa,Ht&&yn(!0)):e.cueBall.y=xe,e.cueBall.vx*=Math.pow(Rd,1/16),e.cueBall.vy*=Math.pow(Rd,1/16),e.cueBall.vx+=e.cueBall.spinX*ri,e.cueBall.vy+=e.cueBall.spinY*ri,e.cueBall.spinX*=Math.pow(qa,1/16),e.cueBall.spinY*=Math.pow(qa,1/16);const Ne=Math.sqrt(e.cueBall.vx*e.cueBall.vx+e.cueBall.vy*e.cueBall.vy);Ne>.01?(e.cueBall.rotationSpeed=Ne/Ve,Math.abs(e.cueBall.vx)>Math.abs(e.cueBall.vy)?e.cueBall.rotation+=e.cueBall.rotationSpeed/16*Math.sign(e.cueBall.vx):e.cueBall.rotation+=e.cueBall.rotationSpeed/16*Math.sign(e.cueBall.vy)):e.cueBall.rotationSpeed=0,Jn(e.cueBall)&&(e.cueBall.isMoving=!1,e.cueBall.visible=!1),e.cueBall.isMoving&&Math.abs(e.cueBall.vx)<.03&&Math.abs(e.cueBall.vy)<.03&&(e.cueBall.vx=0,e.cueBall.vy=0,e.cueBall.isMoving=!1)}e.balls.forEach(oe=>{if(!oe.visible)return;let xe=oe.x+oe.vx/16,Ne=oe.y+oe.vy/16;xe<30+Ve?(oe.x=30+Ve,oe.vx=Math.abs(oe.vx)*ni*ai,oe.spinY*=qa,Ht&&(on("Rail contact detected for ball:",oe.id),yn(!0)),e.gamePhase==="break"&&oe.id!=="cue"&&In(yt=>yt+1)):xe>570.77-Ve?(oe.x=570.77-Ve,oe.vx=-Math.abs(oe.vx)*ni*ai,oe.spinY*=qa,Ht&&yn(!0),e.gamePhase==="break"&&oe.id!=="cue"&&In(yt=>yt+1)):oe.x=xe,Ne<24.5+Ve?(oe.y=24.5+Ve,oe.vy=Math.abs(oe.vy)*ni*ai,oe.spinX*=qa,Ht&&yn(!0),e.gamePhase==="break"&&oe.id!=="cue"&&In(yt=>yt+1)):Ne>270.18-Ve?(oe.y=270.18-Ve,oe.vy=-Math.abs(oe.vy)*ni*ai,oe.spinX*=qa,Ht&&yn(!0),e.gamePhase==="break"&&oe.id!=="cue"&&In(yt=>yt+1)):oe.y=Ne,oe.vx*=Math.pow(Rd,1/16),oe.vy*=Math.pow(Rd,1/16),oe.vx+=oe.spinX*ri,oe.vy+=oe.spinY*ri,oe.spinX*=Math.pow(qa,1/16),oe.spinY*=Math.pow(qa,1/16);const Ue=Math.sqrt(oe.vx*oe.vx+oe.vy*oe.vy);Ue>.01?(oe.rotationSpeed=Ue/Ve,Math.abs(oe.vx)>Math.abs(oe.vy)?oe.rotation+=oe.rotationSpeed/16*Math.sign(oe.vx):oe.rotation+=oe.rotationSpeed/16*Math.sign(oe.vy)):oe.rotationSpeed=0,Jn(oe)&&(oe.isMoving=!1,oe.visible=!1,oe.pocketed=!0,oe.pocketedPocket=pl(oe.x,oe.y),De.includes(oe.id)||De.push(oe.id)),oe.isMoving&&Math.abs(oe.vx)<.03&&Math.abs(oe.vy)<.03&&(oe.vx=0,oe.vy=0,oe.isMoving=!1)}),e.cueBall.visible&&e.balls.forEach(oe=>{if(oe.visible){const xe=Ds(e.cueBall,oe);!lu&&xe&&e.cueBall.isMoving&&(on("First contact made with ball:",oe.id),Qn(oe.id),vn(!0),io(!0))}}),e.balls.forEach((oe,xe)=>{oe.visible&&e.balls.slice(xe+1).forEach(Ne=>{Ne.visible&&Ds(oe,Ne)})})}const Le=e.balls.every(Te=>!Te.isMoving)&&!e.cueBall.isMoving;if(Le&&et&&(en(!0),qt(null)),Le&&se&&!kn&&!mi&&Xn===e.currentPlayer&&(on("currentPlayer:",e.currentPlayer),on("cueBall visible:",e.cueBall.visible),e.cueBall.visible?(Vn(!0),Ie(!1)):(tn(!0),Vn(!0),Ie(!1),yr("scratch"))),Le&&!se&&e.gamePhase!=="break"&&!kn&&!mi&&Xn===e.currentPlayer&&Xn!==null&&!Oe){on("currentPlayer:",e.currentPlayer),on("gamePhase:",e.gamePhase),on("Checking for fouls - Current player:",e.currentPlayer,"First ball hit:",gt);const Te=ea();if(Te)on("Foul detected:",Te,"by player:",e.currentPlayer),tn(!0),Vn(!0),H(null),W(null),Ie(!1),yr(Te);else{if(!Oe){const xe=Gr();if(xe.length>0){on("Illegally pocketed balls detected:",xe.map(Ne=>Ne.id)),gr(xe),bt(!0),Vn(!0),H(null),W(null);return}}Vn(!0),H(null),W(null),Ie(!1),xt(xe=>{const Ne={...xe,[Xn]:0};return on(`Resetting fouls for player ${Xn} only. Player 1 fouls: ${Ne[1]}, Player 2 fouls: ${Ne[2]}`),Ne}),e.balls.filter(xe=>xe.pocketed&&!xe.wasPocketedBeforeShot).length===0&&n(xe=>({...xe,currentPlayer:xe.currentPlayer===1?2:1}))}}if(Le&&Oe&&!kn&&!mi){Vn(!0),We(!1);const Te=ea();Te?(on("Break foul detected:",Te,"by player:",e.currentPlayer),tn(!0),yr(Te)):e.balls.filter(xe=>xe.pocketed&&!xe.wasPocketedBeforeShot).length===0&&n(xe=>({...xe,currentPlayer:xe.currentPlayer===1?2:1}))}const Je=e.balls.find(Te=>Te.id===10&&Te.pocketed),He=e.balls.filter(Te=>Te.visible&&!Te.pocketed),Ke=He.length>0?He.reduce((Te,oe)=>oe.id<Te.id?oe:Te):null;if(Le&&Ke&&Ke.id===10&&window.dispatchEvent(new CustomEvent("tenBallTarget",{detail:{player:e.currentPlayer}})),Le&&Ke&&cg(e.gamePhase)&&window.dispatchEvent(new CustomEvent("lowestBall",{detail:{player:e.currentPlayer,lowestBall:Ke.id}})),Le&&cg(e.gamePhase)&&Math.random()<.1&&window.dispatchEvent(new CustomEvent("safetyOpportunity",{detail:{player:e.currentPlayer}})),Le&&Je){const Te=D===10,oe=V&&Je.pocketedPocket===V;if(Te&&oe){const xe=Xn;t&&t(xe),window.dispatchEvent(new CustomEvent("gameWinning",{detail:{player:xe}})),setTimeout(()=>{n(Ne=>({...Ne,balls:br(),cueBall:{x:100,y:150,originalX:100,originalY:150,vx:0,vy:0,visible:!0,isMoving:!1},isAnimating:!1,gamePhase:"break",ballInHand:!1,scratchOccurred:!1})),setIsDragging(!1),I(!0),xt({1:0,2:0}),n(Ne=>({...Ne,_foulReset:Date.now()})),window.tipManager&&window.tipManager.resetTips&&window.tipManager.resetTips()},2e3)}else{n(Ne=>({...Ne,balls:Ne.balls.map(Ue=>Ue.id===10?{...Ue,pocketed:!1,visible:!0,x:TC,y:NC,vx:0,vy:0,isMoving:!1}:Ue)}));const xe=e.balls.find(Ne=>Ne.id===D&&Ne.pocketed&&!Ne.wasPocketedBeforeShot);xe&&xe.pocketedPocket===V||n(Ne=>({...Ne,currentPlayer:Ne.currentPlayer===1?2:1})),H(null),W(null)}}const Fe=Bi(e.gamePhase);on("Step function - wasBreakPhase:",Fe,"allStopped:",Le,"gamePhase:",e.gamePhase),n(Te=>({...Te,isAnimating:!Le,gamePhase:K8(Te.gamePhase,Le)})),J8(e.gamePhase,Le)&&(Ce(!0),we(!1),setTimeout(()=>{window.dispatchEvent(new CustomEvent("pushOutStrategy",{detail:{player:e.currentPlayer}}))},500),setTimeout(()=>{window.dispatchEvent(new CustomEvent("pushOutAvailable",{detail:{player:e.currentPlayer}}))},1e3)),Le||(Ln.current=requestAnimationFrame(Me))}Ln.current=requestAnimationFrame(Me)},[e,Jn,Ds,gt,se,ea,yr,et,kn,Xn,mi,Gr,Oe]),wr=w.useCallback(()=>{if(e.isAnimating||!z)return;if(!Bi(e.gamePhase)){if(!se){if(!D&&!V){K(!0),q(!1);return}}}e.cueBall;const G=p*18,N=C*Math.PI/180,ce=Math.cos(N)*b*ri*G*.05,fe=Math.sin(N)*b*ri*G*.05;Qn(null),yn(!1),ka(null),tn(!1),vn(!1),io(!1),Vn(!1),La(e.currentPlayer),In(0);const be=e.balls.filter(De=>De.visible&&!De.pocketed),Me=be.length>0?be.reduce((De,Le)=>Le.id<De.id?Le:De):null;xs(Me),n(De=>({...De,balls:De.balls.map(Le=>({...Le,wasPocketedBeforeShot:Le.pocketed}))})),n(De=>({...De,cueBall:{...De.cueBall,vx:Math.cos(h)*G,vy:Math.sin(h)*G,isMoving:!0,spinX:ce,spinY:fe},isAnimating:!0,ballInHand:!1,gamePhase:De.gamePhase})),Bi(e.gamePhase)&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("callPocket",{detail:{player:e.currentPlayer}}))},500),Bi(e.gamePhase)&&We(!0),q(!1),I(!0),M(null),L(null),F(null),se&&qt({ballsPocketed:e.balls.filter(De=>De.pocketed).length,cueBallPosition:{x:e.cueBall.x,y:e.cueBall.y},player:e.currentPlayer}),K(!1),$&&!de&&e.gamePhase!=="break"&&(we(!0),Ce(!1)),se&&(Ce(!1),we(!0))},[e.isAnimating,z,e.cueBall,p,h,se,D,V,e.gamePhase,$,de]),As=w.useCallback(G=>{if(e.isAnimating)return;if(G.button===2){ge(!0);return}const N=a.current.getBoundingClientRect(),ce=N.width/Ot,fe=(G.clientX-N.left)/ce,be=(G.clientY-N.top)/ce;if(fe>=0&&fe<=Ot&&be>=0&&be<=Xt){if(Z){if(cg(e.gamePhase)&&$&&$r(fe,be)){Ie(!se);return}if(D&&V||se){if(fe>=Ot/2-80&&fe<=Ot/2-10&&be>=Xt-30&&be<=Xt-5){K(!1),q(!0);return}if(fe>=Ot/2+10&&fe<=Ot/2+80&&be>=Xt-30&&be<=Xt-5){K(!1),H(null),W(null),Ie(!1),q(!0);return}}const Le=e.balls.find(He=>He.visible&&!He.pocketed&&Math.sqrt((fe-He.x)**2+(be-He.y)**2)<Ve),Je=Oa.find(He=>Math.sqrt((fe-He.x)**2+(be-He.y)**2)<50);if(Le||Je){pi(G);return}else{K(!1),H(null),W(null),q(!1);return}}if((e.ballInHand||Bi(e.gamePhase))&&ga(fe,be)){Is(fe,be);return}const De=!z;q(De),De&&!Bi(e.gamePhase)&&!se&&K(!0),De||(K(!1),H(null),W(null))}},[e.isAnimating,e.ballInHand,e.gamePhase,ga,Is,z,Z,D,V,pi,$,se]),Cr=w.useCallback(G=>{s&&gi(),G.button===2&&(ge(!1),!z&&!e.isAnimating&&(q(!0),e.gamePhase!=="break"&&!se&&K(!0)))},[s,gi,z,e.isAnimating,e.gamePhase,se]),va=w.useCallback(G=>{if(e.isAnimating)return;const N=a.current.getBoundingClientRect(),ce=N.width/Ot,fe=(G.clientX-N.left)/ce,be=(G.clientY-N.top)/ce;if(s){Zr(fe,be);return}if(z&&!(Z&&(ee||G.altKey)))return;const Me={x:e.cueBall.x,y:e.cueBall.y},De={x:Math.max(30,Math.min(570,Me.x)),y:Math.max(24,Math.min(270,Me.y))},Le=Math.atan2(be-De.y,fe-De.x);let Je=!1,He=null,Ke=1/0;e.balls.forEach(xe=>{if(xe.visible&&!xe.pocketed){const Ne=xe.x-De.x,Ue=xe.y-De.y,yt=Math.sqrt(Ne*Ne+Ue*Ue),Be=Math.atan2(Ue,Ne);Math.abs(Le-Be)<.25&&yt<Ke&&(Ke=yt,He=xe,Je=!0)}});let Fe=Le;if(te){let xe=2e-5;Je&&He&&(xe=1e-5*(Math.sqrt((He.x-De.x)**2+(He.y-De.y)**2)/100));const Ne=De.x,Ue=De.y,yt=(fe-Ne)*xe,Be=(be-Ue)*xe;Fe=Math.atan2(Be,yt)}else if(Je){const Ne=De.x,Ue=De.y,yt=(fe-Ne)*.25,Be=(be-Ue)*.25;Fe=Math.atan2(Be,yt)}else{const xe=.9*Math.PI/180;Fe=Math.round(Le/xe)*xe}if(z&&Z&&(ee||G.altKey)){const xe=vi(Fe,le),Ue=Math.max(-.001,Math.min(.001,xe));Fe=le+Ue}if((Math.abs(vi(Fe,le))>2e-4||!te)&&(m(Fe),re(Fe)),Je&&He){const xe=vr(He.x,He.y,De.x,De.y);M(xe),L(He)}else M(null),L(null)},[e.isAnimating,s,Zr,e.cueBall,e.balls,vr,z,Z]),bi=w.useCallback(()=>{},[]);w.useCallback(()=>{I(!0),v(.5),S(0),_(0),F(null),q(!1)},[]),w.useCallback(()=>{const G=e.cueBall;let N=null,ce=1/0;return e.balls.forEach(fe=>{fe.visible&&!fe.pocketed&&fe.id<ce&&(ce=fe.id,N=fe)}),N?Math.atan2(N.y-G.y,N.x-G.x):Math.atan2(Xt/2-G.y,Ot/2-G.x)},[e.cueBall,e.balls]),w.useEffect(()=>{n(G=>({...G,balls:br()}))},[br]),w.useEffect(()=>{if(e.isAnimating)return Ms(),()=>{Ln.current&&cancelAnimationFrame(Ln.current)}},[e.isAnimating,Ms]),w.useEffect(()=>{const G=N=>{N.key==="Escape"&&Z&&(K(!1),H(null),W(null),q(!1))};return document.addEventListener("keydown",G),()=>{document.removeEventListener("keydown",G)}},[Z]);const rr=w.useCallback(()=>{const G=a.current;if(!G)return;const N=G.getContext("2d");if(N.clearRect(0,0,Ot,Xt),Kn.current?N.drawImage(Kn.current,0,0,Ot,Xt):(N.fillStyle="#0d5c0d",N.fillRect(0,0,Ot,Xt)),ar.current){N.save(),N.globalAlpha=.25;const fe=Ot*.305,be=fe*(ar.current.height/ar.current.width),Me=(Ot-fe)/2,De=(Xt-be)/2;N.shadowColor="rgba(0, 0, 0, 0.3)",N.shadowBlur=4,N.shadowOffsetX=0,N.shadowOffsetY=1,N.drawImage(ar.current,Me,De,fe,be),N.restore()}Bi(e.gamePhase)&&!e.isAnimating&&(N.save(),N.strokeStyle="rgba(255, 0, 0, 0.5)",N.lineWidth=2,N.setLineDash([10,5]),N.strokeRect(Cc,Sc,ug-Cc,dg-Sc),N.fillStyle="rgba(255, 0, 0, 0.8)",N.font="12px Arial",N.fillText("KITCHEN",Cc+10,Sc+20),N.restore());const ce=(fe,be)=>{if(Pa.current[be]){const Me=Pa.current[be];N.save(),N.translate(fe.x,fe.y),N.rotate(fe.rotation||0),N.shadowColor="rgba(0, 0, 0, 0.3)",N.shadowBlur=3,N.shadowOffsetX=1,N.shadowOffsetY=1,N.beginPath(),N.arc(0,0,Ve,0,2*Math.PI),N.clip(),N.drawImage(Me,-7.5,-7.5,qe,qe),N.shadowColor="transparent",N.globalAlpha=.3,N.fillStyle="rgba(255, 255, 255, 0.8)",N.beginPath(),N.arc(-7.5*.3,-7.5*.3,Ve*.4,0,2*Math.PI),N.fill(),N.restore()}else{const Me=new Image;Me.onload=()=>{Pa.current[be]=Me,ce(fe,be)},Me.src=be}};if(e.balls.forEach(fe=>{fe.visible&&!fe.pocketed&&ce(fe,pa[fe.id])}),E&&!e.isAnimating){const fe={x:Math.max(30,Math.min(570,e.cueBall.x)),y:Math.max(24,Math.min(270,e.cueBall.y))},be=h,Me=p*18,De=Math.cos(be)*Me,Le=Math.sin(be)*Me,Je=C*Math.PI/180,He=Math.cos(Je)*b*ri*Me*.05,Ke=Math.sin(Je)*b*ri*Me*.05,Fe=oa(De+He,Le+Ke,fe,{ignoreCuePocket:!0});if(Fe.cue&&Fe.cue.points.length>1){const Te=Fe.cue.points.find(oe=>oe.collision);if(Te){on("Trajectory collision at:",Te.x.toFixed(2),Te.y.toFixed(2));const oe=e.balls.find(xe=>xe.visible&&!xe.pocketed&&xe.id===1);oe&&on("Actual ball 1 position:",oe.x.toFixed(2),oe.y.toFixed(2))}}Object.entries(Fe).forEach(([Te,oe])=>{const xe=Te==="cue"?1:3;if(oe.points.length>xe){if(N.save(),Te==="cue"?Yt(N):(N.strokeStyle=oe.color,N.lineWidth=2,N.globalAlpha=.7),Te==="cue"){const Ne=oe.points,Ue=Ne[0],yt=Ne[Ne.length-1]||Ue;if(Math.hypot(yt.x-Ue.x,yt.y-Ue.y)<20){const Ee=yi(p);N.beginPath(),N.moveTo(Ue.x,Ue.y),N.lineTo(Ue.x+Math.cos(be)*Ee,Ue.y+Math.sin(be)*Ee),N.stroke()}else ya(N,Ne)}else ya(N,oe.points);N.restore();for(let Ne=1;Ne<oe.points.length;Ne++){const Ue=oe.points[Ne];if(Ue.collision&&(N.save(),N.fillStyle=oe.color,N.globalAlpha=.6,N.beginPath(),N.arc(Ue.x,Ue.y,4,0,2*Math.PI),N.fill(),N.restore()),Ue.pocketed){N.save(),N.fillStyle="#00ff00",N.globalAlpha=.8,N.beginPath(),N.arc(Ue.x,Ue.y,6,0,2*Math.PI),N.fill(),N.restore();break}}}else if(Te==="cue"){N.save(),Yt(N);const Ne=oe.points[0],Ue=yi(p),yt=Ne.x+Math.cos(be)*Ue,Be=Ne.y+Math.sin(be)*Ue;N.beginPath(),N.moveTo(Ne.x,Ne.y),N.lineTo(yt,Be),N.stroke(),N.restore()}})}if(U&&!e.isAnimating&&(N.save(),N.strokeStyle="rgba(255, 255, 0, 0.8)",N.lineWidth=3,N.setLineDash([5,5]),N.beginPath(),N.arc(U.x,U.y,25,0,2*Math.PI),N.stroke(),N.restore()),!e.isAnimating&&!z){const Je=[{x:30,y:24.5,margin:qe*$a},{x:570.77,y:24.5,margin:qe*$a},{x:30,y:270.18,margin:qe*$a},{x:570.77,y:270.18,margin:qe*$a},{x:300.385,y:24.5,margin:qe*Yo},{x:300.385,y:270.18,margin:qe*Yo}],He=e.cueBall.x+Math.cos(h)*100,Ke=e.cueBall.y+Math.sin(h)*100;let Fe=null,Te=1/0;if(Je.forEach(oe=>{const xe=Math.hypot(He-oe.x,Ke-oe.y);xe<Te&&(Te=xe,Fe=oe)}),Fe&&Te<120){const oe=Fe.margin+fg;N.save(),N.strokeStyle="rgba(0, 255, 0, 0.18)",N.lineWidth=1.5,N.setLineDash([]),N.beginPath(),N.arc(Fe.x,Fe.y,oe,0,2*Math.PI),N.stroke(),N.fillStyle="rgba(0, 255, 0, 0.15)",N.beginPath(),N.arc(Fe.x,Fe.y,2,0,2*Math.PI),N.fill(),N.restore()}}if(Z&&!e.isAnimating){if(N.save(),N.fillStyle="rgba(0, 0, 0, 0.4)",N.fillRect(0,0,Ot,Xt),N.fillStyle="rgba(255, 215, 0, 0.9)",N.font="bold 16px Arial",N.textAlign="center",N.fillText("CALL YOUR SHOT",Ot/2,30),N.font="14px Arial",N.fillStyle="rgba(255, 255, 255, 0.9)",N.fillText("Click a ball, then click a pocket",Ot/2,50),D&&(N.fillStyle="rgba(0, 255, 0, 0.8)",N.font="bold 14px Arial",N.fillText(`Selected Ball: ${D}`,Ot/2,Xt-60)),V&&(N.fillStyle="rgba(0, 255, 0, 0.8)",N.font="bold 14px Arial",N.fillText(`Selected Pocket: ${V.replace("-"," ")}`,Ot/2,Xt-40)),D){const fe=e.balls.find(be=>be.id===D&&be.visible&&!be.pocketed);fe&&(N.strokeStyle="rgba(0, 255, 0, 0.8)",N.lineWidth=3,N.setLineDash([5,5]),N.beginPath(),N.arc(fe.x,fe.y,Ve+5,0,2*Math.PI),N.stroke())}if(V){const fe=Oa.find(be=>be.id===V);fe&&(N.strokeStyle="rgba(0, 255, 0, 0.8)",N.lineWidth=3,N.setLineDash([5,5]),N.beginPath(),N.arc(fe.x,fe.y,30,0,2*Math.PI),N.stroke())}on("Draw function - gamePhase:",e.gamePhase,"pushOutAvailable:",$,"isCallShotMode:",Z),qr(N,Xt,se,$,e.gamePhase),(D&&V||se)&&(N.fillStyle="rgba(76, 175, 80, 0.9)",N.fillRect(Ot/2-80,Xt-30,70,25),N.fillStyle="white",N.font="bold 12px Arial",N.textAlign="center",N.fillText("CONFIRM",Ot/2-45,Xt-15),N.fillStyle="rgba(244, 67, 54, 0.9)",N.fillRect(Ot/2+10,Xt-30,70,25),N.fillStyle="white",N.font="bold 12px Arial",N.textAlign="center",N.fillText("CANCEL",Ot/2+45,Xt-15)),N.restore()}if(e.cueBall.visible){const fe=e.cueBall,be=pa.cue;if(Pa.current[be]){const Me=Pa.current[be];N.save(),N.translate(fe.x,fe.y),N.rotate(fe.rotation||0),N.beginPath(),N.arc(0,0,Ve,0,2*Math.PI),N.clip(),N.drawImage(Me,-7.5,-7.5,qe,qe),b!==0&&!e.isAnimating&&(N.restore(),N.save(),N.strokeStyle=b>0?"rgba(76, 175, 80, 0.8)":"rgba(244, 67, 54, 0.8)",N.lineWidth=3,N.setLineDash([5,5]),N.beginPath(),N.arc(fe.x,fe.y,Ve+5,0,2*Math.PI),N.stroke(),N.strokeStyle=b>0?"rgba(76, 175, 80, 0.9)":"rgba(244, 67, 54, 0.9)",N.lineWidth=2,N.setLineDash([]),N.beginPath(),N.moveTo(fe.x,fe.y),N.lineTo(fe.x+Math.cos(C*Math.PI/180)*(Ve+10),fe.y+Math.sin(C*Math.PI/180)*(Ve+10)),N.stroke()),N.restore()}else{const Me=new Image;Me.onload=()=>{Pa.current[be]=Me,rr()},Me.src=be}}N.globalAlpha=1},[e,E,h,pa,p,U,z,oa,Z,D,V,Oa,$,se]);w.useEffect(()=>{rr()},[e.isAnimating,E,h,p,U,z,Z,D,V,$,se]),w.useEffect(()=>{const G=new Image;G.onload=()=>{Kn.current=G,rr()},G.src=SS},[rr]),w.useEffect(()=>{const G=new Image;G.onload=()=>{ar.current=G,rr()},G.src=py},[rr]),w.useEffect(()=>{const G=ce=>{ce.altKey&&j(!0)},N=ce=>{ce.altKey||j(!1),ce.key==="Alt"&&j(!1)};return window.addEventListener("keydown",G),window.addEventListener("keyup",N),()=>{window.removeEventListener("keydown",G),window.removeEventListener("keyup",N)}},[]);const[Ba,Ts]=w.useState(!1),ba=w.useCallback(G=>{G.preventDefault(),Ts(!0),console.log("English drag started")},[]),gl=w.useCallback(G=>{if(!Ba)return;const N=G.currentTarget.getBoundingClientRect(),ce=G.clientX-N.left,fe=G.clientY-N.top,be=ce/N.width,Me=fe/N.height,De=.5,Le=.5,Je=Math.sqrt((be-De)**2+(Me-Le)**2),He=Math.min(Je,.4),Ke=Math.min(He/.4,1),Te=(Math.atan2(Me-Le,be-De)*180/Math.PI+360)%360;S(Ke),_(Te),console.log(`English updated: ${Math.round(Ke*100)}% at ${Math.round(Te)}°`)},[Ba]),wi=w.useCallback(()=>{Ts(!1),console.log("English drag ended")},[]),Dn=w.useCallback(G=>{const N=G%360;return N>=247.5&&N<=292.5?"#4CAF50":N>=67.5&&N<=112.5?"#F44336":N>=157.5&&N<=202.5?"#9C27B0":N>=337.5||N<=22.5?"#FF9800":N>292.5&&N<337.5?"#00BCD4":N>202.5&&N<247.5?"#CDDC39":N>22.5&&N<67.5?"#E91E63":"#FFC107"},[]),oo=w.useCallback(G=>{const N=G%360;return N>=247.5&&N<=292.5?"Top Spin":N>=67.5&&N<=112.5?"Back Spin":N>=157.5&&N<=202.5?"Left Spin":N>=337.5||N<=22.5?"Right Spin":N>292.5&&N<337.5?"Top-Right Spin":N>202.5&&N<247.5?"Top-Left Spin":N>22.5&&N<67.5?"Bottom-Right Spin":"Bottom-Left Spin"},[]);return f.createElement("div",{className:Ft.simplePoolGame},f.createElement("div",{className:Ft.aimingInstructions},f.createElement("div",{className:Ft.instructions},f.createElement("strong",null,"How To Aim:"),f.createElement("br",null),"Move mouse to aim • Click table to lock aim • Call Shot • Adjust power • Drag English ball • Click SHOOT",f.createElement("br",null),f.createElement("small",{style:{color:"#888",fontSize:"12px"}},"💡 ",f.createElement("strong",null,"Aim Line Colors:")," White = Aiming • Green = Locked & ready • Yellow = Fine-tuning • Green/Red = English spin • Colored = Object ball paths",f.createElement("br",null),"💡 ",f.createElement("strong",null,"Fine-tuning:")," Hold right-click for precise aiming, release to lock aim",f.createElement("br",null),"💡 ",f.createElement("strong",null,"English:")," Click and drag on the English ball to set spin direction and intensity"))),AC(e.gamePhase,$)&&f.createElement("div",{style:{alignSelf:"center",margin:"8px 0 14px 0",padding:"6px 14px",background:"rgba(255, 215, 0, 0.95)",color:"#000",fontWeight:700,fontSize:"15px",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.25)"}},"Push Out Available"),f.createElement("div",{className:Ft.tableContainer},f.createElement("canvas",{ref:a,width:Ot,height:Xt,onPointerDown:As,onPointerUp:Cr,onPointerMove:va,onPointerLeave:bi,onContextMenu:G=>G.preventDefault(),className:Ft.tableCanvas})),f.createElement("div",{className:Ft.controls},f.createElement("div",{className:Ft.powerControl},f.createElement("label",null,"Power: ",Math.round(p*100),"%"),f.createElement("div",{style:{position:"relative",width:"100%",height:"8px",background:"#ffffff",borderRadius:"4px",border:"1px solid #e0e0e0",overflow:"hidden"}},f.createElement("div",{style:{position:"absolute",top:0,left:0,width:`${p*100}%`,height:"100%",background:"#2196F3",borderRadius:"3px"}}),f.createElement("div",{style:{position:"absolute",top:"-4px",left:`${p*100}%`,width:"16px",height:"16px",background:"#2196F3",borderRadius:"50%",border:"1px solid #1976D2",cursor:"pointer",transform:"translateX(-50%)"}}),f.createElement("input",{type:"range",min:"0.1",max:"1",step:"0.01",value:p,onChange:G=>v(parseFloat(G.target.value)),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"transparent",outline:"none",cursor:"pointer",opacity:0}}))),f.createElement("div",{className:Ft.englishControl},f.createElement("label",null,"English: Drag to set spin"),f.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"5px"}},f.createElement("div",{onMouseDown:ba,onMouseMove:gl,onMouseUp:wi,onMouseLeave:wi,style:{width:"60px",height:"60px",borderRadius:"50%",border:"2px solid #333",background:"linear-gradient(135deg, #fff 0%, #f0f0f0 100%)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:"#333",cursor:Ba?"grabbing":"grab",userSelect:"none"}},b>0?"+":"",Math.round(b*100),"%",b!==0&&f.createElement(f.Fragment,null,f.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:`translate(-50%, -50%) translate(${Math.cos(C*Math.PI/180)*20}px, ${Math.sin(C*Math.PI/180)*20}px)`,width:"8px",height:"8px",borderRadius:"50%",background:Dn(C),border:"1px solid #fff"}}),f.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:`translate(-50%, -50%) rotate(${C}deg)`,width:"2px",height:"20px",background:Dn(C),borderRadius:"1px"}}))),b!==0&&f.createElement("div",{style:{fontSize:"12px",color:Dn(C),fontWeight:"bold"}},oo(C)),b===0&&f.createElement("div",{style:{fontSize:"12px",color:"#666"}},"No Spin"),b!==0&&f.createElement("button",{onClick:()=>{S(0),_(0)},style:{fontSize:"10px",padding:"2px 6px",background:"#666",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",marginLeft:"5px"}},"Reset"))),f.createElement("div",{className:Ft.shootButton},f.createElement("button",{className:Ft.shootButton,onClick:wr,disabled:e.isAnimating||!z},z?e.gamePhase==="break"||D&&V||se?"SHOOT!":"CALL SHOT":"LOCK AIM FIRST")),f.createElement("div",{className:Ft.gameInfo},f.createElement("span",null,"Player: ",e.currentPlayer),f.createElement("span",null,"Phase: ",e.gamePhase),f.createElement("span",null,"Status: ",e.isAnimating?"Animating":e.ballInHand||e.gamePhase==="break"?s?"Drag Cue Ball to Position":e.gamePhase==="break"?"Click Cue Ball to Move (Kitchen Only)":"Click Cue Ball to Move (Anywhere)":z?"Aim Locked - Ready to Shoot":U?"Pocket assistance active - Click to lock!":"Move Mouse to Aim"),gn&&f.createElement("span",{style:{color:"#ff6b6b",fontWeight:"bold"}},"FOUL: ",gn==="scratch"?"Scratch":gn==="wrong_ball_first"?"Wrong Ball First":gn==="no_rail_contact"?"No Rail Contact":gn),f.createElement("span",null,"Consecutive Fouls P1: ",Yn[1]," | P2: ",Yn[2])),f.createElement("div",{className:Ft.buttonRow},f.createElement("button",{className:Ft.resetAimButton,onClick:()=>{setIsDragging(!1),I(!1),v(.5)},disabled:e.isAnimating},"Reset Aim"),f.createElement("button",{className:Ft.resetButton,onClick:()=>{n(G=>({...G,balls:br(),cueBall:{x:100,y:150,originalX:100,originalY:150,vx:0,vy:0,visible:!0,isMoving:!1,rotation:0,rotationSpeed:0},isAnimating:!1,gamePhase:"break",ballInHand:!1,scratchOccurred:!1,currentPlayer:1})),I(!0),o(!1),F(null),q(!1),S(0),_(0),Ce(!1),we(!1),Ie(!1),qt(null),en(!1),xs(null),console.log("Resetting foul counters via reset button"),xt({1:0,2:0}),ka(null),tn(!1),Vn(!1),La(null),In(0),gr([]),bt(!1),window.tipManager&&window.tipManager.resetTips&&window.tipManager.resetTips()}},"Reset Game"),f.createElement("button",{className:Ft.resetButton,onClick:()=>{n(G=>({...G,ballInHand:!0,currentPlayer:G.currentPlayer===1?2:1}))},style:{marginLeft:"10px",backgroundColor:"#ff6b6b"}},"Test Ball-in-Hand"))),xn&&f.createElement("div",{className:Ft.pushOutModal},f.createElement("div",{className:Ft.pushOutContent},f.createElement("h3",null,"Push Out Result"),f.createElement("p",null,"Player ",e.currentPlayer===1?2:1,", do you want to accept this push out result?"),f.createElement("div",{className:Ft.pushOutButtons},f.createElement("button",{onClick:()=>{en(!1),n(G=>({...G,currentPlayer:G.currentPlayer===1?2:1}))},className:Ft.acceptButton},"Accept"),f.createElement("button",{onClick:()=>{en(!1)},className:Ft.declineButton},"Decline")))),ma&&f.createElement("div",{className:Ft.pushOutModal},f.createElement("div",{className:Ft.pushOutContent},f.createElement("h3",null,"Illegally Pocketed Balls"),f.createElement("p",null,"Player ",e.currentPlayer===1?2:1,", balls were illegally pocketed:"),f.createElement("ul",null,pr.map(G=>f.createElement("li",{key:G.id},"Ball ",G.id," ",G.id===10?"(will be spotted)":"(remains pocketed)"))),f.createElement("p",null,"Do you want to:"),f.createElement("div",{className:Ft.pushOutButtons},f.createElement("button",{onClick:()=>{bt(!1),n(N=>({...N,currentPlayer:N.currentPlayer===1?2:1})),pr.find(N=>N.id===10)&&n(N=>({...N,balls:N.balls.map(ce=>ce.id===10?{...ce,pocketed:!1,visible:!0,x:TC,y:NC}:ce)})),gr([])},className:Ft.acceptButton},"Accept Table"),f.createElement("button",{onClick:()=>{bt(!1),gr([])},className:Ft.declineButton},"Require Re-Shot")))))},u6="_tutorialRules_use5n_1",d6="_header_use5n_14",f6="_progressContainer_use5n_25",h6="_progressBar_use5n_31",m6="_progressFill_use5n_39",p6="_progressText_use5n_46",g6="_content_use5n_52",y6="_stepContent_use5n_56",v6="_highlightBox_use5n_73",b6="_highlightIcon_use5n_86",w6="_tipSection_use5n_90",C6="_navigation_use5n_110",S6="_navButton_use5n_119",_6="_disabled_use5n_135",E6="_centerButtons_use5n_145",x6="_skipButton_use5n_153",I6="_nextButton_use5n_171",D6="_startButton_use5n_171",M6="_quickRules_use5n_193",A6="_ruleGrid_use5n_205",T6="_ruleItem_use5n_211",N6="_ruleNumber_use5n_231",Pt={tutorialRules:u6,header:d6,progressContainer:f6,progressBar:h6,progressFill:m6,progressText:p6,content:g6,stepContent:y6,highlightBox:v6,highlightIcon:b6,tipSection:w6,navigation:C6,navButton:S6,disabled:_6,centerButtons:E6,skipButton:x6,nextButton:I6,startButton:D6,quickRules:M6,ruleGrid:A6,ruleItem:T6,ruleNumber:N6},R6=({step:t,currentStep:a,totalSteps:e,onNext:n,onBack:s,onSkip:o})=>{const l=(a+1)/e*100,u=["Remember: Always hit the lowest numbered ball first!","Call your shots clearly - specify ball and pocket.","The 10-ball is the money ball - pocket it legally to win!","Use the push out strategically to improve your position.","Three consecutive fouls result in loss of game.","Practice your break shot - it sets up the entire game.","Defensive play is just as important as offensive play.","Watch for safety opportunities when you can't make a shot."];return f.createElement("div",{className:Pt.tutorialRules},f.createElement("div",{className:Pt.header},f.createElement("h3",null,"10-Ball Rules Tutorial"),f.createElement("div",{className:Pt.progressContainer},f.createElement("div",{className:Pt.progressBar},f.createElement("div",{className:Pt.progressFill,style:{width:`${l}%`}})),f.createElement("span",{className:Pt.progressText},"Step ",a+1," of ",e))),f.createElement("div",{className:Pt.content},f.createElement("div",{className:Pt.stepContent},f.createElement("h4",null,t.title),f.createElement("p",null,t.content),t.highlight&&f.createElement("div",{className:Pt.highlightBox},f.createElement(_8,{className:Pt.highlightIcon}),f.createElement("span",null,"This concept will be highlighted on the table"))),f.createElement("div",{className:Pt.tipSection},f.createElement("h5",null,"💡 Pro Tip"),f.createElement("p",null,u[a%u.length]))),f.createElement("div",{className:Pt.navigation},f.createElement("button",{className:`${Pt.navButton} ${a===0?Pt.disabled:""}`,onClick:s,disabled:a===0},f.createElement(b8,null),"Previous"),f.createElement("div",{className:Pt.centerButtons},f.createElement("button",{className:Pt.skipButton,onClick:o},"Skip Tutorial"),a===e-1?f.createElement("button",{className:Pt.startButton,onClick:n},f.createElement(E8,null),"Start Playing"):f.createElement("button",{className:Pt.nextButton,onClick:n},"Next",f.createElement(w8,null)))),f.createElement("div",{className:Pt.quickRules},f.createElement("h5",null,"Quick Reference"),f.createElement("div",{className:Pt.ruleGrid},f.createElement("div",{className:Pt.ruleItem},f.createElement("span",{className:Pt.ruleNumber},"1"),f.createElement("span",null,"Hit lowest ball first")),f.createElement("div",{className:Pt.ruleItem},f.createElement("span",{className:Pt.ruleNumber},"2"),f.createElement("span",null,"Call your shots")),f.createElement("div",{className:Pt.ruleItem},f.createElement("span",{className:Pt.ruleNumber},"3"),f.createElement("span",null,"10-ball wins the game")),f.createElement("div",{className:Pt.ruleItem},f.createElement("span",{className:Pt.ruleNumber},"4"),f.createElement("span",null,"Push out after break")))))},k6="_gameModeSelector_s58nb_29",L6="_header_s58nb_67",P6="_backToDashboardButton_s58nb_113",O6="_modesGrid_s58nb_277",B6="_modeCard_s58nb_291",U6="_recommended_s58nb_333",z6="_recommendedBadge_s58nb_353",H6="_modeIcon_s58nb_379",Y6="_modeContent_s58nb_403",F6="_modeArrow_s58nb_441",j6="_whatYoullLearn_s58nb_539",cr={gameModeSelector:k6,header:L6,backToDashboardButton:P6,modesGrid:O6,modeCard:B6,recommended:U6,recommendedBadge:z6,modeIcon:H6,modeContent:Y6,modeArrow:F6,whatYoullLearn:j6},PC=({onModeSelect:t,fromLogin:a=!1})=>{const e=[{id:"tutorial",title:"Interactive Tutorial",description:"Learn the official CSI 10-Ball rules step by step with interactive examples and tips.",icon:S8,color:"#4CAF50",recommended:!0}];return f.createElement("div",{className:cr.gameModeSelector,style:{maxWidth:"280px",width:"280px",margin:"0 auto",overflowX:"hidden",boxSizing:"border-box"}},f.createElement("div",{className:cr.header},!a&&f.createElement("button",{className:cr.backToDashboardButton,onClick:()=>window.location.href="/dashboard"},"← Back to Dashboard"),f.createElement("h2",null,"10-Ball Tutorial"),f.createElement("p",null,"Learn and master the official CSI 10-Ball rules")),f.createElement("div",{className:cr.modesGrid},e.map(n=>{const s=n.icon;return f.createElement("div",{key:n.id,className:`${cr.modeCard} ${n.recommended?cr.recommended:""}`,onClick:()=>t(n.id)},n.recommended&&f.createElement("div",{className:cr.recommendedBadge},"Recommended"),f.createElement("div",{className:cr.modeIcon,style:{backgroundColor:n.color}},f.createElement(s,null)),f.createElement("div",{className:cr.modeContent},f.createElement("h3",null,n.title),f.createElement("p",null,n.description)),f.createElement("div",{className:cr.modeArrow},"→"))})),f.createElement("div",{className:cr.whatYoullLearn},f.createElement("h3",null,"What You'll Learn"),f.createElement("ul",null,f.createElement("li",null,"Official CSI 10-Ball Rules"),f.createElement("li",null,"Break/Push Out Requirements"),f.createElement("li",null,"Call Shot/Ball in Hand Requirements"),f.createElement("li",null,"Illegally Pocketed Balls/Opponent's Option"),f.createElement("li",null,"Foul Detection and Penalties"),f.createElement("li",null,"Advanced Shot Planning"))))},W6="_tipContainer_1z0xf_1",G6="_show_1z0xf_27",Z6="_dragging_1z0xf_35",$6="_tipContent_1z0xf_47",q6="_tipHeader_1z0xf_71",Q6="_tipIcon_1z0xf_89",V6="_tipTitle_1z0xf_99",X6="_closeButton_1z0xf_113",K6="_tipText_1z0xf_155",fs={tipContainer:W6,show:G6,dragging:Z6,tipContent:$6,tipHeader:q6,tipIcon:Q6,tipTitle:V6,closeButton:X6,tipText:K6},J6=({tip:t,isVisible:a,onClose:e})=>{const[n,s]=w.useState(!1),[o,l]=w.useState({x:0,y:0}),[u,h]=w.useState(!1),[m,p]=w.useState({x:0,y:0}),v=w.useRef(null);w.useEffect(()=>{if(a){s(!0);const _=setTimeout(()=>{e()},8e3);return()=>clearTimeout(_)}},[a,e]);const b=_=>{if(_.target.closest("button"))return;h(!0);const E=v.current.getBoundingClientRect();p({x:_.clientX-E.left,y:_.clientY-E.top})},S=_=>{if(!u)return;const E=_.clientX-m.x,I=_.clientY-m.y,A=window.innerWidth-250,M=window.innerHeight-100;l({x:Math.max(0,Math.min(E,A)),y:Math.max(0,Math.min(I,M))})},C=()=>{h(!1)};return w.useEffect(()=>{if(u)return document.addEventListener("mousemove",S),document.addEventListener("mouseup",C),()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",C)}},[u,m]),a?f.createElement("div",{ref:v,className:`${fs.tipContainer} ${n?fs.show:""} ${u?fs.dragging:""}`,style:{maxWidth:"250px",width:"250px",minWidth:"250px",top:o.y||20,left:o.x||"50%",transform:o.x?"none":"translateX(-50%)",right:"auto",cursor:u?"grabbing":"grab"},onMouseDown:b},f.createElement("div",{className:fs.tipContent},f.createElement("div",{className:fs.tipHeader},f.createElement("span",{className:fs.tipIcon},"💡"),f.createElement("span",{className:fs.tipTitle},"Pro Tip"),f.createElement("button",{className:fs.closeButton,onClick:e},"×")),f.createElement("div",{className:fs.tipText},t))):null},ez=w.forwardRef(({gameState:t,onTipShown:a},e)=>{const[n,s]=w.useState(null),[o,l]=w.useState(!1),[u,h]=w.useState(new Set),m=C=>{b(C)},p=()=>{h(new Set)};w.useImperativeHandle(e,()=>({triggerTip:m,resetTips:p}));const v={breakShot:{title:"Break Shot",tip:"Always hit the lowest numbered ball first! A good break can set up your entire game!"},callShot:{title:"Call Shot",tip:"Be specific about which pocket you're aiming for! If you don't call it, it doesn't count!"},pushOut:{title:"Push Out Opportunity",tip:"Use push out to improve your position when the table is difficult!"},foul:{title:"Foul Committed",tip:"Three consecutive fouls by the same player results in loss of game!"},tenBall:{title:"10-Ball Target",tip:"The 10-ball is the only ball that matters for winning!"},defensive:{title:"Defensive Play",tip:"Sometimes the best shot is the one that leaves your opponent nothing!"},practice:{title:"Keep Learning",tip:"Practice makes perfect - keep playing and learning!"},scratch:{title:"Scratch Foul",tip:"The cue ball went in a pocket! Your opponent gets ball-in-hand."},wrongBall:{title:"Wrong Ball First",tip:"You must hit the lowest numbered ball first! This is a foul."},noRail:{title:"No Rail Contact",tip:"After contact, a ball must hit a rail or be pocketed. This is a foul."},ballInHand:{title:"Ball-in-Hand",tip:"You can place the cue ball anywhere on the table after a foul."},kitchen:{title:"Kitchen Rule",tip:"During break, the cue ball must start in the kitchen (behind the head string)."},threeFoul:{title:"Three Foul Rule",tip:"Three consecutive fouls by the same player results in loss of game!"},pushOutStrategy:{title:"Push Out Strategy",tip:"After a legal break, you can push out to improve position. Opponent then chooses to shoot or pass."},callPocket:{title:"Call Pocket",tip:"You must call both the ball and the pocket for every shot after the break."},lowestBall:{title:"Lowest Ball First",tip:"Always hit the lowest numbered ball on the table first!"},safety:{title:"Safety Shot",tip:"A safety shot is when you don't expect to pocket a ball but leave your opponent in a difficult position."},jumpShot:{title:"Jump Shot",tip:"Jump shots are legal in 10-ball, but be careful not to jump the cue ball off the table!"},gameWinning:{title:"Game Winner",tip:"Legally pocket the 10-ball to win! Remember to call it and the pocket."}},b=C=>{if(u.has(C))return;const _=v[C];_&&(s(_),l(!0),h(E=>new Set([...E,C])),a==null||a(C))},S=()=>{l(!1)};return w.useEffect(()=>{t&&(t.gamePhase==="break"&&!u.has("breakShot")&&(b("breakShot"),window.dispatchEvent(new CustomEvent("kitchenRule"))),t.gamePhase==="play"&&!u.has("callShot")&&b("callShot"))},[t,u]),w.useEffect(()=>{const C=re=>{u.has("foul")||b("foul")},_=re=>{u.has("scratch")||b("scratch")},E=re=>{u.has("wrongBall")||b("wrongBall")},I=re=>{u.has("noRail")||b("noRail")},A=re=>{u.has("ballInHand")||b("ballInHand")},M=re=>{u.has("kitchen")||b("kitchen")},k=re=>{u.has("threeFoul")||b("threeFoul")},L=re=>{u.has("pushOut")||b("pushOut")},U=re=>{u.has("pushOutStrategy")||b("pushOutStrategy")},F=re=>{u.has("callPocket")||b("callPocket")},z=re=>{u.has("lowestBall")||b("lowestBall")},q=re=>{u.has("safety")||b("safety")},te=re=>{u.has("jumpShot")||b("jumpShot")},ge=re=>{u.has("tenBall")||b("tenBall")},le=re=>{u.has("gameWinning")||b("gameWinning")};return window.addEventListener("gameFoul",C),window.addEventListener("scratchFoul",_),window.addEventListener("wrongBallFoul",E),window.addEventListener("noRailFoul",I),window.addEventListener("ballInHand",A),window.addEventListener("kitchenRule",M),window.addEventListener("threeFoul",k),window.addEventListener("pushOutAvailable",L),window.addEventListener("pushOutStrategy",U),window.addEventListener("callPocket",F),window.addEventListener("lowestBall",z),window.addEventListener("safetyOpportunity",q),window.addEventListener("jumpShot",te),window.addEventListener("tenBallTarget",ge),window.addEventListener("gameWinning",le),()=>{window.removeEventListener("gameFoul",C),window.removeEventListener("scratchFoul",_),window.removeEventListener("wrongBallFoul",E),window.removeEventListener("noRailFoul",I),window.removeEventListener("ballInHand",A),window.removeEventListener("kitchenRule",M),window.removeEventListener("threeFoul",k),window.removeEventListener("pushOutAvailable",L),window.removeEventListener("pushOutStrategy",U),window.removeEventListener("callPocket",F),window.removeEventListener("lowestBall",z),window.removeEventListener("safetyOpportunity",q),window.removeEventListener("jumpShot",te),window.removeEventListener("tenBallTarget",ge),window.removeEventListener("gameWinning",le)}},[u]),f.createElement(J6,{tip:n==null?void 0:n.tip,isVisible:o,onClose:S})}),tz="_container_1jm20_1",nz="_backButton_1jm20_53",az="_tutorialContainer_1jm20_79",si={container:tz,backButton:nz,tutorialContainer:az},kE=({fromLogin:t=!1,onBackToLogin:a})=>{const[e,n]=w.useState("menu"),[s,o]=w.useState(0),[l,u]=w.useState(!0),[h,m]=w.useState({player1Score:0,player2Score:0,currentPlayer:1,gamePhase:"break",rules:{callPocket:!0,pushOut:!0,threeFoulRule:!0,jumpShots:!0}}),p=[{title:"The Break Shot",content:"Start the game with a legal break shot. You must break from the kitchen hitting the 1-ball first and drive at least 4 balls to the rails or pocket a ball.",proTip:"A good break can set up your entire game!"},{title:"Welcome to 10-Ball!",content:"10-Ball is a call-shot game where you must hit the lowest numbered ball first and call your shots. The 10-ball is the game-winning ball!",proTip:"Always hit the lowest numbered ball first!"},{title:"Call Shot Rules",content:"After the break, you must call both the ball and the pocket for every shot. If you don't call it, it doesn't count!",proTip:"CSI rules state that you do not have to call obvious shots. Banks, Kicks, and Caroms should always be called. Be specific about which pocket you're aiming for! Make sure your opponent acknowledges your called shot."},{title:"Push Out Option",content:"After a legal break, the incoming player may choose to 'push out' - shoot the cue ball anywhere without hitting any ball. The opponent then chooses to shoot or pass.",proTip:"Use push out to improve your position when the table is difficult!"},{title:"Fouls and Penalties",content:"Common fouls include: scratching (cue ball in pocket), hitting wrong ball first, not hitting any rail after contact, and jumping the cue ball off the table.",proTip:"Three consecutive fouls by the same player results in loss of game!"},{title:"Winning the Game",content:"Legally pocket the 10-ball to win! Yes, you can win with an early ten ball...Remember, you must call the 10-ball and the pocket, and hit the lowest numbered ball first.",proTip:"The 10-ball is the only ball that matters for winning!"},{title:"Strategy Tips",content:"Plan your shots ahead, use defensive play when needed, and always consider your opponent's options after your shot.",proTip:"Sometimes the best shot is the one that leaves your opponent nothing!"},{title:"Ready to Play!",content:"You now know the basics of 10-Ball! Practice these rules and strategies to improve your game.",proTip:"Practice makes perfect - keep playing and learning!"}],v=E=>{n(E),E==="tutorial"&&(o(0),u(!0))},b=()=>{s<p.length-1?o(s+1):n("game")},S=()=>{s>0&&o(s-1)},C=E=>{m(I=>({...I,gamePhase:"end",player1Score:E===1?I.player1Score+1:I.player1Score,player2Score:E===2?I.player2Score+1:I.player2Score}))},_=()=>{switch(e){case"menu":return f.createElement(PC,{onModeSelect:v,fromLogin:t});case"tutorial":return f.createElement("div",{className:si.tutorialContainer},f.createElement(R6,{step:p[s],currentStep:s,totalSteps:p.length,onNext:b,onBack:S,onSkip:()=>n("game")}),f.createElement(Kg,{onGameEnd:C}));case"game":return f.createElement(Kg,{onGameEnd:C});default:return f.createElement(PC,{onModeSelect:v})}};return f.createElement("div",{className:si.container},_(),(e==="game"||e==="tutorial")&&f.createElement(ez,{gameState:h,onTipShown:E=>console.log(`Tip shown: ${E}`),ref:E=>{E&&(window.tipManager=E)}}),e!=="menu"&&!t&&f.createElement("div",{className:si.navigation},f.createElement("button",{className:si.backButton,onClick:()=>n("menu")},"← Back to Menu")),e!=="menu"&&f.createElement("div",{className:si.gameInfo},f.createElement("div",{className:si.scoreBoard},f.createElement("div",{className:si.playerScore},f.createElement("span",null,"Player 1: ",h.player1Score)),f.createElement("div",{className:si.playerScore},f.createElement("span",null,"Player 2: ",h.player2Score)))))},rz="1tvMgMHsRwQxsR6lMNlSnztmwpK7fhZeNEyqjTqmRFRc",sz="BCAPL SIGNUP";function iz({onSuccess:t}){const[a,e]=w.useState(""),[n,s]=w.useState(""),[o,l]=w.useState(!1),[u,h]=w.useState(!1),[m,p]=w.useState(!1),v=async()=>{if(!a){s("Please enter your email or PIN.");return}s(""),l(!0);try{const _=(await Sh(rz,`${sz}!A1:L1000`)).slice(1).find(E=>(E[2]||"").trim().toLowerCase()===a.trim().toLowerCase()||(E[11]||"").trim()===a.trim());l(!1),_?(s(""),t(`${_[0]||""} ${_[1]||""}`.trim(),_[2]||"",_[11]||"")):s("No user found with that email or PIN. Please try again or contact frbcapl@gmail.com for help.")}catch(S){l(!1),s("Error verifying login. Please try again later."),console.error("Login verification error:",S)}},b=S=>{S.key==="Enter"&&v()};return u?f.createElement("div",{style:{position:"relative",minHeight:"100vh",width:"100%",overflowX:"hidden",background:"#000"}},f.createElement("button",{onClick:()=>h(!1),style:{position:"fixed",top:"0px",left:"0px",zIndex:1e3,backgroundColor:"#e53e3e",color:"white",border:"none",padding:"12px 20px",borderRadius:"0 0 8px 0",fontSize:"14px",cursor:"pointer",fontWeight:"bold"}},"← Back to Login"),f.createElement(kE,{fromLogin:!0,onBackToLogin:()=>h(!1)})):f.createElement("div",{className:Qa.pinLoginBg},f.createElement("div",{className:Qa.pinLoginFrame},f.createElement("a",{href:"https://frusapl.com/frbcapl-singles#3a534cc1-c4ac-4c04-8d7a-a0fe9ddfaca4",target:"_blank",rel:"noopener noreferrer",className:Qa.signupBtn,style:{marginBottom:"1.5rem"}},"Sign Up for Beta Test"),f.createElement("div",{className:Qa.simulationContainer},f.createElement(DS,{aspectWidth:600,aspectHeight:300},f.createElement(sf,null))),f.createElement("div",{className:Qa.pinLoginCard},f.createElement("h3",{className:Qa.pinLoginSubtitle},f.createElement("span",{className:Qa.pinLoginLock,"aria-hidden":"true"},"🔒"),f.createElement("span",{className:Qa.pinOutlineText}," Enter Email or PIN")),f.createElement("div",{style:{position:"relative",width:"100%"}},f.createElement("input",{type:m?"text":"password",value:a,onChange:S=>e(S.target.value),onKeyDown:b,placeholder:"Email or PIN",autoFocus:!0,className:Qa.pinInput,"aria-label":"Email or PIN",disabled:o,style:{paddingRight:"50px"}}),f.createElement("button",{type:"button",onClick:()=>p(!m),style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",fontSize:"16px",color:"#666",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":m?"Hide password":"Show password"},m?"🙈":"👁️")),f.createElement("button",{onClick:v,disabled:o,className:Qa.pinLoginBtn,type:"button"},o?"Verifying...":"Submit"),n&&f.createElement("p",{className:Qa.pinLoginError,role:"alert"},n))))}const oz=""+new URL("bcapl_logo-BvvUeHn5.png",import.meta.url).href,lz=""+new URL("csi_logo-ChVaLM6t.png",import.meta.url).href,cz=""+new URL("usapl_logo-jJ_LE_Bw.png",import.meta.url).href,uz=""+new URL("fargorate-logo-BVCRpqvV.png",import.meta.url).href;function dz(){const[t,a]=w.useState(window.innerWidth),[e,n]=w.useState(window.innerHeight),[s]=w.useState(()=>[0,1,2,3,4,5,6,7].map(M=>{const k=.1+Math.random()*.15,L=Math.random()*Math.PI*2;return{x:Math.random()*t,y:Math.random()*e,vx:Math.cos(L)*k*1.2,vy:Math.sin(L)*k*1.2,baseSize:.8+Math.random()*.4,sizePhase:Math.random()*Math.PI*2,isSizeChanger:!1,speedCategory:"base",lastChange:Date.now(),changeInterval:8e3+Math.random()*12e3,rotationDirection:M>=5?Math.random()>.5?1:-1:0}}));w.useEffect(()=>{const M=()=>{a(window.innerWidth),n(window.innerHeight)};return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]);function o(M,k,L){const[U,F]=w.useState(M);w.useRef(null);const z=w.useRef(M);return w.useEffect(()=>{let q,te=Date.now();const ge=()=>{const le=Date.now(),re=le-te,ee=z.current;if(le-ee.lastChange>ee.changeInterval){const K=L.includes(k)?"fast":"base",se={...ee,speedCategory:K,lastChange:le,changeInterval:3e3+Math.random()*6e3};z.current=se,F(se)}if(Math.random()<.003){const Z=Math.atan2(ee.vy,ee.vx),K=(Math.random()-.5)*Math.PI*.3,se=Z+K,Ie=.3+Math.random()*1,$=ee.speedCategory==="fast"?.6:.2;ee.vx=Math.cos(se)*Ie*$,ee.vy=Math.sin(se)*Ie*$}let j=ee.x+ee.vx*(re/16),D=ee.y+ee.vy*(re/16);(j<0||j>t||D<0||D>e)&&(ee.edgeShrink||(ee.edgeShrink=!0,ee.edgeShrinkTime=le));const H=le/1e3;let V=ee.baseSize;const W=Math.sin(H*.07+ee.sizePhase)*.1,R=Math.sin(H*.35+ee.sizePhase*2)*.05;if(V=ee.baseSize+W+R,V<ee.baseSize*.3&&!ee.sizeShrink&&(ee.sizeShrink=!0,ee.sizeShrinkTime=le),ee.edgeShrink){const Z=le-ee.edgeShrinkTime;if(Z<2e3){const se=1-Z/2e3;ee.edgeOpacity=se,V=ee.baseSize+W+R}else if(Z<4e3)ee.edgeOpacity=.01,V=.01;else if(Z<4100)j=Math.random()*t,D=Math.random()*e,ee.x=j,ee.y=D,V=.01,ee.edgeOpacity=.01;else if(Z<12500){const se=.01+.99*((Z-4100)/8400);V*=se,ee.edgeOpacity=se}else ee.edgeShrink=!1,ee.edgeOpacity=1}else ee.edgeOpacity=1;if(ee.sizeShrink){const Z=le-ee.sizeShrinkTime;if(Z<2e3){const se=1-Z/2e3;ee.sizeOpacity=se}else if(Z<4e3)ee.sizeOpacity=.01,V=.01;else if(Z<4100)j=Math.random()*t,D=Math.random()*e,ee.x=j,ee.y=D,V=.01,ee.sizeOpacity=.01;else if(Z<12500){const se=.01+.99*((Z-4100)/8400);V*=se,ee.sizeOpacity=se}else ee.sizeShrink=!1,ee.sizeOpacity=1}else ee.sizeOpacity=1;let B=ee.rotation||0;if(k>=5){const K=(Math.sqrt(ee.vx*ee.vx+ee.vy*ee.vy)*2+.3)*(re/16)*(ee.rotationDirection||1);B+=K}z.current={...ee,x:j,y:D,size:V,rotation:B},le-te>100&&(F(z.current),te=le),q=requestAnimationFrame(ge)};return ge(),()=>cancelAnimationFrame(q)},[t,e,L]),U}const[l]=w.useState(()=>{const M=[];for(;M.length<3;){const L=Math.floor(Math.random()*8);M.includes(L)||M.push(L)}const k=[];for(;k.length<3;){const L=Math.floor(Math.random()*8);!k.includes(L)&&!M.includes(L)&&k.push(L)}return s.forEach((L,U)=>{M.includes(U)?(L.speedCategory="fast",L.vx=(Math.random()-.5)*2,L.vy=(Math.random()-.5)*2):(L.speedCategory="base",L.vx=(Math.random()-.5)*.5,L.vy=(Math.random()-.5)*.5),k.includes(U)&&(L.isSizeChanger=!0)}),!0}),[u,h]=w.useState(()=>{const M=[];for(;M.length<3;){const k=Math.floor(Math.random()*8);M.includes(k)||M.push(k)}return M}),m=()=>{const M=[];for(;M.length<3;){const k=Math.floor(Math.random()*8);M.includes(k)||M.push(k)}h(M)};w.useEffect(()=>{const M=setInterval(()=>{m(),console.log("Speed reassignment triggered")},4e3+Math.random()*4e3);return()=>clearInterval(M)},[]);const p=o(s[0],0,u),v=o(s[1],1,u),b=o(s[2],2,u),S=o(s[3],3,u),C=o(s[4],4,u),_=o(s[5],5,u),E=o(s[6],6,u),I=o(s[7],7,u),A=(M,k,L,U,F=!1)=>{const z=F&&M.rotation||0;return{position:"absolute",left:M.x,top:M.y,transform:`translate(-50%, -50%) scale(${M.size}) rotate(${z}deg)`,width:k,height:"auto",opacity:L*(M.edgeOpacity||1)*(M.sizeOpacity||1),zIndex:0,pointerEvents:"none",filter:U,transition:"none"}};return f.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",overflow:"hidden"}},f.createElement("img",{src:py,alt:"League Logo Background",style:A(p,150,.75,"drop-shadow(0 0 24px rgba(245, 30, 30, 0.2))")}),f.createElement("img",{src:oz,alt:"BCAPL Logo Background",style:A(v,120,.75,"drop-shadow(0 0 18px rgba(245, 30, 30, 0.2))")}),f.createElement("img",{src:lz,alt:"CSI Logo Background",style:A(b,120,.75,"drop-shadow(0 0 12px rgba(245, 30, 30, 0.2))")}),f.createElement("img",{src:cz,alt:"USAPL Logo Background",style:A(S,140,.8,"drop-shadow(0 0 10px rgba(245, 30, 30, 0.2))")}),f.createElement("img",{src:uz,alt:"Fargorate Logo Background",style:A(C,140,.8,"drop-shadow(0 0 10px rgba(245, 30, 30, 0.2))")}),f.createElement("img",{src:rf,alt:"8 Ball Background",style:A(_,40,.7,"drop-shadow(0 0 10px rgba(245, 30, 30, 0.3))",!0)}),f.createElement("img",{src:_S,alt:"9 Ball Background",style:A(E,40,.7,"drop-shadow(0 0 10px rgba(245, 30, 30, 0.3))",!0)}),f.createElement("img",{src:th,alt:"10 Ball Background",style:A(I,40,.7,"drop-shadow(0 0 10px rgba(245, 30, 30, 0.3))",!0)}))}function fz(){return f.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem 0",position:"fixed",top:0,left:0,zIndex:1e3,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(6px)",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"}},f.createElement("span",{className:"app-header-title"},"Front Range Pool League"))}function hz({isAuthenticated:t,userFirstName:a,userLastName:e,userEmail:n,userPin:s,handleLoginSuccess:o,handleLogout:l}){const u=no();return f.createElement("main",{className:"main-app-content"},t?f.createElement(TE,{playerName:a,playerLastName:e,senderEmail:n,onScheduleMatch:()=>{},onOpenChat:()=>window.location.hash="#/chat",onLogout:l,userPin:s,onGoToAdmin:()=>u("/admin")}):f.createElement(iz,{onSuccess:o}))}function mz(){const[t,a]=w.useState(!1),[e,n]=w.useState(""),[s,o]=w.useState(""),[l,u]=w.useState(""),[h,m]=w.useState("");w.useEffect(()=>{localStorage.getItem("isAuthenticated")==="true"&&(n(localStorage.getItem("userFirstName")||""),o(localStorage.getItem("userLastName")||""),u(localStorage.getItem("userEmail")||""),m(localStorage.getItem("userPin")||""),a(!0))},[]);const p=(b,S,C)=>{let _="",E="";if(b){const I=b.trim().split(" ");_=I[0],E=I.slice(1).join(" ")}n(_),o(E),u(S),m(C),a(!0),localStorage.setItem("userFirstName",_),localStorage.setItem("userLastName",E),localStorage.setItem("userEmail",S),localStorage.setItem("userPin",C),localStorage.setItem("isAuthenticated","true")},v=()=>{n(""),o(""),u(""),m(""),a(!1),localStorage.removeItem("userFirstName"),localStorage.removeItem("userLastName"),localStorage.removeItem("userEmail"),localStorage.removeItem("userPin"),localStorage.removeItem("isAuthenticated")};return f.createElement(cD,null,f.createElement("div",{style:{position:"relative",minHeight:"100vh",width:"100%",overflowX:"hidden",background:"#000"}},f.createElement(dz,null),f.createElement(fz,null),f.createElement("div",{style:{position:"relative",zIndex:3,maxWidth:900,margin:"0 auto",width:"100%",background:"none",minHeight:"calc(100vh - 80px)",paddingTop:"80px"}},f.createElement(Aw,null,f.createElement(Tr,{path:"/admin",element:t&&h==="777777"?f.createElement("div",{className:"admin-app-content"},f.createElement(L8,null)):f.createElement(ud,{to:"/"})}),f.createElement(Tr,{path:"*",element:f.createElement("main",{className:"main-app-content"},f.createElement(Aw,null,f.createElement(Tr,{path:"/confirm-match",element:f.createElement(dT,null)}),f.createElement(Tr,{path:"/chat",element:t?f.createElement(k9,{userName:`${e} ${s}`,userEmail:l,userPin:h}):f.createElement(ud,{to:"/"})}),f.createElement(Tr,{path:"/simple-pool",element:f.createElement(Kg,null)}),f.createElement(Tr,{path:"/tenball-tutorial",element:f.createElement(kE,null)}),f.createElement(Tr,{path:"/dashboard",element:t?f.createElement(TE,{playerName:e,playerLastName:s,senderEmail:l,onScheduleMatch:()=>{},onOpenChat:()=>window.location.hash="#/chat",onLogout:v,userPin:h,onGoToAdmin:()=>{}}):f.createElement(ud,{to:"/"})}),f.createElement(Tr,{path:"/",element:f.createElement(hz,{isAuthenticated:t,userFirstName:e,userLastName:s,userEmail:l,userPin:h,handleLoginSuccess:p,handleLogout:v})}),f.createElement(Tr,{path:"*",element:f.createElement(ud,{to:"/"})})))})))))}var LE=function(){if(typeof Map<"u")return Map;function t(a,e){var n=-1;return a.some(function(s,o){return s[0]===e?(n=o,!0):!1}),n}return function(){function a(){this.__entries__=[]}return Object.defineProperty(a.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),a.prototype.get=function(e){var n=t(this.__entries__,e),s=this.__entries__[n];return s&&s[1]},a.prototype.set=function(e,n){var s=t(this.__entries__,e);~s?this.__entries__[s][1]=n:this.__entries__.push([e,n])},a.prototype.delete=function(e){var n=this.__entries__,s=t(n,e);~s&&n.splice(s,1)},a.prototype.has=function(e){return!!~t(this.__entries__,e)},a.prototype.clear=function(){this.__entries__.splice(0)},a.prototype.forEach=function(e,n){n===void 0&&(n=null);for(var s=0,o=this.__entries__;s<o.length;s++){var l=o[s];e.call(n,l[1],l[0])}},a}()}(),Jg=typeof window<"u"&&typeof document<"u"&&window.document===document,qf=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),pz=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(qf):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),gz=2;function yz(t,a){var e=!1,n=!1,s=0;function o(){e&&(e=!1,t()),n&&u()}function l(){pz(o)}function u(){var h=Date.now();if(e){if(h-s<gz)return;n=!0}else e=!0,n=!1,setTimeout(l,a);s=h}return u}var vz=20,bz=["top","right","bottom","left","width","height","size","weight"],wz=typeof MutationObserver<"u",Cz=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=yz(this.refresh.bind(this),vz)}return t.prototype.addObserver=function(a){~this.observers_.indexOf(a)||this.observers_.push(a),this.connected_||this.connect_()},t.prototype.removeObserver=function(a){var e=this.observers_,n=e.indexOf(a);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var a=this.updateObservers_();a&&this.refresh()},t.prototype.updateObservers_=function(){var a=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return a.forEach(function(e){return e.broadcastActive()}),a.length>0},t.prototype.connect_=function(){!Jg||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),wz?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Jg||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(a){var e=a.propertyName,n=e===void 0?"":e,s=bz.some(function(o){return!!~n.indexOf(o)});s&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),PE=function(t,a){for(var e=0,n=Object.keys(a);e<n.length;e++){var s=n[e];Object.defineProperty(t,s,{value:a[s],enumerable:!1,writable:!1,configurable:!0})}return t},ll=function(t){var a=t&&t.ownerDocument&&t.ownerDocument.defaultView;return a||qf},OE=_h(0,0,0,0);function Qf(t){return parseFloat(t)||0}function OC(t){for(var a=[],e=1;e<arguments.length;e++)a[e-1]=arguments[e];return a.reduce(function(n,s){var o=t["border-"+s+"-width"];return n+Qf(o)},0)}function Sz(t){for(var a=["top","right","bottom","left"],e={},n=0,s=a;n<s.length;n++){var o=s[n],l=t["padding-"+o];e[o]=Qf(l)}return e}function _z(t){var a=t.getBBox();return _h(0,0,a.width,a.height)}function Ez(t){var a=t.clientWidth,e=t.clientHeight;if(!a&&!e)return OE;var n=ll(t).getComputedStyle(t),s=Sz(n),o=s.left+s.right,l=s.top+s.bottom,u=Qf(n.width),h=Qf(n.height);if(n.boxSizing==="border-box"&&(Math.round(u+o)!==a&&(u-=OC(n,"left","right")+o),Math.round(h+l)!==e&&(h-=OC(n,"top","bottom")+l)),!Iz(t)){var m=Math.round(u+o)-a,p=Math.round(h+l)-e;Math.abs(m)!==1&&(u-=m),Math.abs(p)!==1&&(h-=p)}return _h(s.left,s.top,u,h)}var xz=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof ll(t).SVGGraphicsElement}:function(t){return t instanceof ll(t).SVGElement&&typeof t.getBBox=="function"}}();function Iz(t){return t===ll(t).document.documentElement}function Dz(t){return Jg?xz(t)?_z(t):Ez(t):OE}function Mz(t){var a=t.x,e=t.y,n=t.width,s=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return PE(l,{x:a,y:e,width:n,height:s,top:e,right:a+n,bottom:s+e,left:a}),l}function _h(t,a,e,n){return{x:t,y:a,width:e,height:n}}var Az=function(){function t(a){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_h(0,0,0,0),this.target=a}return t.prototype.isActive=function(){var a=Dz(this.target);return this.contentRect_=a,a.width!==this.broadcastWidth||a.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var a=this.contentRect_;return this.broadcastWidth=a.width,this.broadcastHeight=a.height,a},t}(),Tz=function(){function t(a,e){var n=Mz(e);PE(this,{target:a,contentRect:n})}return t}(),Nz=function(){function t(a,e,n){if(this.activeObservations_=[],this.observations_=new LE,typeof a!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=a,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(a instanceof ll(a).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(a)||(e.set(a,new Az(a)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(a instanceof ll(a).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(a)&&(e.delete(a),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var a=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&a.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var a=this.callbackCtx_,e=this.activeObservations_.map(function(n){return new Tz(n.target,n.broadcastRect())});this.callback_.call(a,e,a),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),BE=typeof WeakMap<"u"?new WeakMap:new LE,UE=function(){function t(a){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=Cz.getInstance(),n=new Nz(a,e,this);BE.set(this,n)}return t}();["observe","unobserve","disconnect"].forEach(function(t){UE.prototype[t]=function(){var a;return(a=BE.get(this))[t].apply(a,arguments)}});var Rz=function(){return typeof qf.ResizeObserver<"u"?qf.ResizeObserver:UE}();window.ResizeObserver=window.ResizeObserver||Rz;q2.createRoot(document.getElementById("root")).render(f.createElement(f.StrictMode,null,f.createElement(mz,null)));
