var aC=Object.defineProperty;var rC=(t,a,e)=>a in t?aC(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e;var ze=(t,a,e)=>rC(t,typeof a!="symbol"?a+"":a,e);function sC(t,a){for(var e=0;e<a.length;e++){const n=a[e];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const l=Object.getOwnPropertyDescriptor(n,s);l&&Object.defineProperty(t,s,l.get?l:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=e(s);fetch(s.href,l)}})();const iC="modulepreload",oC=function(t,a){return new URL(t,a).href},Sv={},lC=function(a,e,n){let s=Promise.resolve();if(e&&e.length>0){let c=function(f){return Promise.all(f.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const u=document.getElementsByTagName("link"),m=document.querySelector("meta[property=csp-nonce]"),h=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));s=c(e.map(f=>{if(f=oC(f,n),f in Sv)return;Sv[f]=!0;const y=f.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(!!n)for(let _=u.length-1;_>=0;_--){const C=u[_];if(C.href===f&&(!y||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${b}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":iC,y||(w.as="script"),w.crossOrigin="",w.href=f,h&&w.setAttribute("nonce",h),document.head.appendChild(w),y)return new Promise((_,C)=>{w.addEventListener("load",_),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return s.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return a().catch(l)})};function xp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jh={exports:{}},gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function cC(){if(Cv)return gt;Cv=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),y=Symbol.iterator;function b(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function C(T,F,V){this.props=T,this.context=F,this.refs=_,this.updater=V||E}C.prototype.isReactComponent={},C.prototype.setState=function(T,F){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,F,"setState")},C.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function S(){}S.prototype=C.prototype;function I(T,F,V){this.props=T,this.context=F,this.refs=_,this.updater=V||E}var k=I.prototype=new S;k.constructor=I,w(k,C.prototype),k.isPureReactComponent=!0;var N=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function $(T,F,V,j,re,K){return V=K.ref,{$$typeof:t,type:T,key:F,ref:V!==void 0?V:null,props:K}}function z(T,F){return $(T.type,F,void 0,void 0,void 0,T.props)}function Y(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function J(T){var F={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(V){return F[V]})}var ae=/\/+/g;function H(T,F){return typeof T=="object"&&T!==null&&T.key!=null?J(""+T.key):F.toString(36)}function Z(){}function O(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Z,Z):(T.status="pending",T.then(function(F){T.status==="pending"&&(T.status="fulfilled",T.value=F)},function(F){T.status==="pending"&&(T.status="rejected",T.reason=F)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function L(T,F,V,j,re){var K=typeof T;(K==="undefined"||K==="boolean")&&(T=null);var ce=!1;if(T===null)ce=!0;else switch(K){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(T.$$typeof){case t:case a:ce=!0;break;case f:return ce=T._init,L(ce(T._payload),F,V,j,re)}}if(ce)return re=re(T),ce=j===""?"."+H(T,0):j,N(re)?(V="",ce!=null&&(V=ce.replace(ae,"$&/")+"/"),L(re,F,V,"",function(Ke){return Ke})):re!=null&&(Y(re)&&(re=z(re,V+(re.key==null||T&&T.key===re.key?"":(""+re.key).replace(ae,"$&/")+"/")+ce)),F.push(re)),1;ce=0;var xe=j===""?".":j+":";if(N(T))for(var Se=0;Se<T.length;Se++)j=T[Se],K=xe+H(j,Se),ce+=L(j,F,V,K,re);else if(Se=b(T),typeof Se=="function")for(T=Se.call(T),Se=0;!(j=T.next()).done;)j=j.value,K=xe+H(j,Se++),ce+=L(j,F,V,K,re);else if(K==="object"){if(typeof T.then=="function")return L(O(T),F,V,j,re);throw F=String(T),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ce}function A(T,F,V){if(T==null)return T;var j=[],re=0;return L(T,j,"","",function(K){return F.call(V,K,re++)}),j}function U(T){if(T._status===-1){var F=T._result;F=F(),F.then(function(V){(T._status===0||T._status===-1)&&(T._status=1,T._result=V)},function(V){(T._status===0||T._status===-1)&&(T._status=2,T._result=V)}),T._status===-1&&(T._status=0,T._result=F)}if(T._status===1)return T._result.default;throw T._result}var q=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Q(){}return gt.Children={map:A,forEach:function(T,F,V){A(T,function(){F.apply(this,arguments)},V)},count:function(T){var F=0;return A(T,function(){F++}),F},toArray:function(T){return A(T,function(F){return F})||[]},only:function(T){if(!Y(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},gt.Component=C,gt.Fragment=e,gt.Profiler=s,gt.PureComponent=I,gt.StrictMode=n,gt.Suspense=m,gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,gt.__COMPILER_RUNTIME={__proto__:null,c:function(T){return M.H.useMemoCache(T)}},gt.cache=function(T){return function(){return T.apply(null,arguments)}},gt.cloneElement=function(T,F,V){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var j=w({},T.props),re=T.key,K=void 0;if(F!=null)for(ce in F.ref!==void 0&&(K=void 0),F.key!==void 0&&(re=""+F.key),F)!R.call(F,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&F.ref===void 0||(j[ce]=F[ce]);var ce=arguments.length-2;if(ce===1)j.children=V;else if(1<ce){for(var xe=Array(ce),Se=0;Se<ce;Se++)xe[Se]=arguments[Se+2];j.children=xe}return $(T.type,re,void 0,void 0,K,j)},gt.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:l,_context:T},T},gt.createElement=function(T,F,V){var j,re={},K=null;if(F!=null)for(j in F.key!==void 0&&(K=""+F.key),F)R.call(F,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(re[j]=F[j]);var ce=arguments.length-2;if(ce===1)re.children=V;else if(1<ce){for(var xe=Array(ce),Se=0;Se<ce;Se++)xe[Se]=arguments[Se+2];re.children=xe}if(T&&T.defaultProps)for(j in ce=T.defaultProps,ce)re[j]===void 0&&(re[j]=ce[j]);return $(T,K,void 0,void 0,null,re)},gt.createRef=function(){return{current:null}},gt.forwardRef=function(T){return{$$typeof:u,render:T}},gt.isValidElement=Y,gt.lazy=function(T){return{$$typeof:f,_payload:{_status:-1,_result:T},_init:U}},gt.memo=function(T,F){return{$$typeof:h,type:T,compare:F===void 0?null:F}},gt.startTransition=function(T){var F=M.T,V={};M.T=V;try{var j=T(),re=M.S;re!==null&&re(V,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(Q,q)}catch(K){q(K)}finally{M.T=F}},gt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},gt.use=function(T){return M.H.use(T)},gt.useActionState=function(T,F,V){return M.H.useActionState(T,F,V)},gt.useCallback=function(T,F){return M.H.useCallback(T,F)},gt.useContext=function(T){return M.H.useContext(T)},gt.useDebugValue=function(){},gt.useDeferredValue=function(T,F){return M.H.useDeferredValue(T,F)},gt.useEffect=function(T,F,V){var j=M.H;if(typeof V=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(T,F)},gt.useId=function(){return M.H.useId()},gt.useImperativeHandle=function(T,F,V){return M.H.useImperativeHandle(T,F,V)},gt.useInsertionEffect=function(T,F){return M.H.useInsertionEffect(T,F)},gt.useLayoutEffect=function(T,F){return M.H.useLayoutEffect(T,F)},gt.useMemo=function(T,F){return M.H.useMemo(T,F)},gt.useOptimistic=function(T,F){return M.H.useOptimistic(T,F)},gt.useReducer=function(T,F,V){return M.H.useReducer(T,F,V)},gt.useRef=function(T){return M.H.useRef(T)},gt.useState=function(T){return M.H.useState(T)},gt.useSyncExternalStore=function(T,F,V){return M.H.useSyncExternalStore(T,F,V)},gt.useTransition=function(){return M.H.useTransition()},gt.version="19.1.0",gt}var _v;function v0(){return _v||(_v=1,jh.exports=cC()),jh.exports}var v=v0();const r=xp(v),jx=sC({__proto__:null,default:r},[v]);var Hh={exports:{}},kc={},Yh={exports:{}},$h={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function dC(){return Iv||(Iv=1,function(t){function a(A,U){var q=A.length;A.push(U);e:for(;0<q;){var Q=q-1>>>1,T=A[Q];if(0<s(T,U))A[Q]=U,A[q]=T,q=Q;else break e}}function e(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var U=A[0],q=A.pop();if(q!==U){A[0]=q;e:for(var Q=0,T=A.length,F=T>>>1;Q<F;){var V=2*(Q+1)-1,j=A[V],re=V+1,K=A[re];if(0>s(j,q))re<T&&0>s(K,j)?(A[Q]=K,A[re]=q,Q=re):(A[Q]=j,A[V]=q,Q=V);else if(re<T&&0>s(K,q))A[Q]=K,A[re]=q,Q=re;else break e}}return U}function s(A,U){var q=A.sortIndex-U.sortIndex;return q!==0?q:A.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var m=[],h=[],f=1,y=null,b=3,E=!1,w=!1,_=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function N(A){for(var U=e(h);U!==null;){if(U.callback===null)n(h);else if(U.startTime<=A)n(h),U.sortIndex=U.expirationTime,a(m,U);else break;U=e(h)}}function M(A){if(_=!1,N(A),!w)if(e(m)!==null)w=!0,R||(R=!0,H());else{var U=e(h);U!==null&&L(M,U.startTime-A)}}var R=!1,$=-1,z=5,Y=-1;function J(){return C?!0:!(t.unstable_now()-Y<z)}function ae(){if(C=!1,R){var A=t.unstable_now();Y=A;var U=!0;try{e:{w=!1,_&&(_=!1,I($),$=-1),E=!0;var q=b;try{t:{for(N(A),y=e(m);y!==null&&!(y.expirationTime>A&&J());){var Q=y.callback;if(typeof Q=="function"){y.callback=null,b=y.priorityLevel;var T=Q(y.expirationTime<=A);if(A=t.unstable_now(),typeof T=="function"){y.callback=T,N(A),U=!0;break t}y===e(m)&&n(m),N(A)}else n(m);y=e(m)}if(y!==null)U=!0;else{var F=e(h);F!==null&&L(M,F.startTime-A),U=!1}}break e}finally{y=null,b=q,E=!1}U=void 0}}finally{U?H():R=!1}}}var H;if(typeof k=="function")H=function(){k(ae)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,O=Z.port2;Z.port1.onmessage=ae,H=function(){O.postMessage(null)}}else H=function(){S(ae,0)};function L(A,U){$=S(function(){A(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(A){switch(b){case 1:case 2:case 3:var U=3;break;default:U=b}var q=b;b=U;try{return A()}finally{b=q}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(A,U){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var q=b;b=A;try{return U()}finally{b=q}},t.unstable_scheduleCallback=function(A,U,q){var Q=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,A){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=q+T,A={id:f++,callback:U,priorityLevel:A,startTime:q,expirationTime:T,sortIndex:-1},q>Q?(A.sortIndex=q,a(h,A),e(m)===null&&A===e(h)&&(_?(I($),$=-1):_=!0,L(M,q-Q))):(A.sortIndex=T,a(m,A),w||E||(w=!0,R||(R=!0,H()))),A},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(A){var U=b;return function(){var q=b;b=U;try{return A.apply(this,arguments)}finally{b=q}}}}($h)),$h}var Nv;function uC(){return Nv||(Nv=1,Yh.exports=dC()),Yh.exports}var Gh={exports:{}},ga={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function mC(){if(kv)return ga;kv=1;var t=v0();function a(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(a(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,h,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:m,containerInfo:h,implementation:f}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ga.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ga.createPortal=function(m,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(a(299));return l(m,h,null,f)},ga.flushSync=function(m){var h=c.T,f=n.p;try{if(c.T=null,n.p=2,m)return m()}finally{c.T=h,n.p=f,n.d.f()}},ga.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(m,h))},ga.prefetchDNS=function(m){typeof m=="string"&&n.d.D(m)},ga.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var f=h.as,y=u(f,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,E=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?n.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:E}):f==="script"&&n.d.X(m,{crossOrigin:y,integrity:b,fetchPriority:E,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ga.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=u(h.as,h.crossOrigin);n.d.M(m,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(m)},ga.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,y=u(f,h.crossOrigin);n.d.L(m,f,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ga.preloadModule=function(m,h){if(typeof m=="string")if(h){var f=u(h.as,h.crossOrigin);n.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(m)},ga.requestFormReset=function(m){n.d.r(m)},ga.unstable_batchedUpdates=function(m,h){return m(h)},ga.useFormState=function(m,h,f){return c.H.useFormState(m,h,f)},ga.useFormStatus=function(){return c.H.useHostTransitionStatus()},ga.version="19.1.0",ga}var Av;function Hx(){if(Av)return Gh.exports;Av=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Gh.exports=mC(),Gh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function pC(){if(Dv)return kc;Dv=1;var t=uC(),a=v0(),e=Hx();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(l(i)!==i)throw Error(n(188))}function m(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(n(188));return o!==i?null:i}for(var d=i,p=o;;){var g=d.return;if(g===null)break;var x=g.alternate;if(x===null){if(p=g.return,p!==null){d=p;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===d)return u(g),i;if(x===p)return u(g),o;x=x.sibling}throw Error(n(188))}if(d.return!==p.return)d=g,p=x;else{for(var D=!1,B=g.child;B;){if(B===d){D=!0,d=g,p=x;break}if(B===p){D=!0,p=g,d=x;break}B=B.sibling}if(!D){for(B=x.child;B;){if(B===d){D=!0,d=x,p=g;break}if(B===p){D=!0,p=x,d=g;break}B=B.sibling}if(!D)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var f=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),k=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=ae&&i[ae]||i["@@iterator"],typeof i=="function"?i:null)}var Z=Symbol.for("react.client.reference");function O(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case C:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case R:return"SuspenseList";case Y:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case k:return(i.displayName||"Context")+".Provider";case I:return(i._context.displayName||"Context")+".Consumer";case N:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return o=i.displayName||null,o!==null?o:O(i.type)||"Memo";case z:o=i._payload,i=i._init;try{return O(i(o))}catch{}}return null}var L=Array.isArray,A=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},Q=[],T=-1;function F(i){return{current:i}}function V(i){0>T||(i.current=Q[T],Q[T]=null,T--)}function j(i,o){T++,Q[T]=i.current,i.current=o}var re=F(null),K=F(null),ce=F(null),xe=F(null);function Se(i,o){switch(j(ce,o),j(K,i),j(re,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Jb(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Jb(o),i=Xb(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}V(re),j(re,i)}function Ke(){V(re),V(K),V(ce)}function pe(i){i.memoizedState!==null&&j(xe,i);var o=re.current,d=Xb(o,i.type);o!==d&&(j(K,i),j(re,d))}function Ue(i){K.current===i&&(V(re),V(K)),xe.current===i&&(V(xe),Sc._currentValue=q)}var je=Object.prototype.hasOwnProperty,it=t.unstable_scheduleCallback,Ve=t.unstable_cancelCallback,Lt=t.unstable_shouldYield,gn=t.unstable_requestPaint,Pt=t.unstable_now,ln=t.unstable_getCurrentPriorityLevel,Zn=t.unstable_ImmediatePriority,rn=t.unstable_UserBlockingPriority,me=t.unstable_NormalPriority,et=t.unstable_LowPriority,Ge=t.unstable_IdlePriority,wt=t.log,te=t.unstable_setDisableYieldValue,Le=null,He=null;function Ae(i){if(typeof wt=="function"&&te(i),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Le,i)}catch{}}var tt=Math.clz32?Math.clz32:Vn,dt=Math.log,Kt=Math.LN2;function Vn(i){return i>>>=0,i===0?32:31-(dt(i)/Kt|0)|0}var Hn=256,Dn=4194304;function Yn(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Na(i,o,d){var p=i.pendingLanes;if(p===0)return 0;var g=0,x=i.suspendedLanes,D=i.pingedLanes;i=i.warmLanes;var B=p&134217727;return B!==0?(p=B&~x,p!==0?g=Yn(p):(D&=B,D!==0?g=Yn(D):d||(d=B&~i,d!==0&&(g=Yn(d))))):(B=p&~x,B!==0?g=Yn(B):D!==0?g=Yn(D):d||(d=p&~i,d!==0&&(g=Yn(d)))),g===0?0:o!==0&&o!==g&&(o&x)===0&&(x=g&-g,d=o&-o,x>=d||x===32&&(d&4194048)!==0)?o:g}function Qe(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function ut(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sn(){var i=Hn;return Hn<<=1,(Hn&4194048)===0&&(Hn=256),i}function ka(){var i=Dn;return Dn<<=1,(Dn&62914560)===0&&(Dn=4194304),i}function Sn(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function Ba(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Qn(i,o,d,p,g,x){var D=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var B=i.entanglements,X=i.expirationTimes,le=i.hiddenUpdates;for(d=D&~d;0<d;){var ye=31-tt(d),we=1<<ye;B[ye]=0,X[ye]=-1;var de=le[ye];if(de!==null)for(le[ye]=null,ye=0;ye<de.length;ye++){var ue=de[ye];ue!==null&&(ue.lane&=-536870913)}d&=~we}p!==0&&ma(i,p,0),x!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=x&~(D&~o))}function ma(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-tt(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|d&4194090}function Aa(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var p=31-tt(d),g=1<<p;g&o|i[p]&o&&(i[p]|=o),d&=~g}}function Oa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Un(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Gs(){var i=U.p;return i!==0?i:(i=window.event,i===void 0?32:yv(i.type))}function Io(i,o){var d=U.p;try{return U.p=i,o()}finally{U.p=d}}var xa=Math.random().toString(36).slice(2),en="__reactFiber$"+xa,Cn="__reactProps$"+xa,Ka="__reactContainer$"+xa,qs="__reactEvents$"+xa,Zs="__reactListeners$"+xa,os="__reactHandles$"+xa,Vs="__reactResources$"+xa,Or="__reactMarker$"+xa;function ls(i){delete i[en],delete i[Cn],delete i[qs],delete i[Zs],delete i[os]}function Da(i){var o=i[en];if(o)return o;for(var d=i.parentNode;d;){if(o=d[Ka]||d[en]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=nv(i);i!==null;){if(d=i[en])return d;i=nv(i)}return o}i=d,d=i.parentNode}return null}function zr(i){if(i=i[en]||i[Ka]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function cs(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function Sr(i){var o=i[Vs];return o||(o=i[Vs]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function yn(i){i[Or]=!0}var zi=new Set,Ui={};function pa(i,o){Cr(i,o),Cr(i+"Capture",o)}function Cr(i,o){for(Ui[i]=o,i=0;i<o.length;i++)zi.add(o[i])}var ds=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_r={},Qs={};function us(i){return je.call(Qs,i)?!0:je.call(_r,i)?!1:ds.test(i)?Qs[i]=!0:(_r[i]=!0,!1)}function ms(i,o,d){if(us(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function ps(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function Ma(i,o,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+p)}}var fs,za;function Ir(i){if(fs===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);fs=o&&o[1]||"",za=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+i+za}var Fi=!1;function Wi(i,o){if(!i||Fi)return"";Fi=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(ue){var de=ue}Reflect.construct(i,[],we)}else{try{we.call()}catch(ue){de=ue}i.call(we.prototype)}}else{try{throw Error()}catch(ue){de=ue}(we=i())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(ue){if(ue&&de&&typeof ue.stack=="string")return[ue.stack,de.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=p.DetermineComponentFrameRoot(),D=x[0],B=x[1];if(D&&B){var X=D.split(`
`),le=B.split(`
`);for(g=p=0;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;for(;g<le.length&&!le[g].includes("DetermineComponentFrameRoot");)g++;if(p===X.length||g===le.length)for(p=X.length-1,g=le.length-1;1<=p&&0<=g&&X[p]!==le[g];)g--;for(;1<=p&&0<=g;p--,g--)if(X[p]!==le[g]){if(p!==1||g!==1)do if(p--,g--,0>g||X[p]!==le[g]){var ye=`
`+X[p].replace(" at new "," at ");return i.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",i.displayName)),ye}while(1<=p&&0<=g);break}}}finally{Fi=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?Ir(d):""}function Pl(i){switch(i.tag){case 26:case 27:case 5:return Ir(i.type);case 16:return Ir("Lazy");case 13:return Ir("Suspense");case 19:return Ir("SuspenseList");case 0:case 15:return Wi(i.type,!1);case 11:return Wi(i.type.render,!1);case 1:return Wi(i.type,!0);case 31:return Ir("Activity");default:return""}}function No(i){try{var o="";do o+=Pl(i),i=i.return;while(i);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Jn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ko(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ne(i){var o=ko(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,x=d.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(D){p=""+D,x.call(this,D)}}),Object.defineProperty(i,o,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(D){p=""+D},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function P(i){i._valueTracker||(i._valueTracker=ne(i))}function he(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return i&&(p=ko(i)?i.checked?"true":"false":i.value),i=p,i!==d?(o.setValue(i),!0):!1}function be(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var _e=/[\n"\\]/g;function Me(i){return i.replace(_e,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function De(i,o,d,p,g,x,D,B){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),o!=null?D==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Jn(o)):i.value!==""+Jn(o)&&(i.value=""+Jn(o)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),o!=null?mt(i,D,Jn(o)):d!=null?mt(i,D,Jn(d)):p!=null&&i.removeAttribute("value"),g==null&&x!=null&&(i.defaultChecked=!!x),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?i.name=""+Jn(B):i.removeAttribute("name")}function Be(i,o,d,p,g,x,D,B){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),o!=null||d!=null){if(!(x!=="submit"&&x!=="reset"||o!=null))return;d=d!=null?""+Jn(d):"",o=o!=null?""+Jn(o):d,B||o===i.value||(i.value=o),i.defaultValue=o}p=p??g,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=B?i.checked:!!p,i.defaultChecked=!!p,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D)}function mt(i,o,d){o==="number"&&be(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function qe(i,o,d,p){if(i=i.options,o){o={};for(var g=0;g<d.length;g++)o["$"+d[g]]=!0;for(d=0;d<i.length;d++)g=o.hasOwnProperty("$"+i[d].value),i[d].selected!==g&&(i[d].selected=g),g&&p&&(i[d].defaultSelected=!0)}else{for(d=""+Jn(d),o=null,g=0;g<i.length;g++){if(i[g].value===d){i[g].selected=!0,p&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function ft(i,o,d){if(o!=null&&(o=""+Jn(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+Jn(d):""}function Je(i,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(n(92));if(L(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=Jn(o),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p)}function Te(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var fe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ke(i,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,d):typeof d!="number"||d===0||fe.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function Pe(i,o,d){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var g in o)p=o[g],o.hasOwnProperty(g)&&d[g]!==p&&ke(i,g,p)}else for(var x in o)o.hasOwnProperty(x)&&ke(i,x,o[x])}function Ye(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(i){return It.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var hs=null;function Nt(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var We=null,Ut=null;function tn(i){var o=zr(i);if(o&&(i=o.stateNode)){var d=i[Cn]||null;e:switch(i=o.stateNode,o.type){case"input":if(De(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Me(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==i&&p.form===i.form){var g=p[Cn]||null;if(!g)throw Error(n(90));De(p,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===i.form&&he(p)}break e;case"textarea":ft(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&qe(i,!!d.multiple,o,!1)}}}var Mn=!1;function sa(i,o,d){if(Mn)return i(o,d);Mn=!0;try{var p=i(o);return p}finally{if(Mn=!1,(We!==null||Ut!==null)&&(xu(),We&&(o=We,i=Ut,Ut=We=null,tn(o),i)))for(o=0;o<i.length;o++)tn(i[o])}}function bn(i,o){var d=i.stateNode;if(d===null)return null;var p=d[Cn]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xn=!1;if(cn)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{Xn=!1}var Kn=null,er=null,Ea=null;function tr(){if(Ea)return Ea;var i,o=er,d=o.length,p,g="value"in Kn?Kn.value:Kn.textContent,x=g.length;for(i=0;i<d&&o[i]===g[i];i++);var D=d-i;for(p=1;p<=D&&o[d-p]===g[x-p];p++);return Ea=g.slice(i,1<p?1-p:void 0)}function Tn(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function vn(){return!0}function Nr(){return!1}function Rn(i){function o(d,p,g,x,D){this._reactName=d,this._targetInst=g,this.type=p,this.nativeEvent=x,this.target=D,this.currentTarget=null;for(var B in i)i.hasOwnProperty(B)&&(d=i[B],this[B]=d?d(x):x[B]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?vn:Nr,this.isPropagationStopped=Nr,this}return f(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=vn)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=vn)},persist:function(){},isPersistent:vn}),o}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=Rn(kr),gs=f({},kr,{view:0,detail:0}),Bl=Rn(gs),Ol,Ao,ji,Do=f({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ji&&(ji&&i.type==="mousemove"?(Ol=i.screenX-ji.screenX,Ao=i.screenY-ji.screenY):Ao=Ol=0,ji=i),Ol)},movementY:function(i){return"movementY"in i?i.movementY:Ao}}),Hp=Rn(Do),Td=f({},Do,{dataTransfer:0}),Yp=Rn(Td),Rd=f({},gs,{relatedTarget:0}),zl=Rn(Rd),dy=f({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),ys=Rn(dy),Ul=f({},kr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$p=Rn(Ul),Ld=f({},kr,{data:0}),Gp=Rn(Ld),qp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bd(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Zp[i])?!!o[i]:!1}function Xs(){return Bd}var Fl=f({},gs,{key:function(i){if(i.key){var o=qp[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Tn(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Pd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(i){return i.type==="keypress"?Tn(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Tn(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ar=Rn(Fl),Od=f({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zd=Rn(Od),Vp=f({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),Ud=Rn(Vp),Ks=f({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qp=Rn(Ks),G=f({},Do,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ie=Rn(G),Oe=f({},kr,{newState:0,oldState:0}),yt=Rn(Oe),kt=[9,13,27,32],pt=cn&&"CompositionEvent"in window,Qt=null;cn&&"documentMode"in document&&(Qt=document.documentMode);var ei=cn&&"TextEvent"in window&&!Qt,Xe=cn&&(!pt||Qt&&8<Qt&&11>=Qt),fa=" ",Ur=!1;function Hi(i,o){switch(i){case"keyup":return kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Mo=!1;function A5(i,o){switch(i){case"compositionend":return Fd(o);case"keypress":return o.which!==32?null:(Ur=!0,fa);case"textInput":return i=o.data,i===fa&&Ur?null:i;default:return null}}function D5(i,o){if(Mo)return i==="compositionend"||!pt&&Hi(i,o)?(i=tr(),Ea=er=Kn=null,Mo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Xe&&o.locale!=="ko"?null:o.data;default:return null}}var M5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!M5[i.type]:o==="textarea"}function my(i,o,d,p){We?Ut?Ut.push(p):Ut=[p]:We=p,o=Iu(o,"onChange"),0<o.length&&(d=new Js("onChange","change",null,d,p),i.push({event:d,listeners:o}))}var Wl=null,jl=null;function T5(i){Gb(i,0)}function Wd(i){var o=cs(i);if(he(o))return i}function py(i,o){if(i==="change")return o}var fy=!1;if(cn){var Jp;if(cn){var Xp="oninput"in document;if(!Xp){var hy=document.createElement("div");hy.setAttribute("oninput","return;"),Xp=typeof hy.oninput=="function"}Jp=Xp}else Jp=!1;fy=Jp&&(!document.documentMode||9<document.documentMode)}function gy(){Wl&&(Wl.detachEvent("onpropertychange",yy),jl=Wl=null)}function yy(i){if(i.propertyName==="value"&&Wd(jl)){var o=[];my(o,jl,i,Nt(i)),sa(T5,o)}}function R5(i,o,d){i==="focusin"?(gy(),Wl=o,jl=d,Wl.attachEvent("onpropertychange",yy)):i==="focusout"&&gy()}function L5(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Wd(jl)}function P5(i,o){if(i==="click")return Wd(o)}function B5(i,o){if(i==="input"||i==="change")return Wd(o)}function O5(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Ua=typeof Object.is=="function"?Object.is:O5;function Hl(i,o){if(Ua(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var g=d[p];if(!je.call(o,g)||!Ua(i[g],o[g]))return!1}return!0}function by(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function vy(i,o){var d=by(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=o&&p>=o)return{node:d,offset:o-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=by(d)}}function xy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?xy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Ey(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=be(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=be(i.document)}return o}function Kp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var z5=cn&&"documentMode"in document&&11>=document.documentMode,To=null,ef=null,Yl=null,tf=!1;function wy(i,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;tf||To==null||To!==be(p)||(p=To,"selectionStart"in p&&Kp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Yl&&Hl(Yl,p)||(Yl=p,p=Iu(ef,"onSelect"),0<p.length&&(o=new Js("onSelect","select",null,o,d),i.push({event:o,listeners:p}),o.target=To)))}function Yi(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var Ro={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionrun:Yi("Transition","TransitionRun"),transitionstart:Yi("Transition","TransitionStart"),transitioncancel:Yi("Transition","TransitionCancel"),transitionend:Yi("Transition","TransitionEnd")},nf={},Sy={};cn&&(Sy=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function $i(i){if(nf[i])return nf[i];if(!Ro[i])return i;var o=Ro[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in Sy)return nf[i]=o[d];return i}var Cy=$i("animationend"),_y=$i("animationiteration"),Iy=$i("animationstart"),U5=$i("transitionrun"),F5=$i("transitionstart"),W5=$i("transitioncancel"),Ny=$i("transitionend"),ky=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function Dr(i,o){ky.set(i,o),pa(o,[i])}var Ay=new WeakMap;function nr(i,o){if(typeof i=="object"&&i!==null){var d=Ay.get(i);return d!==void 0?d:(o={value:i,source:o,stack:No(o)},Ay.set(i,o),o)}return{value:i,source:o,stack:No(o)}}var ar=[],Lo=0,rf=0;function jd(){for(var i=Lo,o=rf=Lo=0;o<i;){var d=ar[o];ar[o++]=null;var p=ar[o];ar[o++]=null;var g=ar[o];ar[o++]=null;var x=ar[o];if(ar[o++]=null,p!==null&&g!==null){var D=p.pending;D===null?g.next=g:(g.next=D.next,D.next=g),p.pending=g}x!==0&&Dy(d,g,x)}}function Hd(i,o,d,p){ar[Lo++]=i,ar[Lo++]=o,ar[Lo++]=d,ar[Lo++]=p,rf|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function sf(i,o,d,p){return Hd(i,o,d,p),Yd(i)}function Po(i,o){return Hd(i,null,null,o),Yd(i)}function Dy(i,o,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var g=!1,x=i.return;x!==null;)x.childLanes|=d,p=x.alternate,p!==null&&(p.childLanes|=d),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(g=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,g&&o!==null&&(g=31-tt(d),i=x.hiddenUpdates,p=i[g],p===null?i[g]=[o]:p.push(o),o.lane=d|536870912),x):null}function Yd(i){if(50<hc)throw hc=0,mh=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Bo={};function j5(i,o,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(i,o,d,p){return new j5(i,o,d,p)}function of(i){return i=i.prototype,!(!i||!i.isReactComponent)}function bs(i,o){var d=i.alternate;return d===null?(d=Fa(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function My(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function $d(i,o,d,p,g,x){var D=0;if(p=i,typeof i=="function")of(i)&&(D=1);else if(typeof i=="string")D=YS(i,d,re.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Y:return i=Fa(31,d,o,g),i.elementType=Y,i.lanes=x,i;case w:return Gi(d.children,g,x,o);case _:D=8,g|=24;break;case C:return i=Fa(12,d,o,g|2),i.elementType=C,i.lanes=x,i;case M:return i=Fa(13,d,o,g),i.elementType=M,i.lanes=x,i;case R:return i=Fa(19,d,o,g),i.elementType=R,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case S:case k:D=10;break e;case I:D=9;break e;case N:D=11;break e;case $:D=14;break e;case z:D=16,p=null;break e}D=29,d=Error(n(130,i===null?"null":typeof i,"")),p=null}return o=Fa(D,d,o,g),o.elementType=i,o.type=p,o.lanes=x,o}function Gi(i,o,d,p){return i=Fa(7,i,p,o),i.lanes=d,i}function lf(i,o,d){return i=Fa(6,i,null,o),i.lanes=d,i}function cf(i,o,d){return o=Fa(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Oo=[],zo=0,Gd=null,qd=0,rr=[],sr=0,qi=null,vs=1,xs="";function Zi(i,o){Oo[zo++]=qd,Oo[zo++]=Gd,Gd=i,qd=o}function Ty(i,o,d){rr[sr++]=vs,rr[sr++]=xs,rr[sr++]=qi,qi=i;var p=vs;i=xs;var g=32-tt(p)-1;p&=~(1<<g),d+=1;var x=32-tt(o)+g;if(30<x){var D=g-g%5;x=(p&(1<<D)-1).toString(32),p>>=D,g-=D,vs=1<<32-tt(o)+g|d<<g|p,xs=x+i}else vs=1<<x|d<<g|p,xs=i}function df(i){i.return!==null&&(Zi(i,1),Ty(i,1,0))}function uf(i){for(;i===Gd;)Gd=Oo[--zo],Oo[zo]=null,qd=Oo[--zo],Oo[zo]=null;for(;i===qi;)qi=rr[--sr],rr[sr]=null,xs=rr[--sr],rr[sr]=null,vs=rr[--sr],rr[sr]=null}var wa=null,_n=null,Bt=!1,Vi=null,Fr=!1,mf=Error(n(519));function Qi(i){var o=Error(n(418,""));throw ql(nr(o,i)),mf}function Ry(i){var o=i.stateNode,d=i.type,p=i.memoizedProps;switch(o[en]=i,o[Cn]=p,d){case"dialog":_t("cancel",o),_t("close",o);break;case"iframe":case"object":case"embed":_t("load",o);break;case"video":case"audio":for(d=0;d<yc.length;d++)_t(yc[d],o);break;case"source":_t("error",o);break;case"img":case"image":case"link":_t("error",o),_t("load",o);break;case"details":_t("toggle",o);break;case"input":_t("invalid",o),Be(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),P(o);break;case"select":_t("invalid",o);break;case"textarea":_t("invalid",o),Je(o,p.value,p.defaultValue,p.children),P(o)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||Qb(o.textContent,d)?(p.popover!=null&&(_t("beforetoggle",o),_t("toggle",o)),p.onScroll!=null&&_t("scroll",o),p.onScrollEnd!=null&&_t("scrollend",o),p.onClick!=null&&(o.onclick=Nu),o=!0):o=!1,o||Qi(i)}function Ly(i){for(wa=i.return;wa;)switch(wa.tag){case 5:case 13:Fr=!1;return;case 27:case 3:Fr=!0;return;default:wa=wa.return}}function $l(i){if(i!==wa)return!1;if(!Bt)return Ly(i),Bt=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||kh(i.type,i.memoizedProps)),d=!d),d&&_n&&Qi(i),Ly(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(d=i.data,d==="/$"){if(o===0){_n=Tr(i.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++;i=i.nextSibling}_n=null}}else o===27?(o=_n,gi(i.type)?(i=Th,Th=null,_n=i):_n=o):_n=wa?Tr(i.stateNode.nextSibling):null;return!0}function Gl(){_n=wa=null,Bt=!1}function Py(){var i=Vi;return i!==null&&(Pa===null?Pa=i:Pa.push.apply(Pa,i),Vi=null),i}function ql(i){Vi===null?Vi=[i]:Vi.push(i)}var pf=F(null),Ji=null,Es=null;function ti(i,o,d){j(pf,o._currentValue),o._currentValue=d}function ws(i){i._currentValue=pf.current,V(pf)}function ff(i,o,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===d)break;i=i.return}}function hf(i,o,d,p){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var x=g.dependencies;if(x!==null){var D=g.child;x=x.firstContext;e:for(;x!==null;){var B=x;x=g;for(var X=0;X<o.length;X++)if(B.context===o[X]){x.lanes|=d,B=x.alternate,B!==null&&(B.lanes|=d),ff(x.return,d,i),p||(D=null);break e}x=B.next}}else if(g.tag===18){if(D=g.return,D===null)throw Error(n(341));D.lanes|=d,x=D.alternate,x!==null&&(x.lanes|=d),ff(D,d,i),D=null}else D=g.child;if(D!==null)D.return=g;else for(D=g;D!==null;){if(D===i){D=null;break}if(g=D.sibling,g!==null){g.return=D.return,D=g;break}D=D.return}g=D}}function Zl(i,o,d,p){i=null;for(var g=o,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var D=g.alternate;if(D===null)throw Error(n(387));if(D=D.memoizedProps,D!==null){var B=g.type;Ua(g.pendingProps.value,D.value)||(i!==null?i.push(B):i=[B])}}else if(g===xe.current){if(D=g.alternate,D===null)throw Error(n(387));D.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Sc):i=[Sc])}g=g.return}i!==null&&hf(o,i,d,p),o.flags|=262144}function Zd(i){for(i=i.firstContext;i!==null;){if(!Ua(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Xi(i){Ji=i,Es=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ha(i){return By(Ji,i)}function Vd(i,o){return Ji===null&&Xi(i),By(i,o)}function By(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},Es===null){if(i===null)throw Error(n(308));Es=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Es=Es.next=o;return d}var H5=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},Y5=t.unstable_scheduleCallback,$5=t.unstable_NormalPriority,$n={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new H5,data:new Map,refCount:0}}function Vl(i){i.refCount--,i.refCount===0&&Y5($5,function(){i.controller.abort()})}var Ql=null,yf=0,Uo=0,Fo=null;function G5(i,o){if(Ql===null){var d=Ql=[];yf=0,Uo=vh(),Fo={status:"pending",value:void 0,then:function(p){d.push(p)}}}return yf++,o.then(Oy,Oy),o}function Oy(){if(--yf===0&&Ql!==null){Fo!==null&&(Fo.status="fulfilled");var i=Ql;Ql=null,Uo=0,Fo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function q5(i,o){var d=[],p={status:"pending",value:null,reason:null,then:function(g){d.push(g)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var g=0;g<d.length;g++)(0,d[g])(o)},function(g){for(p.status="rejected",p.reason=g,g=0;g<d.length;g++)(0,d[g])(void 0)}),p}var zy=A.S;A.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&G5(i,o),zy!==null&&zy(i,o)};var Ki=F(null);function bf(){var i=Ki.current;return i!==null?i:nn.pooledCache}function Qd(i,o){o===null?j(Ki,Ki.current):j(Ki,o.pool)}function Uy(){var i=bf();return i===null?null:{parent:$n._currentValue,pool:i}}var Jl=Error(n(460)),Fy=Error(n(474)),Jd=Error(n(542)),vf={then:function(){}};function Wy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Xd(){}function jy(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(Xd,Xd),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Yy(i),i;default:if(typeof o.status=="string")o.then(Xd,Xd);else{if(i=nn,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=p}},function(p){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Yy(i),i}throw Xl=o,Jl}}var Xl=null;function Hy(){if(Xl===null)throw Error(n(459));var i=Xl;return Xl=null,i}function Yy(i){if(i===Jl||i===Jd)throw Error(n(483))}var ni=!1;function xf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ai(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ri(i,o,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Ft&2)!==0){var g=p.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),p.pending=o,o=Yd(i),Dy(i,null,d),o}return Hd(i,p,o,d),Yd(i)}function Kl(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,Aa(i,d)}}function wf(i,o){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var g=null,x=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};x===null?g=x=D:x=x.next=D,d=d.next}while(d!==null);x===null?g=x=o:x=x.next=o}else g=x=o;d={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var Sf=!1;function ec(){if(Sf){var i=Fo;if(i!==null)throw i}}function tc(i,o,d,p){Sf=!1;var g=i.updateQueue;ni=!1;var x=g.firstBaseUpdate,D=g.lastBaseUpdate,B=g.shared.pending;if(B!==null){g.shared.pending=null;var X=B,le=X.next;X.next=null,D===null?x=le:D.next=le,D=X;var ye=i.alternate;ye!==null&&(ye=ye.updateQueue,B=ye.lastBaseUpdate,B!==D&&(B===null?ye.firstBaseUpdate=le:B.next=le,ye.lastBaseUpdate=X))}if(x!==null){var we=g.baseState;D=0,ye=le=X=null,B=x;do{var de=B.lane&-536870913,ue=de!==B.lane;if(ue?(Dt&de)===de:(p&de)===de){de!==0&&de===Uo&&(Sf=!0),ye!==null&&(ye=ye.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var ot=i,nt=B;de=o;var qt=d;switch(nt.tag){case 1:if(ot=nt.payload,typeof ot=="function"){we=ot.call(qt,we,de);break e}we=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=nt.payload,de=typeof ot=="function"?ot.call(qt,we,de):ot,de==null)break e;we=f({},we,de);break e;case 2:ni=!0}}de=B.callback,de!==null&&(i.flags|=64,ue&&(i.flags|=8192),ue=g.callbacks,ue===null?g.callbacks=[de]:ue.push(de))}else ue={lane:de,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ye===null?(le=ye=ue,X=we):ye=ye.next=ue,D|=de;if(B=B.next,B===null){if(B=g.shared.pending,B===null)break;ue=B,B=ue.next,ue.next=null,g.lastBaseUpdate=ue,g.shared.pending=null}}while(!0);ye===null&&(X=we),g.baseState=X,g.firstBaseUpdate=le,g.lastBaseUpdate=ye,x===null&&(g.shared.lanes=0),mi|=D,i.lanes=D,i.memoizedState=we}}function $y(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function Gy(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)$y(d[i],o)}var Wo=F(null),Kd=F(0);function qy(i,o){i=As,j(Kd,i),j(Wo,o),As=i|o.baseLanes}function Cf(){j(Kd,As),j(Wo,Wo.current)}function _f(){As=Kd.current,V(Wo),V(Kd)}var si=0,xt=null,$t=null,Fn=null,eu=!1,jo=!1,eo=!1,tu=0,nc=0,Ho=null,Z5=0;function Ln(){throw Error(n(321))}function If(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!Ua(i[d],o[d]))return!1;return!0}function Nf(i,o,d,p,g,x){return si=x,xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,A.H=i===null||i.memoizedState===null?D1:M1,eo=!1,x=d(p,g),eo=!1,jo&&(x=Vy(o,d,p,g)),Zy(i),x}function Zy(i){A.H=ou;var o=$t!==null&&$t.next!==null;if(si=0,Fn=$t=xt=null,eu=!1,nc=0,Ho=null,o)throw Error(n(300));i===null||ea||(i=i.dependencies,i!==null&&Zd(i)&&(ea=!0))}function Vy(i,o,d,p){xt=i;var g=0;do{if(jo&&(Ho=null),nc=0,jo=!1,25<=g)throw Error(n(301));if(g+=1,Fn=$t=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}A.H=tS,x=o(d,p)}while(jo);return x}function V5(){var i=A.H,o=i.useState()[0];return o=typeof o.then=="function"?ac(o):o,i=i.useState()[0],($t!==null?$t.memoizedState:null)!==i&&(xt.flags|=1024),o}function kf(){var i=tu!==0;return tu=0,i}function Af(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function Df(i){if(eu){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}eu=!1}si=0,Fn=$t=xt=null,jo=!1,nc=tu=0,Ho=null}function Ra(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?xt.memoizedState=Fn=i:Fn=Fn.next=i,Fn}function Wn(){if($t===null){var i=xt.alternate;i=i!==null?i.memoizedState:null}else i=$t.next;var o=Fn===null?xt.memoizedState:Fn.next;if(o!==null)Fn=o,$t=i;else{if(i===null)throw xt.alternate===null?Error(n(467)):Error(n(310));$t=i,i={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Fn===null?xt.memoizedState=Fn=i:Fn=Fn.next=i}return Fn}function Mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ac(i){var o=nc;return nc+=1,Ho===null&&(Ho=[]),i=jy(Ho,i,o),o=xt,(Fn===null?o.memoizedState:Fn.next)===null&&(o=o.alternate,A.H=o===null||o.memoizedState===null?D1:M1),i}function nu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ac(i);if(i.$$typeof===k)return ha(i)}throw Error(n(438,String(i)))}function Tf(i){var o=null,d=xt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=xt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Mf(),xt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),p=0;p<i;p++)d[p]=J;return o.index++,d}function Ss(i,o){return typeof o=="function"?o(i):o}function au(i){var o=Wn();return Rf(o,$t,i)}function Rf(i,o,d){var p=i.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var g=i.baseQueue,x=p.pending;if(x!==null){if(g!==null){var D=g.next;g.next=x.next,x.next=D}o.baseQueue=g=x,p.pending=null}if(x=i.baseState,g===null)i.memoizedState=x;else{o=g.next;var B=D=null,X=null,le=o,ye=!1;do{var we=le.lane&-536870913;if(we!==le.lane?(Dt&we)===we:(si&we)===we){var de=le.revertLane;if(de===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),we===Uo&&(ye=!0);else if((si&de)===de){le=le.next,de===Uo&&(ye=!0);continue}else we={lane:0,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},X===null?(B=X=we,D=x):X=X.next=we,xt.lanes|=de,mi|=de;we=le.action,eo&&d(x,we),x=le.hasEagerState?le.eagerState:d(x,we)}else de={lane:we,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},X===null?(B=X=de,D=x):X=X.next=de,xt.lanes|=we,mi|=we;le=le.next}while(le!==null&&le!==o);if(X===null?D=x:X.next=B,!Ua(x,i.memoizedState)&&(ea=!0,ye&&(d=Fo,d!==null)))throw d;i.memoizedState=x,i.baseState=D,i.baseQueue=X,p.lastRenderedState=x}return g===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Lf(i){var o=Wn(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=d.dispatch,g=d.pending,x=o.memoizedState;if(g!==null){d.pending=null;var D=g=g.next;do x=i(x,D.action),D=D.next;while(D!==g);Ua(x,o.memoizedState)||(ea=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),d.lastRenderedState=x}return[x,p]}function Qy(i,o,d){var p=xt,g=Wn(),x=Bt;if(x){if(d===void 0)throw Error(n(407));d=d()}else d=o();var D=!Ua(($t||g).memoizedState,d);D&&(g.memoizedState=d,ea=!0),g=g.queue;var B=Ky.bind(null,p,g,i);if(rc(2048,8,B,[i]),g.getSnapshot!==o||D||Fn!==null&&Fn.memoizedState.tag&1){if(p.flags|=2048,Yo(9,ru(),Xy.bind(null,p,g,d,o),null),nn===null)throw Error(n(349));x||(si&124)!==0||Jy(p,o,d)}return d}function Jy(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=xt.updateQueue,o===null?(o=Mf(),xt.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function Xy(i,o,d,p){o.value=d,o.getSnapshot=p,e1(o)&&t1(i)}function Ky(i,o,d){return d(function(){e1(o)&&t1(i)})}function e1(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!Ua(i,d)}catch{return!0}}function t1(i){var o=Po(i,2);o!==null&&$a(o,i,2)}function Pf(i){var o=Ra();if(typeof i=="function"){var d=i;if(i=d(),eo){Ae(!0);try{d()}finally{Ae(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:i},o}function n1(i,o,d,p){return i.baseState=d,Rf(i,$t,typeof p=="function"?p:Ss)}function Q5(i,o,d,p,g){if(iu(i))throw Error(n(485));if(i=o.action,i!==null){var x={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){x.listeners.push(D)}};A.T!==null?d(!0):x.isTransition=!1,p(x),d=o.pending,d===null?(x.next=o.pending=x,a1(o,x)):(x.next=d.next,o.pending=d.next=x)}}function a1(i,o){var d=o.action,p=o.payload,g=i.state;if(o.isTransition){var x=A.T,D={};A.T=D;try{var B=d(g,p),X=A.S;X!==null&&X(D,B),r1(i,o,B)}catch(le){Bf(i,o,le)}finally{A.T=x}}else try{x=d(g,p),r1(i,o,x)}catch(le){Bf(i,o,le)}}function r1(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){s1(i,o,p)},function(p){return Bf(i,o,p)}):s1(i,o,d)}function s1(i,o,d){o.status="fulfilled",o.value=d,i1(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,a1(i,d)))}function Bf(i,o,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,i1(o),o=o.next;while(o!==p)}i.action=null}function i1(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function o1(i,o){return o}function l1(i,o){if(Bt){var d=nn.formState;if(d!==null){e:{var p=xt;if(Bt){if(_n){t:{for(var g=_n,x=Fr;g.nodeType!==8;){if(!x){g=null;break t}if(g=Tr(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){_n=Tr(g.nextSibling),p=g.data==="F!";break e}}Qi(p)}p=!1}p&&(o=d[0])}}return d=Ra(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o1,lastRenderedState:o},d.queue=p,d=N1.bind(null,xt,p),p.dispatch=d,p=Pf(!1),x=Wf.bind(null,xt,!1,p.queue),p=Ra(),g={state:o,dispatch:null,action:i,pending:null},p.queue=g,d=Q5.bind(null,xt,g,x,d),g.dispatch=d,p.memoizedState=i,[o,d,!1]}function c1(i){var o=Wn();return d1(o,$t,i)}function d1(i,o,d){if(o=Rf(i,o,o1)[0],i=au(Ss)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=ac(o)}catch(D){throw D===Jl?Jd:D}else p=o;o=Wn();var g=o.queue,x=g.dispatch;return d!==o.memoizedState&&(xt.flags|=2048,Yo(9,ru(),J5.bind(null,g,d),null)),[p,x,i]}function J5(i,o){i.action=o}function u1(i){var o=Wn(),d=$t;if(d!==null)return d1(o,d,i);Wn(),o=o.memoizedState,d=Wn();var p=d.queue.dispatch;return d.memoizedState=i,[o,p,!1]}function Yo(i,o,d,p){return i={tag:i,create:d,deps:p,inst:o,next:null},o=xt.updateQueue,o===null&&(o=Mf(),xt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,o.lastEffect=i),i}function ru(){return{destroy:void 0,resource:void 0}}function m1(){return Wn().memoizedState}function su(i,o,d,p){var g=Ra();p=p===void 0?null:p,xt.flags|=i,g.memoizedState=Yo(1|o,ru(),d,p)}function rc(i,o,d,p){var g=Wn();p=p===void 0?null:p;var x=g.memoizedState.inst;$t!==null&&p!==null&&If(p,$t.memoizedState.deps)?g.memoizedState=Yo(o,x,d,p):(xt.flags|=i,g.memoizedState=Yo(1|o,x,d,p))}function p1(i,o){su(8390656,8,i,o)}function f1(i,o){rc(2048,8,i,o)}function h1(i,o){return rc(4,2,i,o)}function g1(i,o){return rc(4,4,i,o)}function y1(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function b1(i,o,d){d=d!=null?d.concat([i]):null,rc(4,4,y1.bind(null,o,i),d)}function Of(){}function v1(i,o){var d=Wn();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&If(o,p[1])?p[0]:(d.memoizedState=[i,o],i)}function x1(i,o){var d=Wn();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&If(o,p[1]))return p[0];if(p=i(),eo){Ae(!0);try{i()}finally{Ae(!1)}}return d.memoizedState=[p,o],p}function zf(i,o,d){return d===void 0||(si&1073741824)!==0?i.memoizedState=o:(i.memoizedState=d,i=Sb(),xt.lanes|=i,mi|=i,d)}function E1(i,o,d,p){return Ua(d,o)?d:Wo.current!==null?(i=zf(i,d,p),Ua(i,o)||(ea=!0),i):(si&42)===0?(ea=!0,i.memoizedState=d):(i=Sb(),xt.lanes|=i,mi|=i,o)}function w1(i,o,d,p,g){var x=U.p;U.p=x!==0&&8>x?x:8;var D=A.T,B={};A.T=B,Wf(i,!1,o,d);try{var X=g(),le=A.S;if(le!==null&&le(B,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var ye=q5(X,p);sc(i,o,ye,Ya(i))}else sc(i,o,p,Ya(i))}catch(we){sc(i,o,{then:function(){},status:"rejected",reason:we},Ya())}finally{U.p=x,A.T=D}}function X5(){}function Uf(i,o,d,p){if(i.tag!==5)throw Error(n(476));var g=S1(i).queue;w1(i,g,o,q,d===null?X5:function(){return C1(i),d(p)})}function S1(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:q},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function C1(i){var o=S1(i).next.queue;sc(i,o,{},Ya())}function Ff(){return ha(Sc)}function _1(){return Wn().memoizedState}function I1(){return Wn().memoizedState}function K5(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=Ya();i=ai(d);var p=ri(o,i,d);p!==null&&($a(p,o,d),Kl(p,o,d)),o={cache:gf()},i.payload=o;return}o=o.return}}function eS(i,o,d){var p=Ya();d={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},iu(i)?k1(o,d):(d=sf(i,o,d,p),d!==null&&($a(d,i,p),A1(d,o,p)))}function N1(i,o,d){var p=Ya();sc(i,o,d,p)}function sc(i,o,d,p){var g={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(iu(i))k1(o,g);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var D=o.lastRenderedState,B=x(D,d);if(g.hasEagerState=!0,g.eagerState=B,Ua(B,D))return Hd(i,o,g,0),nn===null&&jd(),!1}catch{}finally{}if(d=sf(i,o,g,p),d!==null)return $a(d,i,p),A1(d,o,p),!0}return!1}function Wf(i,o,d,p){if(p={lane:2,revertLane:vh(),action:p,hasEagerState:!1,eagerState:null,next:null},iu(i)){if(o)throw Error(n(479))}else o=sf(i,d,p,2),o!==null&&$a(o,i,2)}function iu(i){var o=i.alternate;return i===xt||o!==null&&o===xt}function k1(i,o){jo=eu=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function A1(i,o,d){if((d&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,Aa(i,d)}}var ou={readContext:ha,use:nu,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useInsertionEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useSyncExternalStore:Ln,useId:Ln,useHostTransitionStatus:Ln,useFormState:Ln,useActionState:Ln,useOptimistic:Ln,useMemoCache:Ln,useCacheRefresh:Ln},D1={readContext:ha,use:nu,useCallback:function(i,o){return Ra().memoizedState=[i,o===void 0?null:o],i},useContext:ha,useEffect:p1,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,su(4194308,4,y1.bind(null,o,i),d)},useLayoutEffect:function(i,o){return su(4194308,4,i,o)},useInsertionEffect:function(i,o){su(4,2,i,o)},useMemo:function(i,o){var d=Ra();o=o===void 0?null:o;var p=i();if(eo){Ae(!0);try{i()}finally{Ae(!1)}}return d.memoizedState=[p,o],p},useReducer:function(i,o,d){var p=Ra();if(d!==void 0){var g=d(o);if(eo){Ae(!0);try{d(o)}finally{Ae(!1)}}}else g=o;return p.memoizedState=p.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},p.queue=i,i=i.dispatch=eS.bind(null,xt,i),[p.memoizedState,i]},useRef:function(i){var o=Ra();return i={current:i},o.memoizedState=i},useState:function(i){i=Pf(i);var o=i.queue,d=N1.bind(null,xt,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:Of,useDeferredValue:function(i,o){var d=Ra();return zf(d,i,o)},useTransition:function(){var i=Pf(!1);return i=w1.bind(null,xt,i.queue,!0,!1),Ra().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var p=xt,g=Ra();if(Bt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),nn===null)throw Error(n(349));(Dt&124)!==0||Jy(p,o,d)}g.memoizedState=d;var x={value:d,getSnapshot:o};return g.queue=x,p1(Ky.bind(null,p,x,i),[i]),p.flags|=2048,Yo(9,ru(),Xy.bind(null,p,x,d,o),null),d},useId:function(){var i=Ra(),o=nn.identifierPrefix;if(Bt){var d=xs,p=vs;d=(p&~(1<<32-tt(p)-1)).toString(32)+d,o="«"+o+"R"+d,d=tu++,0<d&&(o+="H"+d.toString(32)),o+="»"}else d=Z5++,o="«"+o+"r"+d.toString(32)+"»";return i.memoizedState=o},useHostTransitionStatus:Ff,useFormState:l1,useActionState:l1,useOptimistic:function(i){var o=Ra();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Wf.bind(null,xt,!0,d),d.dispatch=o,[i,o]},useMemoCache:Tf,useCacheRefresh:function(){return Ra().memoizedState=K5.bind(null,xt)}},M1={readContext:ha,use:nu,useCallback:v1,useContext:ha,useEffect:f1,useImperativeHandle:b1,useInsertionEffect:h1,useLayoutEffect:g1,useMemo:x1,useReducer:au,useRef:m1,useState:function(){return au(Ss)},useDebugValue:Of,useDeferredValue:function(i,o){var d=Wn();return E1(d,$t.memoizedState,i,o)},useTransition:function(){var i=au(Ss)[0],o=Wn().memoizedState;return[typeof i=="boolean"?i:ac(i),o]},useSyncExternalStore:Qy,useId:_1,useHostTransitionStatus:Ff,useFormState:c1,useActionState:c1,useOptimistic:function(i,o){var d=Wn();return n1(d,$t,i,o)},useMemoCache:Tf,useCacheRefresh:I1},tS={readContext:ha,use:nu,useCallback:v1,useContext:ha,useEffect:f1,useImperativeHandle:b1,useInsertionEffect:h1,useLayoutEffect:g1,useMemo:x1,useReducer:Lf,useRef:m1,useState:function(){return Lf(Ss)},useDebugValue:Of,useDeferredValue:function(i,o){var d=Wn();return $t===null?zf(d,i,o):E1(d,$t.memoizedState,i,o)},useTransition:function(){var i=Lf(Ss)[0],o=Wn().memoizedState;return[typeof i=="boolean"?i:ac(i),o]},useSyncExternalStore:Qy,useId:_1,useHostTransitionStatus:Ff,useFormState:u1,useActionState:u1,useOptimistic:function(i,o){var d=Wn();return $t!==null?n1(d,$t,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:I1},$o=null,ic=0;function lu(i){var o=ic;return ic+=1,$o===null&&($o=[]),jy($o,i,o)}function oc(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function cu(i,o){throw o.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function T1(i){var o=i._init;return o(i._payload)}function R1(i){function o(se,ee){if(i){var ie=se.deletions;ie===null?(se.deletions=[ee],se.flags|=16):ie.push(ee)}}function d(se,ee){if(!i)return null;for(;ee!==null;)o(se,ee),ee=ee.sibling;return null}function p(se){for(var ee=new Map;se!==null;)se.key!==null?ee.set(se.key,se):ee.set(se.index,se),se=se.sibling;return ee}function g(se,ee){return se=bs(se,ee),se.index=0,se.sibling=null,se}function x(se,ee,ie){return se.index=ie,i?(ie=se.alternate,ie!==null?(ie=ie.index,ie<ee?(se.flags|=67108866,ee):ie):(se.flags|=67108866,ee)):(se.flags|=1048576,ee)}function D(se){return i&&se.alternate===null&&(se.flags|=67108866),se}function B(se,ee,ie,ve){return ee===null||ee.tag!==6?(ee=lf(ie,se.mode,ve),ee.return=se,ee):(ee=g(ee,ie),ee.return=se,ee)}function X(se,ee,ie,ve){var Fe=ie.type;return Fe===w?ye(se,ee,ie.props.children,ve,ie.key):ee!==null&&(ee.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===z&&T1(Fe)===ee.type)?(ee=g(ee,ie.props),oc(ee,ie),ee.return=se,ee):(ee=$d(ie.type,ie.key,ie.props,null,se.mode,ve),oc(ee,ie),ee.return=se,ee)}function le(se,ee,ie,ve){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ie.containerInfo||ee.stateNode.implementation!==ie.implementation?(ee=cf(ie,se.mode,ve),ee.return=se,ee):(ee=g(ee,ie.children||[]),ee.return=se,ee)}function ye(se,ee,ie,ve,Fe){return ee===null||ee.tag!==7?(ee=Gi(ie,se.mode,ve,Fe),ee.return=se,ee):(ee=g(ee,ie),ee.return=se,ee)}function we(se,ee,ie){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=lf(""+ee,se.mode,ie),ee.return=se,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ie=$d(ee.type,ee.key,ee.props,null,se.mode,ie),oc(ie,ee),ie.return=se,ie;case E:return ee=cf(ee,se.mode,ie),ee.return=se,ee;case z:var ve=ee._init;return ee=ve(ee._payload),we(se,ee,ie)}if(L(ee)||H(ee))return ee=Gi(ee,se.mode,ie,null),ee.return=se,ee;if(typeof ee.then=="function")return we(se,lu(ee),ie);if(ee.$$typeof===k)return we(se,Vd(se,ee),ie);cu(se,ee)}return null}function de(se,ee,ie,ve){var Fe=ee!==null?ee.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Fe!==null?null:B(se,ee,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:return ie.key===Fe?X(se,ee,ie,ve):null;case E:return ie.key===Fe?le(se,ee,ie,ve):null;case z:return Fe=ie._init,ie=Fe(ie._payload),de(se,ee,ie,ve)}if(L(ie)||H(ie))return Fe!==null?null:ye(se,ee,ie,ve,null);if(typeof ie.then=="function")return de(se,ee,lu(ie),ve);if(ie.$$typeof===k)return de(se,ee,Vd(se,ie),ve);cu(se,ie)}return null}function ue(se,ee,ie,ve,Fe){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return se=se.get(ie)||null,B(ee,se,""+ve,Fe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case b:return se=se.get(ve.key===null?ie:ve.key)||null,X(ee,se,ve,Fe);case E:return se=se.get(ve.key===null?ie:ve.key)||null,le(ee,se,ve,Fe);case z:var St=ve._init;return ve=St(ve._payload),ue(se,ee,ie,ve,Fe)}if(L(ve)||H(ve))return se=se.get(ie)||null,ye(ee,se,ve,Fe,null);if(typeof ve.then=="function")return ue(se,ee,ie,lu(ve),Fe);if(ve.$$typeof===k)return ue(se,ee,ie,Vd(ee,ve),Fe);cu(ee,ve)}return null}function ot(se,ee,ie,ve){for(var Fe=null,St=null,Ze=ee,rt=ee=0,na=null;Ze!==null&&rt<ie.length;rt++){Ze.index>rt?(na=Ze,Ze=null):na=Ze.sibling;var Rt=de(se,Ze,ie[rt],ve);if(Rt===null){Ze===null&&(Ze=na);break}i&&Ze&&Rt.alternate===null&&o(se,Ze),ee=x(Rt,ee,rt),St===null?Fe=Rt:St.sibling=Rt,St=Rt,Ze=na}if(rt===ie.length)return d(se,Ze),Bt&&Zi(se,rt),Fe;if(Ze===null){for(;rt<ie.length;rt++)Ze=we(se,ie[rt],ve),Ze!==null&&(ee=x(Ze,ee,rt),St===null?Fe=Ze:St.sibling=Ze,St=Ze);return Bt&&Zi(se,rt),Fe}for(Ze=p(Ze);rt<ie.length;rt++)na=ue(Ze,se,rt,ie[rt],ve),na!==null&&(i&&na.alternate!==null&&Ze.delete(na.key===null?rt:na.key),ee=x(na,ee,rt),St===null?Fe=na:St.sibling=na,St=na);return i&&Ze.forEach(function(Ei){return o(se,Ei)}),Bt&&Zi(se,rt),Fe}function nt(se,ee,ie,ve){if(ie==null)throw Error(n(151));for(var Fe=null,St=null,Ze=ee,rt=ee=0,na=null,Rt=ie.next();Ze!==null&&!Rt.done;rt++,Rt=ie.next()){Ze.index>rt?(na=Ze,Ze=null):na=Ze.sibling;var Ei=de(se,Ze,Rt.value,ve);if(Ei===null){Ze===null&&(Ze=na);break}i&&Ze&&Ei.alternate===null&&o(se,Ze),ee=x(Ei,ee,rt),St===null?Fe=Ei:St.sibling=Ei,St=Ei,Ze=na}if(Rt.done)return d(se,Ze),Bt&&Zi(se,rt),Fe;if(Ze===null){for(;!Rt.done;rt++,Rt=ie.next())Rt=we(se,Rt.value,ve),Rt!==null&&(ee=x(Rt,ee,rt),St===null?Fe=Rt:St.sibling=Rt,St=Rt);return Bt&&Zi(se,rt),Fe}for(Ze=p(Ze);!Rt.done;rt++,Rt=ie.next())Rt=ue(Ze,se,rt,Rt.value,ve),Rt!==null&&(i&&Rt.alternate!==null&&Ze.delete(Rt.key===null?rt:Rt.key),ee=x(Rt,ee,rt),St===null?Fe=Rt:St.sibling=Rt,St=Rt);return i&&Ze.forEach(function(nC){return o(se,nC)}),Bt&&Zi(se,rt),Fe}function qt(se,ee,ie,ve){if(typeof ie=="object"&&ie!==null&&ie.type===w&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:e:{for(var Fe=ie.key;ee!==null;){if(ee.key===Fe){if(Fe=ie.type,Fe===w){if(ee.tag===7){d(se,ee.sibling),ve=g(ee,ie.props.children),ve.return=se,se=ve;break e}}else if(ee.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===z&&T1(Fe)===ee.type){d(se,ee.sibling),ve=g(ee,ie.props),oc(ve,ie),ve.return=se,se=ve;break e}d(se,ee);break}else o(se,ee);ee=ee.sibling}ie.type===w?(ve=Gi(ie.props.children,se.mode,ve,ie.key),ve.return=se,se=ve):(ve=$d(ie.type,ie.key,ie.props,null,se.mode,ve),oc(ve,ie),ve.return=se,se=ve)}return D(se);case E:e:{for(Fe=ie.key;ee!==null;){if(ee.key===Fe)if(ee.tag===4&&ee.stateNode.containerInfo===ie.containerInfo&&ee.stateNode.implementation===ie.implementation){d(se,ee.sibling),ve=g(ee,ie.children||[]),ve.return=se,se=ve;break e}else{d(se,ee);break}else o(se,ee);ee=ee.sibling}ve=cf(ie,se.mode,ve),ve.return=se,se=ve}return D(se);case z:return Fe=ie._init,ie=Fe(ie._payload),qt(se,ee,ie,ve)}if(L(ie))return ot(se,ee,ie,ve);if(H(ie)){if(Fe=H(ie),typeof Fe!="function")throw Error(n(150));return ie=Fe.call(ie),nt(se,ee,ie,ve)}if(typeof ie.then=="function")return qt(se,ee,lu(ie),ve);if(ie.$$typeof===k)return qt(se,ee,Vd(se,ie),ve);cu(se,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,ee!==null&&ee.tag===6?(d(se,ee.sibling),ve=g(ee,ie),ve.return=se,se=ve):(d(se,ee),ve=lf(ie,se.mode,ve),ve.return=se,se=ve),D(se)):d(se,ee)}return function(se,ee,ie,ve){try{ic=0;var Fe=qt(se,ee,ie,ve);return $o=null,Fe}catch(Ze){if(Ze===Jl||Ze===Jd)throw Ze;var St=Fa(29,Ze,null,se.mode);return St.lanes=ve,St.return=se,St}finally{}}}var Go=R1(!0),L1=R1(!1),ir=F(null),Wr=null;function ii(i){var o=i.alternate;j(Gn,Gn.current&1),j(ir,i),Wr===null&&(o===null||Wo.current!==null||o.memoizedState!==null)&&(Wr=i)}function P1(i){if(i.tag===22){if(j(Gn,Gn.current),j(ir,i),Wr===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Wr=i)}}else oi()}function oi(){j(Gn,Gn.current),j(ir,ir.current)}function Cs(i){V(ir),Wr===i&&(Wr=null),V(Gn)}var Gn=F(0);function du(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||Mh(d)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function jf(i,o,d,p){o=i.memoizedState,d=d(p,o),d=d==null?o:f({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Hf={enqueueSetState:function(i,o,d){i=i._reactInternals;var p=Ya(),g=ai(p);g.payload=o,d!=null&&(g.callback=d),o=ri(i,g,p),o!==null&&($a(o,i,p),Kl(o,i,p))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var p=Ya(),g=ai(p);g.tag=1,g.payload=o,d!=null&&(g.callback=d),o=ri(i,g,p),o!==null&&($a(o,i,p),Kl(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=Ya(),p=ai(d);p.tag=2,o!=null&&(p.callback=o),o=ri(i,p,d),o!==null&&($a(o,i,d),Kl(o,i,d))}};function B1(i,o,d,p,g,x,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,x,D):o.prototype&&o.prototype.isPureReactComponent?!Hl(d,p)||!Hl(g,x):!0}function O1(i,o,d,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==i&&Hf.enqueueReplaceState(o,o.state,null)}function to(i,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(i=i.defaultProps){d===o&&(d=f({},d));for(var g in i)d[g]===void 0&&(d[g]=i[g])}return d}var uu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function z1(i){uu(i)}function U1(i){console.error(i)}function F1(i){uu(i)}function mu(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function W1(i,o,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Yf(i,o,d){return d=ai(d),d.tag=3,d.payload={element:null},d.callback=function(){mu(i,o)},d}function j1(i){return i=ai(i),i.tag=3,i}function H1(i,o,d,p){var g=d.type.getDerivedStateFromError;if(typeof g=="function"){var x=p.value;i.payload=function(){return g(x)},i.callback=function(){W1(o,d,p)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){W1(o,d,p),typeof g!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var B=p.stack;this.componentDidCatch(p.value,{componentStack:B!==null?B:""})})}function nS(i,o,d,p,g){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&Zl(o,d,g,!0),d=ir.current,d!==null){switch(d.tag){case 13:return Wr===null?fh():d.alternate===null&&In===0&&(In=3),d.flags&=-257,d.flags|=65536,d.lanes=g,p===vf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),gh(i,p,g)),!1;case 22:return d.flags|=65536,p===vf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),gh(i,p,g)),!1}throw Error(n(435,d.tag))}return gh(i,p,g),fh(),!1}if(Bt)return o=ir.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,p!==mf&&(i=Error(n(422),{cause:p}),ql(nr(i,d)))):(p!==mf&&(o=Error(n(423),{cause:p}),ql(nr(o,d))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,p=nr(p,d),g=Yf(i.stateNode,p,g),wf(i,g),In!==4&&(In=2)),!1;var x=Error(n(520),{cause:p});if(x=nr(x,d),fc===null?fc=[x]:fc.push(x),In!==4&&(In=2),o===null)return!0;p=nr(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=g&-g,d.lanes|=i,i=Yf(d.stateNode,p,i),wf(d,i),!1;case 1:if(o=d.type,x=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(pi===null||!pi.has(x))))return d.flags|=65536,g&=-g,d.lanes|=g,g=j1(g),H1(g,i,d,p),wf(d,g),!1}d=d.return}while(d!==null);return!1}var Y1=Error(n(461)),ea=!1;function oa(i,o,d,p){o.child=i===null?L1(o,null,d,p):Go(o,i.child,d,p)}function $1(i,o,d,p,g){d=d.render;var x=o.ref;if("ref"in p){var D={};for(var B in p)B!=="ref"&&(D[B]=p[B])}else D=p;return Xi(o),p=Nf(i,o,d,D,x,g),B=kf(),i!==null&&!ea?(Af(i,o,g),_s(i,o,g)):(Bt&&B&&df(o),o.flags|=1,oa(i,o,p,g),o.child)}function G1(i,o,d,p,g){if(i===null){var x=d.type;return typeof x=="function"&&!of(x)&&x.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=x,q1(i,o,x,p,g)):(i=$d(d.type,null,p,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(x=i.child,!Xf(i,g)){var D=x.memoizedProps;if(d=d.compare,d=d!==null?d:Hl,d(D,p)&&i.ref===o.ref)return _s(i,o,g)}return o.flags|=1,i=bs(x,p),i.ref=o.ref,i.return=o,o.child=i}function q1(i,o,d,p,g){if(i!==null){var x=i.memoizedProps;if(Hl(x,p)&&i.ref===o.ref)if(ea=!1,o.pendingProps=p=x,Xf(i,g))(i.flags&131072)!==0&&(ea=!0);else return o.lanes=i.lanes,_s(i,o,g)}return $f(i,o,d,p,g)}function Z1(i,o,d){var p=o.pendingProps,g=p.children,x=i!==null?i.memoizedState:null;if(p.mode==="hidden"){if((o.flags&128)!==0){if(p=x!==null?x.baseLanes|d:d,i!==null){for(g=o.child=i.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;o.childLanes=x&~p}else o.childLanes=0,o.child=null;return V1(i,o,p,d)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Qd(o,x!==null?x.cachePool:null),x!==null?qy(o,x):Cf(),P1(o);else return o.lanes=o.childLanes=536870912,V1(i,o,x!==null?x.baseLanes|d:d,d)}else x!==null?(Qd(o,x.cachePool),qy(o,x),oi(),o.memoizedState=null):(i!==null&&Qd(o,null),Cf(),oi());return oa(i,o,g,d),o.child}function V1(i,o,d,p){var g=bf();return g=g===null?null:{parent:$n._currentValue,pool:g},o.memoizedState={baseLanes:d,cachePool:g},i!==null&&Qd(o,null),Cf(),P1(o),i!==null&&Zl(i,o,p,!0),null}function pu(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function $f(i,o,d,p,g){return Xi(o),d=Nf(i,o,d,p,void 0,g),p=kf(),i!==null&&!ea?(Af(i,o,g),_s(i,o,g)):(Bt&&p&&df(o),o.flags|=1,oa(i,o,d,g),o.child)}function Q1(i,o,d,p,g,x){return Xi(o),o.updateQueue=null,d=Vy(o,p,d,g),Zy(i),p=kf(),i!==null&&!ea?(Af(i,o,x),_s(i,o,x)):(Bt&&p&&df(o),o.flags|=1,oa(i,o,d,x),o.child)}function J1(i,o,d,p,g){if(Xi(o),o.stateNode===null){var x=Bo,D=d.contextType;typeof D=="object"&&D!==null&&(x=ha(D)),x=new d(p,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Hf,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=p,x.state=o.memoizedState,x.refs={},xf(o),D=d.contextType,x.context=typeof D=="object"&&D!==null?ha(D):Bo,x.state=o.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(jf(o,d,D,p),x.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(D=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),D!==x.state&&Hf.enqueueReplaceState(x,x.state,null),tc(o,p,x,g),ec(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){x=o.stateNode;var B=o.memoizedProps,X=to(d,B);x.props=X;var le=x.context,ye=d.contextType;D=Bo,typeof ye=="object"&&ye!==null&&(D=ha(ye));var we=d.getDerivedStateFromProps;ye=typeof we=="function"||typeof x.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,ye||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(B||le!==D)&&O1(o,x,p,D),ni=!1;var de=o.memoizedState;x.state=de,tc(o,p,x,g),ec(),le=o.memoizedState,B||de!==le||ni?(typeof we=="function"&&(jf(o,d,we,p),le=o.memoizedState),(X=ni||B1(o,d,X,p,de,le,D))?(ye||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=le),x.props=p,x.state=le,x.context=D,p=X):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{x=o.stateNode,Ef(i,o),D=o.memoizedProps,ye=to(d,D),x.props=ye,we=o.pendingProps,de=x.context,le=d.contextType,X=Bo,typeof le=="object"&&le!==null&&(X=ha(le)),B=d.getDerivedStateFromProps,(le=typeof B=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D!==we||de!==X)&&O1(o,x,p,X),ni=!1,de=o.memoizedState,x.state=de,tc(o,p,x,g),ec();var ue=o.memoizedState;D!==we||de!==ue||ni||i!==null&&i.dependencies!==null&&Zd(i.dependencies)?(typeof B=="function"&&(jf(o,d,B,p),ue=o.memoizedState),(ye=ni||B1(o,d,ye,p,de,ue,X)||i!==null&&i.dependencies!==null&&Zd(i.dependencies))?(le||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(p,ue,X),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(p,ue,X)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||D===i.memoizedProps&&de===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&de===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=ue),x.props=p,x.state=ue,x.context=X,p=ye):(typeof x.componentDidUpdate!="function"||D===i.memoizedProps&&de===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&de===i.memoizedState||(o.flags|=1024),p=!1)}return x=p,pu(i,o),p=(o.flags&128)!==0,x||p?(x=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,i!==null&&p?(o.child=Go(o,i.child,null,g),o.child=Go(o,null,d,g)):oa(i,o,d,g),o.memoizedState=x.state,i=o.child):i=_s(i,o,g),i}function X1(i,o,d,p){return Gl(),o.flags|=256,oa(i,o,d,p),o.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(i){return{baseLanes:i,cachePool:Uy()}}function Zf(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=or),i}function K1(i,o,d){var p=o.pendingProps,g=!1,x=(o.flags&128)!==0,D;if((D=x)||(D=i!==null&&i.memoizedState===null?!1:(Gn.current&2)!==0),D&&(g=!0,o.flags&=-129),D=(o.flags&32)!==0,o.flags&=-33,i===null){if(Bt){if(g?ii(o):oi(),Bt){var B=_n,X;if(X=B){e:{for(X=B,B=Fr;X.nodeType!==8;){if(!B){B=null;break e}if(X=Tr(X.nextSibling),X===null){B=null;break e}}B=X}B!==null?(o.memoizedState={dehydrated:B,treeContext:qi!==null?{id:vs,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},X=Fa(18,null,null,0),X.stateNode=B,X.return=o,o.child=X,wa=o,_n=null,X=!0):X=!1}X||Qi(o)}if(B=o.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return Mh(B)?o.lanes=32:o.lanes=536870912,null;Cs(o)}return B=p.children,p=p.fallback,g?(oi(),g=o.mode,B=fu({mode:"hidden",children:B},g),p=Gi(p,g,d,null),B.return=o,p.return=o,B.sibling=p,o.child=B,g=o.child,g.memoizedState=qf(d),g.childLanes=Zf(i,D,d),o.memoizedState=Gf,p):(ii(o),Vf(o,B))}if(X=i.memoizedState,X!==null&&(B=X.dehydrated,B!==null)){if(x)o.flags&256?(ii(o),o.flags&=-257,o=Qf(i,o,d)):o.memoizedState!==null?(oi(),o.child=i.child,o.flags|=128,o=null):(oi(),g=p.fallback,B=o.mode,p=fu({mode:"visible",children:p.children},B),g=Gi(g,B,d,null),g.flags|=2,p.return=o,g.return=o,p.sibling=g,o.child=p,Go(o,i.child,null,d),p=o.child,p.memoizedState=qf(d),p.childLanes=Zf(i,D,d),o.memoizedState=Gf,o=g);else if(ii(o),Mh(B)){if(D=B.nextSibling&&B.nextSibling.dataset,D)var le=D.dgst;D=le,p=Error(n(419)),p.stack="",p.digest=D,ql({value:p,source:null,stack:null}),o=Qf(i,o,d)}else if(ea||Zl(i,o,d,!1),D=(d&i.childLanes)!==0,ea||D){if(D=nn,D!==null&&(p=d&-d,p=(p&42)!==0?1:Oa(p),p=(p&(D.suspendedLanes|d))!==0?0:p,p!==0&&p!==X.retryLane))throw X.retryLane=p,Po(i,p),$a(D,i,p),Y1;B.data==="$?"||fh(),o=Qf(i,o,d)}else B.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=X.treeContext,_n=Tr(B.nextSibling),wa=o,Bt=!0,Vi=null,Fr=!1,i!==null&&(rr[sr++]=vs,rr[sr++]=xs,rr[sr++]=qi,vs=i.id,xs=i.overflow,qi=o),o=Vf(o,p.children),o.flags|=4096);return o}return g?(oi(),g=p.fallback,B=o.mode,X=i.child,le=X.sibling,p=bs(X,{mode:"hidden",children:p.children}),p.subtreeFlags=X.subtreeFlags&65011712,le!==null?g=bs(le,g):(g=Gi(g,B,d,null),g.flags|=2),g.return=o,p.return=o,p.sibling=g,o.child=p,p=g,g=o.child,B=i.child.memoizedState,B===null?B=qf(d):(X=B.cachePool,X!==null?(le=$n._currentValue,X=X.parent!==le?{parent:le,pool:le}:X):X=Uy(),B={baseLanes:B.baseLanes|d,cachePool:X}),g.memoizedState=B,g.childLanes=Zf(i,D,d),o.memoizedState=Gf,p):(ii(o),d=i.child,i=d.sibling,d=bs(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,i!==null&&(D=o.deletions,D===null?(o.deletions=[i],o.flags|=16):D.push(i)),o.child=d,o.memoizedState=null,d)}function Vf(i,o){return o=fu({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function fu(i,o){return i=Fa(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Qf(i,o,d){return Go(o,i.child,null,d),i=Vf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function eb(i,o,d){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),ff(i.return,o,d)}function Jf(i,o,d,p,g){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:g}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=d,x.tailMode=g)}function tb(i,o,d){var p=o.pendingProps,g=p.revealOrder,x=p.tail;if(oa(i,o,p.children,d),p=Gn.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&eb(i,d,o);else if(i.tag===19)eb(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}switch(j(Gn,p),g){case"forwards":for(d=o.child,g=null;d!==null;)i=d.alternate,i!==null&&du(i)===null&&(g=d),d=d.sibling;d=g,d===null?(g=o.child,o.child=null):(g=d.sibling,d.sibling=null),Jf(o,!1,g,d,x);break;case"backwards":for(d=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&du(i)===null){o.child=g;break}i=g.sibling,g.sibling=d,d=g,g=i}Jf(o,!0,d,null,x);break;case"together":Jf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function _s(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),mi|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(Zl(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,d=bs(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=bs(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function Xf(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Zd(i)))}function aS(i,o,d){switch(o.tag){case 3:Se(o,o.stateNode.containerInfo),ti(o,$n,i.memoizedState.cache),Gl();break;case 27:case 5:pe(o);break;case 4:Se(o,o.stateNode.containerInfo);break;case 10:ti(o,o.type,o.memoizedProps.value);break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(ii(o),o.flags|=128,null):(d&o.child.childLanes)!==0?K1(i,o,d):(ii(o),i=_s(i,o,d),i!==null?i.sibling:null);ii(o);break;case 19:var g=(i.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(Zl(i,o,d,!1),p=(d&o.childLanes)!==0),g){if(p)return tb(i,o,d);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),j(Gn,Gn.current),p)break;return null;case 22:case 23:return o.lanes=0,Z1(i,o,d);case 24:ti(o,$n,i.memoizedState.cache)}return _s(i,o,d)}function nb(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)ea=!0;else{if(!Xf(i,d)&&(o.flags&128)===0)return ea=!1,aS(i,o,d);ea=(i.flags&131072)!==0}else ea=!1,Bt&&(o.flags&1048576)!==0&&Ty(o,qd,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var p=o.elementType,g=p._init;if(p=g(p._payload),o.type=p,typeof p=="function")of(p)?(i=to(p,i),o.tag=1,o=J1(null,o,p,i,d)):(o.tag=0,o=$f(null,o,p,i,d));else{if(p!=null){if(g=p.$$typeof,g===N){o.tag=11,o=$1(null,o,p,i,d);break e}else if(g===$){o.tag=14,o=G1(null,o,p,i,d);break e}}throw o=O(p)||p,Error(n(306,o,""))}}return o;case 0:return $f(i,o,o.type,o.pendingProps,d);case 1:return p=o.type,g=to(p,o.pendingProps),J1(i,o,p,g,d);case 3:e:{if(Se(o,o.stateNode.containerInfo),i===null)throw Error(n(387));p=o.pendingProps;var x=o.memoizedState;g=x.element,Ef(i,o),tc(o,p,null,d);var D=o.memoizedState;if(p=D.cache,ti(o,$n,p),p!==x.cache&&hf(o,[$n],d,!0),ec(),p=D.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:D.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=X1(i,o,p,d);break e}else if(p!==g){g=nr(Error(n(424)),o),ql(g),o=X1(i,o,p,d);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(_n=Tr(i.firstChild),wa=o,Bt=!0,Vi=null,Fr=!0,d=L1(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Gl(),p===g){o=_s(i,o,d);break e}oa(i,o,p,d)}o=o.child}return o;case 26:return pu(i,o),i===null?(d=iv(o.type,null,o.pendingProps,null))?o.memoizedState=d:Bt||(d=o.type,i=o.pendingProps,p=ku(ce.current).createElement(d),p[en]=o,p[Cn]=i,ca(p,d,i),yn(p),o.stateNode=p):o.memoizedState=iv(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return pe(o),i===null&&Bt&&(p=o.stateNode=av(o.type,o.pendingProps,ce.current),wa=o,Fr=!0,g=_n,gi(o.type)?(Th=g,_n=Tr(p.firstChild)):_n=g),oa(i,o,o.pendingProps.children,d),pu(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Bt&&((g=p=_n)&&(p=MS(p,o.type,o.pendingProps,Fr),p!==null?(o.stateNode=p,wa=o,_n=Tr(p.firstChild),Fr=!1,g=!0):g=!1),g||Qi(o)),pe(o),g=o.type,x=o.pendingProps,D=i!==null?i.memoizedProps:null,p=x.children,kh(g,x)?p=null:D!==null&&kh(g,D)&&(o.flags|=32),o.memoizedState!==null&&(g=Nf(i,o,V5,null,null,d),Sc._currentValue=g),pu(i,o),oa(i,o,p,d),o.child;case 6:return i===null&&Bt&&((i=d=_n)&&(d=TS(d,o.pendingProps,Fr),d!==null?(o.stateNode=d,wa=o,_n=null,i=!0):i=!1),i||Qi(o)),null;case 13:return K1(i,o,d);case 4:return Se(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Go(o,null,p,d):oa(i,o,p,d),o.child;case 11:return $1(i,o,o.type,o.pendingProps,d);case 7:return oa(i,o,o.pendingProps,d),o.child;case 8:return oa(i,o,o.pendingProps.children,d),o.child;case 12:return oa(i,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,ti(o,o.type,p.value),oa(i,o,p.children,d),o.child;case 9:return g=o.type._context,p=o.pendingProps.children,Xi(o),g=ha(g),p=p(g),o.flags|=1,oa(i,o,p,d),o.child;case 14:return G1(i,o,o.type,o.pendingProps,d);case 15:return q1(i,o,o.type,o.pendingProps,d);case 19:return tb(i,o,d);case 31:return p=o.pendingProps,d=o.mode,p={mode:p.mode,children:p.children},i===null?(d=fu(p,d),d.ref=o.ref,o.child=d,d.return=o,o=d):(d=bs(i.child,p),d.ref=o.ref,o.child=d,d.return=o,o=d),o;case 22:return Z1(i,o,d);case 24:return Xi(o),p=ha($n),i===null?(g=bf(),g===null&&(g=nn,x=gf(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=d),g=x),o.memoizedState={parent:p,cache:g},xf(o),ti(o,$n,g)):((i.lanes&d)!==0&&(Ef(i,o),tc(o,null,null,d),ec()),g=i.memoizedState,x=o.memoizedState,g.parent!==p?(g={parent:p,cache:p},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),ti(o,$n,p)):(p=x.cache,ti(o,$n,p),p!==g.cache&&hf(o,[$n],d,!0))),oa(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Is(i){i.flags|=4}function ab(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!uv(o)){if(o=ir.current,o!==null&&((Dt&4194048)===Dt?Wr!==null:(Dt&62914560)!==Dt&&(Dt&536870912)===0||o!==Wr))throw Xl=vf,Fy;i.flags|=8192}}function hu(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?ka():536870912,i.lanes|=o,Qo|=o)}function lc(i,o){if(!Bt)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function xn(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(o)for(var g=i.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags&65011712,p|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=p,i.childLanes=d,o}function rS(i,o,d){var p=o.pendingProps;switch(uf(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(o),null;case 1:return xn(o),null;case 3:return d=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),ws($n),Ke(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&($l(o)?Is(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Py())),xn(o),null;case 26:return d=o.memoizedState,i===null?(Is(o),d!==null?(xn(o),ab(o,d)):(xn(o),o.flags&=-16777217)):d?d!==i.memoizedState?(Is(o),xn(o),ab(o,d)):(xn(o),o.flags&=-16777217):(i.memoizedProps!==p&&Is(o),xn(o),o.flags&=-16777217),null;case 27:Ue(o),d=ce.current;var g=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Is(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return xn(o),null}i=re.current,$l(o)?Ry(o):(i=av(g,p,d),o.stateNode=i,Is(o))}return xn(o),null;case 5:if(Ue(o),d=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Is(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return xn(o),null}if(i=re.current,$l(o))Ry(o);else{switch(g=ku(ce.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof p.is=="string"?g.createElement("select",{is:p.is}):g.createElement("select"),p.multiple?i.multiple=!0:p.size&&(i.size=p.size);break;default:i=typeof p.is=="string"?g.createElement(d,{is:p.is}):g.createElement(d)}}i[en]=o,i[Cn]=p;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=i;e:switch(ca(i,d,p),d){case"button":case"input":case"select":case"textarea":i=!!p.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Is(o)}}return xn(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&Is(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(i=ce.current,$l(o)){if(i=o.stateNode,d=o.memoizedProps,p=null,g=wa,g!==null)switch(g.tag){case 27:case 5:p=g.memoizedProps}i[en]=o,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||Qb(i.nodeValue,d)),i||Qi(o)}else i=ku(i).createTextNode(p),i[en]=o,o.stateNode=i}return xn(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=$l(o),p!==null&&p.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[en]=o}else Gl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;xn(o),g=!1}else g=Py(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(Cs(o),o):(Cs(o),null)}if(Cs(o),(o.flags&128)!==0)return o.lanes=d,o;if(d=p!==null,i=i!==null&&i.memoizedState!==null,d){p=o.child,g=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(g=p.alternate.memoizedState.cachePool.pool);var x=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(x=p.memoizedState.cachePool.pool),x!==g&&(p.flags|=2048)}return d!==i&&d&&(o.child.flags|=8192),hu(o,o.updateQueue),xn(o),null;case 4:return Ke(),i===null&&Sh(o.stateNode.containerInfo),xn(o),null;case 10:return ws(o.type),xn(o),null;case 19:if(V(Gn),g=o.memoizedState,g===null)return xn(o),null;if(p=(o.flags&128)!==0,x=g.rendering,x===null)if(p)lc(g,!1);else{if(In!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(x=du(i),x!==null){for(o.flags|=128,lc(g,!1),i=x.updateQueue,o.updateQueue=i,hu(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)My(d,i),d=d.sibling;return j(Gn,Gn.current&1|2),o.child}i=i.sibling}g.tail!==null&&Pt()>bu&&(o.flags|=128,p=!0,lc(g,!1),o.lanes=4194304)}else{if(!p)if(i=du(x),i!==null){if(o.flags|=128,p=!0,i=i.updateQueue,o.updateQueue=i,hu(o,i),lc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!Bt)return xn(o),null}else 2*Pt()-g.renderingStartTime>bu&&d!==536870912&&(o.flags|=128,p=!0,lc(g,!1),o.lanes=4194304);g.isBackwards?(x.sibling=o.child,o.child=x):(i=g.last,i!==null?i.sibling=x:o.child=x,g.last=x)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Pt(),o.sibling=null,i=Gn.current,j(Gn,p?i&1|2:i&1),o):(xn(o),null);case 22:case 23:return Cs(o),_f(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(xn(o),o.subtreeFlags&6&&(o.flags|=8192)):xn(o),d=o.updateQueue,d!==null&&hu(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),i!==null&&V(Ki),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),ws($n),xn(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function sS(i,o){switch(uf(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ws($n),Ke(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ue(o),null;case 13:if(Cs(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Gl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return V(Gn),null;case 4:return Ke(),null;case 10:return ws(o.type),null;case 22:case 23:return Cs(o),_f(),i!==null&&V(Ki),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ws($n),null;case 25:return null;default:return null}}function rb(i,o){switch(uf(o),o.tag){case 3:ws($n),Ke();break;case 26:case 27:case 5:Ue(o);break;case 4:Ke();break;case 13:Cs(o);break;case 19:V(Gn);break;case 10:ws(o.type);break;case 22:case 23:Cs(o),_f(),i!==null&&V(Ki);break;case 24:ws($n)}}function cc(i,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var g=p.next;d=g;do{if((d.tag&i)===i){p=void 0;var x=d.create,D=d.inst;p=x(),D.destroy=p}d=d.next}while(d!==g)}}catch(B){Jt(o,o.return,B)}}function li(i,o,d){try{var p=o.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var x=g.next;p=x;do{if((p.tag&i)===i){var D=p.inst,B=D.destroy;if(B!==void 0){D.destroy=void 0,g=o;var X=d,le=B;try{le()}catch(ye){Jt(g,X,ye)}}}p=p.next}while(p!==x)}}catch(ye){Jt(o,o.return,ye)}}function sb(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{Gy(o,d)}catch(p){Jt(i,i.return,p)}}}function ib(i,o,d){d.props=to(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){Jt(i,o,p)}}function dc(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(g){Jt(i,o,g)}}function jr(i,o){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(g){Jt(i,o,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(g){Jt(i,o,g)}else d.current=null}function ob(i){var o=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(g){Jt(i,i.return,g)}}function Kf(i,o,d){try{var p=i.stateNode;IS(p,i.type,d,o),p[Cn]=o}catch(g){Jt(i,i.return,g)}}function lb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&gi(i.type)||i.tag===4}function eh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||lb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&gi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function th(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Nu));else if(p!==4&&(p===27&&gi(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(th(i,o,d),i=i.sibling;i!==null;)th(i,o,d),i=i.sibling}function gu(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(p!==4&&(p===27&&gi(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(gu(i,o,d),i=i.sibling;i!==null;)gu(i,o,d),i=i.sibling}function cb(i){var o=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);ca(o,p,d),o[en]=i,o[Cn]=d}catch(x){Jt(i,i.return,x)}}var Ns=!1,Pn=!1,nh=!1,db=typeof WeakSet=="function"?WeakSet:Set,ta=null;function iS(i,o){if(i=i.containerInfo,Ih=Lu,i=Ey(i),Kp(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var g=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{d.nodeType,x.nodeType}catch{d=null;break e}var D=0,B=-1,X=-1,le=0,ye=0,we=i,de=null;t:for(;;){for(var ue;we!==d||g!==0&&we.nodeType!==3||(B=D+g),we!==x||p!==0&&we.nodeType!==3||(X=D+p),we.nodeType===3&&(D+=we.nodeValue.length),(ue=we.firstChild)!==null;)de=we,we=ue;for(;;){if(we===i)break t;if(de===d&&++le===g&&(B=D),de===x&&++ye===p&&(X=D),(ue=we.nextSibling)!==null)break;we=de,de=we.parentNode}we=ue}d=B===-1||X===-1?null:{start:B,end:X}}else d=null}d=d||{start:0,end:0}}else d=null;for(Nh={focusedElem:i,selectionRange:d},Lu=!1,ta=o;ta!==null;)if(o=ta,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,ta=i;else for(;ta!==null;){switch(o=ta,x=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,d=o,g=x.memoizedProps,x=x.memoizedState,p=d.stateNode;try{var ot=to(d.type,g,d.elementType===d.type);i=p.getSnapshotBeforeUpdate(ot,x),p.__reactInternalSnapshotBeforeUpdate=i}catch(nt){Jt(d,d.return,nt)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)Dh(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Dh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,ta=i;break}ta=o.return}}function ub(i,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:ci(i,d),p&4&&cc(5,d);break;case 1:if(ci(i,d),p&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(D){Jt(d,d.return,D)}else{var g=to(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(g,o,i.__reactInternalSnapshotBeforeUpdate)}catch(D){Jt(d,d.return,D)}}p&64&&sb(d),p&512&&dc(d,d.return);break;case 3:if(ci(i,d),p&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{Gy(i,o)}catch(D){Jt(d,d.return,D)}}break;case 27:o===null&&p&4&&cb(d);case 26:case 5:ci(i,d),o===null&&p&4&&ob(d),p&512&&dc(d,d.return);break;case 12:ci(i,d);break;case 13:ci(i,d),p&4&&fb(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=hS.bind(null,d),RS(i,d))));break;case 22:if(p=d.memoizedState!==null||Ns,!p){o=o!==null&&o.memoizedState!==null||Pn,g=Ns;var x=Pn;Ns=p,(Pn=o)&&!x?di(i,d,(d.subtreeFlags&8772)!==0):ci(i,d),Ns=g,Pn=x}break;case 30:break;default:ci(i,d)}}function mb(i){var o=i.alternate;o!==null&&(i.alternate=null,mb(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&ls(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var dn=null,La=!1;function ks(i,o,d){for(d=d.child;d!==null;)pb(i,o,d),d=d.sibling}function pb(i,o,d){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Le,d)}catch{}switch(d.tag){case 26:Pn||jr(d,o),ks(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Pn||jr(d,o);var p=dn,g=La;gi(d.type)&&(dn=d.stateNode,La=!1),ks(i,o,d),vc(d.stateNode),dn=p,La=g;break;case 5:Pn||jr(d,o);case 6:if(p=dn,g=La,dn=null,ks(i,o,d),dn=p,La=g,dn!==null)if(La)try{(dn.nodeType===9?dn.body:dn.nodeName==="HTML"?dn.ownerDocument.body:dn).removeChild(d.stateNode)}catch(x){Jt(d,o,x)}else try{dn.removeChild(d.stateNode)}catch(x){Jt(d,o,x)}break;case 18:dn!==null&&(La?(i=dn,tv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),Nc(i)):tv(dn,d.stateNode));break;case 4:p=dn,g=La,dn=d.stateNode.containerInfo,La=!0,ks(i,o,d),dn=p,La=g;break;case 0:case 11:case 14:case 15:Pn||li(2,d,o),Pn||li(4,d,o),ks(i,o,d);break;case 1:Pn||(jr(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&ib(d,o,p)),ks(i,o,d);break;case 21:ks(i,o,d);break;case 22:Pn=(p=Pn)||d.memoizedState!==null,ks(i,o,d),Pn=p;break;default:ks(i,o,d)}}function fb(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Nc(i)}catch(d){Jt(o,o.return,d)}}function oS(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new db),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new db),o;default:throw Error(n(435,i.tag))}}function ah(i,o){var d=oS(i);o.forEach(function(p){var g=gS.bind(null,i,p);d.has(p)||(d.add(p),p.then(g,g))})}function Wa(i,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var g=d[p],x=i,D=o,B=D;e:for(;B!==null;){switch(B.tag){case 27:if(gi(B.type)){dn=B.stateNode,La=!1;break e}break;case 5:dn=B.stateNode,La=!1;break e;case 3:case 4:dn=B.stateNode.containerInfo,La=!0;break e}B=B.return}if(dn===null)throw Error(n(160));pb(x,D,g),dn=null,La=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)hb(o,i),o=o.sibling}var Mr=null;function hb(i,o){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Wa(o,i),ja(i),p&4&&(li(3,i,i.return),cc(3,i),li(5,i,i.return));break;case 1:Wa(o,i),ja(i),p&512&&(Pn||d===null||jr(d,d.return)),p&64&&Ns&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var g=Mr;if(Wa(o,i),ja(i),p&512&&(Pn||d===null||jr(d,d.return)),p&4){var x=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,g=g.ownerDocument||g;t:switch(p){case"title":x=g.getElementsByTagName("title")[0],(!x||x[Or]||x[en]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(p),g.head.insertBefore(x,g.querySelector("head > title"))),ca(x,p,d),x[en]=i,yn(x),p=x;break e;case"link":var D=cv("link","href",g).get(p+(d.href||""));if(D){for(var B=0;B<D.length;B++)if(x=D[B],x.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&x.getAttribute("rel")===(d.rel==null?null:d.rel)&&x.getAttribute("title")===(d.title==null?null:d.title)&&x.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(B,1);break t}}x=g.createElement(p),ca(x,p,d),g.head.appendChild(x);break;case"meta":if(D=cv("meta","content",g).get(p+(d.content||""))){for(B=0;B<D.length;B++)if(x=D[B],x.getAttribute("content")===(d.content==null?null:""+d.content)&&x.getAttribute("name")===(d.name==null?null:d.name)&&x.getAttribute("property")===(d.property==null?null:d.property)&&x.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&x.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(B,1);break t}}x=g.createElement(p),ca(x,p,d),g.head.appendChild(x);break;default:throw Error(n(468,p))}x[en]=i,yn(x),p=x}i.stateNode=p}else dv(g,i.type,i.stateNode);else i.stateNode=lv(g,p,i.memoizedProps);else x!==p?(x===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):x.count--,p===null?dv(g,i.type,i.stateNode):lv(g,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Kf(i,i.memoizedProps,d.memoizedProps)}break;case 27:Wa(o,i),ja(i),p&512&&(Pn||d===null||jr(d,d.return)),d!==null&&p&4&&Kf(i,i.memoizedProps,d.memoizedProps);break;case 5:if(Wa(o,i),ja(i),p&512&&(Pn||d===null||jr(d,d.return)),i.flags&32){g=i.stateNode;try{Te(g,"")}catch(ue){Jt(i,i.return,ue)}}p&4&&i.stateNode!=null&&(g=i.memoizedProps,Kf(i,g,d!==null?d.memoizedProps:g)),p&1024&&(nh=!0);break;case 6:if(Wa(o,i),ja(i),p&4){if(i.stateNode===null)throw Error(n(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(ue){Jt(i,i.return,ue)}}break;case 3:if(Mu=null,g=Mr,Mr=Au(o.containerInfo),Wa(o,i),Mr=g,ja(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Nc(o.containerInfo)}catch(ue){Jt(i,i.return,ue)}nh&&(nh=!1,gb(i));break;case 4:p=Mr,Mr=Au(i.stateNode.containerInfo),Wa(o,i),ja(i),Mr=p;break;case 12:Wa(o,i),ja(i);break;case 13:Wa(o,i),ja(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(ch=Pt()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,ah(i,p)));break;case 22:g=i.memoizedState!==null;var X=d!==null&&d.memoizedState!==null,le=Ns,ye=Pn;if(Ns=le||g,Pn=ye||X,Wa(o,i),Pn=ye,Ns=le,ja(i),p&8192)e:for(o=i.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(d===null||X||Ns||Pn||no(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){X=d=o;try{if(x=X.stateNode,g)D=x.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{B=X.stateNode;var we=X.memoizedProps.style,de=we!=null&&we.hasOwnProperty("display")?we.display:null;B.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(ue){Jt(X,X.return,ue)}}}else if(o.tag===6){if(d===null){X=o;try{X.stateNode.nodeValue=g?"":X.memoizedProps}catch(ue){Jt(X,X.return,ue)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,ah(i,d))));break;case 19:Wa(o,i),ja(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,ah(i,p)));break;case 30:break;case 21:break;default:Wa(o,i),ja(i)}}function ja(i){var o=i.flags;if(o&2){try{for(var d,p=i.return;p!==null;){if(lb(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var g=d.stateNode,x=eh(i);gu(i,x,g);break;case 5:var D=d.stateNode;d.flags&32&&(Te(D,""),d.flags&=-33);var B=eh(i);gu(i,B,D);break;case 3:case 4:var X=d.stateNode.containerInfo,le=eh(i);th(i,le,X);break;default:throw Error(n(161))}}catch(ye){Jt(i,i.return,ye)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function gb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;gb(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function ci(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)ub(i,o.alternate,o),o=o.sibling}function no(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:li(4,o,o.return),no(o);break;case 1:jr(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&ib(o,o.return,d),no(o);break;case 27:vc(o.stateNode);case 26:case 5:jr(o,o.return),no(o);break;case 22:o.memoizedState===null&&no(o);break;case 30:no(o);break;default:no(o)}i=i.sibling}}function di(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,g=i,x=o,D=x.flags;switch(x.tag){case 0:case 11:case 15:di(g,x,d),cc(4,x);break;case 1:if(di(g,x,d),p=x,g=p.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(le){Jt(p,p.return,le)}if(p=x,g=p.updateQueue,g!==null){var B=p.stateNode;try{var X=g.shared.hiddenCallbacks;if(X!==null)for(g.shared.hiddenCallbacks=null,g=0;g<X.length;g++)$y(X[g],B)}catch(le){Jt(p,p.return,le)}}d&&D&64&&sb(x),dc(x,x.return);break;case 27:cb(x);case 26:case 5:di(g,x,d),d&&p===null&&D&4&&ob(x),dc(x,x.return);break;case 12:di(g,x,d);break;case 13:di(g,x,d),d&&D&4&&fb(g,x);break;case 22:x.memoizedState===null&&di(g,x,d),dc(x,x.return);break;case 30:break;default:di(g,x,d)}o=o.sibling}}function rh(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Vl(d))}function sh(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Vl(i))}function Hr(i,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)yb(i,o,d,p),o=o.sibling}function yb(i,o,d,p){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Hr(i,o,d,p),g&2048&&cc(9,o);break;case 1:Hr(i,o,d,p);break;case 3:Hr(i,o,d,p),g&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Vl(i)));break;case 12:if(g&2048){Hr(i,o,d,p),i=o.stateNode;try{var x=o.memoizedProps,D=x.id,B=x.onPostCommit;typeof B=="function"&&B(D,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(X){Jt(o,o.return,X)}}else Hr(i,o,d,p);break;case 13:Hr(i,o,d,p);break;case 23:break;case 22:x=o.stateNode,D=o.alternate,o.memoizedState!==null?x._visibility&2?Hr(i,o,d,p):uc(i,o):x._visibility&2?Hr(i,o,d,p):(x._visibility|=2,qo(i,o,d,p,(o.subtreeFlags&10256)!==0)),g&2048&&rh(D,o);break;case 24:Hr(i,o,d,p),g&2048&&sh(o.alternate,o);break;default:Hr(i,o,d,p)}}function qo(i,o,d,p,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var x=i,D=o,B=d,X=p,le=D.flags;switch(D.tag){case 0:case 11:case 15:qo(x,D,B,X,g),cc(8,D);break;case 23:break;case 22:var ye=D.stateNode;D.memoizedState!==null?ye._visibility&2?qo(x,D,B,X,g):uc(x,D):(ye._visibility|=2,qo(x,D,B,X,g)),g&&le&2048&&rh(D.alternate,D);break;case 24:qo(x,D,B,X,g),g&&le&2048&&sh(D.alternate,D);break;default:qo(x,D,B,X,g)}o=o.sibling}}function uc(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,p=o,g=p.flags;switch(p.tag){case 22:uc(d,p),g&2048&&rh(p.alternate,p);break;case 24:uc(d,p),g&2048&&sh(p.alternate,p);break;default:uc(d,p)}o=o.sibling}}var mc=8192;function Zo(i){if(i.subtreeFlags&mc)for(i=i.child;i!==null;)bb(i),i=i.sibling}function bb(i){switch(i.tag){case 26:Zo(i),i.flags&mc&&i.memoizedState!==null&&GS(Mr,i.memoizedState,i.memoizedProps);break;case 5:Zo(i);break;case 3:case 4:var o=Mr;Mr=Au(i.stateNode.containerInfo),Zo(i),Mr=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=mc,mc=16777216,Zo(i),mc=o):Zo(i));break;default:Zo(i)}}function vb(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function pc(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];ta=p,Eb(p,i)}vb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xb(i),i=i.sibling}function xb(i){switch(i.tag){case 0:case 11:case 15:pc(i),i.flags&2048&&li(9,i,i.return);break;case 3:pc(i);break;case 12:pc(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,yu(i)):pc(i);break;default:pc(i)}}function yu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];ta=p,Eb(p,i)}vb(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:li(8,o,o.return),yu(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,yu(o));break;default:yu(o)}i=i.sibling}}function Eb(i,o){for(;ta!==null;){var d=ta;switch(d.tag){case 0:case 11:case 15:li(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Vl(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,ta=p;else e:for(d=i;ta!==null;){p=ta;var g=p.sibling,x=p.return;if(mb(p),p===d){ta=null;break e}if(g!==null){g.return=x,ta=g;break e}ta=x}}}var lS={getCacheForType:function(i){var o=ha($n),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d}},cS=typeof WeakMap=="function"?WeakMap:Map,Ft=0,nn=null,Ct=null,Dt=0,Wt=0,Ha=null,ui=!1,Vo=!1,ih=!1,As=0,In=0,mi=0,ao=0,oh=0,or=0,Qo=0,fc=null,Pa=null,lh=!1,ch=0,bu=1/0,vu=null,pi=null,la=0,fi=null,Jo=null,Xo=0,dh=0,uh=null,wb=null,hc=0,mh=null;function Ya(){if((Ft&2)!==0&&Dt!==0)return Dt&-Dt;if(A.T!==null){var i=Uo;return i!==0?i:vh()}return Gs()}function Sb(){or===0&&(or=(Dt&536870912)===0||Bt?sn():536870912);var i=ir.current;return i!==null&&(i.flags|=32),or}function $a(i,o,d){(i===nn&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)&&(Ko(i,0),hi(i,Dt,or,!1)),Ba(i,d),((Ft&2)===0||i!==nn)&&(i===nn&&((Ft&2)===0&&(ao|=d),In===4&&hi(i,Dt,or,!1)),Yr(i))}function Cb(i,o,d){if((Ft&6)!==0)throw Error(n(327));var p=!d&&(o&124)===0&&(o&i.expiredLanes)===0||Qe(i,o),g=p?mS(i,o):hh(i,o,!0),x=p;do{if(g===0){Vo&&!p&&hi(i,o,0,!1);break}else{if(d=i.current.alternate,x&&!dS(d)){g=hh(i,o,!1),x=!1;continue}if(g===2){if(x=o,i.errorRecoveryDisabledLanes&x)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){o=D;e:{var B=i;g=fc;var X=B.current.memoizedState.isDehydrated;if(X&&(Ko(B,D).flags|=256),D=hh(B,D,!1),D!==2){if(ih&&!X){B.errorRecoveryDisabledLanes|=x,ao|=x,g=4;break e}x=Pa,Pa=g,x!==null&&(Pa===null?Pa=x:Pa.push.apply(Pa,x))}g=D}if(x=!1,g!==2)continue}}if(g===1){Ko(i,0),hi(i,o,0,!0);break}e:{switch(p=i,x=g,x){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:hi(p,o,or,!ui);break e;case 2:Pa=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(g=ch+300-Pt(),10<g)){if(hi(p,o,or,!ui),Na(p,0,!0)!==0)break e;p.timeoutHandle=Kb(_b.bind(null,p,d,Pa,vu,lh,o,or,ao,Qo,ui,x,2,-0,0),g);break e}_b(p,d,Pa,vu,lh,o,or,ao,Qo,ui,x,0,-0,0)}}break}while(!0);Yr(i)}function _b(i,o,d,p,g,x,D,B,X,le,ye,we,de,ue){if(i.timeoutHandle=-1,we=o.subtreeFlags,(we&8192||(we&16785408)===16785408)&&(wc={stylesheets:null,count:0,unsuspend:$S},bb(o),we=qS(),we!==null)){i.cancelPendingCommit=we(Tb.bind(null,i,o,x,d,p,g,D,B,X,ye,1,de,ue)),hi(i,x,D,!le);return}Tb(i,o,x,d,p,g,D,B,X)}function dS(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var g=d[p],x=g.getSnapshot;g=g.value;try{if(!Ua(x(),g))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function hi(i,o,d,p){o&=~oh,o&=~ao,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var g=o;0<g;){var x=31-tt(g),D=1<<x;p[x]=-1,g&=~D}d!==0&&ma(i,d,o)}function xu(){return(Ft&6)===0?(gc(0),!1):!0}function ph(){if(Ct!==null){if(Wt===0)var i=Ct.return;else i=Ct,Es=Ji=null,Df(i),$o=null,ic=0,i=Ct;for(;i!==null;)rb(i.alternate,i),i=i.return;Ct=null}}function Ko(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,kS(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),ph(),nn=i,Ct=d=bs(i.current,null),Dt=o,Wt=0,Ha=null,ui=!1,Vo=Qe(i,o),ih=!1,Qo=or=oh=ao=mi=In=0,Pa=fc=null,lh=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var g=31-tt(p),x=1<<g;o|=i[g],p&=~x}return As=o,jd(),d}function Ib(i,o){xt=null,A.H=ou,o===Jl||o===Jd?(o=Hy(),Wt=3):o===Fy?(o=Hy(),Wt=4):Wt=o===Y1?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ha=o,Ct===null&&(In=1,mu(i,nr(o,i.current)))}function Nb(){var i=A.H;return A.H=ou,i===null?ou:i}function kb(){var i=A.A;return A.A=lS,i}function fh(){In=4,ui||(Dt&4194048)!==Dt&&ir.current!==null||(Vo=!0),(mi&134217727)===0&&(ao&134217727)===0||nn===null||hi(nn,Dt,or,!1)}function hh(i,o,d){var p=Ft;Ft|=2;var g=Nb(),x=kb();(nn!==i||Dt!==o)&&(vu=null,Ko(i,o)),o=!1;var D=In;e:do try{if(Wt!==0&&Ct!==null){var B=Ct,X=Ha;switch(Wt){case 8:ph(),D=6;break e;case 3:case 2:case 9:case 6:ir.current===null&&(o=!0);var le=Wt;if(Wt=0,Ha=null,el(i,B,X,le),d&&Vo){D=0;break e}break;default:le=Wt,Wt=0,Ha=null,el(i,B,X,le)}}uS(),D=In;break}catch(ye){Ib(i,ye)}while(!0);return o&&i.shellSuspendCounter++,Es=Ji=null,Ft=p,A.H=g,A.A=x,Ct===null&&(nn=null,Dt=0,jd()),D}function uS(){for(;Ct!==null;)Ab(Ct)}function mS(i,o){var d=Ft;Ft|=2;var p=Nb(),g=kb();nn!==i||Dt!==o?(vu=null,bu=Pt()+500,Ko(i,o)):Vo=Qe(i,o);e:do try{if(Wt!==0&&Ct!==null){o=Ct;var x=Ha;t:switch(Wt){case 1:Wt=0,Ha=null,el(i,o,x,1);break;case 2:case 9:if(Wy(x)){Wt=0,Ha=null,Db(o);break}o=function(){Wt!==2&&Wt!==9||nn!==i||(Wt=7),Yr(i)},x.then(o,o);break e;case 3:Wt=7;break e;case 4:Wt=5;break e;case 7:Wy(x)?(Wt=0,Ha=null,Db(o)):(Wt=0,Ha=null,el(i,o,x,7));break;case 5:var D=null;switch(Ct.tag){case 26:D=Ct.memoizedState;case 5:case 27:var B=Ct;if(!D||uv(D)){Wt=0,Ha=null;var X=B.sibling;if(X!==null)Ct=X;else{var le=B.return;le!==null?(Ct=le,Eu(le)):Ct=null}break t}}Wt=0,Ha=null,el(i,o,x,5);break;case 6:Wt=0,Ha=null,el(i,o,x,6);break;case 8:ph(),In=6;break e;default:throw Error(n(462))}}pS();break}catch(ye){Ib(i,ye)}while(!0);return Es=Ji=null,A.H=p,A.A=g,Ft=d,Ct!==null?0:(nn=null,Dt=0,jd(),In)}function pS(){for(;Ct!==null&&!Lt();)Ab(Ct)}function Ab(i){var o=nb(i.alternate,i,As);i.memoizedProps=i.pendingProps,o===null?Eu(i):Ct=o}function Db(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=Q1(d,o,o.pendingProps,o.type,void 0,Dt);break;case 11:o=Q1(d,o,o.pendingProps,o.type.render,o.ref,Dt);break;case 5:Df(o);default:rb(d,o),o=Ct=My(o,As),o=nb(d,o,As)}i.memoizedProps=i.pendingProps,o===null?Eu(i):Ct=o}function el(i,o,d,p){Es=Ji=null,Df(o),$o=null,ic=0;var g=o.return;try{if(nS(i,g,o,d,Dt)){In=1,mu(i,nr(d,i.current)),Ct=null;return}}catch(x){if(g!==null)throw Ct=g,x;In=1,mu(i,nr(d,i.current)),Ct=null;return}o.flags&32768?(Bt||p===1?i=!0:Vo||(Dt&536870912)!==0?i=!1:(ui=i=!0,(p===2||p===9||p===3||p===6)&&(p=ir.current,p!==null&&p.tag===13&&(p.flags|=16384))),Mb(o,i)):Eu(o)}function Eu(i){var o=i;do{if((o.flags&32768)!==0){Mb(o,ui);return}i=o.return;var d=rS(o.alternate,o,As);if(d!==null){Ct=d;return}if(o=o.sibling,o!==null){Ct=o;return}Ct=o=i}while(o!==null);In===0&&(In=5)}function Mb(i,o){do{var d=sS(i.alternate,i);if(d!==null){d.flags&=32767,Ct=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){Ct=i;return}Ct=i=d}while(i!==null);In=6,Ct=null}function Tb(i,o,d,p,g,x,D,B,X){i.cancelPendingCommit=null;do wu();while(la!==0);if((Ft&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(x=o.lanes|o.childLanes,x|=rf,Qn(i,d,x,D,B,X),i===nn&&(Ct=nn=null,Dt=0),Jo=o,fi=i,Xo=d,dh=x,uh=g,wb=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,yS(me,function(){return Ob(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=A.T,A.T=null,g=U.p,U.p=2,D=Ft,Ft|=4;try{iS(i,o,d)}finally{Ft=D,U.p=g,A.T=p}}la=1,Rb(),Lb(),Pb()}}function Rb(){if(la===1){la=0;var i=fi,o=Jo,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=A.T,A.T=null;var p=U.p;U.p=2;var g=Ft;Ft|=4;try{hb(o,i);var x=Nh,D=Ey(i.containerInfo),B=x.focusedElem,X=x.selectionRange;if(D!==B&&B&&B.ownerDocument&&xy(B.ownerDocument.documentElement,B)){if(X!==null&&Kp(B)){var le=X.start,ye=X.end;if(ye===void 0&&(ye=le),"selectionStart"in B)B.selectionStart=le,B.selectionEnd=Math.min(ye,B.value.length);else{var we=B.ownerDocument||document,de=we&&we.defaultView||window;if(de.getSelection){var ue=de.getSelection(),ot=B.textContent.length,nt=Math.min(X.start,ot),qt=X.end===void 0?nt:Math.min(X.end,ot);!ue.extend&&nt>qt&&(D=qt,qt=nt,nt=D);var se=vy(B,nt),ee=vy(B,qt);if(se&&ee&&(ue.rangeCount!==1||ue.anchorNode!==se.node||ue.anchorOffset!==se.offset||ue.focusNode!==ee.node||ue.focusOffset!==ee.offset)){var ie=we.createRange();ie.setStart(se.node,se.offset),ue.removeAllRanges(),nt>qt?(ue.addRange(ie),ue.extend(ee.node,ee.offset)):(ie.setEnd(ee.node,ee.offset),ue.addRange(ie))}}}}for(we=[],ue=B;ue=ue.parentNode;)ue.nodeType===1&&we.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<we.length;B++){var ve=we[B];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Lu=!!Ih,Nh=Ih=null}finally{Ft=g,U.p=p,A.T=d}}i.current=o,la=2}}function Lb(){if(la===2){la=0;var i=fi,o=Jo,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=A.T,A.T=null;var p=U.p;U.p=2;var g=Ft;Ft|=4;try{ub(i,o.alternate,o)}finally{Ft=g,U.p=p,A.T=d}}la=3}}function Pb(){if(la===4||la===3){la=0,gn();var i=fi,o=Jo,d=Xo,p=wb;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?la=5:(la=0,Jo=fi=null,Bb(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(pi=null),Un(d),o=o.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Le,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=A.T,g=U.p,U.p=2,A.T=null;try{for(var x=i.onRecoverableError,D=0;D<p.length;D++){var B=p[D];x(B.value,{componentStack:B.stack})}}finally{A.T=o,U.p=g}}(Xo&3)!==0&&wu(),Yr(i),g=i.pendingLanes,(d&4194090)!==0&&(g&42)!==0?i===mh?hc++:(hc=0,mh=i):hc=0,gc(0)}}function Bb(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Vl(o)))}function wu(i){return Rb(),Lb(),Pb(),Ob()}function Ob(){if(la!==5)return!1;var i=fi,o=dh;dh=0;var d=Un(Xo),p=A.T,g=U.p;try{U.p=32>d?32:d,A.T=null,d=uh,uh=null;var x=fi,D=Xo;if(la=0,Jo=fi=null,Xo=0,(Ft&6)!==0)throw Error(n(331));var B=Ft;if(Ft|=4,xb(x.current),yb(x,x.current,D,d),Ft=B,gc(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Le,x)}catch{}return!0}finally{U.p=g,A.T=p,Bb(i,o)}}function zb(i,o,d){o=nr(d,o),o=Yf(i.stateNode,o,2),i=ri(i,o,2),i!==null&&(Ba(i,2),Yr(i))}function Jt(i,o,d){if(i.tag===3)zb(i,i,d);else for(;o!==null;){if(o.tag===3){zb(o,i,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(pi===null||!pi.has(p))){i=nr(d,i),d=j1(2),p=ri(o,d,2),p!==null&&(H1(d,p,o,i),Ba(p,2),Yr(p));break}}o=o.return}}function gh(i,o,d){var p=i.pingCache;if(p===null){p=i.pingCache=new cS;var g=new Set;p.set(o,g)}else g=p.get(o),g===void 0&&(g=new Set,p.set(o,g));g.has(d)||(ih=!0,g.add(d),i=fS.bind(null,i,o,d),o.then(i,i))}function fS(i,o,d){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,nn===i&&(Dt&d)===d&&(In===4||In===3&&(Dt&62914560)===Dt&&300>Pt()-ch?(Ft&2)===0&&Ko(i,0):oh|=d,Qo===Dt&&(Qo=0)),Yr(i)}function Ub(i,o){o===0&&(o=ka()),i=Po(i,o),i!==null&&(Ba(i,o),Yr(i))}function hS(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),Ub(i,d)}function gS(i,o){var d=0;switch(i.tag){case 13:var p=i.stateNode,g=i.memoizedState;g!==null&&(d=g.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),Ub(i,d)}function yS(i,o){return it(i,o)}var Su=null,tl=null,yh=!1,Cu=!1,bh=!1,ro=0;function Yr(i){i!==tl&&i.next===null&&(tl===null?Su=tl=i:tl=tl.next=i),Cu=!0,yh||(yh=!0,vS())}function gc(i,o){if(!bh&&Cu){bh=!0;do for(var d=!1,p=Su;p!==null;){if(i!==0){var g=p.pendingLanes;if(g===0)var x=0;else{var D=p.suspendedLanes,B=p.pingedLanes;x=(1<<31-tt(42|i)+1)-1,x&=g&~(D&~B),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(d=!0,Hb(p,x))}else x=Dt,x=Na(p,p===nn?x:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(x&3)===0||Qe(p,x)||(d=!0,Hb(p,x));p=p.next}while(d);bh=!1}}function bS(){Fb()}function Fb(){Cu=yh=!1;var i=0;ro!==0&&(NS()&&(i=ro),ro=0);for(var o=Pt(),d=null,p=Su;p!==null;){var g=p.next,x=Wb(p,o);x===0?(p.next=null,d===null?Su=g:d.next=g,g===null&&(tl=d)):(d=p,(i!==0||(x&3)!==0)&&(Cu=!0)),p=g}gc(i)}function Wb(i,o){for(var d=i.suspendedLanes,p=i.pingedLanes,g=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var D=31-tt(x),B=1<<D,X=g[D];X===-1?((B&d)===0||(B&p)!==0)&&(g[D]=ut(B,o)):X<=o&&(i.expiredLanes|=B),x&=~B}if(o=nn,d=Dt,d=Na(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===o&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Ve(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||Qe(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(p!==null&&Ve(p),Un(d)){case 2:case 8:d=rn;break;case 32:d=me;break;case 268435456:d=Ge;break;default:d=me}return p=jb.bind(null,i),d=it(d,p),i.callbackPriority=o,i.callbackNode=d,o}return p!==null&&p!==null&&Ve(p),i.callbackPriority=2,i.callbackNode=null,2}function jb(i,o){if(la!==0&&la!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(wu()&&i.callbackNode!==d)return null;var p=Dt;return p=Na(i,i===nn?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(Cb(i,p,o),Wb(i,Pt()),i.callbackNode!=null&&i.callbackNode===d?jb.bind(null,i):null)}function Hb(i,o){if(wu())return null;Cb(i,o,!0)}function vS(){AS(function(){(Ft&6)!==0?it(Zn,bS):Fb()})}function vh(){return ro===0&&(ro=sn()),ro}function Yb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ta(""+i)}function $b(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function xS(i,o,d,p,g){if(o==="submit"&&d&&d.stateNode===g){var x=Yb((g[Cn]||null).action),D=p.submitter;D&&(o=(o=D[Cn]||null)?Yb(o.formAction):D.getAttribute("formAction"),o!==null&&(x=o,D=null));var B=new Js("action","action",null,p,g);i.push({event:B,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ro!==0){var X=D?$b(g,D):new FormData(g);Uf(d,{pending:!0,data:X,method:g.method,action:x},null,X)}}else typeof x=="function"&&(B.preventDefault(),X=D?$b(g,D):new FormData(g),Uf(d,{pending:!0,data:X,method:g.method,action:x},x,X))},currentTarget:g}]})}}for(var xh=0;xh<af.length;xh++){var Eh=af[xh],ES=Eh.toLowerCase(),wS=Eh[0].toUpperCase()+Eh.slice(1);Dr(ES,"on"+wS)}Dr(Cy,"onAnimationEnd"),Dr(_y,"onAnimationIteration"),Dr(Iy,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(U5,"onTransitionRun"),Dr(F5,"onTransitionStart"),Dr(W5,"onTransitionCancel"),Dr(Ny,"onTransitionEnd"),Cr("onMouseEnter",["mouseout","mouseover"]),Cr("onMouseLeave",["mouseout","mouseover"]),Cr("onPointerEnter",["pointerout","pointerover"]),Cr("onPointerLeave",["pointerout","pointerover"]),pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yc));function Gb(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],g=p.event;p=p.listeners;e:{var x=void 0;if(o)for(var D=p.length-1;0<=D;D--){var B=p[D],X=B.instance,le=B.currentTarget;if(B=B.listener,X!==x&&g.isPropagationStopped())break e;x=B,g.currentTarget=le;try{x(g)}catch(ye){uu(ye)}g.currentTarget=null,x=X}else for(D=0;D<p.length;D++){if(B=p[D],X=B.instance,le=B.currentTarget,B=B.listener,X!==x&&g.isPropagationStopped())break e;x=B,g.currentTarget=le;try{x(g)}catch(ye){uu(ye)}g.currentTarget=null,x=X}}}}function _t(i,o){var d=o[qs];d===void 0&&(d=o[qs]=new Set);var p=i+"__bubble";d.has(p)||(qb(o,i,2,!1),d.add(p))}function wh(i,o,d){var p=0;o&&(p|=4),qb(d,i,p,o)}var _u="_reactListening"+Math.random().toString(36).slice(2);function Sh(i){if(!i[_u]){i[_u]=!0,zi.forEach(function(d){d!=="selectionchange"&&(SS.has(d)||wh(d,!1,i),wh(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[_u]||(o[_u]=!0,wh("selectionchange",!1,o))}}function qb(i,o,d,p){switch(yv(o)){case 2:var g=QS;break;case 8:g=JS;break;default:g=Oh}d=g.bind(null,o,d,i),g=void 0,!Xn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),p?g!==void 0?i.addEventListener(o,d,{capture:!0,passive:g}):i.addEventListener(o,d,!0):g!==void 0?i.addEventListener(o,d,{passive:g}):i.addEventListener(o,d,!1)}function Ch(i,o,d,p,g){var x=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var D=p.tag;if(D===3||D===4){var B=p.stateNode.containerInfo;if(B===g)break;if(D===4)for(D=p.return;D!==null;){var X=D.tag;if((X===3||X===4)&&D.stateNode.containerInfo===g)return;D=D.return}for(;B!==null;){if(D=Da(B),D===null)return;if(X=D.tag,X===5||X===6||X===26||X===27){p=x=D;continue e}B=B.parentNode}}p=p.return}sa(function(){var le=x,ye=Nt(d),we=[];e:{var de=ky.get(i);if(de!==void 0){var ue=Js,ot=i;switch(i){case"keypress":if(Tn(d)===0)break e;case"keydown":case"keyup":ue=Ar;break;case"focusin":ot="focus",ue=zl;break;case"focusout":ot="blur",ue=zl;break;case"beforeblur":case"afterblur":ue=zl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Hp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Ud;break;case Cy:case _y:case Iy:ue=ys;break;case Ny:ue=Qp;break;case"scroll":case"scrollend":ue=Bl;break;case"wheel":ue=Ie;break;case"copy":case"cut":case"paste":ue=$p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=zd;break;case"toggle":case"beforetoggle":ue=yt}var nt=(o&4)!==0,qt=!nt&&(i==="scroll"||i==="scrollend"),se=nt?de!==null?de+"Capture":null:de;nt=[];for(var ee=le,ie;ee!==null;){var ve=ee;if(ie=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||ie===null||se===null||(ve=bn(ee,se),ve!=null&&nt.push(bc(ee,ve,ie))),qt)break;ee=ee.return}0<nt.length&&(de=new ue(de,ot,null,d,ye),we.push({event:de,listeners:nt}))}}if((o&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",de&&d!==hs&&(ot=d.relatedTarget||d.fromElement)&&(Da(ot)||ot[Ka]))break e;if((ue||de)&&(de=ye.window===ye?ye:(de=ye.ownerDocument)?de.defaultView||de.parentWindow:window,ue?(ot=d.relatedTarget||d.toElement,ue=le,ot=ot?Da(ot):null,ot!==null&&(qt=l(ot),nt=ot.tag,ot!==qt||nt!==5&&nt!==27&&nt!==6)&&(ot=null)):(ue=null,ot=le),ue!==ot)){if(nt=Hp,ve="onMouseLeave",se="onMouseEnter",ee="mouse",(i==="pointerout"||i==="pointerover")&&(nt=zd,ve="onPointerLeave",se="onPointerEnter",ee="pointer"),qt=ue==null?de:cs(ue),ie=ot==null?de:cs(ot),de=new nt(ve,ee+"leave",ue,d,ye),de.target=qt,de.relatedTarget=ie,ve=null,Da(ye)===le&&(nt=new nt(se,ee+"enter",ot,d,ye),nt.target=ie,nt.relatedTarget=qt,ve=nt),qt=ve,ue&&ot)t:{for(nt=ue,se=ot,ee=0,ie=nt;ie;ie=nl(ie))ee++;for(ie=0,ve=se;ve;ve=nl(ve))ie++;for(;0<ee-ie;)nt=nl(nt),ee--;for(;0<ie-ee;)se=nl(se),ie--;for(;ee--;){if(nt===se||se!==null&&nt===se.alternate)break t;nt=nl(nt),se=nl(se)}nt=null}else nt=null;ue!==null&&Zb(we,de,ue,nt,!1),ot!==null&&qt!==null&&Zb(we,qt,ot,nt,!0)}}e:{if(de=le?cs(le):window,ue=de.nodeName&&de.nodeName.toLowerCase(),ue==="select"||ue==="input"&&de.type==="file")var Fe=py;else if(uy(de))if(fy)Fe=B5;else{Fe=L5;var St=R5}else ue=de.nodeName,!ue||ue.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?le&&Ye(le.elementType)&&(Fe=py):Fe=P5;if(Fe&&(Fe=Fe(i,le))){my(we,Fe,d,ye);break e}St&&St(i,de,le),i==="focusout"&&le&&de.type==="number"&&le.memoizedProps.value!=null&&mt(de,"number",de.value)}switch(St=le?cs(le):window,i){case"focusin":(uy(St)||St.contentEditable==="true")&&(To=St,ef=le,Yl=null);break;case"focusout":Yl=ef=To=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,wy(we,d,ye);break;case"selectionchange":if(z5)break;case"keydown":case"keyup":wy(we,d,ye)}var Ze;if(pt)e:{switch(i){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Mo?Hi(i,d)&&(rt="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(rt="onCompositionStart");rt&&(Xe&&d.locale!=="ko"&&(Mo||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Mo&&(Ze=tr()):(Kn=ye,er="value"in Kn?Kn.value:Kn.textContent,Mo=!0)),St=Iu(le,rt),0<St.length&&(rt=new Gp(rt,i,null,d,ye),we.push({event:rt,listeners:St}),Ze?rt.data=Ze:(Ze=Fd(d),Ze!==null&&(rt.data=Ze)))),(Ze=ei?A5(i,d):D5(i,d))&&(rt=Iu(le,"onBeforeInput"),0<rt.length&&(St=new Gp("onBeforeInput","beforeinput",null,d,ye),we.push({event:St,listeners:rt}),St.data=Ze)),xS(we,i,le,d,ye)}Gb(we,o)})}function bc(i,o,d){return{instance:i,listener:o,currentTarget:d}}function Iu(i,o){for(var d=o+"Capture",p=[];i!==null;){var g=i,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=bn(i,d),g!=null&&p.unshift(bc(i,g,x)),g=bn(i,o),g!=null&&p.push(bc(i,g,x))),i.tag===3)return p;i=i.return}return[]}function nl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Zb(i,o,d,p,g){for(var x=o._reactName,D=[];d!==null&&d!==p;){var B=d,X=B.alternate,le=B.stateNode;if(B=B.tag,X!==null&&X===p)break;B!==5&&B!==26&&B!==27||le===null||(X=le,g?(le=bn(d,x),le!=null&&D.unshift(bc(d,le,X))):g||(le=bn(d,x),le!=null&&D.push(bc(d,le,X)))),d=d.return}D.length!==0&&i.push({event:o,listeners:D})}var CS=/\r\n?/g,_S=/\u0000|\uFFFD/g;function Vb(i){return(typeof i=="string"?i:""+i).replace(CS,`
`).replace(_S,"")}function Qb(i,o){return o=Vb(o),Vb(i)===o}function Nu(){}function Gt(i,o,d,p,g,x){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Te(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Te(i,""+p);break;case"className":ps(i,"class",p);break;case"tabIndex":ps(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":ps(i,d,p);break;case"style":Pe(i,p,x);break;case"data":if(o!=="object"){ps(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=Ta(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(d==="formAction"?(o!=="input"&&Gt(i,o,"name",g.name,g,null),Gt(i,o,"formEncType",g.formEncType,g,null),Gt(i,o,"formMethod",g.formMethod,g,null),Gt(i,o,"formTarget",g.formTarget,g,null)):(Gt(i,o,"encType",g.encType,g,null),Gt(i,o,"method",g.method,g,null),Gt(i,o,"target",g.target,g,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=Ta(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=Nu);break;case"onScroll":p!=null&&_t("scroll",i);break;case"onScrollEnd":p!=null&&_t("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=Ta(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":_t("beforetoggle",i),_t("toggle",i),ms(i,"popover",p);break;case"xlinkActuate":Ma(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ma(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ma(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ma(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ma(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ma(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ma(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ma(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ma(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":ms(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=At.get(d)||d,ms(i,d,p))}}function _h(i,o,d,p,g,x){switch(d){case"style":Pe(i,p,x);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"children":typeof p=="string"?Te(i,p):(typeof p=="number"||typeof p=="bigint")&&Te(i,""+p);break;case"onScroll":p!=null&&_t("scroll",i);break;case"onScrollEnd":p!=null&&_t("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Nu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ui.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(g=d.endsWith("Capture"),o=d.slice(2,g?d.length-7:void 0),x=i[Cn]||null,x=x!=null?x[d]:null,typeof x=="function"&&i.removeEventListener(o,x,g),typeof p=="function")){typeof x!="function"&&x!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,p,g);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):ms(i,d,p)}}}function ca(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",i),_t("load",i);var p=!1,g=!1,x;for(x in d)if(d.hasOwnProperty(x)){var D=d[x];if(D!=null)switch(x){case"src":p=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Gt(i,o,x,D,d,null)}}g&&Gt(i,o,"srcSet",d.srcSet,d,null),p&&Gt(i,o,"src",d.src,d,null);return;case"input":_t("invalid",i);var B=x=D=g=null,X=null,le=null;for(p in d)if(d.hasOwnProperty(p)){var ye=d[p];if(ye!=null)switch(p){case"name":g=ye;break;case"type":D=ye;break;case"checked":X=ye;break;case"defaultChecked":le=ye;break;case"value":x=ye;break;case"defaultValue":B=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(137,o));break;default:Gt(i,o,p,ye,d,null)}}Be(i,x,B,X,le,D,g,!1),P(i);return;case"select":_t("invalid",i),p=D=x=null;for(g in d)if(d.hasOwnProperty(g)&&(B=d[g],B!=null))switch(g){case"value":x=B;break;case"defaultValue":D=B;break;case"multiple":p=B;default:Gt(i,o,g,B,d,null)}o=x,d=D,i.multiple=!!p,o!=null?qe(i,!!p,o,!1):d!=null&&qe(i,!!p,d,!0);return;case"textarea":_t("invalid",i),x=g=p=null;for(D in d)if(d.hasOwnProperty(D)&&(B=d[D],B!=null))switch(D){case"value":p=B;break;case"defaultValue":g=B;break;case"children":x=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(n(91));break;default:Gt(i,o,D,B,d,null)}Je(i,p,g,x),P(i);return;case"option":for(X in d)if(d.hasOwnProperty(X)&&(p=d[X],p!=null))switch(X){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Gt(i,o,X,p,d,null)}return;case"dialog":_t("beforetoggle",i),_t("toggle",i),_t("cancel",i),_t("close",i);break;case"iframe":case"object":_t("load",i);break;case"video":case"audio":for(p=0;p<yc.length;p++)_t(yc[p],i);break;case"image":_t("error",i),_t("load",i);break;case"details":_t("toggle",i);break;case"embed":case"source":case"link":_t("error",i),_t("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in d)if(d.hasOwnProperty(le)&&(p=d[le],p!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Gt(i,o,le,p,d,null)}return;default:if(Ye(o)){for(ye in d)d.hasOwnProperty(ye)&&(p=d[ye],p!==void 0&&_h(i,o,ye,p,d,void 0));return}}for(B in d)d.hasOwnProperty(B)&&(p=d[B],p!=null&&Gt(i,o,B,p,d,null))}function IS(i,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,D=null,B=null,X=null,le=null,ye=null;for(ue in d){var we=d[ue];if(d.hasOwnProperty(ue)&&we!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":X=we;default:p.hasOwnProperty(ue)||Gt(i,o,ue,null,p,we)}}for(var de in p){var ue=p[de];if(we=d[de],p.hasOwnProperty(de)&&(ue!=null||we!=null))switch(de){case"type":x=ue;break;case"name":g=ue;break;case"checked":le=ue;break;case"defaultChecked":ye=ue;break;case"value":D=ue;break;case"defaultValue":B=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(n(137,o));break;default:ue!==we&&Gt(i,o,de,ue,p,we)}}De(i,D,B,X,le,ye,x,g);return;case"select":ue=D=B=de=null;for(x in d)if(X=d[x],d.hasOwnProperty(x)&&X!=null)switch(x){case"value":break;case"multiple":ue=X;default:p.hasOwnProperty(x)||Gt(i,o,x,null,p,X)}for(g in p)if(x=p[g],X=d[g],p.hasOwnProperty(g)&&(x!=null||X!=null))switch(g){case"value":de=x;break;case"defaultValue":B=x;break;case"multiple":D=x;default:x!==X&&Gt(i,o,g,x,p,X)}o=B,d=D,p=ue,de!=null?qe(i,!!d,de,!1):!!p!=!!d&&(o!=null?qe(i,!!d,o,!0):qe(i,!!d,d?[]:"",!1));return;case"textarea":ue=de=null;for(B in d)if(g=d[B],d.hasOwnProperty(B)&&g!=null&&!p.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Gt(i,o,B,null,p,g)}for(D in p)if(g=p[D],x=d[D],p.hasOwnProperty(D)&&(g!=null||x!=null))switch(D){case"value":de=g;break;case"defaultValue":ue=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==x&&Gt(i,o,D,g,p,x)}ft(i,de,ue);return;case"option":for(var ot in d)if(de=d[ot],d.hasOwnProperty(ot)&&de!=null&&!p.hasOwnProperty(ot))switch(ot){case"selected":i.selected=!1;break;default:Gt(i,o,ot,null,p,de)}for(X in p)if(de=p[X],ue=d[X],p.hasOwnProperty(X)&&de!==ue&&(de!=null||ue!=null))switch(X){case"selected":i.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Gt(i,o,X,de,p,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in d)de=d[nt],d.hasOwnProperty(nt)&&de!=null&&!p.hasOwnProperty(nt)&&Gt(i,o,nt,null,p,de);for(le in p)if(de=p[le],ue=d[le],p.hasOwnProperty(le)&&de!==ue&&(de!=null||ue!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,o));break;default:Gt(i,o,le,de,p,ue)}return;default:if(Ye(o)){for(var qt in d)de=d[qt],d.hasOwnProperty(qt)&&de!==void 0&&!p.hasOwnProperty(qt)&&_h(i,o,qt,void 0,p,de);for(ye in p)de=p[ye],ue=d[ye],!p.hasOwnProperty(ye)||de===ue||de===void 0&&ue===void 0||_h(i,o,ye,de,p,ue);return}}for(var se in d)de=d[se],d.hasOwnProperty(se)&&de!=null&&!p.hasOwnProperty(se)&&Gt(i,o,se,null,p,de);for(we in p)de=p[we],ue=d[we],!p.hasOwnProperty(we)||de===ue||de==null&&ue==null||Gt(i,o,we,de,p,ue)}var Ih=null,Nh=null;function ku(i){return i.nodeType===9?i:i.ownerDocument}function Jb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xb(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function kh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ah=null;function NS(){var i=window.event;return i&&i.type==="popstate"?i===Ah?!1:(Ah=i,!0):(Ah=null,!1)}var Kb=typeof setTimeout=="function"?setTimeout:void 0,kS=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,AS=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(i){return ev.resolve(null).then(i).catch(DS)}:Kb;function DS(i){setTimeout(function(){throw i})}function gi(i){return i==="head"}function tv(i,o){var d=o,p=0,g=0;do{var x=d.nextSibling;if(i.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(0<p&&8>p){d=p;var D=i.ownerDocument;if(d&1&&vc(D.documentElement),d&2&&vc(D.body),d&4)for(d=D.head,vc(d),D=d.firstChild;D;){var B=D.nextSibling,X=D.nodeName;D[Or]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=B}}if(g===0){i.removeChild(x),Nc(o);return}g--}else d==="$"||d==="$?"||d==="$!"?g++:p=d.charCodeAt(0)-48;else p=0;d=x}while(d);Nc(o)}function Dh(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Dh(d),ls(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function MS(i,o,d,p){for(;i.nodeType===1;){var g=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[Or])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=Tr(i.nextSibling),i===null)break}return null}function TS(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Tr(i.nextSibling),i===null))return null;return i}function Mh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function RS(i,o){var d=i.ownerDocument;if(i.data!=="$?"||d.readyState==="complete")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Tr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var Th=null;function nv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return i;o--}else d==="/$"&&o++}i=i.previousSibling}return null}function av(i,o,d){switch(o=ku(d),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function vc(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);ls(i)}var lr=new Map,rv=new Set;function Au(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ds=U.d;U.d={f:LS,r:PS,D:BS,C:OS,L:zS,m:US,X:WS,S:FS,M:jS};function LS(){var i=Ds.f(),o=xu();return i||o}function PS(i){var o=zr(i);o!==null&&o.tag===5&&o.type==="form"?C1(o):Ds.r(i)}var al=typeof document>"u"?null:document;function sv(i,o,d){var p=al;if(p&&typeof o=="string"&&o){var g=Me(o);g='link[rel="'+i+'"][href="'+g+'"]',typeof d=="string"&&(g+='[crossorigin="'+d+'"]'),rv.has(g)||(rv.add(g),i={rel:i,crossOrigin:d,href:o},p.querySelector(g)===null&&(o=p.createElement("link"),ca(o,"link",i),yn(o),p.head.appendChild(o)))}}function BS(i){Ds.D(i),sv("dns-prefetch",i,null)}function OS(i,o){Ds.C(i,o),sv("preconnect",i,o)}function zS(i,o,d){Ds.L(i,o,d);var p=al;if(p&&i&&o){var g='link[rel="preload"][as="'+Me(o)+'"]';o==="image"&&d&&d.imageSrcSet?(g+='[imagesrcset="'+Me(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(g+='[imagesizes="'+Me(d.imageSizes)+'"]')):g+='[href="'+Me(i)+'"]';var x=g;switch(o){case"style":x=rl(i);break;case"script":x=sl(i)}lr.has(x)||(i=f({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),lr.set(x,i),p.querySelector(g)!==null||o==="style"&&p.querySelector(xc(x))||o==="script"&&p.querySelector(Ec(x))||(o=p.createElement("link"),ca(o,"link",i),yn(o),p.head.appendChild(o)))}}function US(i,o){Ds.m(i,o);var d=al;if(d&&i){var p=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+Me(p)+'"][href="'+Me(i)+'"]',x=g;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=sl(i)}if(!lr.has(x)&&(i=f({rel:"modulepreload",href:i},o),lr.set(x,i),d.querySelector(g)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Ec(x)))return}p=d.createElement("link"),ca(p,"link",i),yn(p),d.head.appendChild(p)}}}function FS(i,o,d){Ds.S(i,o,d);var p=al;if(p&&i){var g=Sr(p).hoistableStyles,x=rl(i);o=o||"default";var D=g.get(x);if(!D){var B={loading:0,preload:null};if(D=p.querySelector(xc(x)))B.loading=5;else{i=f({rel:"stylesheet",href:i,"data-precedence":o},d),(d=lr.get(x))&&Rh(i,d);var X=D=p.createElement("link");yn(X),ca(X,"link",i),X._p=new Promise(function(le,ye){X.onload=le,X.onerror=ye}),X.addEventListener("load",function(){B.loading|=1}),X.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Du(D,o,p)}D={type:"stylesheet",instance:D,count:1,state:B},g.set(x,D)}}}function WS(i,o){Ds.X(i,o);var d=al;if(d&&i){var p=Sr(d).hoistableScripts,g=sl(i),x=p.get(g);x||(x=d.querySelector(Ec(g)),x||(i=f({src:i,async:!0},o),(o=lr.get(g))&&Lh(i,o),x=d.createElement("script"),yn(x),ca(x,"link",i),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},p.set(g,x))}}function jS(i,o){Ds.M(i,o);var d=al;if(d&&i){var p=Sr(d).hoistableScripts,g=sl(i),x=p.get(g);x||(x=d.querySelector(Ec(g)),x||(i=f({src:i,async:!0,type:"module"},o),(o=lr.get(g))&&Lh(i,o),x=d.createElement("script"),yn(x),ca(x,"link",i),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},p.set(g,x))}}function iv(i,o,d,p){var g=(g=ce.current)?Au(g):null;if(!g)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=rl(d.href),d=Sr(g).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=rl(d.href);var x=Sr(g).hoistableStyles,D=x.get(i);if(D||(g=g.ownerDocument||g,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,D),(x=g.querySelector(xc(i)))&&!x._p&&(D.instance=x,D.state.loading=5),lr.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},lr.set(i,d),x||HS(g,i,d,D.state))),o&&p===null)throw Error(n(528,""));return D}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=sl(d),d=Sr(g).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function rl(i){return'href="'+Me(i)+'"'}function xc(i){return'link[rel="stylesheet"]['+i+"]"}function ov(i){return f({},i,{"data-precedence":i.precedence,precedence:null})}function HS(i,o,d,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),ca(o,"link",d),yn(o),i.head.appendChild(o))}function sl(i){return'[src="'+Me(i)+'"]'}function Ec(i){return"script[async]"+i}function lv(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+Me(d.href)+'"]');if(p)return o.instance=p,yn(p),p;var g=f({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),yn(p),ca(p,"style",g),Du(p,d.precedence,i),o.instance=p;case"stylesheet":g=rl(d.href);var x=i.querySelector(xc(g));if(x)return o.state.loading|=4,o.instance=x,yn(x),x;p=ov(d),(g=lr.get(g))&&Rh(p,g),x=(i.ownerDocument||i).createElement("link"),yn(x);var D=x;return D._p=new Promise(function(B,X){D.onload=B,D.onerror=X}),ca(x,"link",p),o.state.loading|=4,Du(x,d.precedence,i),o.instance=x;case"script":return x=sl(d.src),(g=i.querySelector(Ec(x)))?(o.instance=g,yn(g),g):(p=d,(g=lr.get(x))&&(p=f({},d),Lh(p,g)),i=i.ownerDocument||i,g=i.createElement("script"),yn(g),ca(g,"link",p),i.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Du(p,d.precedence,i));return o.instance}function Du(i,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=p.length?p[p.length-1]:null,x=g,D=0;D<p.length;D++){var B=p[D];if(B.dataset.precedence===o)x=B;else if(x!==g)break}x?x.parentNode.insertBefore(i,x.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function Rh(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Lh(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Mu=null;function cv(i,o,d){if(Mu===null){var p=new Map,g=Mu=new Map;g.set(d,p)}else g=Mu,p=g.get(d),p||(p=new Map,g.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),g=0;g<d.length;g++){var x=d[g];if(!(x[Or]||x[en]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var D=x.getAttribute(o)||"";D=i+D;var B=p.get(D);B?B.push(x):p.set(D,[x])}}return p}function dv(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function YS(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function uv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var wc=null;function $S(){}function GS(i,o,d){if(wc===null)throw Error(n(475));var p=wc;if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=rl(d.href),x=i.querySelector(xc(g));if(x){i=x._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(p.count++,p=Tu.bind(p),i.then(p,p)),o.state.loading|=4,o.instance=x,yn(x);return}x=i.ownerDocument||i,d=ov(d),(g=lr.get(g))&&Rh(d,g),x=x.createElement("link"),yn(x);var D=x;D._p=new Promise(function(B,X){D.onload=B,D.onerror=X}),ca(x,"link",d),o.instance=x}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(p.count++,o=Tu.bind(p),i.addEventListener("load",o),i.addEventListener("error",o))}}function qS(){if(wc===null)throw Error(n(475));var i=wc;return i.stylesheets&&i.count===0&&Ph(i,i.stylesheets),0<i.count?function(o){var d=setTimeout(function(){if(i.stylesheets&&Ph(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(d)}}:null}function Tu(){if(this.count--,this.count===0){if(this.stylesheets)Ph(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ru=null;function Ph(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ru=new Map,o.forEach(ZS,i),Ru=null,Tu.call(i))}function ZS(i,o){if(!(o.state.loading&4)){var d=Ru.get(i);if(d)var p=d.get(null);else{d=new Map,Ru.set(i,d);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var D=g[x];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),p=D)}p&&d.set(null,p)}g=o.instance,D=g.getAttribute("data-precedence"),x=d.get(D)||p,x===p&&d.set(null,g),d.set(D,g),this.count++,p=Tu.bind(this),g.addEventListener("load",p),g.addEventListener("error",p),x?x.parentNode.insertBefore(g,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),o.state.loading|=4}}var Sc={$$typeof:k,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function VS(i,o,d,p,g,x,D,B){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sn(0),this.hiddenUpdates=Sn(null),this.identifierPrefix=p,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function mv(i,o,d,p,g,x,D,B,X,le,ye,we){return i=new VS(i,o,d,D,B,X,le,we),o=1,x===!0&&(o|=24),x=Fa(3,null,null,o),i.current=x,x.stateNode=i,o=gf(),o.refCount++,i.pooledCache=o,o.refCount++,x.memoizedState={element:p,isDehydrated:d,cache:o},xf(x),i}function pv(i){return i?(i=Bo,i):Bo}function fv(i,o,d,p,g,x){g=pv(g),p.context===null?p.context=g:p.pendingContext=g,p=ai(o),p.payload={element:d},x=x===void 0?null:x,x!==null&&(p.callback=x),d=ri(i,p,o),d!==null&&($a(d,i,o),Kl(d,i,o))}function hv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function Bh(i,o){hv(i,o),(i=i.alternate)&&hv(i,o)}function gv(i){if(i.tag===13){var o=Po(i,67108864);o!==null&&$a(o,i,67108864),Bh(i,67108864)}}var Lu=!0;function QS(i,o,d,p){var g=A.T;A.T=null;var x=U.p;try{U.p=2,Oh(i,o,d,p)}finally{U.p=x,A.T=g}}function JS(i,o,d,p){var g=A.T;A.T=null;var x=U.p;try{U.p=8,Oh(i,o,d,p)}finally{U.p=x,A.T=g}}function Oh(i,o,d,p){if(Lu){var g=zh(p);if(g===null)Ch(i,o,p,Pu,d),bv(i,p);else if(KS(g,i,o,d,p))p.stopPropagation();else if(bv(i,p),o&4&&-1<XS.indexOf(i)){for(;g!==null;){var x=zr(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var D=Yn(x.pendingLanes);if(D!==0){var B=x;for(B.pendingLanes|=2,B.entangledLanes|=2;D;){var X=1<<31-tt(D);B.entanglements[1]|=X,D&=~X}Yr(x),(Ft&6)===0&&(bu=Pt()+500,gc(0))}}break;case 13:B=Po(x,2),B!==null&&$a(B,x,2),xu(),Bh(x,2)}if(x=zh(p),x===null&&Ch(i,o,p,Pu,d),x===g)break;g=x}g!==null&&p.stopPropagation()}else Ch(i,o,p,null,d)}}function zh(i){return i=Nt(i),Uh(i)}var Pu=null;function Uh(i){if(Pu=null,i=Da(i),i!==null){var o=l(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=c(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Pu=i,null}function yv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ln()){case Zn:return 2;case rn:return 8;case me:case et:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var Fh=!1,yi=null,bi=null,vi=null,Cc=new Map,_c=new Map,xi=[],XS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bv(i,o){switch(i){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Cc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(o.pointerId)}}function Ic(i,o,d,p,g,x){return i===null||i.nativeEvent!==x?(i={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:x,targetContainers:[g]},o!==null&&(o=zr(o),o!==null&&gv(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function KS(i,o,d,p,g){switch(o){case"focusin":return yi=Ic(yi,i,o,d,p,g),!0;case"dragenter":return bi=Ic(bi,i,o,d,p,g),!0;case"mouseover":return vi=Ic(vi,i,o,d,p,g),!0;case"pointerover":var x=g.pointerId;return Cc.set(x,Ic(Cc.get(x)||null,i,o,d,p,g)),!0;case"gotpointercapture":return x=g.pointerId,_c.set(x,Ic(_c.get(x)||null,i,o,d,p,g)),!0}return!1}function vv(i){var o=Da(i.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){i.blockedOn=o,Io(i.priority,function(){if(d.tag===13){var p=Ya();p=Oa(p);var g=Po(d,p);g!==null&&$a(g,d,p),Bh(d,p)}});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Bu(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=zh(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);hs=p,d.target.dispatchEvent(p),hs=null}else return o=zr(d),o!==null&&gv(o),i.blockedOn=d,!1;o.shift()}return!0}function xv(i,o,d){Bu(i)&&d.delete(o)}function eC(){Fh=!1,yi!==null&&Bu(yi)&&(yi=null),bi!==null&&Bu(bi)&&(bi=null),vi!==null&&Bu(vi)&&(vi=null),Cc.forEach(xv),_c.forEach(xv)}function Ou(i,o){i.blockedOn===o&&(i.blockedOn=null,Fh||(Fh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,eC)))}var zu=null;function Ev(i){zu!==i&&(zu=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){zu===i&&(zu=null);for(var o=0;o<i.length;o+=3){var d=i[o],p=i[o+1],g=i[o+2];if(typeof p!="function"){if(Uh(p||d)===null)continue;break}var x=zr(d);x!==null&&(i.splice(o,3),o-=3,Uf(x,{pending:!0,data:g,method:d.method,action:p},p,g))}}))}function Nc(i){function o(X){return Ou(X,i)}yi!==null&&Ou(yi,i),bi!==null&&Ou(bi,i),vi!==null&&Ou(vi,i),Cc.forEach(o),_c.forEach(o);for(var d=0;d<xi.length;d++){var p=xi[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<xi.length&&(d=xi[0],d.blockedOn===null);)vv(d),d.blockedOn===null&&xi.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var g=d[p],x=d[p+1],D=g[Cn]||null;if(typeof x=="function")D||Ev(d);else if(D){var B=null;if(x&&x.hasAttribute("formAction")){if(g=x,D=x[Cn]||null)B=D.formAction;else if(Uh(g)!==null)continue}else B=D.action;typeof B=="function"?d[p+1]=B:(d.splice(p,3),p-=3),Ev(d)}}}function Wh(i){this._internalRoot=i}Uu.prototype.render=Wh.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var d=o.current,p=Ya();fv(d,p,i,o,null,null)},Uu.prototype.unmount=Wh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;fv(i.current,2,null,i,null,null),xu(),o[Ka]=null}};function Uu(i){this._internalRoot=i}Uu.prototype.unstable_scheduleHydration=function(i){if(i){var o=Gs();i={blockedOn:null,target:i,priority:o};for(var d=0;d<xi.length&&o!==0&&o<xi[d].priority;d++);xi.splice(d,0,i),d===0&&vv(i)}};var wv=a.version;if(wv!=="19.1.0")throw Error(n(527,wv,"19.1.0"));U.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=m(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var tC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Le=Fu.inject(tC),He=Fu}catch{}}return kc.createRoot=function(i,o){if(!s(i))throw Error(n(299));var d=!1,p="",g=z1,x=U1,D=F1,B=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(B=o.unstable_transitionCallbacks)),o=mv(i,1,!1,null,null,d,p,g,x,D,B,null),i[Ka]=o.current,Sh(i),new Wh(o)},kc.hydrateRoot=function(i,o,d){if(!s(i))throw Error(n(299));var p=!1,g="",x=z1,D=U1,B=F1,X=null,le=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(x=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(B=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(X=d.unstable_transitionCallbacks),d.formState!==void 0&&(le=d.formState)),o=mv(i,1,!0,o,d??null,p,g,x,D,B,X,le),o.context=pv(null),d=o.current,p=Ya(),p=Oa(p),g=ai(p),g.callback=null,ri(d,g,p),d=p,o.current.lanes=d,Ba(o,d),Yr(o),i[Ka]=o.current,Sh(i),new Uu(o)},kc.version="19.1.0",kc}var Mv;function fC(){if(Mv)return Hh.exports;Mv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Hh.exports=pC(),Hh.exports}var hC=fC();const gC=xp(hC);var Ac={},Tv;function yC(){if(Tv)return Ac;Tv=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.parse=c,Ac.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,a=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,E){const w=new l,_=b.length;if(_<2)return w;const C=(E==null?void 0:E.decode)||f;let S=0;do{const I=b.indexOf("=",S);if(I===-1)break;const k=b.indexOf(";",S),N=k===-1?_:k;if(I>N){S=b.lastIndexOf(";",I-1)+1;continue}const M=u(b,S,I),R=m(b,I,M),$=b.slice(M,R);if(w[$]===void 0){let z=u(b,I+1,N),Y=m(b,N,z);const J=C(b.slice(z,Y));w[$]=J}S=N+1}while(S<_);return w}function u(b,E,w){do{const _=b.charCodeAt(E);if(_!==32&&_!==9)return E}while(++E<w);return w}function m(b,E,w){for(;E>w;){const _=b.charCodeAt(--E);if(_!==32&&_!==9)return E+1}return w}function h(b,E,w){const _=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const C=_(E);if(!a.test(C))throw new TypeError(`argument val is invalid: ${E}`);let S=b+"="+C;if(!w)return S;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);S+="; Max-Age="+w.maxAge}if(w.domain){if(!e.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);S+="; Domain="+w.domain}if(w.path){if(!n.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);S+="; Path="+w.path}if(w.expires){if(!y(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);S+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(S+="; HttpOnly"),w.secure&&(S+="; Secure"),w.partitioned&&(S+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return S}function f(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return s.call(b)==="[object Date]"}return Ac}yC();var Rv="popstate";function bC(t={}){function a(s,l){let{pathname:c="/",search:u="",hash:m=""}=So(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Bg("",{pathname:c,search:u,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(s,l){let c=s.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let m=s.location.href,h=m.indexOf("#");u=h===-1?m:m.slice(0,h)}return u+"#"+(typeof l=="string"?l:od(l))}function n(s,l){Ja(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return xC(a,e,n,t)}function hn(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Ja(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function vC(){return Math.random().toString(36).substring(2,10)}function Lv(t,a){return{usr:t.state,key:t.key,idx:a}}function Bg(t,a,e=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?So(a):a,state:e,key:a&&a.key||n||vC()}}function od({pathname:t="/",search:a="",hash:e=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),e&&e!=="#"&&(t+=e.charAt(0)==="#"?e:"#"+e),t}function So(t){let a={};if(t){let e=t.indexOf("#");e>=0&&(a.hash=t.substring(e),t=t.substring(0,e));let n=t.indexOf("?");n>=0&&(a.search=t.substring(n),t=t.substring(0,n)),t&&(a.pathname=t)}return a}function xC(t,a,e,n={}){let{window:s=document.defaultView,v5Compat:l=!1}=n,c=s.history,u="POP",m=null,h=f();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function f(){return(c.state||{idx:null}).idx}function y(){u="POP";let C=f(),S=C==null?null:C-h;h=C,m&&m({action:u,location:_.location,delta:S})}function b(C,S){u="PUSH";let I=Bg(_.location,C,S);e&&e(I,C),h=f()+1;let k=Lv(I,h),N=_.createHref(I);try{c.pushState(k,"",N)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(N)}l&&m&&m({action:u,location:_.location,delta:1})}function E(C,S){u="REPLACE";let I=Bg(_.location,C,S);e&&e(I,C),h=f();let k=Lv(I,h),N=_.createHref(I);c.replaceState(k,"",N),l&&m&&m({action:u,location:_.location,delta:0})}function w(C){return EC(C)}let _={get action(){return u},get location(){return t(s,c)},listen(C){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(Rv,y),m=C,()=>{s.removeEventListener(Rv,y),m=null}},createHref(C){return a(s,C)},createURL:w,encodeLocation(C){let S=w(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:E,go(C){return c.go(C)}};return _}function EC(t,a=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),hn(e,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:od(t);return n=n.replace(/ $/,"%20"),!a&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function Yx(t,a,e="/"){return wC(t,a,e,!1)}function wC(t,a,e,n){let s=typeof a=="string"?So(a):a,l=Hs(s.pathname||"/",e);if(l==null)return null;let c=$x(t);SC(c);let u=null;for(let m=0;u==null&&m<c.length;++m){let h=LC(l);u=TC(c[m],h,n)}return u}function $x(t,a=[],e=[],n=""){let s=(l,c,u)=>{let m={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(hn(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length));let h=Bs([n,m.relativePath]),f=e.concat(m);l.children&&l.children.length>0&&(hn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),$x(l.children,a,f,h)),!(l.path==null&&!l.index)&&a.push({path:h,score:DC(h,l.index),routesMeta:f})};return t.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))s(l,c);else for(let m of Gx(l.path))s(l,c,m)}),a}function Gx(t){let a=t.split("/");if(a.length===0)return[];let[e,...n]=a,s=e.endsWith("?"),l=e.replace(/\?$/,"");if(n.length===0)return s?[l,""]:[l];let c=Gx(n.join("/")),u=[];return u.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&u.push(...c),u.map(m=>t.startsWith("/")&&m===""?"/":m)}function SC(t){t.sort((a,e)=>a.score!==e.score?e.score-a.score:MC(a.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var CC=/^:[\w-]+$/,_C=3,IC=2,NC=1,kC=10,AC=-2,Pv=t=>t==="*";function DC(t,a){let e=t.split("/"),n=e.length;return e.some(Pv)&&(n+=AC),a&&(n+=IC),e.filter(s=>!Pv(s)).reduce((s,l)=>s+(CC.test(l)?_C:l===""?NC:kC),n)}function MC(t,a){return t.length===a.length&&t.slice(0,-1).every((n,s)=>n===a[s])?t[t.length-1]-a[a.length-1]:0}function TC(t,a,e=!1){let{routesMeta:n}=t,s={},l="/",c=[];for(let u=0;u<n.length;++u){let m=n[u],h=u===n.length-1,f=l==="/"?a:a.slice(l.length)||"/",y=wm({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},f),b=m.route;if(!y&&h&&e&&!n[n.length-1].route.index&&(y=wm({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},f)),!y)return null;Object.assign(s,y.params),c.push({params:s,pathname:Bs([l,y.pathname]),pathnameBase:zC(Bs([l,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(l=Bs([l,y.pathnameBase]))}return c}function wm(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[e,n]=RC(t.path,t.caseSensitive,t.end),s=a.match(e);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((h,{paramName:f,isOptional:y},b)=>{if(f==="*"){let w=u[b]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const E=u[b];return y&&!E?h[f]=void 0:h[f]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:t}}function RC(t,a=!1,e=!0){Ja(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,m)=>(n.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,a?void 0:"i"),n]}function LC(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ja(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function Hs(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let e=a.endsWith("/")?a.length-1:a.length,n=t.charAt(e);return n&&n!=="/"?null:t.slice(e)||"/"}function PC(t,a="/"){let{pathname:e,search:n="",hash:s=""}=typeof t=="string"?So(t):t;return{pathname:e?e.startsWith("/")?e:BC(e,a):a,search:UC(n),hash:FC(s)}}function BC(t,a){let e=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function qh(t,a,e,n){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OC(t){return t.filter((a,e)=>e===0||a.route.path&&a.route.path.length>0)}function x0(t){let a=OC(t);return a.map((e,n)=>n===a.length-1?e.pathname:e.pathnameBase)}function E0(t,a,e,n=!1){let s;typeof t=="string"?s=So(t):(s={...t},hn(!s.pathname||!s.pathname.includes("?"),qh("?","pathname","search",s)),hn(!s.pathname||!s.pathname.includes("#"),qh("#","pathname","hash",s)),hn(!s.search||!s.search.includes("#"),qh("#","search","hash",s)));let l=t===""||s.pathname==="",c=l?"/":s.pathname,u;if(c==null)u=e;else{let y=a.length-1;if(!n&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}u=y>=0?a[y]:"/"}let m=PC(s,u),h=c&&c!=="/"&&c.endsWith("/"),f=(l||c===".")&&e.endsWith("/");return!m.pathname.endsWith("/")&&(h||f)&&(m.pathname+="/"),m}var Bs=t=>t.join("/").replace(/\/\/+/g,"/"),zC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var qx=["POST","PUT","PATCH","DELETE"];new Set(qx);var jC=["GET",...qx];new Set(jC);var Ml=v.createContext(null);Ml.displayName="DataRouter";var Ep=v.createContext(null);Ep.displayName="DataRouterState";var Zx=v.createContext({isTransitioning:!1});Zx.displayName="ViewTransition";var HC=v.createContext(new Map);HC.displayName="Fetchers";var YC=v.createContext(null);YC.displayName="Await";var Br=v.createContext(null);Br.displayName="Navigation";var bd=v.createContext(null);bd.displayName="Location";var ns=v.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var w0=v.createContext(null);w0.displayName="RouteError";function $C(t,{relative:a}={}){hn(Tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=v.useContext(Br),{hash:s,pathname:l,search:c}=vd(t,{relative:a}),u=l;return e!=="/"&&(u=l==="/"?e:Bs([e,l])),n.createHref({pathname:u,search:c,hash:s})}function Tl(){return v.useContext(bd)!=null}function as(){return hn(Tl(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(bd).location}var Vx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qx(t){v.useContext(Br).static||v.useLayoutEffect(t)}function Xa(){let{isDataRoute:t}=v.useContext(ns);return t?r_():GC()}function GC(){hn(Tl(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(Ml),{basename:a,navigator:e}=v.useContext(Br),{matches:n}=v.useContext(ns),{pathname:s}=as(),l=JSON.stringify(x0(n)),c=v.useRef(!1);return Qx(()=>{c.current=!0}),v.useCallback((m,h={})=>{if(Ja(c.current,Vx),!c.current)return;if(typeof m=="number"){e.go(m);return}let f=E0(m,JSON.parse(l),s,h.relative==="path");t==null&&a!=="/"&&(f.pathname=f.pathname==="/"?a:Bs([a,f.pathname])),(h.replace?e.replace:e.push)(f,h.state,h)},[a,e,l,s,t])}v.createContext(null);function vd(t,{relative:a}={}){let{matches:e}=v.useContext(ns),{pathname:n}=as(),s=JSON.stringify(x0(e));return v.useMemo(()=>E0(t,JSON.parse(s),n,a==="path"),[t,s,n,a])}function qC(t,a){return Jx(t,a)}function Jx(t,a,e,n){var S;hn(Tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=v.useContext(Br),{matches:l}=v.useContext(ns),c=l[l.length-1],u=c?c.params:{},m=c?c.pathname:"/",h=c?c.pathnameBase:"/",f=c&&c.route;{let I=f&&f.path||"";Xx(m,!f||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=as(),b;if(a){let I=typeof a=="string"?So(a):a;hn(h==="/"||((S=I.pathname)==null?void 0:S.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${I.pathname}" was given in the \`location\` prop.`),b=I}else b=y;let E=b.pathname||"/",w=E;if(h!=="/"){let I=h.replace(/^\//,"").split("/");w="/"+E.replace(/^\//,"").split("/").slice(I.length).join("/")}let _=Yx(t,{pathname:w});Ja(f||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ja(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=XC(_&&_.map(I=>Object.assign({},I,{params:Object.assign({},u,I.params),pathname:Bs([h,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?h:Bs([h,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),l,e,n);return a&&C?v.createElement(bd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function ZC(){let t=a_(),a=WC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),e=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=v.createElement(v.Fragment,null,v.createElement("p",null,"💿 Hey developer 👋"),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:l},"ErrorBoundary")," or"," ",v.createElement("code",{style:l},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},a),e?v.createElement("pre",{style:s},e):null,c)}var VC=v.createElement(ZC,null),QC=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){console.error("React Router caught the following error during render",t,a)}render(){return this.state.error!==void 0?v.createElement(ns.Provider,{value:this.props.routeContext},v.createElement(w0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JC({routeContext:t,match:a,children:e}){let n=v.useContext(Ml);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),v.createElement(ns.Provider,{value:t},e)}function XC(t,a=[],e=null,n=null){if(t==null){if(!e)return null;if(e.errors)t=e.matches;else if(a.length===0&&!e.initialized&&e.matches.length>0)t=e.matches;else return null}let s=t,l=e==null?void 0:e.errors;if(l!=null){let m=s.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);hn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,u=-1;if(e)for(let m=0;m<s.length;m++){let h=s[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=m),h.route.id){let{loaderData:f,errors:y}=e,b=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((m,h,f)=>{let y,b=!1,E=null,w=null;e&&(y=l&&h.route.id?l[h.route.id]:void 0,E=h.route.errorElement||VC,c&&(u<0&&f===0?(Xx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):u===f&&(b=!0,w=h.route.hydrateFallbackElement||null)));let _=a.concat(s.slice(0,f+1)),C=()=>{let S;return y?S=E:b?S=w:h.route.Component?S=v.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=m,v.createElement(JC,{match:h,routeContext:{outlet:m,matches:_,isDataRoute:e!=null},children:S})};return e&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(QC,{location:e.location,revalidation:e.revalidation,component:E,error:y,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):C()},null)}function S0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KC(t){let a=v.useContext(Ml);return hn(a,S0(t)),a}function e_(t){let a=v.useContext(Ep);return hn(a,S0(t)),a}function t_(t){let a=v.useContext(ns);return hn(a,S0(t)),a}function C0(t){let a=t_(t),e=a.matches[a.matches.length-1];return hn(e.route.id,`${t} can only be used on routes that contain a unique "id"`),e.route.id}function n_(){return C0("useRouteId")}function a_(){var n;let t=v.useContext(w0),a=e_("useRouteError"),e=C0("useRouteError");return t!==void 0?t:(n=a.errors)==null?void 0:n[e]}function r_(){let{router:t}=KC("useNavigate"),a=C0("useNavigate"),e=v.useRef(!1);return Qx(()=>{e.current=!0}),v.useCallback(async(s,l={})=>{Ja(e.current,Vx),e.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:a,...l}))},[t,a])}var Bv={};function Xx(t,a,e){!a&&!Bv[t]&&(Bv[t]=!0,Ja(!1,e))}v.memo(s_);function s_({routes:t,future:a,state:e}){return Jx(t,void 0,e,a)}function $r({to:t,replace:a,state:e,relative:n}){hn(Tl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext(Br);Ja(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=v.useContext(ns),{pathname:c}=as(),u=Xa(),m=E0(t,x0(l),c,n==="path"),h=JSON.stringify(m);return v.useEffect(()=>{u(JSON.parse(h),{replace:a,state:e,relative:n})},[u,h,n,a,e]),null}function aa(t){hn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function i_({basename:t="/",children:a=null,location:e,navigationType:n="POP",navigator:s,static:l=!1}){hn(!Tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof e=="string"&&(e=So(e));let{pathname:m="/",search:h="",hash:f="",state:y=null,key:b="default"}=e,E=v.useMemo(()=>{let w=Hs(m,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:y,key:b},navigationType:n}},[c,m,h,f,y,b,n]);return Ja(E!=null,`<Router basename="${c}"> is not able to match the URL "${m}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:v.createElement(Br.Provider,{value:u},v.createElement(bd.Provider,{children:a,value:E}))}function o_({children:t,location:a}){return qC(Og(t),a)}function Og(t,a=[]){let e=[];return v.Children.forEach(t,(n,s)=>{if(!v.isValidElement(n))return;let l=[...a,s];if(n.type===v.Fragment){e.push.apply(e,Og(n.props.children,l));return}hn(n.type===aa,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),hn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Og(n.props.children,l)),e.push(c)}),e}var im="get",om="application/x-www-form-urlencoded";function wp(t){return t!=null&&typeof t.tagName=="string"}function l_(t){return wp(t)&&t.tagName.toLowerCase()==="button"}function c_(t){return wp(t)&&t.tagName.toLowerCase()==="form"}function d_(t){return wp(t)&&t.tagName.toLowerCase()==="input"}function u_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function m_(t,a){return t.button===0&&(!a||a==="_self")&&!u_(t)}function zg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,e)=>{let n=t[e];return a.concat(Array.isArray(n)?n.map(s=>[e,s]):[[e,n]])},[]))}function p_(t,a){let e=zg(t);return a&&a.forEach((n,s)=>{e.has(s)||a.getAll(s).forEach(l=>{e.append(s,l)})}),e}var Wu=null;function f_(){if(Wu===null)try{new FormData(document.createElement("form"),0),Wu=!1}catch{Wu=!0}return Wu}var h_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zh(t){return t!=null&&!h_.has(t)?(Ja(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${om}"`),null):t}function g_(t,a){let e,n,s,l,c;if(c_(t)){let u=t.getAttribute("action");n=u?Hs(u,a):null,e=t.getAttribute("method")||im,s=Zh(t.getAttribute("enctype"))||om,l=new FormData(t)}else if(l_(t)||d_(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||u.getAttribute("action");if(n=m?Hs(m,a):null,e=t.getAttribute("formmethod")||u.getAttribute("method")||im,s=Zh(t.getAttribute("formenctype"))||Zh(u.getAttribute("enctype"))||om,l=new FormData(u,t),!f_()){let{name:h,type:f,value:y}=t;if(f==="image"){let b=h?`${h}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else h&&l.append(h,y)}}else{if(wp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=im,n=null,s=om,c=t}return l&&s==="text/plain"&&(c=l,l=void 0),{action:n,method:e.toLowerCase(),encType:s,formData:l,body:c}}function _0(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}async function y_(t,a){if(t.id in a)return a[t.id];try{let e=await import(t.module);return a[t.id]=e,e}catch(e){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b_(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function v_(t,a,e){let n=await Promise.all(t.map(async s=>{let l=a.routes[s.route.id];if(l){let c=await y_(l,e);return c.links?c.links():[]}return[]}));return S_(n.flat(1).filter(b_).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ov(t,a,e,n,s,l){let c=(m,h)=>e[h]?m.route.id!==e[h].route.id:!0,u=(m,h)=>{var f;return e[h].pathname!==m.pathname||((f=e[h].route.path)==null?void 0:f.endsWith("*"))&&e[h].params["*"]!==m.params["*"]};return l==="assets"?a.filter((m,h)=>c(m,h)||u(m,h)):l==="data"?a.filter((m,h)=>{var y;let f=n.routes[m.route.id];if(!f||!f.hasLoader)return!1;if(c(m,h)||u(m,h))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=e[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function x_(t,a,{includeHydrateFallback:e}={}){return E_(t.map(n=>{let s=a.routes[n.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function E_(t){return[...new Set(t)]}function w_(t){let a={},e=Object.keys(t).sort();for(let n of e)a[n]=t[n];return a}function S_(t,a){let e=new Set;return new Set(a),t.reduce((n,s)=>{let l=JSON.stringify(w_(s));return e.has(l)||(e.add(l),n.push({key:l,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var C_=new Set([100,101,204,205]);function __(t,a){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":a&&Hs(e.pathname,a)==="/"?e.pathname=`${a.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Kx(){let t=v.useContext(Ml);return _0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function I_(){let t=v.useContext(Ep);return _0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var I0=v.createContext(void 0);I0.displayName="FrameworkContext";function eE(){let t=v.useContext(I0);return _0(t,"You must render this element inside a <HydratedRouter> element"),t}function N_(t,a){let e=v.useContext(I0),[n,s]=v.useState(!1),[l,c]=v.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:h,onMouseLeave:f,onTouchStart:y}=a,b=v.useRef(null);v.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let _=S=>{S.forEach(I=>{c(I.isIntersecting)})},C=new IntersectionObserver(_,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[t]),v.useEffect(()=>{if(n){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[n]);let E=()=>{s(!0)},w=()=>{s(!1),c(!1)};return e?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Dc(u,E),onBlur:Dc(m,w),onMouseEnter:Dc(h,E),onMouseLeave:Dc(f,w),onTouchStart:Dc(y,E)}]:[!1,b,{}]}function Dc(t,a){return e=>{t&&t(e),e.defaultPrevented||a(e)}}function k_({page:t,...a}){let{router:e}=Kx(),n=v.useMemo(()=>Yx(e.routes,t,e.basename),[e.routes,t,e.basename]);return n?v.createElement(D_,{page:t,matches:n,...a}):null}function A_(t){let{manifest:a,routeModules:e}=eE(),[n,s]=v.useState([]);return v.useEffect(()=>{let l=!1;return v_(t,a,e).then(c=>{l||s(c)}),()=>{l=!0}},[t,a,e]),n}function D_({page:t,matches:a,...e}){let n=as(),{manifest:s,routeModules:l}=eE(),{basename:c}=Kx(),{loaderData:u,matches:m}=I_(),h=v.useMemo(()=>Ov(t,a,m,s,n,"data"),[t,a,m,s,n]),f=v.useMemo(()=>Ov(t,a,m,s,n,"assets"),[t,a,m,s,n]),y=v.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,_=!1;if(a.forEach(S=>{var k;let I=s.routes[S.route.id];!I||!I.hasLoader||(!h.some(N=>N.route.id===S.route.id)&&S.route.id in u&&((k=l[S.route.id])!=null&&k.shouldRevalidate)||I.hasClientLoader?_=!0:w.add(S.route.id))}),w.size===0)return[];let C=__(t,c);return _&&w.size>0&&C.searchParams.set("_routes",a.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[C.pathname+C.search]},[c,u,n,s,h,a,t,l]),b=v.useMemo(()=>x_(f,s),[f,s]),E=A_(f);return v.createElement(v.Fragment,null,y.map(w=>v.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...e})),b.map(w=>v.createElement("link",{key:w,rel:"modulepreload",href:w,...e})),E.map(({key:w,link:_})=>v.createElement("link",{key:w,..._})))}function M_(...t){return a=>{t.forEach(e=>{typeof e=="function"?e(a):e!=null&&(e.current=a)})}}var tE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tE&&(window.__reactRouterVersion="7.6.1")}catch{}function T_({basename:t,children:a,window:e}){let n=v.useRef();n.current==null&&(n.current=bC({window:e,v5Compat:!0}));let s=n.current,[l,c]=v.useState({action:s.action,location:s.location}),u=v.useCallback(m=>{v.startTransition(()=>c(m))},[c]);return v.useLayoutEffect(()=>s.listen(u),[s,u]),v.createElement(i_,{basename:t,children:a,location:l.location,navigationType:l.action,navigator:s})}var nE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aE=v.forwardRef(function({onClick:a,discover:e="render",prefetch:n="none",relative:s,reloadDocument:l,replace:c,state:u,target:m,to:h,preventScrollReset:f,viewTransition:y,...b},E){let{basename:w}=v.useContext(Br),_=typeof h=="string"&&nE.test(h),C,S=!1;if(typeof h=="string"&&_&&(C=h,tE))try{let Y=new URL(window.location.href),J=h.startsWith("//")?new URL(Y.protocol+h):new URL(h),ae=Hs(J.pathname,w);J.origin===Y.origin&&ae!=null?h=ae+J.search+J.hash:S=!0}catch{Ja(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=$C(h,{relative:s}),[k,N,M]=N_(n,b),R=B_(h,{replace:c,state:u,target:m,preventScrollReset:f,relative:s,viewTransition:y});function $(Y){a&&a(Y),Y.defaultPrevented||R(Y)}let z=v.createElement("a",{...b,...M,href:C||I,onClick:S||l?a:$,ref:M_(E,N),target:m,"data-discover":!_&&e==="render"?"true":void 0});return k&&!_?v.createElement(v.Fragment,null,z,v.createElement(k_,{page:I})):z});aE.displayName="Link";var R_=v.forwardRef(function({"aria-current":a="page",caseSensitive:e=!1,className:n="",end:s=!1,style:l,to:c,viewTransition:u,children:m,...h},f){let y=vd(c,{relative:h.relative}),b=as(),E=v.useContext(Ep),{navigator:w,basename:_}=v.useContext(Br),C=E!=null&&j_(y)&&u===!0,S=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,I=b.pathname,k=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(I=I.toLowerCase(),k=k?k.toLowerCase():null,S=S.toLowerCase()),k&&_&&(k=Hs(k,_)||k);const N=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let M=I===S||!s&&I.startsWith(S)&&I.charAt(N)==="/",R=k!=null&&(k===S||!s&&k.startsWith(S)&&k.charAt(S.length)==="/"),$={isActive:M,isPending:R,isTransitioning:C},z=M?a:void 0,Y;typeof n=="function"?Y=n($):Y=[n,M?"active":null,R?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let J=typeof l=="function"?l($):l;return v.createElement(aE,{...h,"aria-current":z,className:Y,ref:f,style:J,to:c,viewTransition:u},typeof m=="function"?m($):m)});R_.displayName="NavLink";var L_=v.forwardRef(({discover:t="render",fetcherKey:a,navigate:e,reloadDocument:n,replace:s,state:l,method:c=im,action:u,onSubmit:m,relative:h,preventScrollReset:f,viewTransition:y,...b},E)=>{let w=F_(),_=W_(u,{relative:h}),C=c.toLowerCase()==="get"?"get":"post",S=typeof u=="string"&&nE.test(u),I=k=>{if(m&&m(k),k.defaultPrevented)return;k.preventDefault();let N=k.nativeEvent.submitter,M=(N==null?void 0:N.getAttribute("formmethod"))||c;w(N||k.currentTarget,{fetcherKey:a,method:M,navigate:e,replace:s,state:l,relative:h,preventScrollReset:f,viewTransition:y})};return v.createElement("form",{ref:E,method:C,action:_,onSubmit:n?m:I,...b,"data-discover":!S&&t==="render"?"true":void 0})});L_.displayName="Form";function P_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rE(t){let a=v.useContext(Ml);return hn(a,P_(t)),a}function B_(t,{target:a,replace:e,state:n,preventScrollReset:s,relative:l,viewTransition:c}={}){let u=Xa(),m=as(),h=vd(t,{relative:l});return v.useCallback(f=>{if(m_(f,a)){f.preventDefault();let y=e!==void 0?e:od(m)===od(h);u(t,{replace:y,state:n,preventScrollReset:s,relative:l,viewTransition:c})}},[m,u,h,e,n,a,t,s,l,c])}function O_(t){Ja(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=v.useRef(zg(t)),e=v.useRef(!1),n=as(),s=v.useMemo(()=>p_(n.search,e.current?null:a.current),[n.search]),l=Xa(),c=v.useCallback((u,m)=>{const h=zg(typeof u=="function"?u(s):u);e.current=!0,l("?"+h,m)},[l,s]);return[s,c]}var z_=0,U_=()=>`__${String(++z_)}__`;function F_(){let{router:t}=rE("useSubmit"),{basename:a}=v.useContext(Br),e=n_();return v.useCallback(async(n,s={})=>{let{action:l,method:c,encType:u,formData:m,body:h}=g_(n,a);if(s.navigate===!1){let f=s.fetcherKey||U_();await t.fetch(f,e,s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:h,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:h,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,a,e])}function W_(t,{relative:a}={}){let{basename:e}=v.useContext(Br),n=v.useContext(ns);hn(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),l={...vd(t||".",{relative:a})},c=as();if(t==null){l.search=c.search;let u=new URLSearchParams(l.search),m=u.getAll("index");if(m.some(f=>f==="")){u.delete("index"),m.filter(y=>y).forEach(y=>u.append("index",y));let f=u.toString();l.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:Bs([e,l.pathname])),od(l)}function j_(t,a={}){let e=v.useContext(Zx);hn(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=rE("useViewTransitionState"),s=vd(t,{relative:a.relative});if(!e.isTransitioning)return!1;let l=Hs(e.currentLocation.pathname,n)||e.currentLocation.pathname,c=Hs(e.nextLocation.pathname,n)||e.nextLocation.pathname;return wm(s.pathname,c)!=null||wm(s.pathname,l)!=null}[...C_];var sE=Hx();const xd=xp(sE);function Sp({gameType:t,size:a=22}){const e={"8 Ball":{emoji:"🎱"},"9 Ball":{color:"#FFD700",number:9},"10 Ball":{color:"#2196F3",number:10}};if(t==="8 Ball")return r.createElement("span",{role:"img","aria-label":"8-ball",style:{fontSize:a,verticalAlign:"middle",marginRight:4}},e["8 Ball"].emoji);const{color:n,number:s}=e[t]||{};return!n||!s?null:r.createElement("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:a,height:a,borderRadius:"50%",background:n,color:"#222",fontWeight:"bold",fontSize:a*.65,border:"2px solid #fff",boxShadow:"0 1px 2px #0003",marginRight:4,verticalAlign:"middle"},"aria-label":`${s}-ball`},s)}function Xt({open:t,onClose:a,children:e,title:n="Modal",maxWidth:s="500px",className:l=""}){const[c,u]=v.useState({x:0,y:0}),[m,h]=v.useState(!1),f=v.useRef({x:0,y:0});v.useEffect(()=>{t&&u({x:0,y:0})},[t]);const y=w=>{h(!0),f.current={x:w.clientX-c.x,y:w.clientY-c.y},document.body.style.userSelect="none"},b=w=>{m&&u({x:w.clientX-f.current.x,y:w.clientY-f.current.y})},E=()=>{h(!1),document.body.style.userSelect=""};return v.useEffect(()=>(m?(window.addEventListener("mousemove",b),window.addEventListener("mouseup",E)):(window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",E)),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",E)}),[m]),t?r.createElement("div",{className:"modal-overlay",onClick:a,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(3px)",WebkitBackdropFilter:"blur(3px)"}},r.createElement("div",{className:`draggable-modal ${l}`,style:{transform:`translate(${c.x}px, ${c.y}px)`,cursor:m?"grabbing":"default",background:"linear-gradient(120deg, #232323 80%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:window.innerWidth<=400?"0":"1.2rem",boxShadow:"0 0 32px #e53e3e, 0 0 40px rgba(0,0,0,0.85)",width:window.innerWidth<=400?"100vw":s,maxWidth:window.innerWidth<=400?"100vw":s,minWidth:0,margin:window.innerWidth<=400?"0":"0 auto",marginTop:"80px",left:0,right:0,animation:"modalBounceIn 0.5s cubic-bezier(.21,1.02,.73,1.01)",padding:0,position:"relative",fontFamily:"inherit",boxSizing:"border-box",height:window.innerWidth<=500?"75vh":"auto",maxHeight:window.innerWidth<=500?"75vh":"65vh",display:"flex",flexDirection:"column"},onClick:w=>w.stopPropagation(),role:"dialog","aria-modal":"true","aria-label":n,tabIndex:-1},r.createElement("div",{className:"modal-header",onMouseDown:y,style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"#e53e3e",padding:"1.1rem 1.5rem 0.7rem 1.5rem",borderTopLeftRadius:"1.2rem",borderTopRightRadius:"1.2rem",position:"relative",cursor:"grab",userSelect:"none",gap:"1rem"}},r.createElement("span",{className:"modal-accent-bar",style:{position:"absolute",left:0,top:0,width:"100%",height:"5px",background:"linear-gradient(90deg, #fff0 0%, #e53e3e 60%, #fff0 100%)",borderTopLeftRadius:"1.2rem",borderTopRightRadius:"1.2rem",pointerEvents:"none"}}),r.createElement("h2",{className:"modal-title",style:{margin:0,fontSize:window.innerWidth<=500?"1.1rem":"1.3rem",fontWeight:"bold",textAlign:"center",letterSpacing:"0.02em",color:"#fff",textShadow:"0 1px 12px #000a",zIndex:2,flex:1,wordBreak:"break-word",minWidth:0}},n),r.createElement("button",{className:"modal-close-btn",onClick:a,"aria-label":"Close",style:{background:"none",border:"none",color:"#fff",fontSize:"2em",fontWeight:"bold",cursor:"pointer",zIndex:10,lineHeight:1,transition:"color 0.2s, transform 0.2s",padding:0,marginLeft:"1rem"},onMouseEnter:w=>{w.target.style.color="#ffd6d6",w.target.style.transform="scale(1.2) rotate(10deg)"},onMouseLeave:w=>{w.target.style.color="#fff",w.target.style.transform="scale(1) rotate(0deg)"}},"×")),r.createElement("div",{className:"modal-content",style:{...window.innerWidth<=500?{flex:"1 1 auto",minHeight:0,overflowY:"auto"}:{overflowY:"auto"},padding:window.innerWidth<=500?"1rem 1rem 0.8rem 1rem":"1.4rem 1.5rem 1.2rem 1.5rem",background:"none"}},e)),r.createElement("style",{jsx:!0},`
        @keyframes modalBounceIn {
          0% { opacity: 0; transform: scale(0.95) translateY(-40px);}
          70% { opacity: 1; transform: scale(1.02) translateY(8px);}
          100% { opacity: 1; transform: scale(1) translateY(0);}
        }
        
        @media (max-width: 500px) {
          .draggable-modal {
            max-width: 99vw !important;
            border-radius: 0.7rem !important;
          }
          .modal-header {
            padding: 0.7rem 0.7rem 0.5rem 0.7rem !important;
          }
          .modal-content {
            padding: 1rem 0.6rem 0.8rem 0.6rem !important;
          }
        }
        /* Custom scrollbar for modal-content */
        .modal-content::-webkit-scrollbar {
          width: 10px;
        }
        .modal-content::-webkit-scrollbar-thumb {
          background: #e53e3e;
          border-radius: 6px;
        }
        .modal-content::-webkit-scrollbar-track {
          background: #232323;
          border-radius: 6px;
        }
        .modal-content {
          scrollbar-width: thin;
          scrollbar-color: #e53e3e #232323;
        }
      `)):null}function H_(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-"),m=new Date(parseInt(l),parseInt(c)-1,parseInt(u)),h=String(m.getMonth()+1).padStart(2,"0"),f=String(m.getDate()).padStart(2,"0"),y=m.getFullYear();return`${h}-${f}-${y}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function iE({open:t,message:a,gameType:e,raceLength:n,day:s,date:l,time:c,location:u,proposalNote:m,confirmationNote:h,phase:f,onClose:y}){if(!t)return null;const b=typeof window<"u"&&window.innerWidth<=500,E=b?"100%":"240px",w=b?"90vw":"240px",_=b?"100%":"220px";return r.createElement(Xt,{open:t,onClose:y,title:"Proposal Sent!",maxWidth:w,width:E},r.createElement("div",{style:{textAlign:"center"}},r.createElement("div",{style:{background:"#222",color:"#fff",borderRadius:6,padding:"0.6rem 0.7rem 0.6rem 0.7rem",margin:"0 auto 0.7rem auto",fontWeight:600,fontSize:"0.97rem",textAlign:"center",maxWidth:"220px",width:"100%",wordBreak:"break-word",whiteSpace:"pre-line"}},a),r.createElement("div",{style:{background:"#f8f8f8",color:"#222",borderRadius:8,padding:b?"0.4rem 0.2rem":"0.5rem 0.5rem",margin:"0.7rem auto 0.7rem auto",textAlign:"center",fontSize:b?"0.92rem":"0.95rem",border:"1px solid #ff0000",maxWidth:_,width:"100%"}},r.createElement("div",{style:{marginBottom:6}},r.createElement("strong",null,"Phase:")," ",f==="scheduled"?"Phase 1 (Scheduled)":f==="challenge"?"Phase 2 (challenge)":f),r.createElement("div",{style:{marginBottom:6}},r.createElement("strong",null,"Game Type:")," ",r.createElement(Sp,{gameType:e,size:16})," ",e),r.createElement("div",{style:{marginBottom:6}},r.createElement("strong",null,"Race to:")," ",n),r.createElement("div",{style:{marginBottom:6}},r.createElement("strong",null,"Day:")," ",s),r.createElement("div",{style:{marginBottom:6}},r.createElement("strong",null,"Date:")," ",H_(l)),r.createElement("div",{style:{marginBottom:6}},r.createElement("strong",null,"Time:")," ",c),r.createElement("div",{style:{marginBottom:6}},r.createElement("strong",null,"Location:")," ",u),m&&r.createElement("div",{style:{marginTop:12,padding:"0.5rem 0.7rem",background:"#fffbe6",borderLeft:"3px solid #ffb300",borderRadius:4,color:"#a36c00",fontSize:"0.97rem"}},r.createElement("strong",null,"Opponent's note:")," ",m),h&&r.createElement("div",{style:{marginTop:10,padding:"0.5rem 0.7rem",background:"#e6fff0",borderLeft:"3px solid #00b36b",borderRadius:4,color:"#006b3c",fontSize:"0.97rem"}},r.createElement("strong",null,"Your note:")," ",h)),r.createElement("button",{style:{marginTop:"1.8rem",background:"#ff0000",color:"#fff",border:"none",borderRadius:"8px",padding:"0.7rem 1.5rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer"},onClick:y},"Close")))}function oE(t){var a,e,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(a=0;a<s;a++)t[a]&&(e=oE(t[a]))&&(n&&(n+=" "),n+=e)}else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function ua(){for(var t,a,e=0,n="",s=arguments.length;e<s;e++)(t=arguments[e])&&(a=oE(t))&&(n&&(n+=" "),n+=a);return n}const lE=6048e5,Y_=864e5,Cp=6e4,Ed=36e5,$_=1e3,zv=Symbol.for("constructDateFrom");function Yt(t,a){return typeof t=="function"?t(a):t&&typeof t=="object"&&zv in t?t[zv](a):t instanceof Date?new t.constructor(a):new Date(a)}function $e(t,a){return Yt(a||t,t)}function Lr(t,a,e){const n=$e(t,e==null?void 0:e.in);return isNaN(a)?Yt((e==null?void 0:e.in)||t,NaN):(a&&n.setDate(n.getDate()+a),n)}function Pr(t,a,e){const n=$e(t,e==null?void 0:e.in);if(isNaN(a))return Yt(t,NaN);if(!a)return n;const s=n.getDate(),l=Yt(t,n.getTime());l.setMonth(n.getMonth()+a+1,0);const c=l.getDate();return s>=c?l:(n.setFullYear(l.getFullYear(),l.getMonth(),s),n)}function cE(t,a,e){return Yt(t,+$e(t)+a)}function G_(t,a,e){return cE(t,a*Ed)}let q_={};function Co(){return q_}function Ys(t,a){var u,m,h,f;const e=Co(),n=(a==null?void 0:a.weekStartsOn)??((m=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:m.weekStartsOn)??e.weekStartsOn??((f=(h=e.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,s=$e(t,a==null?void 0:a.in),l=s.getDay(),c=(l<n?7:0)+l-n;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function bl(t,a){return Ys(t,{...a,weekStartsOn:1})}function dE(t,a){const e=$e(t,a==null?void 0:a.in),n=e.getFullYear(),s=Yt(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const l=bl(s),c=Yt(e,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const u=bl(c);return e.getTime()>=l.getTime()?n+1:e.getTime()>=u.getTime()?n:n-1}function Sm(t){const a=$e(t),e=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return e.setUTCFullYear(a.getFullYear()),+t-+e}function rs(t,...a){const e=Yt.bind(null,a.find(n=>typeof n=="object"));return a.map(e)}function vo(t,a){const e=$e(t,a==null?void 0:a.in);return e.setHours(0,0,0,0),e}function vl(t,a,e){const[n,s]=rs(e==null?void 0:e.in,t,a),l=vo(n),c=vo(s),u=+l-Sm(l),m=+c-Sm(c);return Math.round((u-m)/Y_)}function Z_(t,a){const e=dE(t,a),n=Yt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),bl(n)}function Ug(t,a,e){const n=$e(t,e==null?void 0:e.in);return n.setTime(n.getTime()+a*Cp),n}function N0(t,a,e){return Pr(t,a*3,e)}function V_(t,a,e){return cE(t,a*1e3)}function Cm(t,a,e){return Lr(t,a*7,e)}function Os(t,a,e){return Pr(t,a*12,e)}function Uv(t,a){let e,n=a==null?void 0:a.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=Yt.bind(null,s));const l=$e(s,n);(!e||e<l||isNaN(+l))&&(e=l)}),Yt(n,e||NaN)}function Fv(t,a){let e,n=a==null?void 0:a.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=Yt.bind(null,s));const l=$e(s,n);(!e||e>l||isNaN(+l))&&(e=l)}),Yt(n,e||NaN)}function Q_(t,a,e){const[n,s]=rs(e==null?void 0:e.in,t,a);return+vo(n)==+vo(s)}function zs(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _m(t){return!(!zs(t)&&typeof t!="number"||isNaN(+$e(t)))}function Im(t,a,e){const[n,s]=rs(e==null?void 0:e.in,t,a),l=n.getFullYear()-s.getFullYear(),c=n.getMonth()-s.getMonth();return l*12+c}function ho(t,a){const e=$e(t,a==null?void 0:a.in);return Math.trunc(e.getMonth()/3)+1}function Nm(t,a,e){const[n,s]=rs(e==null?void 0:e.in,t,a),l=n.getFullYear()-s.getFullYear(),c=ho(n)-ho(s);return l*4+c}function km(t,a,e){const[n,s]=rs(e==null?void 0:e.in,t,a);return n.getFullYear()-s.getFullYear()}function uE(t,a,e){const[n,s]=rs(e==null?void 0:e.in,t,a),l=Wv(n,s),c=Math.abs(vl(n,s));n.setDate(n.getDate()-l*c);const u=+(Wv(n,s)===-l),m=l*(c-u);return m===0?0:m}function Wv(t,a){const e=t.getFullYear()-a.getFullYear()||t.getMonth()-a.getMonth()||t.getDate()-a.getDate()||t.getHours()-a.getHours()||t.getMinutes()-a.getMinutes()||t.getSeconds()-a.getSeconds()||t.getMilliseconds()-a.getMilliseconds();return e<0?-1:e>0?1:e}function J_(t){return a=>{const e=Math.trunc,n=e(a);return n===0?0:n}}function X_(t,a,e){const[n,s]=rs(e==null?void 0:e.in,t,a),l=(+n-+s)/Ed;return J_()(l)}function mE(t,a){const e=$e(t,a==null?void 0:a.in);return e.setHours(23,59,59,999),e}function pE(t,a){const e=$e(t,a==null?void 0:a.in),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Fg(t,a){const e=$e(t,a==null?void 0:a.in),n=e.getMonth(),s=n-n%3;return e.setMonth(s,1),e.setHours(0,0,0,0),e}function fE(t,a){const e=$e(t,a==null?void 0:a.in);return e.setDate(1),e.setHours(0,0,0,0),e}function hE(t,a){const e=$e(t,a==null?void 0:a.in),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function _p(t,a){const e=$e(t,a==null?void 0:a.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}function K_(t,a){var u,m;const e=Co(),n=e.weekStartsOn??((m=(u=e.locale)==null?void 0:u.options)==null?void 0:m.weekStartsOn)??0,s=$e(t,a==null?void 0:a.in),l=s.getDay(),c=(l<n?-7:0)+6-(l-n);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}const e3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},t3=(t,a,e)=>{let n;const s=e3[t];return typeof s=="string"?n=s:a===1?n=s.one:n=s.other.replace("{{count}}",a.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+n:n+" ago":n};function Vh(t){return(a={})=>{const e=a.width?String(a.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}const n3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},a3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},r3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s3={date:Vh({formats:n3,defaultWidth:"full"}),time:Vh({formats:a3,defaultWidth:"full"}),dateTime:Vh({formats:r3,defaultWidth:"full"})},i3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},o3=(t,a,e,n)=>i3[t];function Mc(t){return(a,e)=>{const n=e!=null&&e.context?String(e.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,u=e!=null&&e.width?String(e.width):c;s=t.formattingValues[u]||t.formattingValues[c]}else{const c=t.defaultWidth,u=e!=null&&e.width?String(e.width):t.defaultWidth;s=t.values[u]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(a):a;return s[l]}}const l3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},c3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},d3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},u3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},m3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},p3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},f3=(t,a)=>{const e=Number(t),n=e%100;if(n>20||n<10)switch(n%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},h3={ordinalNumber:f3,era:Mc({values:l3,defaultWidth:"wide"}),quarter:Mc({values:c3,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mc({values:d3,defaultWidth:"wide"}),day:Mc({values:u3,defaultWidth:"wide"}),dayPeriod:Mc({values:m3,defaultWidth:"wide",formattingValues:p3,defaultFormattingWidth:"wide"})};function Tc(t){return(a,e={})=>{const n=e.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],l=a.match(s);if(!l)return null;const c=l[0],u=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(u)?y3(u,y=>y.test(c)):g3(u,y=>y.test(c));let h;h=t.valueCallback?t.valueCallback(m):m,h=e.valueCallback?e.valueCallback(h):h;const f=a.slice(c.length);return{value:h,rest:f}}}function g3(t,a){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&a(t[e]))return e}function y3(t,a){for(let e=0;e<t.length;e++)if(a(t[e]))return e}function b3(t){return(a,e={})=>{const n=a.match(t.matchPattern);if(!n)return null;const s=n[0],l=a.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=e.valueCallback?e.valueCallback(c):c;const u=a.slice(s.length);return{value:c,rest:u}}}const v3=/^(\d+)(th|st|nd|rd)?/i,x3=/\d+/i,E3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},w3={any:[/^b/i,/^(a|c)/i]},S3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},C3={any:[/1/i,/2/i,/3/i,/4/i]},_3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},I3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},N3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},k3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},A3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},D3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},M3={ordinalNumber:b3({matchPattern:v3,parsePattern:x3,valueCallback:t=>parseInt(t,10)}),era:Tc({matchPatterns:E3,defaultMatchWidth:"wide",parsePatterns:w3,defaultParseWidth:"any"}),quarter:Tc({matchPatterns:S3,defaultMatchWidth:"wide",parsePatterns:C3,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Tc({matchPatterns:_3,defaultMatchWidth:"wide",parsePatterns:I3,defaultParseWidth:"any"}),day:Tc({matchPatterns:N3,defaultMatchWidth:"wide",parsePatterns:k3,defaultParseWidth:"any"}),dayPeriod:Tc({matchPatterns:A3,defaultMatchWidth:"any",parsePatterns:D3,defaultParseWidth:"any"})},gE={code:"en-US",formatDistance:t3,formatLong:s3,formatRelative:o3,localize:h3,match:M3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function T3(t,a){const e=$e(t,a==null?void 0:a.in);return vl(e,_p(e))+1}function k0(t,a){const e=$e(t,a==null?void 0:a.in),n=+bl(e)-+Z_(e);return Math.round(n/lE)+1}function A0(t,a){var f,y,b,E;const e=$e(t,a==null?void 0:a.in),n=e.getFullYear(),s=Co(),l=(a==null?void 0:a.firstWeekContainsDate)??((y=(f=a==null?void 0:a.locale)==null?void 0:f.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((E=(b=s.locale)==null?void 0:b.options)==null?void 0:E.firstWeekContainsDate)??1,c=Yt((a==null?void 0:a.in)||t,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const u=Ys(c,a),m=Yt((a==null?void 0:a.in)||t,0);m.setFullYear(n,0,l),m.setHours(0,0,0,0);const h=Ys(m,a);return+e>=+u?n+1:+e>=+h?n:n-1}function R3(t,a){var u,m,h,f;const e=Co(),n=(a==null?void 0:a.firstWeekContainsDate)??((m=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??e.firstWeekContainsDate??((f=(h=e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,s=A0(t,a),l=Yt((a==null?void 0:a.in)||t,0);return l.setFullYear(s,0,n),l.setHours(0,0,0,0),Ys(l,a)}function yE(t,a){const e=$e(t,a==null?void 0:a.in),n=+Ys(e,a)-+R3(e,a);return Math.round(n/lE)+1}function jt(t,a){const e=t<0?"-":"",n=Math.abs(t).toString().padStart(a,"0");return e+n}const wi={y(t,a){const e=t.getFullYear(),n=e>0?e:1-e;return jt(a==="yy"?n%100:n,a.length)},M(t,a){const e=t.getMonth();return a==="M"?String(e+1):jt(e+1,2)},d(t,a){return jt(t.getDate(),a.length)},a(t,a){const e=t.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(t,a){return jt(t.getHours()%12||12,a.length)},H(t,a){return jt(t.getHours(),a.length)},m(t,a){return jt(t.getMinutes(),a.length)},s(t,a){return jt(t.getSeconds(),a.length)},S(t,a){const e=a.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,e-3));return jt(s,a.length)}},il={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jv={G:function(t,a,e){const n=t.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return e.era(n,{width:"abbreviated"});case"GGGGG":return e.era(n,{width:"narrow"});case"GGGG":default:return e.era(n,{width:"wide"})}},y:function(t,a,e){if(a==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return e.ordinalNumber(s,{unit:"year"})}return wi.y(t,a)},Y:function(t,a,e,n){const s=A0(t,n),l=s>0?s:1-s;if(a==="YY"){const c=l%100;return jt(c,2)}return a==="Yo"?e.ordinalNumber(l,{unit:"year"}):jt(l,a.length)},R:function(t,a){const e=dE(t);return jt(e,a.length)},u:function(t,a){const e=t.getFullYear();return jt(e,a.length)},Q:function(t,a,e){const n=Math.ceil((t.getMonth()+1)/3);switch(a){case"Q":return String(n);case"QQ":return jt(n,2);case"Qo":return e.ordinalNumber(n,{unit:"quarter"});case"QQQ":return e.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,a,e){const n=Math.ceil((t.getMonth()+1)/3);switch(a){case"q":return String(n);case"qq":return jt(n,2);case"qo":return e.ordinalNumber(n,{unit:"quarter"});case"qqq":return e.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,a,e){const n=t.getMonth();switch(a){case"M":case"MM":return wi.M(t,a);case"Mo":return e.ordinalNumber(n+1,{unit:"month"});case"MMM":return e.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(n,{width:"wide",context:"formatting"})}},L:function(t,a,e){const n=t.getMonth();switch(a){case"L":return String(n+1);case"LL":return jt(n+1,2);case"Lo":return e.ordinalNumber(n+1,{unit:"month"});case"LLL":return e.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(n,{width:"wide",context:"standalone"})}},w:function(t,a,e,n){const s=yE(t,n);return a==="wo"?e.ordinalNumber(s,{unit:"week"}):jt(s,a.length)},I:function(t,a,e){const n=k0(t);return a==="Io"?e.ordinalNumber(n,{unit:"week"}):jt(n,a.length)},d:function(t,a,e){return a==="do"?e.ordinalNumber(t.getDate(),{unit:"date"}):wi.d(t,a)},D:function(t,a,e){const n=T3(t);return a==="Do"?e.ordinalNumber(n,{unit:"dayOfYear"}):jt(n,a.length)},E:function(t,a,e){const n=t.getDay();switch(a){case"E":case"EE":case"EEE":return e.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(n,{width:"short",context:"formatting"});case"EEEE":default:return e.day(n,{width:"wide",context:"formatting"})}},e:function(t,a,e,n){const s=t.getDay(),l=(s-n.weekStartsOn+8)%7||7;switch(a){case"e":return String(l);case"ee":return jt(l,2);case"eo":return e.ordinalNumber(l,{unit:"day"});case"eee":return e.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(s,{width:"short",context:"formatting"});case"eeee":default:return e.day(s,{width:"wide",context:"formatting"})}},c:function(t,a,e,n){const s=t.getDay(),l=(s-n.weekStartsOn+8)%7||7;switch(a){case"c":return String(l);case"cc":return jt(l,a.length);case"co":return e.ordinalNumber(l,{unit:"day"});case"ccc":return e.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(s,{width:"narrow",context:"standalone"});case"cccccc":return e.day(s,{width:"short",context:"standalone"});case"cccc":default:return e.day(s,{width:"wide",context:"standalone"})}},i:function(t,a,e){const n=t.getDay(),s=n===0?7:n;switch(a){case"i":return String(s);case"ii":return jt(s,a.length);case"io":return e.ordinalNumber(s,{unit:"day"});case"iii":return e.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(n,{width:"short",context:"formatting"});case"iiii":default:return e.day(n,{width:"wide",context:"formatting"})}},a:function(t,a,e){const s=t.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,a,e){const n=t.getHours();let s;switch(n===12?s=il.noon:n===0?s=il.midnight:s=n/12>=1?"pm":"am",a){case"b":case"bb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,a,e){const n=t.getHours();let s;switch(n>=17?s=il.evening:n>=12?s=il.afternoon:n>=4?s=il.morning:s=il.night,a){case"B":case"BB":case"BBB":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,a,e){if(a==="ho"){let n=t.getHours()%12;return n===0&&(n=12),e.ordinalNumber(n,{unit:"hour"})}return wi.h(t,a)},H:function(t,a,e){return a==="Ho"?e.ordinalNumber(t.getHours(),{unit:"hour"}):wi.H(t,a)},K:function(t,a,e){const n=t.getHours()%12;return a==="Ko"?e.ordinalNumber(n,{unit:"hour"}):jt(n,a.length)},k:function(t,a,e){let n=t.getHours();return n===0&&(n=24),a==="ko"?e.ordinalNumber(n,{unit:"hour"}):jt(n,a.length)},m:function(t,a,e){return a==="mo"?e.ordinalNumber(t.getMinutes(),{unit:"minute"}):wi.m(t,a)},s:function(t,a,e){return a==="so"?e.ordinalNumber(t.getSeconds(),{unit:"second"}):wi.s(t,a)},S:function(t,a){return wi.S(t,a)},X:function(t,a,e){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(a){case"X":return Yv(n);case"XXXX":case"XX":return io(n);case"XXXXX":case"XXX":default:return io(n,":")}},x:function(t,a,e){const n=t.getTimezoneOffset();switch(a){case"x":return Yv(n);case"xxxx":case"xx":return io(n);case"xxxxx":case"xxx":default:return io(n,":")}},O:function(t,a,e){const n=t.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+Hv(n,":");case"OOOO":default:return"GMT"+io(n,":")}},z:function(t,a,e){const n=t.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+Hv(n,":");case"zzzz":default:return"GMT"+io(n,":")}},t:function(t,a,e){const n=Math.trunc(+t/1e3);return jt(n,a.length)},T:function(t,a,e){return jt(+t,a.length)}};function Hv(t,a=""){const e=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),l=n%60;return l===0?e+String(s):e+String(s)+a+jt(l,2)}function Yv(t,a){return t%60===0?(t>0?"-":"+")+jt(Math.abs(t)/60,2):io(t,a)}function io(t,a=""){const e=t>0?"-":"+",n=Math.abs(t),s=jt(Math.trunc(n/60),2),l=jt(n%60,2);return e+s+a+l}const $v=(t,a)=>{switch(t){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},bE=(t,a)=>{switch(t){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},L3=(t,a)=>{const e=t.match(/(P+)(p+)?/)||[],n=e[1],s=e[2];if(!s)return $v(t,a);let l;switch(n){case"P":l=a.dateTime({width:"short"});break;case"PP":l=a.dateTime({width:"medium"});break;case"PPP":l=a.dateTime({width:"long"});break;case"PPPP":default:l=a.dateTime({width:"full"});break}return l.replace("{{date}}",$v(n,a)).replace("{{time}}",bE(s,a))},Wg={p:bE,P:L3},P3=/^D+$/,B3=/^Y+$/,O3=["D","DD","YY","YYYY"];function z3(t){return P3.test(t)}function U3(t){return B3.test(t)}function F3(t,a,e){const n=W3(t,a,e);if(console.warn(n),O3.includes(t))throw new RangeError(n)}function W3(t,a,e){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${a}\`) for formatting ${n} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const j3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,H3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Y3=/^'([^]*?)'?$/,$3=/''/g,G3=/[a-zA-Z]/;function Ca(t,a,e){var f,y,b,E,w,_,C,S;const n=Co(),s=(e==null?void 0:e.locale)??n.locale??gE,l=(e==null?void 0:e.firstWeekContainsDate)??((y=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:y.firstWeekContainsDate)??n.firstWeekContainsDate??((E=(b=n.locale)==null?void 0:b.options)==null?void 0:E.firstWeekContainsDate)??1,c=(e==null?void 0:e.weekStartsOn)??((_=(w=e==null?void 0:e.locale)==null?void 0:w.options)==null?void 0:_.weekStartsOn)??n.weekStartsOn??((S=(C=n.locale)==null?void 0:C.options)==null?void 0:S.weekStartsOn)??0,u=$e(t,e==null?void 0:e.in);if(!_m(u))throw new RangeError("Invalid time value");let m=a.match(H3).map(I=>{const k=I[0];if(k==="p"||k==="P"){const N=Wg[k];return N(I,s.formatLong)}return I}).join("").match(j3).map(I=>{if(I==="''")return{isToken:!1,value:"'"};const k=I[0];if(k==="'")return{isToken:!1,value:q3(I)};if(jv[k])return{isToken:!0,value:I};if(k.match(G3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:I}});s.localize.preprocessor&&(m=s.localize.preprocessor(u,m));const h={firstWeekContainsDate:l,weekStartsOn:c,locale:s};return m.map(I=>{if(!I.isToken)return I.value;const k=I.value;(!(e!=null&&e.useAdditionalWeekYearTokens)&&U3(k)||!(e!=null&&e.useAdditionalDayOfYearTokens)&&z3(k))&&F3(k,a,String(t));const N=jv[k[0]];return N(u,k,s.localize,h)}).join("")}function q3(t){const a=t.match(Y3);return a?a[1].replace($3,"'"):t}function Gv(t,a){return $e(t,a==null?void 0:a.in).getDate()}function Z3(t,a){return $e(t,a==null?void 0:a.in).getDay()}function V3(t,a){const e=$e(t,a==null?void 0:a.in),n=e.getFullYear(),s=e.getMonth(),l=Yt(e,0);return l.setFullYear(n,s+1,0),l.setHours(0,0,0,0),l.getDate()}function Q3(){return Object.assign({},Co())}function Us(t,a){return $e(t,a==null?void 0:a.in).getHours()}function J3(t,a){const e=$e(t,a==null?void 0:a.in).getDay();return e===0?7:e}function Fs(t,a){return $e(t,a==null?void 0:a.in).getMinutes()}function va(t,a){return $e(t,a==null?void 0:a.in).getMonth()}function Ri(t){return $e(t).getSeconds()}function jg(t){return+$e(t)}function Et(t,a){return $e(t,a==null?void 0:a.in).getFullYear()}function $s(t,a){return+$e(t)>+$e(a)}function xo(t,a){return+$e(t)<+$e(a)}function X3(t,a){return+$e(t)==+$e(a)}function K3(t,a){const e=e4(a)?new a(0):Yt(a,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e}function e4(t){var a;return typeof t=="function"&&((a=t.prototype)==null?void 0:a.constructor)===t}const t4=10;class vE{constructor(){ze(this,"subPriority",0)}validate(a,e){return!0}}class n4 extends vE{constructor(a,e,n,s,l){super(),this.value=a,this.validateValue=e,this.setValue=n,this.priority=s,l&&(this.subPriority=l)}validate(a,e){return this.validateValue(a,this.value,e)}set(a,e,n){return this.setValue(a,e,this.value,n)}}class a4 extends vE{constructor(e,n){super();ze(this,"priority",t4);ze(this,"subPriority",-1);this.context=e||(s=>Yt(n,s))}set(e,n){return n.timestampIsSet?e:Yt(e,K3(e,this.context))}}class Ot{run(a,e,n,s){const l=this.parse(a,e,n,s);return l?{setter:new n4(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(a,e,n){return!0}}class r4 extends Ot{constructor(){super(...arguments);ze(this,"priority",140);ze(this,"incompatibleTokens",["R","u","t","T"])}parse(e,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"});case"GGGGG":return s.era(e,{width:"narrow"});case"GGGG":default:return s.era(e,{width:"wide"})||s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"})}}set(e,n,s){return n.era=s,e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}const On={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Qr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function zn(t,a){return t&&{value:a(t.value),rest:t.rest}}function wn(t,a){const e=a.match(t);return e?{value:parseInt(e[0],10),rest:a.slice(e[0].length)}:null}function Jr(t,a){const e=a.match(t);if(!e)return null;if(e[0]==="Z")return{value:0,rest:a.slice(1)};const n=e[1]==="+"?1:-1,s=e[2]?parseInt(e[2],10):0,l=e[3]?parseInt(e[3],10):0,c=e[5]?parseInt(e[5],10):0;return{value:n*(s*Ed+l*Cp+c*$_),rest:a.slice(e[0].length)}}function xE(t){return wn(On.anyDigitsSigned,t)}function An(t,a){switch(t){case 1:return wn(On.singleDigit,a);case 2:return wn(On.twoDigits,a);case 3:return wn(On.threeDigits,a);case 4:return wn(On.fourDigits,a);default:return wn(new RegExp("^\\d{1,"+t+"}"),a)}}function Am(t,a){switch(t){case 1:return wn(On.singleDigitSigned,a);case 2:return wn(On.twoDigitsSigned,a);case 3:return wn(On.threeDigitsSigned,a);case 4:return wn(On.fourDigitsSigned,a);default:return wn(new RegExp("^-?\\d{1,"+t+"}"),a)}}function D0(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function EE(t,a){const e=a>0,n=e?a:1-a;let s;if(n<=50)s=t||100;else{const l=n+50,c=Math.trunc(l/100)*100,u=t>=l%100;s=t+c-(u?100:0)}return e?s:1-s}function wE(t){return t%400===0||t%4===0&&t%100!==0}class s4 extends Ot{constructor(){super(...arguments);ze(this,"priority",130);ze(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,n,s){const l=c=>({year:c,isTwoDigitYear:n==="yy"});switch(n){case"y":return zn(An(4,e),l);case"yo":return zn(s.ordinalNumber(e,{unit:"year"}),l);default:return zn(An(n.length,e),l)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,s){const l=e.getFullYear();if(s.isTwoDigitYear){const u=EE(s.year,l);return e.setFullYear(u,0,1),e.setHours(0,0,0,0),e}const c=!("era"in n)||n.era===1?s.year:1-s.year;return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}}class i4 extends Ot{constructor(){super(...arguments);ze(this,"priority",130);ze(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,n,s){const l=c=>({year:c,isTwoDigitYear:n==="YY"});switch(n){case"Y":return zn(An(4,e),l);case"Yo":return zn(s.ordinalNumber(e,{unit:"year"}),l);default:return zn(An(n.length,e),l)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,s,l){const c=A0(e,l);if(s.isTwoDigitYear){const m=EE(s.year,c);return e.setFullYear(m,0,l.firstWeekContainsDate),e.setHours(0,0,0,0),Ys(e,l)}const u=!("era"in n)||n.era===1?s.year:1-s.year;return e.setFullYear(u,0,l.firstWeekContainsDate),e.setHours(0,0,0,0),Ys(e,l)}}class o4 extends Ot{constructor(){super(...arguments);ze(this,"priority",130);ze(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,n){return Am(n==="R"?4:n.length,e)}set(e,n,s){const l=Yt(e,0);return l.setFullYear(s,0,4),l.setHours(0,0,0,0),bl(l)}}class l4 extends Ot{constructor(){super(...arguments);ze(this,"priority",130);ze(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,n){return Am(n==="u"?4:n.length,e)}set(e,n,s){return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class c4 extends Ot{constructor(){super(...arguments);ze(this,"priority",120);ze(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,n,s){switch(n){case"Q":case"QQ":return An(n.length,e);case"Qo":return s.ordinalNumber(e,{unit:"quarter"});case"QQQ":return s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(e,{width:"wide",context:"formatting"})||s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=1&&n<=4}set(e,n,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}}class d4 extends Ot{constructor(){super(...arguments);ze(this,"priority",120);ze(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,n,s){switch(n){case"q":case"qq":return An(n.length,e);case"qo":return s.ordinalNumber(e,{unit:"quarter"});case"qqq":return s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(e,{width:"wide",context:"standalone"})||s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=1&&n<=4}set(e,n,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}}class u4 extends Ot{constructor(){super(...arguments);ze(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ze(this,"priority",110)}parse(e,n,s){const l=c=>c-1;switch(n){case"M":return zn(wn(On.month,e),l);case"MM":return zn(An(2,e),l);case"Mo":return zn(s.ordinalNumber(e,{unit:"month"}),l);case"MMM":return s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(e,{width:"wide",context:"formatting"})||s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=11}set(e,n,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}}class m4 extends Ot{constructor(){super(...arguments);ze(this,"priority",110);ze(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,n,s){const l=c=>c-1;switch(n){case"L":return zn(wn(On.month,e),l);case"LL":return zn(An(2,e),l);case"Lo":return zn(s.ordinalNumber(e,{unit:"month"}),l);case"LLL":return s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(e,{width:"wide",context:"standalone"})||s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=11}set(e,n,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}}function p4(t,a,e){const n=$e(t,e==null?void 0:e.in),s=yE(n,e)-a;return n.setDate(n.getDate()-s*7),$e(n,e==null?void 0:e.in)}class f4 extends Ot{constructor(){super(...arguments);ze(this,"priority",100);ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,n,s){switch(n){case"w":return wn(On.week,e);case"wo":return s.ordinalNumber(e,{unit:"week"});default:return An(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,s,l){return Ys(p4(e,s,l),l)}}function h4(t,a,e){const n=$e(t,e==null?void 0:e.in),s=k0(n,e)-a;return n.setDate(n.getDate()-s*7),n}class g4 extends Ot{constructor(){super(...arguments);ze(this,"priority",100);ze(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,n,s){switch(n){case"I":return wn(On.week,e);case"Io":return s.ordinalNumber(e,{unit:"week"});default:return An(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,s){return bl(h4(e,s))}}const y4=[31,28,31,30,31,30,31,31,30,31,30,31],b4=[31,29,31,30,31,30,31,31,30,31,30,31];class v4 extends Ot{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"subPriority",1);ze(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,n,s){switch(n){case"d":return wn(On.date,e);case"do":return s.ordinalNumber(e,{unit:"date"});default:return An(n.length,e)}}validate(e,n){const s=e.getFullYear(),l=wE(s),c=e.getMonth();return l?n>=1&&n<=b4[c]:n>=1&&n<=y4[c]}set(e,n,s){return e.setDate(s),e.setHours(0,0,0,0),e}}class x4 extends Ot{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"subpriority",1);ze(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,n,s){switch(n){case"D":case"DD":return wn(On.dayOfYear,e);case"Do":return s.ordinalNumber(e,{unit:"date"});default:return An(n.length,e)}}validate(e,n){const s=e.getFullYear();return wE(s)?n>=1&&n<=366:n>=1&&n<=365}set(e,n,s){return e.setMonth(0,s),e.setHours(0,0,0,0),e}}function M0(t,a,e){var y,b,E,w;const n=Co(),s=(e==null?void 0:e.weekStartsOn)??((b=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??n.weekStartsOn??((w=(E=n.locale)==null?void 0:E.options)==null?void 0:w.weekStartsOn)??0,l=$e(t,e==null?void 0:e.in),c=l.getDay(),m=(a%7+7)%7,h=7-s,f=a<0||a>6?a-(c+h)%7:(m+h)%7-(c+h)%7;return Lr(l,f,e)}class E4 extends Ot{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,s,l){return e=M0(e,s,l),e.setHours(0,0,0,0),e}}class w4 extends Ot{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,n,s,l){const c=u=>{const m=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+m};switch(n){case"e":case"ee":return zn(An(n.length,e),c);case"eo":return zn(s.ordinalNumber(e,{unit:"day"}),c);case"eee":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeeee":return s.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,s,l){return e=M0(e,s,l),e.setHours(0,0,0,0),e}}class S4 extends Ot{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,n,s,l){const c=u=>{const m=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+m};switch(n){case"c":case"cc":return zn(An(n.length,e),c);case"co":return zn(s.ordinalNumber(e,{unit:"day"}),c);case"ccc":return s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"ccccc":return s.day(e,{width:"narrow",context:"standalone"});case"cccccc":return s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(e,{width:"wide",context:"standalone"})||s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=6}set(e,n,s,l){return e=M0(e,s,l),e.setHours(0,0,0,0),e}}function C4(t,a,e){const n=$e(t,e==null?void 0:e.in),s=J3(n,e),l=a-s;return Lr(n,l,e)}class _4 extends Ot{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,n,s){const l=c=>c===0?7:c;switch(n){case"i":case"ii":return An(n.length,e);case"io":return s.ordinalNumber(e,{unit:"day"});case"iii":return zn(s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),l);case"iiiii":return zn(s.day(e,{width:"narrow",context:"formatting"}),l);case"iiiiii":return zn(s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),l);case"iiii":default:return zn(s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),l)}}validate(e,n){return n>=1&&n<=7}set(e,n,s){return e=C4(e,s),e.setHours(0,0,0,0),e}}class I4 extends Ot{constructor(){super(...arguments);ze(this,"priority",80);ze(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,s){return e.setHours(D0(s),0,0,0),e}}class N4 extends Ot{constructor(){super(...arguments);ze(this,"priority",80);ze(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,s){return e.setHours(D0(s),0,0,0),e}}class k4 extends Ot{constructor(){super(...arguments);ze(this,"priority",80);ze(this,"incompatibleTokens",["a","b","t","T"])}parse(e,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,s){return e.setHours(D0(s),0,0,0),e}}class A4 extends Ot{constructor(){super(...arguments);ze(this,"priority",70);ze(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,n,s){switch(n){case"h":return wn(On.hour12h,e);case"ho":return s.ordinalNumber(e,{unit:"hour"});default:return An(n.length,e)}}validate(e,n){return n>=1&&n<=12}set(e,n,s){const l=e.getHours()>=12;return l&&s<12?e.setHours(s+12,0,0,0):!l&&s===12?e.setHours(0,0,0,0):e.setHours(s,0,0,0),e}}class D4 extends Ot{constructor(){super(...arguments);ze(this,"priority",70);ze(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,n,s){switch(n){case"H":return wn(On.hour23h,e);case"Ho":return s.ordinalNumber(e,{unit:"hour"});default:return An(n.length,e)}}validate(e,n){return n>=0&&n<=23}set(e,n,s){return e.setHours(s,0,0,0),e}}class M4 extends Ot{constructor(){super(...arguments);ze(this,"priority",70);ze(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,n,s){switch(n){case"K":return wn(On.hour11h,e);case"Ko":return s.ordinalNumber(e,{unit:"hour"});default:return An(n.length,e)}}validate(e,n){return n>=0&&n<=11}set(e,n,s){return e.getHours()>=12&&s<12?e.setHours(s+12,0,0,0):e.setHours(s,0,0,0),e}}class T4 extends Ot{constructor(){super(...arguments);ze(this,"priority",70);ze(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,n,s){switch(n){case"k":return wn(On.hour24h,e);case"ko":return s.ordinalNumber(e,{unit:"hour"});default:return An(n.length,e)}}validate(e,n){return n>=1&&n<=24}set(e,n,s){const l=s<=24?s%24:s;return e.setHours(l,0,0,0),e}}class R4 extends Ot{constructor(){super(...arguments);ze(this,"priority",60);ze(this,"incompatibleTokens",["t","T"])}parse(e,n,s){switch(n){case"m":return wn(On.minute,e);case"mo":return s.ordinalNumber(e,{unit:"minute"});default:return An(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,s){return e.setMinutes(s,0,0),e}}class L4 extends Ot{constructor(){super(...arguments);ze(this,"priority",50);ze(this,"incompatibleTokens",["t","T"])}parse(e,n,s){switch(n){case"s":return wn(On.second,e);case"so":return s.ordinalNumber(e,{unit:"second"});default:return An(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,s){return e.setSeconds(s,0),e}}class P4 extends Ot{constructor(){super(...arguments);ze(this,"priority",30);ze(this,"incompatibleTokens",["t","T"])}parse(e,n){const s=l=>Math.trunc(l*Math.pow(10,-n.length+3));return zn(An(n.length,e),s)}set(e,n,s){return e.setMilliseconds(s),e}}class B4 extends Ot{constructor(){super(...arguments);ze(this,"priority",10);ze(this,"incompatibleTokens",["t","T","x"])}parse(e,n){switch(n){case"X":return Jr(Qr.basicOptionalMinutes,e);case"XX":return Jr(Qr.basic,e);case"XXXX":return Jr(Qr.basicOptionalSeconds,e);case"XXXXX":return Jr(Qr.extendedOptionalSeconds,e);case"XXX":default:return Jr(Qr.extended,e)}}set(e,n,s){return n.timestampIsSet?e:Yt(e,e.getTime()-Sm(e)-s)}}class O4 extends Ot{constructor(){super(...arguments);ze(this,"priority",10);ze(this,"incompatibleTokens",["t","T","X"])}parse(e,n){switch(n){case"x":return Jr(Qr.basicOptionalMinutes,e);case"xx":return Jr(Qr.basic,e);case"xxxx":return Jr(Qr.basicOptionalSeconds,e);case"xxxxx":return Jr(Qr.extendedOptionalSeconds,e);case"xxx":default:return Jr(Qr.extended,e)}}set(e,n,s){return n.timestampIsSet?e:Yt(e,e.getTime()-Sm(e)-s)}}class z4 extends Ot{constructor(){super(...arguments);ze(this,"priority",40);ze(this,"incompatibleTokens","*")}parse(e){return xE(e)}set(e,n,s){return[Yt(e,s*1e3),{timestampIsSet:!0}]}}class U4 extends Ot{constructor(){super(...arguments);ze(this,"priority",20);ze(this,"incompatibleTokens","*")}parse(e){return xE(e)}set(e,n,s){return[Yt(e,s),{timestampIsSet:!0}]}}const F4={G:new r4,y:new s4,Y:new i4,R:new o4,u:new l4,Q:new c4,q:new d4,M:new u4,L:new m4,w:new f4,I:new g4,d:new v4,D:new x4,E:new E4,e:new w4,c:new S4,i:new _4,a:new I4,b:new N4,B:new k4,h:new A4,H:new D4,K:new M4,k:new T4,m:new R4,s:new L4,S:new P4,X:new B4,x:new O4,t:new z4,T:new U4},W4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,j4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,H4=/^'([^]*?)'?$/,Y4=/''/g,$4=/\S/,G4=/[a-zA-Z]/;function q4(t,a,e,n){var C,S,I,k,N,M,R,$;const s=()=>Yt((n==null?void 0:n.in)||e,NaN),l=Q3(),c=(n==null?void 0:n.locale)??l.locale??gE,u=(n==null?void 0:n.firstWeekContainsDate)??((S=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:S.firstWeekContainsDate)??l.firstWeekContainsDate??((k=(I=l.locale)==null?void 0:I.options)==null?void 0:k.firstWeekContainsDate)??1,m=(n==null?void 0:n.weekStartsOn)??((M=(N=n==null?void 0:n.locale)==null?void 0:N.options)==null?void 0:M.weekStartsOn)??l.weekStartsOn??(($=(R=l.locale)==null?void 0:R.options)==null?void 0:$.weekStartsOn)??0;if(!a)return t?s():$e(e,n==null?void 0:n.in);const h={firstWeekContainsDate:u,weekStartsOn:m,locale:c},f=[new a4(n==null?void 0:n.in,e)],y=a.match(j4).map(z=>{const Y=z[0];if(Y in Wg){const J=Wg[Y];return J(z,c.formatLong)}return z}).join("").match(W4),b=[];for(let z of y){const Y=z[0],J=F4[Y];if(J){const{incompatibleTokens:ae}=J;if(Array.isArray(ae)){const Z=b.find(O=>ae.includes(O.token)||O.token===Y);if(Z)throw new RangeError(`The format string mustn't contain \`${Z.fullToken}\` and \`${z}\` at the same time`)}else if(J.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${z}\` and any other token at the same time`);b.push({token:Y,fullToken:z});const H=J.run(t,z,c.match,h);if(!H)return s();f.push(H.setter),t=H.rest}else{if(Y.match(G4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");if(z==="''"?z="'":Y==="'"&&(z=Z4(z)),t.indexOf(z)===0)t=t.slice(z.length);else return s()}}if(t.length>0&&$4.test(t))return s();const E=f.map(z=>z.priority).sort((z,Y)=>Y-z).filter((z,Y,J)=>J.indexOf(z)===Y).map(z=>f.filter(Y=>Y.priority===z).sort((Y,J)=>J.subPriority-Y.subPriority)).map(z=>z[0]);let w=$e(e,n==null?void 0:n.in);if(isNaN(+w))return s();const _={};for(const z of E){if(!z.validate(w,h))return s();const Y=z.set(w,_,h);Array.isArray(Y)?(w=Y[0],Object.assign(_,Y[1])):w=Y}return w}function Z4(t){return t.match(H4)[1].replace(Y4,"'")}function V4(t,a,e){const[n,s]=rs(e==null?void 0:e.in,t,a);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function Q4(t,a,e){const[n,s]=rs(e==null?void 0:e.in,t,a);return+Fg(n)==+Fg(s)}function J4(t,a,e){const[n,s]=rs(e==null?void 0:e.in,t,a);return n.getFullYear()===s.getFullYear()}function ld(t,a,e){const n=+$e(t,e==null?void 0:e.in),[s,l]=[+$e(a.start,e==null?void 0:e.in),+$e(a.end,e==null?void 0:e.in)].sort((c,u)=>c-u);return n>=s&&n<=l}function X4(t,a,e){return Lr(t,-1,e)}function SE(t,a){const e=()=>Yt(a==null?void 0:a.in,NaN),s=nI(t);let l;if(s.date){const h=aI(s.date,2);l=rI(h.restDateString,h.year)}if(!l||isNaN(+l))return e();const c=+l;let u=0,m;if(s.time&&(u=sI(s.time),isNaN(u)))return e();if(s.timezone){if(m=iI(s.timezone),isNaN(m))return e()}else{const h=new Date(c+u),f=$e(0,a==null?void 0:a.in);return f.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),f.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),f}return $e(c+u+m,a==null?void 0:a.in)}const ju={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},K4=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,eI=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tI=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nI(t){const a={},e=t.split(ju.dateTimeDelimiter);let n;if(e.length>2)return a;if(/:/.test(e[0])?n=e[0]:(a.date=e[0],n=e[1],ju.timeZoneDelimiter.test(a.date)&&(a.date=t.split(ju.timeZoneDelimiter)[0],n=t.substr(a.date.length,t.length))),n){const s=ju.timezone.exec(n);s?(a.time=n.replace(s[1],""),a.timezone=s[1]):a.time=n}return a}function aI(t,a){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),n=t.match(e);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,l=n[2]?parseInt(n[2]):null;return{year:l===null?s:l*100,restDateString:t.slice((n[1]||n[2]).length)}}function rI(t,a){if(a===null)return new Date(NaN);const e=t.match(K4);if(!e)return new Date(NaN);const n=!!e[4],s=Rc(e[1]),l=Rc(e[2])-1,c=Rc(e[3]),u=Rc(e[4]),m=Rc(e[5])-1;if(n)return uI(a,u,m)?oI(a,u,m):new Date(NaN);{const h=new Date(0);return!cI(a,l,c)||!dI(a,s)?new Date(NaN):(h.setUTCFullYear(a,l,Math.max(s,c)),h)}}function Rc(t){return t?parseInt(t):1}function sI(t){const a=t.match(eI);if(!a)return NaN;const e=Qh(a[1]),n=Qh(a[2]),s=Qh(a[3]);return mI(e,n,s)?e*Ed+n*Cp+s*1e3:NaN}function Qh(t){return t&&parseFloat(t.replace(",","."))||0}function iI(t){if(t==="Z")return 0;const a=t.match(tI);if(!a)return 0;const e=a[1]==="+"?-1:1,n=parseInt(a[2]),s=a[3]&&parseInt(a[3])||0;return pI(n,s)?e*(n*Ed+s*Cp):NaN}function oI(t,a,e){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,l=(a-1)*7+e+1-s;return n.setUTCDate(n.getUTCDate()+l),n}const lI=[31,null,31,30,31,30,31,31,30,31,30,31];function CE(t){return t%400===0||t%4===0&&t%100!==0}function cI(t,a,e){return a>=0&&a<=11&&e>=1&&e<=(lI[a]||(CE(t)?29:28))}function dI(t,a){return a>=1&&a<=(CE(t)?366:365)}function uI(t,a,e){return a>=1&&a<=53&&e>=0&&e<=6}function mI(t,a,e){return t===24?a===0&&e===0:e>=0&&e<60&&a>=0&&a<60&&t>=0&&t<25}function pI(t,a){return a>=0&&a<=59}function gr(t,a,e){const n=$e(t,e==null?void 0:e.in),s=n.getFullYear(),l=n.getDate(),c=Yt(t,0);c.setFullYear(s,a,15),c.setHours(0,0,0,0);const u=V3(c);return n.setMonth(a,Math.min(l,u)),n}function lm(t,a,e){const n=$e(t,e==null?void 0:e.in);return n.setHours(a),n}function cm(t,a,e){const n=$e(t,e==null?void 0:e.in);return n.setMinutes(a),n}function cl(t,a,e){const n=$e(t,e==null?void 0:e.in),s=Math.trunc(n.getMonth()/3)+1,l=a-s;return gr(n,n.getMonth()+l*3)}function dm(t,a,e){const n=$e(t,e==null?void 0:e.in);return n.setSeconds(a),n}function Zr(t,a,e){const n=$e(t,e==null?void 0:e.in);return isNaN(+n)?Yt(t,NaN):(n.setFullYear(a),n)}function go(t,a,e){return Pr(t,-a,e)}function _E(t,a,e){return N0(t,-1,e)}function qv(t,a,e){return Cm(t,-1,e)}function xl(t,a,e){return Os(t,-a,e)}function Ip(){return typeof window<"u"}function Rl(t){return IE(t)?(t.nodeName||"").toLowerCase():"#document"}function Qa(t){var a;return(t==null||(a=t.ownerDocument)==null?void 0:a.defaultView)||window}function ss(t){var a;return(a=(IE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:a.documentElement}function IE(t){return Ip()?t instanceof Node||t instanceof Qa(t).Node:!1}function _a(t){return Ip()?t instanceof Element||t instanceof Qa(t).Element:!1}function ts(t){return Ip()?t instanceof HTMLElement||t instanceof Qa(t).HTMLElement:!1}function Zv(t){return!Ip()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Qa(t).ShadowRoot}function wd(t){const{overflow:a,overflowX:e,overflowY:n,display:s}=Er(t);return/auto|scroll|overlay|hidden|clip/.test(a+n+e)&&!["inline","contents"].includes(s)}function fI(t){return["table","td","th"].includes(Rl(t))}function Np(t){return[":popover-open",":modal"].some(a=>{try{return t.matches(a)}catch{return!1}})}function T0(t){const a=R0(),e=_a(t)?Er(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!a&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!a&&(e.filter?e.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(e.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(e.contain||"").includes(n))}function hI(t){let a=Bi(t);for(;ts(a)&&!El(a);){if(T0(a))return a;if(Np(a))return null;a=Bi(a)}return null}function R0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function El(t){return["html","body","#document"].includes(Rl(t))}function Er(t){return Qa(t).getComputedStyle(t)}function kp(t){return _a(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Bi(t){if(Rl(t)==="html")return t;const a=t.assignedSlot||t.parentNode||Zv(t)&&t.host||ss(t);return Zv(a)?a.host:a}function NE(t){const a=Bi(t);return El(a)?t.ownerDocument?t.ownerDocument.body:t.body:ts(a)&&wd(a)?a:NE(a)}function cd(t,a,e){var n;a===void 0&&(a=[]),e===void 0&&(e=!0);const s=NE(t),l=s===((n=t.ownerDocument)==null?void 0:n.body),c=Qa(s);if(l){const u=Hg(c);return a.concat(c,c.visualViewport||[],wd(s)?s:[],u&&e?cd(u):[])}return a.concat(s,cd(s,[],e))}function Hg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const wl=Math.min,yo=Math.max,Dm=Math.round,Hu=Math.floor,es=t=>({x:t,y:t}),gI={left:"right",right:"left",bottom:"top",top:"bottom"},yI={start:"end",end:"start"};function bI(t,a,e){return yo(t,wl(a,e))}function Ap(t,a){return typeof t=="function"?t(a):t}function Sl(t){return t.split("-")[0]}function Sd(t){return t.split("-")[1]}function vI(t){return t==="x"?"y":"x"}function L0(t){return t==="y"?"height":"width"}function pl(t){return["top","bottom"].includes(Sl(t))?"y":"x"}function P0(t){return vI(pl(t))}function xI(t,a,e){e===void 0&&(e=!1);const n=Sd(t),s=P0(t),l=L0(s);let c=s==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return a.reference[l]>a.floating[l]&&(c=Mm(c)),[c,Mm(c)]}function EI(t){const a=Mm(t);return[Yg(t),a,Yg(a)]}function Yg(t){return t.replace(/start|end/g,a=>yI[a])}function wI(t,a,e){const n=["left","right"],s=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return e?a?s:n:a?n:s;case"left":case"right":return a?l:c;default:return[]}}function SI(t,a,e,n){const s=Sd(t);let l=wI(Sl(t),e==="start",n);return s&&(l=l.map(c=>c+"-"+s),a&&(l=l.concat(l.map(Yg)))),l}function Mm(t){return t.replace(/left|right|bottom|top/g,a=>gI[a])}function CI(t){return{top:0,right:0,bottom:0,left:0,...t}}function kE(t){return typeof t!="number"?CI(t):{top:t,right:t,bottom:t,left:t}}function Tm(t){const{x:a,y:e,width:n,height:s}=t;return{width:n,height:s,top:e,left:a,right:a+n,bottom:e+s,x:a,y:e}}var Rm=typeof document<"u"?v.useLayoutEffect:v.useEffect;const _I={...jx},II=_I.useInsertionEffect,NI=II||(t=>t());function kI(t){const a=v.useRef(()=>{});return NI(()=>{a.current=t}),v.useCallback(function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return a.current==null?void 0:a.current(...n)},[])}var Jh={exports:{}},Lc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function AI(){if(Vv)return Lc;Vv=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function e(n,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var u in s)u!=="key"&&(l[u]=s[u])}else l=s;return s=l.ref,{$$typeof:t,type:n,key:c,ref:s!==void 0?s:null,props:l}}return Lc.Fragment=a,Lc.jsx=e,Lc.jsxs=e,Lc}var Qv;function DI(){return Qv||(Qv=1,Jh.exports=AI()),Jh.exports}var Pc=DI();function Jv(t,a,e){let{reference:n,floating:s}=t;const l=pl(a),c=P0(a),u=L0(c),m=Sl(a),h=l==="y",f=n.x+n.width/2-s.width/2,y=n.y+n.height/2-s.height/2,b=n[u]/2-s[u]/2;let E;switch(m){case"top":E={x:f,y:n.y-s.height};break;case"bottom":E={x:f,y:n.y+n.height};break;case"right":E={x:n.x+n.width,y};break;case"left":E={x:n.x-s.width,y};break;default:E={x:n.x,y:n.y}}switch(Sd(a)){case"start":E[c]-=b*(e&&h?-1:1);break;case"end":E[c]+=b*(e&&h?-1:1);break}return E}const MI=async(t,a,e)=>{const{placement:n="bottom",strategy:s="absolute",middleware:l=[],platform:c}=e,u=l.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(a));let h=await c.getElementRects({reference:t,floating:a,strategy:s}),{x:f,y}=Jv(h,n,m),b=n,E={},w=0;for(let _=0;_<u.length;_++){const{name:C,fn:S}=u[_],{x:I,y:k,data:N,reset:M}=await S({x:f,y,initialPlacement:n,placement:b,strategy:s,middlewareData:E,rects:h,platform:c,elements:{reference:t,floating:a}});f=I??f,y=k??y,E={...E,[C]:{...E[C],...N}},M&&w<=50&&(w++,typeof M=="object"&&(M.placement&&(b=M.placement),M.rects&&(h=M.rects===!0?await c.getElementRects({reference:t,floating:a,strategy:s}):M.rects),{x:f,y}=Jv(h,b,m)),_=-1)}return{x:f,y,placement:b,strategy:s,middlewareData:E}};async function TI(t,a){var e;a===void 0&&(a={});const{x:n,y:s,platform:l,rects:c,elements:u,strategy:m}=t,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:y="floating",altBoundary:b=!1,padding:E=0}=Ap(a,t),w=kE(E),C=u[b?y==="floating"?"reference":"floating":y],S=Tm(await l.getClippingRect({element:(e=await(l.isElement==null?void 0:l.isElement(C)))==null||e?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:h,rootBoundary:f,strategy:m})),I=y==="floating"?{x:n,y:s,width:c.floating.width,height:c.floating.height}:c.reference,k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),N=await(l.isElement==null?void 0:l.isElement(k))?await(l.getScale==null?void 0:l.getScale(k))||{x:1,y:1}:{x:1,y:1},M=Tm(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:I,offsetParent:k,strategy:m}):I);return{top:(S.top-M.top+w.top)/N.y,bottom:(M.bottom-S.bottom+w.bottom)/N.y,left:(S.left-M.left+w.left)/N.x,right:(M.right-S.right+w.right)/N.x}}const RI=t=>({name:"arrow",options:t,async fn(a){const{x:e,y:n,placement:s,rects:l,platform:c,elements:u,middlewareData:m}=a,{element:h,padding:f=0}=Ap(t,a)||{};if(h==null)return{};const y=kE(f),b={x:e,y:n},E=P0(s),w=L0(E),_=await c.getDimensions(h),C=E==="y",S=C?"top":"left",I=C?"bottom":"right",k=C?"clientHeight":"clientWidth",N=l.reference[w]+l.reference[E]-b[E]-l.floating[w],M=b[E]-l.reference[E],R=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let $=R?R[k]:0;(!$||!await(c.isElement==null?void 0:c.isElement(R)))&&($=u.floating[k]||l.floating[w]);const z=N/2-M/2,Y=$/2-_[w]/2-1,J=wl(y[S],Y),ae=wl(y[I],Y),H=J,Z=$-_[w]-ae,O=$/2-_[w]/2+z,L=bI(H,O,Z),A=!m.arrow&&Sd(s)!=null&&O!==L&&l.reference[w]/2-(O<H?J:ae)-_[w]/2<0,U=A?O<H?O-H:O-Z:0;return{[E]:b[E]+U,data:{[E]:L,centerOffset:O-L-U,...A&&{alignmentOffset:U}},reset:A}}}),LI=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(a){var e,n;const{placement:s,middlewareData:l,rects:c,initialPlacement:u,platform:m,elements:h}=a,{mainAxis:f=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:_=!0,...C}=Ap(t,a);if((e=l.arrow)!=null&&e.alignmentOffset)return{};const S=Sl(s),I=pl(u),k=Sl(u)===u,N=await(m.isRTL==null?void 0:m.isRTL(h.floating)),M=b||(k||!_?[Mm(u)]:EI(u)),R=w!=="none";!b&&R&&M.push(...SI(u,_,w,N));const $=[u,...M],z=await TI(a,C),Y=[];let J=((n=l.flip)==null?void 0:n.overflows)||[];if(f&&Y.push(z[S]),y){const L=xI(s,c,N);Y.push(z[L[0]],z[L[1]])}if(J=[...J,{placement:s,overflows:Y}],!Y.every(L=>L<=0)){var ae,H;const L=(((ae=l.flip)==null?void 0:ae.index)||0)+1,A=$[L];if(A){var Z;const q=y==="alignment"?I!==pl(A):!1,Q=((Z=J[0])==null?void 0:Z.overflows[0])>0;if(!q||Q)return{data:{index:L,overflows:J},reset:{placement:A}}}let U=(H=J.filter(q=>q.overflows[0]<=0).sort((q,Q)=>q.overflows[1]-Q.overflows[1])[0])==null?void 0:H.placement;if(!U)switch(E){case"bestFit":{var O;const q=(O=J.filter(Q=>{if(R){const T=pl(Q.placement);return T===I||T==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(T=>T>0).reduce((T,F)=>T+F,0)]).sort((Q,T)=>Q[1]-T[1])[0])==null?void 0:O[0];q&&(U=q);break}case"initialPlacement":U=u;break}if(s!==U)return{reset:{placement:U}}}return{}}}};async function PI(t,a){const{placement:e,platform:n,elements:s}=t,l=await(n.isRTL==null?void 0:n.isRTL(s.floating)),c=Sl(e),u=Sd(e),m=pl(e)==="y",h=["left","top"].includes(c)?-1:1,f=l&&m?-1:1,y=Ap(a,t);let{mainAxis:b,crossAxis:E,alignmentAxis:w}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof w=="number"&&(E=u==="end"?w*-1:w),m?{x:E*f,y:b*h}:{x:b*h,y:E*f}}const BI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(a){var e,n;const{x:s,y:l,placement:c,middlewareData:u}=a,m=await PI(a,t);return c===((e=u.offset)==null?void 0:e.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:s+m.x,y:l+m.y,data:{...m,placement:c}}}}};function AE(t){const a=Er(t);let e=parseFloat(a.width)||0,n=parseFloat(a.height)||0;const s=ts(t),l=s?t.offsetWidth:e,c=s?t.offsetHeight:n,u=Dm(e)!==l||Dm(n)!==c;return u&&(e=l,n=c),{width:e,height:n,$:u}}function B0(t){return _a(t)?t:t.contextElement}function fl(t){const a=B0(t);if(!ts(a))return es(1);const e=a.getBoundingClientRect(),{width:n,height:s,$:l}=AE(a);let c=(l?Dm(e.width):e.width)/n,u=(l?Dm(e.height):e.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const OI=es(0);function DE(t){const a=Qa(t);return!R0()||!a.visualViewport?OI:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function zI(t,a,e){return a===void 0&&(a=!1),!e||a&&e!==Qa(t)?!1:a}function Eo(t,a,e,n){a===void 0&&(a=!1),e===void 0&&(e=!1);const s=t.getBoundingClientRect(),l=B0(t);let c=es(1);a&&(n?_a(n)&&(c=fl(n)):c=fl(t));const u=zI(l,e,n)?DE(l):es(0);let m=(s.left+u.x)/c.x,h=(s.top+u.y)/c.y,f=s.width/c.x,y=s.height/c.y;if(l){const b=Qa(l),E=n&&_a(n)?Qa(n):n;let w=b,_=Hg(w);for(;_&&n&&E!==w;){const C=fl(_),S=_.getBoundingClientRect(),I=Er(_),k=S.left+(_.clientLeft+parseFloat(I.paddingLeft))*C.x,N=S.top+(_.clientTop+parseFloat(I.paddingTop))*C.y;m*=C.x,h*=C.y,f*=C.x,y*=C.y,m+=k,h+=N,w=Qa(_),_=Hg(w)}}return Tm({width:f,height:y,x:m,y:h})}function O0(t,a){const e=kp(t).scrollLeft;return a?a.left+e:Eo(ss(t)).left+e}function ME(t,a,e){e===void 0&&(e=!1);const n=t.getBoundingClientRect(),s=n.left+a.scrollLeft-(e?0:O0(t,n)),l=n.top+a.scrollTop;return{x:s,y:l}}function UI(t){let{elements:a,rect:e,offsetParent:n,strategy:s}=t;const l=s==="fixed",c=ss(n),u=a?Np(a.floating):!1;if(n===c||u&&l)return e;let m={scrollLeft:0,scrollTop:0},h=es(1);const f=es(0),y=ts(n);if((y||!y&&!l)&&((Rl(n)!=="body"||wd(c))&&(m=kp(n)),ts(n))){const E=Eo(n);h=fl(n),f.x=E.x+n.clientLeft,f.y=E.y+n.clientTop}const b=c&&!y&&!l?ME(c,m,!0):es(0);return{width:e.width*h.x,height:e.height*h.y,x:e.x*h.x-m.scrollLeft*h.x+f.x+b.x,y:e.y*h.y-m.scrollTop*h.y+f.y+b.y}}function FI(t){return Array.from(t.getClientRects())}function WI(t){const a=ss(t),e=kp(t),n=t.ownerDocument.body,s=yo(a.scrollWidth,a.clientWidth,n.scrollWidth,n.clientWidth),l=yo(a.scrollHeight,a.clientHeight,n.scrollHeight,n.clientHeight);let c=-e.scrollLeft+O0(t);const u=-e.scrollTop;return Er(n).direction==="rtl"&&(c+=yo(a.clientWidth,n.clientWidth)-s),{width:s,height:l,x:c,y:u}}function jI(t,a){const e=Qa(t),n=ss(t),s=e.visualViewport;let l=n.clientWidth,c=n.clientHeight,u=0,m=0;if(s){l=s.width,c=s.height;const h=R0();(!h||h&&a==="fixed")&&(u=s.offsetLeft,m=s.offsetTop)}return{width:l,height:c,x:u,y:m}}function HI(t,a){const e=Eo(t,!0,a==="fixed"),n=e.top+t.clientTop,s=e.left+t.clientLeft,l=ts(t)?fl(t):es(1),c=t.clientWidth*l.x,u=t.clientHeight*l.y,m=s*l.x,h=n*l.y;return{width:c,height:u,x:m,y:h}}function Xv(t,a,e){let n;if(a==="viewport")n=jI(t,e);else if(a==="document")n=WI(ss(t));else if(_a(a))n=HI(a,e);else{const s=DE(t);n={x:a.x-s.x,y:a.y-s.y,width:a.width,height:a.height}}return Tm(n)}function TE(t,a){const e=Bi(t);return e===a||!_a(e)||El(e)?!1:Er(e).position==="fixed"||TE(e,a)}function YI(t,a){const e=a.get(t);if(e)return e;let n=cd(t,[],!1).filter(u=>_a(u)&&Rl(u)!=="body"),s=null;const l=Er(t).position==="fixed";let c=l?Bi(t):t;for(;_a(c)&&!El(c);){const u=Er(c),m=T0(c);!m&&u.position==="fixed"&&(s=null),(l?!m&&!s:!m&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||wd(c)&&!m&&TE(t,c))?n=n.filter(f=>f!==c):s=u,c=Bi(c)}return a.set(t,n),n}function $I(t){let{element:a,boundary:e,rootBoundary:n,strategy:s}=t;const c=[...e==="clippingAncestors"?Np(a)?[]:YI(a,this._c):[].concat(e),n],u=c[0],m=c.reduce((h,f)=>{const y=Xv(a,f,s);return h.top=yo(y.top,h.top),h.right=wl(y.right,h.right),h.bottom=wl(y.bottom,h.bottom),h.left=yo(y.left,h.left),h},Xv(a,u,s));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function GI(t){const{width:a,height:e}=AE(t);return{width:a,height:e}}function qI(t,a,e){const n=ts(a),s=ss(a),l=e==="fixed",c=Eo(t,!0,l,a);let u={scrollLeft:0,scrollTop:0};const m=es(0);function h(){m.x=O0(s)}if(n||!n&&!l)if((Rl(a)!=="body"||wd(s))&&(u=kp(a)),n){const E=Eo(a,!0,l,a);m.x=E.x+a.clientLeft,m.y=E.y+a.clientTop}else s&&h();l&&!n&&s&&h();const f=s&&!n&&!l?ME(s,u):es(0),y=c.left+u.scrollLeft-m.x-f.x,b=c.top+u.scrollTop-m.y-f.y;return{x:y,y:b,width:c.width,height:c.height}}function Xh(t){return Er(t).position==="static"}function Kv(t,a){if(!ts(t)||Er(t).position==="fixed")return null;if(a)return a(t);let e=t.offsetParent;return ss(t)===e&&(e=e.ownerDocument.body),e}function RE(t,a){const e=Qa(t);if(Np(t))return e;if(!ts(t)){let s=Bi(t);for(;s&&!El(s);){if(_a(s)&&!Xh(s))return s;s=Bi(s)}return e}let n=Kv(t,a);for(;n&&fI(n)&&Xh(n);)n=Kv(n,a);return n&&El(n)&&Xh(n)&&!T0(n)?e:n||hI(t)||e}const ZI=async function(t){const a=this.getOffsetParent||RE,e=this.getDimensions,n=await e(t.floating);return{reference:qI(t.reference,await a(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function VI(t){return Er(t).direction==="rtl"}const QI={convertOffsetParentRelativeRectToViewportRelativeRect:UI,getDocumentElement:ss,getClippingRect:$I,getOffsetParent:RE,getElementRects:ZI,getClientRects:FI,getDimensions:GI,getScale:fl,isElement:_a,isRTL:VI};function LE(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height}function JI(t,a){let e=null,n;const s=ss(t);function l(){var u;clearTimeout(n),(u=e)==null||u.disconnect(),e=null}function c(u,m){u===void 0&&(u=!1),m===void 0&&(m=1),l();const h=t.getBoundingClientRect(),{left:f,top:y,width:b,height:E}=h;if(u||a(),!b||!E)return;const w=Hu(y),_=Hu(s.clientWidth-(f+b)),C=Hu(s.clientHeight-(y+E)),S=Hu(f),k={rootMargin:-w+"px "+-_+"px "+-C+"px "+-S+"px",threshold:yo(0,wl(1,m))||1};let N=!0;function M(R){const $=R[0].intersectionRatio;if($!==m){if(!N)return c();$?c(!1,$):n=setTimeout(()=>{c(!1,1e-7)},1e3)}$===1&&!LE(h,t.getBoundingClientRect())&&c(),N=!1}try{e=new IntersectionObserver(M,{...k,root:s.ownerDocument})}catch{e=new IntersectionObserver(M,k)}e.observe(t)}return c(!0),l}function XI(t,a,e,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:m=!1}=n,h=B0(t),f=s||l?[...h?cd(h):[],...cd(a)]:[];f.forEach(S=>{s&&S.addEventListener("scroll",e,{passive:!0}),l&&S.addEventListener("resize",e)});const y=h&&u?JI(h,e):null;let b=-1,E=null;c&&(E=new ResizeObserver(S=>{let[I]=S;I&&I.target===h&&E&&(E.unobserve(a),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var k;(k=E)==null||k.observe(a)})),e()}),h&&!m&&E.observe(h),E.observe(a));let w,_=m?Eo(t):null;m&&C();function C(){const S=Eo(t);_&&!LE(_,S)&&e(),_=S,w=requestAnimationFrame(C)}return e(),()=>{var S;f.forEach(I=>{s&&I.removeEventListener("scroll",e),l&&I.removeEventListener("resize",e)}),y==null||y(),(S=E)==null||S.disconnect(),E=null,m&&cancelAnimationFrame(w)}}const KI=BI,eN=LI,e2=RI,tN=(t,a,e)=>{const n=new Map,s={platform:QI,...e},l={...s.platform,_c:n};return MI(t,a,{...s,platform:l})};var um=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Lm(t,a){if(t===a)return!0;if(typeof t!=typeof a)return!1;if(typeof t=="function"&&t.toString()===a.toString())return!0;let e,n,s;if(t&&a&&typeof t=="object"){if(Array.isArray(t)){if(e=t.length,e!==a.length)return!1;for(n=e;n--!==0;)if(!Lm(t[n],a[n]))return!1;return!0}if(s=Object.keys(t),e=s.length,e!==Object.keys(a).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(a,s[n]))return!1;for(n=e;n--!==0;){const l=s[n];if(!(l==="_owner"&&t.$$typeof)&&!Lm(t[l],a[l]))return!1}return!0}return t!==t&&a!==a}function PE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function t2(t,a){const e=PE(t);return Math.round(a*e)/e}function Kh(t){const a=v.useRef(t);return um(()=>{a.current=t}),a}function nN(t){t===void 0&&(t={});const{placement:a="bottom",strategy:e="absolute",middleware:n=[],platform:s,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:m,open:h}=t,[f,y]=v.useState({x:0,y:0,strategy:e,placement:a,middlewareData:{},isPositioned:!1}),[b,E]=v.useState(n);Lm(b,n)||E(n);const[w,_]=v.useState(null),[C,S]=v.useState(null),I=v.useCallback(q=>{q!==R.current&&(R.current=q,_(q))},[]),k=v.useCallback(q=>{q!==$.current&&($.current=q,S(q))},[]),N=l||w,M=c||C,R=v.useRef(null),$=v.useRef(null),z=v.useRef(f),Y=m!=null,J=Kh(m),ae=Kh(s),H=Kh(h),Z=v.useCallback(()=>{if(!R.current||!$.current)return;const q={placement:a,strategy:e,middleware:b};ae.current&&(q.platform=ae.current),tN(R.current,$.current,q).then(Q=>{const T={...Q,isPositioned:H.current!==!1};O.current&&!Lm(z.current,T)&&(z.current=T,sE.flushSync(()=>{y(T)}))})},[b,a,e,ae,H]);um(()=>{h===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,y(q=>({...q,isPositioned:!1})))},[h]);const O=v.useRef(!1);um(()=>(O.current=!0,()=>{O.current=!1}),[]),um(()=>{if(N&&(R.current=N),M&&($.current=M),N&&M){if(J.current)return J.current(N,M,Z);Z()}},[N,M,Z,J,Y]);const L=v.useMemo(()=>({reference:R,floating:$,setReference:I,setFloating:k}),[I,k]),A=v.useMemo(()=>({reference:N,floating:M}),[N,M]),U=v.useMemo(()=>{const q={position:e,left:0,top:0};if(!A.floating)return q;const Q=t2(A.floating,f.x),T=t2(A.floating,f.y);return u?{...q,transform:"translate("+Q+"px, "+T+"px)",...PE(A.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:Q,top:T}},[e,u,A.floating,f.x,f.y]);return v.useMemo(()=>({...f,update:Z,refs:L,elements:A,floatingStyles:U}),[f,Z,L,A,U])}const aN=t=>{function a(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:t,fn(e){const{element:n,padding:s}=typeof t=="function"?t(e):t;return n&&a(n)?n.current!=null?e2({element:n.current,padding:s}).fn(e):{}:n?e2({element:n,padding:s}).fn(e):{}}}},rN=(t,a)=>({...KI(t),options:[t,a]}),sN=(t,a)=>({...eN(t),options:[t,a]}),iN=(t,a)=>({...aN(t),options:[t,a]}),oN={...jx};let n2=!1,lN=0;const a2=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+lN++;function cN(){const[t,a]=v.useState(()=>n2?a2():void 0);return Rm(()=>{t==null&&a(a2())},[]),v.useEffect(()=>{n2=!0},[]),t}const dN=oN.useId,BE=dN||cN,uN=v.forwardRef(function(a,e){const{context:{placement:n,elements:{floating:s},middlewareData:{arrow:l,shift:c}},width:u=14,height:m=7,tipRadius:h=0,strokeWidth:f=0,staticOffset:y,stroke:b,d:E,style:{transform:w,..._}={},...C}=a,S=BE(),[I,k]=v.useState(!1);if(Rm(()=>{if(!s)return;Er(s).direction==="rtl"&&k(!0)},[s]),!s)return null;const[N,M]=n.split("-"),R=N==="top"||N==="bottom";let $=y;(R&&c!=null&&c.x||!R&&c!=null&&c.y)&&($=null);const z=f*2,Y=z/2,J=u/2*(h/-8+1),ae=m/2*h/4,H=!!E,Z=$&&M==="end"?"bottom":"top";let O=$&&M==="end"?"right":"left";$&&I&&(O=M==="end"?"left":"right");const L=(l==null?void 0:l.x)!=null?$||l.x:"",A=(l==null?void 0:l.y)!=null?$||l.y:"",U=E||"M0,0"+(" H"+u)+(" L"+(u-J)+","+(m-ae))+(" Q"+u/2+","+m+" "+J+","+(m-ae))+" Z",q={top:H?"rotate(180deg)":"",left:H?"rotate(90deg)":"rotate(-90deg)",bottom:H?"":"rotate(180deg)",right:H?"rotate(-90deg)":"rotate(90deg)"}[N];return Pc.jsxs("svg",{...C,"aria-hidden":!0,ref:e,width:H?u:u+z,height:u,viewBox:"0 0 "+u+" "+(m>u?m:u),style:{position:"absolute",pointerEvents:"none",[O]:L,[Z]:A,[N]:R||H?"100%":"calc(100% - "+z/2+"px)",transform:[q,w].filter(Q=>!!Q).join(" "),..._},children:[z>0&&Pc.jsx("path",{clipPath:"url(#"+S+")",fill:"none",stroke:b,strokeWidth:z+(E?0:1),d:U}),Pc.jsx("path",{stroke:z&&!E?C.fill:"none",d:U}),Pc.jsx("clipPath",{id:S,children:Pc.jsx("rect",{x:-Y,y:Y*(H?-1:1),width:u+z,height:u})})]})});function mN(){const t=new Map;return{emit(a,e){var n;(n=t.get(a))==null||n.forEach(s=>s(e))},on(a,e){t.has(a)||t.set(a,new Set),t.get(a).add(e)},off(a,e){var n;(n=t.get(a))==null||n.delete(e)}}}const pN=v.createContext(null),fN=v.createContext(null),hN=()=>{var t;return((t=v.useContext(pN))==null?void 0:t.id)||null},gN=()=>v.useContext(fN);function yN(t){const{open:a=!1,onOpenChange:e,elements:n}=t,s=BE(),l=v.useRef({}),[c]=v.useState(()=>mN()),u=hN()!=null,[m,h]=v.useState(n.reference),f=kI((E,w,_)=>{l.current.openEvent=E?w:void 0,c.emit("openchange",{open:E,event:w,reason:_,nested:u}),e==null||e(E,w,_)}),y=v.useMemo(()=>({setPositionReference:h}),[]),b=v.useMemo(()=>({reference:m||n.reference||null,floating:n.floating||null,domReference:n.reference}),[m,n.reference,n.floating]);return v.useMemo(()=>({dataRef:l,open:a,onOpenChange:f,elements:b,events:c,floatingId:s,refs:y}),[a,f,b,c,s,y])}function bN(t){t===void 0&&(t={});const{nodeId:a}=t,e=yN({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||e,s=n.elements,[l,c]=v.useState(null),[u,m]=v.useState(null),f=(s==null?void 0:s.domReference)||l,y=v.useRef(null),b=gN();Rm(()=>{f&&(y.current=f)},[f]);const E=nN({...t,elements:{...s,...u&&{reference:u}}}),w=v.useCallback(k=>{const N=_a(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),getClientRects:()=>k.getClientRects(),contextElement:k}:k;m(N),E.refs.setReference(N)},[E.refs]),_=v.useCallback(k=>{(_a(k)||k===null)&&(y.current=k,c(k)),(_a(E.refs.reference.current)||E.refs.reference.current===null||k!==null&&!_a(k))&&E.refs.setReference(k)},[E.refs]),C=v.useMemo(()=>({...E.refs,setReference:_,setPositionReference:w,domReference:y}),[E.refs,_,w]),S=v.useMemo(()=>({...E.elements,domReference:f}),[E.elements,f]),I=v.useMemo(()=>({...E,...n,refs:C,elements:S,nodeId:a}),[E,C,S,a,n]);return Rm(()=>{n.dataRef.current.floatingContext=I;const k=b==null?void 0:b.nodesRef.current.find(N=>N.id===a);k&&(k.context=I)}),v.useMemo(()=>({...E,context:I,refs:C,elements:S}),[E,C,S,I])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var $g=function(a,e){return $g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])},$g(a,e)};function ra(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");$g(t,a);function e(){this.constructor=t}t.prototype=a===null?Object.create(a):(e.prototype=a.prototype,new e)}var Tt=function(){return Tt=Object.assign||function(e){for(var n,s=1,l=arguments.length;s<l;s++){n=arguments[s];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},Tt.apply(this,arguments)};function Xr(t,a,e){if(e||arguments.length===2)for(var n=0,s=a.length,l;n<s;n++)(l||!(n in a))&&(l||(l=Array.prototype.slice.call(a,0,n)),l[n]=a[n]);return t.concat(l||Array.prototype.slice.call(a))}var vN=function(t){var a=t.showTimeSelectOnly,e=a===void 0?!1:a,n=t.showTime,s=n===void 0?!1:n,l=t.className,c=t.children,u=e?"Choose Time":"Choose Date".concat(s?" and Time":"");return r.createElement("div",{className:l,role:"dialog","aria-label":u,"aria-modal":"true"},c)},xN=function(t,a){var e=v.useRef(null),n=v.useRef(t);n.current=t;var s=v.useCallback(function(l){var c,u=l.composed&&l.composedPath&&l.composedPath().find(function(m){return m instanceof Node})||l.target;e.current&&!e.current.contains(u)&&(a&&u instanceof HTMLElement&&u.classList.contains(a)||(c=n.current)===null||c===void 0||c.call(n,l))},[a]);return v.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),e},Dp=function(t){var a=t.children,e=t.onClickOutside,n=t.className,s=t.containerRef,l=t.style,c=t.ignoreClass,u=xN(e,c);return r.createElement("div",{className:n,style:l,ref:function(m){u.current=m,s&&(s.current=m)}},a)},Re;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Re||(Re={}));function OE(){var t=typeof window<"u"?window:globalThis;return t}var Cd=12;function zt(t){if(t==null)return new Date;var a=typeof t=="string"?SE(t):$e(t);return Mp(a)?a:new Date}function eg(t,a,e,n,s){s===void 0&&(s=zt());for(var l=Cl(e)||Cl(z0()),c=Array.isArray(a)?a:[a],u=0,m=c;u<m.length;u++){var h=m[u],f=q4(t,h,s,{locale:l});if(Mp(f)&&(!n||t===fn(f,h,e)))return f}return null}function Mp(t,a){return _m(t)&&!xo(t,new Date("1/1/1800"))}function fn(t,a,e){if(e==="en")return Ca(t,a,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=e?Cl(e):void 0;return e&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(e,'"].')),n=n||Cl(z0()),Ca(t,a,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function hr(t,a){var e=a.dateFormat,n=a.locale,s=Array.isArray(e)&&e.length>0?e[0]:e;return t&&fn(t,s,n)||""}var zE=" - ";function EN(t,a,e){if(!t)return"";var n=hr(t,e),s=a?hr(a,e):"";return"".concat(n).concat(zE).concat(s)}function wN(t,a){if(!(t!=null&&t.length))return"";var e=t[0]?hr(t[0],a):"";if(t.length===1)return e;if(t.length===2&&t[1]){var n=hr(t[1],a);return"".concat(e,", ").concat(n)}var s=t.length-1;return"".concat(e," (+").concat(s,")")}function tg(t,a){var e=a.hour,n=e===void 0?0:e,s=a.minute,l=s===void 0?0:s,c=a.second,u=c===void 0?0:c;return lm(cm(dm(t,u),l),n)}function SN(t){return k0(t)}function CN(t,a){return fn(t,"ddd",a)}function mm(t){return vo(t)}function Li(t,a,e){var n=Cl(a||z0());return Ys(t,{locale:n,weekStartsOn:e})}function Ws(t){return fE(t)}function Gc(t){return _p(t)}function r2(t){return Fg(t)}function s2(){return vo(zt())}function i2(t){return mE(t)}function _N(t){return K_(t)}function IN(t){return pE(t)}function Vr(t,a){return t&&a?J4(t,a):!t&&!a}function Sa(t,a){return t&&a?V4(t,a):!t&&!a}function Pm(t,a){return t&&a?Q4(t,a):!t&&!a}function Mt(t,a){return t&&a?Q_(t,a):!t&&!a}function mo(t,a){return t&&a?X3(t,a):!t&&!a}function qc(t,a,e){var n,s=vo(a),l=mE(e);try{n=ld(t,{start:s,end:l})}catch{n=!1}return n}function z0(){var t=OE();return t.__localeId__}function Cl(t){if(typeof t=="string"){var a=OE();return a.__localeData__?a.__localeData__[t]:void 0}else return t}function NN(t,a,e){return a(fn(t,"EEEE",e))}function kN(t,a){return fn(t,"EEEEEE",a)}function AN(t,a){return fn(t,"EEE",a)}function U0(t,a){return fn(gr(zt(),t),"LLLL",a)}function UE(t,a){return fn(gr(zt(),t),"LLL",a)}function DN(t,a){return fn(cl(zt(),t),"QQQ",a)}function br(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.maxDate,l=e.excludeDates,c=e.excludeDateIntervals,u=e.includeDates,m=e.includeDateIntervals,h=e.filterDate;return _d(t,{minDate:n,maxDate:s})||l&&l.some(function(f){return f instanceof Date?Mt(t,f):Mt(t,f.date)})||c&&c.some(function(f){var y=f.start,b=f.end;return ld(t,{start:y,end:b})})||u&&!u.some(function(f){return Mt(t,f)})||m&&!m.some(function(f){var y=f.start,b=f.end;return ld(t,{start:y,end:b})})||h&&!h(zt(t))||!1}function F0(t,a){var e=a===void 0?{}:a,n=e.excludeDates,s=e.excludeDateIntervals;return s&&s.length>0?s.some(function(l){var c=l.start,u=l.end;return ld(t,{start:c,end:u})}):n&&n.some(function(l){var c;return l instanceof Date?Mt(t,l):Mt(t,(c=l.date)!==null&&c!==void 0?c:new Date)})||!1}function FE(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.maxDate,l=e.excludeDates,c=e.includeDates,u=e.filterDate;return _d(t,{minDate:n?fE(n):void 0,maxDate:s?pE(s):void 0})||(l==null?void 0:l.some(function(m){return Sa(t,m instanceof Date?m:m.date)}))||c&&!c.some(function(m){return Sa(t,m)})||u&&!u(zt(t))||!1}function Yu(t,a,e,n){var s=Et(t),l=va(t),c=Et(a),u=va(a),m=Et(n);return s===c&&s===m?l<=e&&e<=u:s<c?m===s&&l<=e||m===c&&u>=e||m<c&&m>s:!1}function MN(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.maxDate,l=e.excludeDates,c=e.includeDates;return _d(t,{minDate:n,maxDate:s})||l&&l.some(function(u){return Sa(u instanceof Date?u:u.date,t)})||c&&!c.some(function(u){return Sa(u,t)})||!1}function $u(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.maxDate,l=e.excludeDates,c=e.includeDates,u=e.filterDate;return _d(t,{minDate:n,maxDate:s})||(l==null?void 0:l.some(function(m){return Pm(t,m instanceof Date?m:m.date)}))||c&&!c.some(function(m){return Pm(t,m)})||u&&!u(zt(t))||!1}function Gu(t,a,e){if(!a||!e||!_m(a)||!_m(e))return!1;var n=Et(a),s=Et(e);return n<=t&&s>=t}function pm(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.maxDate,l=e.excludeDates,c=e.includeDates,u=e.filterDate,m=new Date(t,0,1);return _d(m,{minDate:n?_p(n):void 0,maxDate:s?hE(s):void 0})||(l==null?void 0:l.some(function(h){return Vr(m,h instanceof Date?h:h.date)}))||c&&!c.some(function(h){return Vr(m,h)})||u&&!u(zt(m))||!1}function qu(t,a,e,n){var s=Et(t),l=ho(t),c=Et(a),u=ho(a),m=Et(n);return s===c&&s===m?l<=e&&e<=u:s<c?m===s&&l<=e||m===c&&u>=e||m<c&&m>s:!1}function _d(t,a){var e,n=a===void 0?{}:a,s=n.minDate,l=n.maxDate;return(e=s&&vl(t,s)<0||l&&vl(t,l)>0)!==null&&e!==void 0?e:!1}function o2(t,a){return a.some(function(e){return Us(e)===Us(t)&&Fs(e)===Fs(t)&&Ri(e)===Ri(t)})}function l2(t,a){var e=a===void 0?{}:a,n=e.excludeTimes,s=e.includeTimes,l=e.filterTime;return n&&o2(t,n)||s&&!o2(t,s)||l&&!l(t)||!1}function c2(t,a){var e=a.minTime,n=a.maxTime;if(!e||!n)throw new Error("Both minTime and maxTime props required");var s=zt();s=lm(s,Us(t)),s=cm(s,Fs(t)),s=dm(s,Ri(t));var l=zt();l=lm(l,Us(e)),l=cm(l,Fs(e)),l=dm(l,Ri(e));var c=zt();c=lm(c,Us(n)),c=cm(c,Fs(n)),c=dm(c,Ri(n));var u;try{u=!ld(s,{start:l,end:c})}catch{u=!1}return u}function d2(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.includeDates,l=go(t,1);return n&&Im(n,l)>0||s&&s.every(function(c){return Im(c,l)>0})||!1}function u2(t,a){var e=a===void 0?{}:a,n=e.maxDate,s=e.includeDates,l=Pr(t,1);return n&&Im(l,n)>0||s&&s.every(function(c){return Im(l,c)>0})||!1}function TN(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.includeDates,l=_p(t),c=_E(l);return n&&Nm(n,c)>0||s&&s.every(function(u){return Nm(u,c)>0})||!1}function RN(t,a){var e=a===void 0?{}:a,n=e.maxDate,s=e.includeDates,l=hE(t),c=N0(l,1);return n&&Nm(c,n)>0||s&&s.every(function(u){return Nm(c,u)>0})||!1}function m2(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.includeDates,l=xl(t,1);return n&&km(n,l)>0||s&&s.every(function(c){return km(c,l)>0})||!1}function LN(t,a){var e=a===void 0?{}:a,n=e.minDate,s=e.yearItemNumber,l=s===void 0?Cd:s,c=Gc(xl(t,l)),u=Ti(c,l).endPeriod,m=n&&Et(n);return m&&m>u||!1}function p2(t,a){var e=a===void 0?{}:a,n=e.maxDate,s=e.includeDates,l=Os(t,1);return n&&km(l,n)>0||s&&s.every(function(c){return km(l,c)>0})||!1}function PN(t,a){var e=a===void 0?{}:a,n=e.maxDate,s=e.yearItemNumber,l=s===void 0?Cd:s,c=Os(t,l),u=Ti(c,l).startPeriod,m=n&&Et(n);return m&&m<u||!1}function WE(t){var a=t.minDate,e=t.includeDates;if(e&&a){var n=e.filter(function(s){return vl(s,a)>=0});return Fv(n)}else return e?Fv(e):a}function jE(t){var a=t.maxDate,e=t.includeDates;if(e&&a){var n=e.filter(function(s){return vl(s,a)<=0});return Uv(n)}else return e?Uv(e):a}function f2(t,a){var e;t===void 0&&(t=[]),a===void 0&&(a="react-datepicker__day--highlighted");for(var n=new Map,s=0,l=t.length;s<l;s++){var c=t[s];if(zs(c)){var u=fn(c,"MM.dd.yyyy"),m=n.get(u)||[];m.includes(a)||(m.push(a),n.set(u,m))}else if(typeof c=="object"){var h=Object.keys(c),f=(e=h[0])!==null&&e!==void 0?e:"",y=c[f];if(typeof f=="string"&&Array.isArray(y))for(var b=0,E=y.length;b<E;b++){var w=y[b];if(w){var u=fn(w,"MM.dd.yyyy"),m=n.get(u)||[];m.includes(f)||(m.push(f),n.set(u,m))}}}}return n}function BN(t,a){return t.length!==a.length?!1:t.every(function(e,n){return e===a[n]})}function ON(t,a){t===void 0&&(t=[]),a===void 0&&(a="react-datepicker__day--holidays");var e=new Map;return t.forEach(function(n){var s=n.date,l=n.holidayName;if(zs(s)){var c=fn(s,"MM.dd.yyyy"),u=e.get(c)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===a&&BN(u.holidayNames,[l]))){u.className=a;var m=u.holidayNames;u.holidayNames=m?Xr(Xr([],m,!0),[l],!1):[l],e.set(c,u)}}}),e}function zN(t,a,e,n,s){for(var l=s.length,c=[],u=0;u<l;u++){var m=t,h=s[u];h&&(m=G_(m,Us(h)),m=Ug(m,Fs(h)),m=V_(m,Ri(h)));var f=Ug(t,(e+1)*n);$s(m,a)&&xo(m,f)&&h!=null&&c.push(h)}return c}function h2(t){return t<10?"0".concat(t):"".concat(t)}function Ti(t,a){a===void 0&&(a=Cd);var e=Math.ceil(Et(t)/a)*a,n=e-(a-1);return{startPeriod:n,endPeriod:e}}function UN(t){var a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),e=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+e-+a)/36e5)}function g2(t){var a=t.getSeconds(),e=t.getMilliseconds();return $e(t.getTime()-a*1e3-e)}function FN(t,a){return g2(t).getTime()===g2(a).getTime()}function y2(t){if(!zs(t))throw new Error("Invalid date");var a=new Date(t);return a.setHours(0,0,0,0),a}function b2(t,a){if(!zs(t)||!zs(a))throw new Error("Invalid date received");var e=y2(t),n=y2(a);return xo(e,n)}function HE(t){return t.key===Re.Space}var WN=function(t){ra(a,t);function a(e){var n=t.call(this,e)||this;return n.inputRef=r.createRef(),n.onTimeChange=function(s){var l,c;n.setState({time:s});var u=n.props.date,m=u instanceof Date&&!isNaN(+u),h=m?u:new Date;if(s!=null&&s.includes(":")){var f=s.split(":"),y=f[0],b=f[1];h.setHours(Number(y)),h.setMinutes(Number(b))}(c=(l=n.props).onChange)===null||c===void 0||c.call(l,h)},n.renderTimeInput=function(){var s=n.state.time,l=n.props,c=l.date,u=l.timeString,m=l.customTimeInput;return m?v.cloneElement(m,{date:c,value:s,onChange:n.onTimeChange}):r.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var h;(h=n.inputRef.current)===null||h===void 0||h.focus()},required:!0,value:s,onChange:function(h){n.onTimeChange(h.target.value||u)}})},n.state={time:n.props.timeString},n}return a.getDerivedStateFromProps=function(e,n){return e.timeString!==n.time?{time:e.timeString}:null},a.prototype.render=function(){return r.createElement("div",{className:"react-datepicker__input-time-container"},r.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),r.createElement("div",{className:"react-datepicker-time__input-container"},r.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},a}(v.Component),jN=function(t){ra(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.dayEl=v.createRef(),e.handleClick=function(n){!e.isDisabled()&&e.props.onClick&&e.props.onClick(n)},e.handleMouseEnter=function(n){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(n)},e.handleOnKeyDown=function(n){var s,l,c=n.key;c===Re.Space&&(n.preventDefault(),n.key=Re.Enter),(l=(s=e.props).handleOnKeyDown)===null||l===void 0||l.call(s,n)},e.isSameDay=function(n){return Mt(e.props.day,n)},e.isKeyboardSelected=function(){var n;if(e.props.disabledKeyboardNavigation)return!1;var s=e.props.selectsMultiple?(n=e.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return e.isSameDayOrWeek(c)}):e.isSameDayOrWeek(e.props.selected),l=e.props.preSelection&&e.isDisabled(e.props.preSelection);return!s&&e.isSameDayOrWeek(e.props.preSelection)&&!l},e.isDisabled=function(n){return n===void 0&&(n=e.props.day),br(n,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.isExcluded=function(){return F0(e.props.day,{excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals})},e.isStartOfWeek=function(){return Mt(e.props.day,Li(e.props.day,e.props.locale,e.props.calendarStartDay))},e.isSameWeek=function(n){return e.props.showWeekPicker&&Mt(n,Li(e.props.day,e.props.locale,e.props.calendarStartDay))},e.isSameDayOrWeek=function(n){return e.isSameDay(n)||e.isSameWeek(n)},e.getHighLightedClass=function(){var n=e.props,s=n.day,l=n.highlightDates;if(!l)return!1;var c=fn(s,"MM.dd.yyyy");return l.get(c)},e.getHolidaysClass=function(){var n,s=e.props,l=s.day,c=s.holidays;if(!c)return[void 0];var u=fn(l,"MM.dd.yyyy");return c.has(u)?[(n=c.get(u))===null||n===void 0?void 0:n.className]:[void 0]},e.isInRange=function(){var n=e.props,s=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:qc(s,l,c)},e.isInSelectingRange=function(){var n,s=e.props,l=s.day,c=s.selectsStart,u=s.selectsEnd,m=s.selectsRange,h=s.selectsDisabledDaysInRange,f=s.startDate,y=s.endDate,b=(n=e.props.selectingDate)!==null&&n!==void 0?n:e.props.preSelection;return!(c||u||m)||!b||!h&&e.isDisabled()?!1:c&&y&&(xo(b,y)||mo(b,y))?qc(l,b,y):u&&f&&($s(b,f)||mo(b,f))||m&&f&&!y&&($s(b,f)||mo(b,f))?qc(l,f,b):!1},e.isSelectingRangeStart=function(){var n;if(!e.isInSelectingRange())return!1;var s=e.props,l=s.day,c=s.startDate,u=s.selectsStart,m=(n=e.props.selectingDate)!==null&&n!==void 0?n:e.props.preSelection;return u?Mt(l,m):Mt(l,c)},e.isSelectingRangeEnd=function(){var n;if(!e.isInSelectingRange())return!1;var s=e.props,l=s.day,c=s.endDate,u=s.selectsEnd,m=s.selectsRange,h=(n=e.props.selectingDate)!==null&&n!==void 0?n:e.props.preSelection;return u||m?Mt(l,h):Mt(l,c)},e.isRangeStart=function(){var n=e.props,s=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:Mt(l,s)},e.isRangeEnd=function(){var n=e.props,s=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:Mt(c,s)},e.isWeekend=function(){var n=Z3(e.props.day);return n===0||n===6},e.isAfterMonth=function(){return e.props.month!==void 0&&(e.props.month+1)%12===va(e.props.day)},e.isBeforeMonth=function(){return e.props.month!==void 0&&(va(e.props.day)+1)%12===e.props.month},e.isCurrentDay=function(){return e.isSameDay(zt())},e.isSelected=function(){var n;return e.props.selectsMultiple?(n=e.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return e.isSameDayOrWeek(s)}):e.isSameDayOrWeek(e.props.selected)},e.getClassNames=function(n){var s=e.props.dayClassName?e.props.dayClassName(n):void 0;return ua("react-datepicker__day",s,"react-datepicker__day--"+CN(e.props.day),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSelected(),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isCurrentDay(),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isAfterMonth()||e.isBeforeMonth()},e.getHighLightedClass(),e.getHolidaysClass())},e.getAriaLabel=function(){var n=e.props,s=n.day,l=n.ariaLabelPrefixWhenEnabled,c=l===void 0?"Choose":l,u=n.ariaLabelPrefixWhenDisabled,m=u===void 0?"Not available":u,h=e.isDisabled()||e.isExcluded()?m:c;return"".concat(h," ").concat(fn(s,"PPPP",e.props.locale))},e.getTitle=function(){var n=e.props,s=n.day,l=n.holidays,c=l===void 0?new Map:l,u=n.excludeDates,m=fn(s,"MM.dd.yyyy"),h=[];return c.has(m)&&h.push.apply(h,c.get(m).holidayNames),e.isExcluded()&&h.push(u==null?void 0:u.filter(function(f){return f instanceof Date?Mt(f,s):Mt(f==null?void 0:f.date,s)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),h.join(", ")},e.getTabIndex=function(){var n=e.props.selected,s=e.props.preSelection,l=!(e.props.showWeekPicker&&(e.props.showWeekNumber||!e.isStartOfWeek()))&&(e.isKeyboardSelected()||e.isSameDay(n)&&Mt(s,n))?0:-1;return l},e.handleFocusDay=function(){var n;e.shouldFocusDay()&&((n=e.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},e.renderDayContents=function(){return e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()||e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()?null:e.props.renderDayContents?e.props.renderDayContents(Gv(e.props.day),e.props.day):Gv(e.props.day)},e.render=function(){return r.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.props.usePointerEvent?void 0:e.handleMouseEnter,onPointerEnter:e.props.usePointerEvent?e.handleMouseEnter:void 0,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"option",title:e.getTitle(),"aria-disabled":e.isDisabled(),"aria-current":e.isCurrentDay()?"date":void 0,"aria-selected":e.isSelected()||e.isInRange()},e.renderDayContents(),e.getTitle()!==""&&r.createElement("span",{className:"overlay"},e.getTitle()))},e}return a.prototype.componentDidMount=function(){this.handleFocusDay()},a.prototype.componentDidUpdate=function(){this.handleFocusDay()},a.prototype.shouldFocusDay=function(){var e=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},a.prototype.isDayActiveElement=function(){var e,n,s;return((n=(e=this.props.containerRef)===null||e===void 0?void 0:e.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},a.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},a}(v.Component),HN=function(t){ra(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.weekNumberEl=v.createRef(),e.handleClick=function(n){e.props.onClick&&e.props.onClick(n)},e.handleOnKeyDown=function(n){var s,l,c=n.key;c===Re.Space&&(n.preventDefault(),n.key=Re.Enter),(l=(s=e.props).handleOnKeyDown)===null||l===void 0||l.call(s,n)},e.isKeyboardSelected=function(){return!e.props.disabledKeyboardNavigation&&!Mt(e.props.date,e.props.selected)&&Mt(e.props.date,e.props.preSelection)},e.getTabIndex=function(){return e.props.showWeekPicker&&e.props.showWeekNumber&&(e.isKeyboardSelected()||Mt(e.props.date,e.props.selected)&&Mt(e.props.preSelection,e.props.selected))?0:-1},e.handleFocusWeekNumber=function(n){var s=!1;e.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Mt(e.props.date,e.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(s=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&e.weekNumberEl.current&&e.weekNumberEl.current.focus({preventScroll:!0})},e}return Object.defineProperty(a,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),a.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},a.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},a.prototype.render=function(){var e=this.props,n=e.weekNumber,s=e.isWeekDisabled,l=e.ariaLabelPrefix,c=l===void 0?a.defaultProps.ariaLabelPrefix:l,u=e.onClick,m={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!s,"react-datepicker__week-number--selected":!!u&&Mt(this.props.date,this.props.selected)};return r.createElement("div",{ref:this.weekNumberEl,className:ua(m),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},a}(v.Component),YN=function(t){ra(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.isDisabled=function(n){return br(n,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.handleDayClick=function(n,s){e.props.onDayClick&&e.props.onDayClick(n,s)},e.handleDayMouseEnter=function(n){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(n)},e.handleWeekClick=function(n,s,l){for(var c,u,m,h=new Date(n),f=0;f<7;f++){var y=new Date(n);y.setDate(y.getDate()+f);var b=!e.isDisabled(y);if(b){h=y;break}}typeof e.props.onWeekSelect=="function"&&e.props.onWeekSelect(h,s,l),e.props.showWeekPicker&&e.handleDayClick(h,l),((c=e.props.shouldCloseOnSelect)!==null&&c!==void 0?c:a.defaultProps.shouldCloseOnSelect)&&((m=(u=e.props).setOpen)===null||m===void 0||m.call(u,!1))},e.formatWeekNumber=function(n){return e.props.formatWeekNumber?e.props.formatWeekNumber(n):SN(n)},e.isWeekDisabled=function(){for(var n=e.startOfWeek(),s=Lr(n,6),l=new Date(n);l<=s;){if(!e.isDisabled(l))return!1;l=Lr(l,1)}return!0},e.renderDays=function(){var n=e.startOfWeek(),s=[],l=e.formatWeekNumber(n);if(e.props.showWeekNumber){var c=e.props.onWeekSelect||e.props.showWeekPicker?e.handleWeekClick.bind(e,n,l):void 0;s.push(r.createElement(HN,Tt({key:"W"},a.defaultProps,e.props,{weekNumber:l,isWeekDisabled:e.isWeekDisabled(),date:n,onClick:c})))}return s.concat([0,1,2,3,4,5,6].map(function(u){var m=Lr(n,u);return r.createElement(jN,Tt({},a.defaultProps,e.props,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:m.valueOf(),day:m,onClick:e.handleDayClick.bind(e,m),onMouseEnter:e.handleDayMouseEnter.bind(e,m)}))}))},e.startOfWeek=function(){return Li(e.props.day,e.props.locale,e.props.calendarStartDay)},e.isKeyboardSelected=function(){return!e.props.disabledKeyboardNavigation&&!Mt(e.startOfWeek(),e.props.selected)&&Mt(e.startOfWeek(),e.props.preSelection)},e}return Object.defineProperty(a,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),a.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":Mt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return r.createElement("div",{className:ua(e)},this.renderDays())},a}(v.Component),Bc,$N=6,hl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},ng=(Bc={},Bc[hl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Bc[hl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Bc[hl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Bc),Zu=1;function v2(t,a){return t?hl.FOUR_COLUMNS:a?hl.TWO_COLUMNS:hl.THREE_COLUMNS}var GN=function(t){ra(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.MONTH_REFS=Xr([],Array(12),!0).map(function(){return v.createRef()}),e.QUARTER_REFS=Xr([],Array(4),!0).map(function(){return v.createRef()}),e.isDisabled=function(n){return br(n,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.isExcluded=function(n){return F0(n,{excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals})},e.handleDayClick=function(n,s){var l,c;(c=(l=e.props).onDayClick)===null||c===void 0||c.call(l,n,s,e.props.orderInDisplay)},e.handleDayMouseEnter=function(n){var s,l;(l=(s=e.props).onDayMouseEnter)===null||l===void 0||l.call(s,n)},e.handleMouseLeave=function(){var n,s;(s=(n=e.props).onMouseLeave)===null||s===void 0||s.call(n)},e.isRangeStartMonth=function(n){var s=e.props,l=s.day,c=s.startDate,u=s.endDate;return!c||!u?!1:Sa(gr(l,n),c)},e.isRangeStartQuarter=function(n){var s=e.props,l=s.day,c=s.startDate,u=s.endDate;return!c||!u?!1:Pm(cl(l,n),c)},e.isRangeEndMonth=function(n){var s=e.props,l=s.day,c=s.startDate,u=s.endDate;return!c||!u?!1:Sa(gr(l,n),u)},e.isRangeEndQuarter=function(n){var s=e.props,l=s.day,c=s.startDate,u=s.endDate;return!c||!u?!1:Pm(cl(l,n),u)},e.isInSelectingRangeMonth=function(n){var s,l=e.props,c=l.day,u=l.selectsStart,m=l.selectsEnd,h=l.selectsRange,f=l.startDate,y=l.endDate,b=(s=e.props.selectingDate)!==null&&s!==void 0?s:e.props.preSelection;return!(u||m||h)||!b?!1:u&&y?Yu(b,y,n,c):m&&f||h&&f&&!y?Yu(f,b,n,c):!1},e.isSelectingMonthRangeStart=function(n){var s;if(!e.isInSelectingRangeMonth(n))return!1;var l=e.props,c=l.day,u=l.startDate,m=l.selectsStart,h=gr(c,n),f=(s=e.props.selectingDate)!==null&&s!==void 0?s:e.props.preSelection;return m?Sa(h,f):Sa(h,u)},e.isSelectingMonthRangeEnd=function(n){var s;if(!e.isInSelectingRangeMonth(n))return!1;var l=e.props,c=l.day,u=l.endDate,m=l.selectsEnd,h=l.selectsRange,f=gr(c,n),y=(s=e.props.selectingDate)!==null&&s!==void 0?s:e.props.preSelection;return m||h?Sa(f,y):Sa(f,u)},e.isInSelectingRangeQuarter=function(n){var s,l=e.props,c=l.day,u=l.selectsStart,m=l.selectsEnd,h=l.selectsRange,f=l.startDate,y=l.endDate,b=(s=e.props.selectingDate)!==null&&s!==void 0?s:e.props.preSelection;return!(u||m||h)||!b?!1:u&&y?qu(b,y,n,c):m&&f||h&&f&&!y?qu(f,b,n,c):!1},e.isWeekInMonth=function(n){var s=e.props.day,l=Lr(n,6);return Sa(n,s)||Sa(l,s)},e.isCurrentMonth=function(n,s){return Et(n)===Et(zt())&&s===va(zt())},e.isCurrentQuarter=function(n,s){return Et(n)===Et(zt())&&s===ho(zt())},e.isSelectedMonth=function(n,s,l){return va(l)===s&&Et(n)===Et(l)},e.isSelectMonthInList=function(n,s,l){return l.some(function(c){return e.isSelectedMonth(n,s,c)})},e.isSelectedQuarter=function(n,s,l){return ho(n)===s&&Et(n)===Et(l)},e.isMonthSelected=function(){var n=e.props,s=n.day,l=n.selected,c=n.selectedDates,u=n.selectsMultiple,m=va(s);return u?c==null?void 0:c.some(function(h){return e.isSelectedMonth(s,m,h)}):!!l&&e.isSelectedMonth(s,m,l)},e.renderWeeks=function(){for(var n=[],s=e.props.fixedHeight,l=0,c=!1,u=Li(Ws(e.props.day),e.props.locale,e.props.calendarStartDay),m=function(w){return e.props.showWeekPicker?Li(w,e.props.locale,e.props.calendarStartDay):e.props.preSelection},h=function(w){return e.props.showWeekPicker?Li(w,e.props.locale,e.props.calendarStartDay):e.props.selected},f=e.props.selected?h(e.props.selected):void 0,y=e.props.preSelection?m(e.props.preSelection):void 0;n.push(r.createElement(YN,Tt({},e.props,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,key:l,day:u,month:va(e.props.day),onDayClick:e.handleDayClick,onDayMouseEnter:e.handleDayMouseEnter,selected:f,preSelection:y,showWeekNumber:e.props.showWeekNumbers}))),!c;){l++,u=Cm(u,1);var b=s&&l>=$N,E=!s&&!e.isWeekInMonth(u);if(b||E)if(e.props.peekNextMonth)c=!0;else break}return n},e.onMonthClick=function(n,s){var l=e.isMonthDisabledForLabelDate(s),c=l.isDisabled,u=l.labelDate;c||e.handleDayClick(Ws(u),n)},e.onMonthMouseEnter=function(n){var s=e.isMonthDisabledForLabelDate(n),l=s.isDisabled,c=s.labelDate;l||e.handleDayMouseEnter(Ws(c))},e.handleMonthNavigation=function(n,s){var l,c,u,m;(c=(l=e.props).setPreSelection)===null||c===void 0||c.call(l,s),(m=(u=e.MONTH_REFS[n])===null||u===void 0?void 0:u.current)===null||m===void 0||m.focus()},e.handleKeyboardNavigation=function(n,s,l){var c,u=e.props,m=u.selected,h=u.preSelection,f=u.setPreSelection,y=u.minDate,b=u.maxDate,E=u.showFourColumnMonthYearPicker,w=u.showTwoColumnMonthYearPicker;if(h){var _=v2(E,w),C=e.getVerticalOffset(_),S=(c=ng[_])===null||c===void 0?void 0:c.grid,I=function($,z,Y){var J,ae,H=z,Z=Y;switch($){case Re.ArrowRight:H=Pr(z,Zu),Z=Y===11?0:Y+Zu;break;case Re.ArrowLeft:H=go(z,Zu),Z=Y===0?11:Y-Zu;break;case Re.ArrowUp:H=go(z,C),Z=!((J=S==null?void 0:S[0])===null||J===void 0)&&J.includes(Y)?Y+12-C:Y-C;break;case Re.ArrowDown:H=Pr(z,C),Z=!((ae=S==null?void 0:S[S.length-1])===null||ae===void 0)&&ae.includes(Y)?Y-12+C:Y+C;break}return{newCalculatedDate:H,newCalculatedMonth:Z}},k=function($,z,Y){for(var J=40,ae=$,H=!1,Z=0,O=I(ae,z,Y),L=O.newCalculatedDate,A=O.newCalculatedMonth;!H;){if(Z>=J){L=z,A=Y;break}if(y&&L<y){ae=Re.ArrowRight;var U=I(ae,L,A);L=U.newCalculatedDate,A=U.newCalculatedMonth}if(b&&L>b){ae=Re.ArrowLeft;var U=I(ae,L,A);L=U.newCalculatedDate,A=U.newCalculatedMonth}if(MN(L,e.props)){var U=I(ae,L,A);L=U.newCalculatedDate,A=U.newCalculatedMonth}else H=!0;Z++}return{newCalculatedDate:L,newCalculatedMonth:A}};if(s===Re.Enter){e.isMonthDisabled(l)||(e.onMonthClick(n,l),f==null||f(m));return}var N=k(s,h,l),M=N.newCalculatedDate,R=N.newCalculatedMonth;switch(s){case Re.ArrowRight:case Re.ArrowLeft:case Re.ArrowUp:case Re.ArrowDown:e.handleMonthNavigation(R,M);break}}},e.getVerticalOffset=function(n){var s,l;return(l=(s=ng[n])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&l!==void 0?l:0},e.onMonthKeyDown=function(n,s){var l=e.props,c=l.disabledKeyboardNavigation,u=l.handleOnMonthKeyDown,m=n.key;m!==Re.Tab&&n.preventDefault(),c||e.handleKeyboardNavigation(n,m,s),u&&u(n)},e.onQuarterClick=function(n,s){var l=cl(e.props.day,s);$u(l,e.props)||e.handleDayClick(r2(l),n)},e.onQuarterMouseEnter=function(n){var s=cl(e.props.day,n);$u(s,e.props)||e.handleDayMouseEnter(r2(s))},e.handleQuarterNavigation=function(n,s){var l,c,u,m;e.isDisabled(s)||e.isExcluded(s)||((c=(l=e.props).setPreSelection)===null||c===void 0||c.call(l,s),(m=(u=e.QUARTER_REFS[n-1])===null||u===void 0?void 0:u.current)===null||m===void 0||m.focus())},e.onQuarterKeyDown=function(n,s){var l,c,u=n.key;if(!e.props.disabledKeyboardNavigation)switch(u){case Re.Enter:e.onQuarterClick(n,s),(c=(l=e.props).setPreSelection)===null||c===void 0||c.call(l,e.props.selected);break;case Re.ArrowRight:if(!e.props.preSelection)break;e.handleQuarterNavigation(s===4?1:s+1,N0(e.props.preSelection,1));break;case Re.ArrowLeft:if(!e.props.preSelection)break;e.handleQuarterNavigation(s===1?4:s-1,_E(e.props.preSelection));break}},e.isMonthDisabledForLabelDate=function(n){var s,l=e.props,c=l.day,u=l.minDate,m=l.maxDate,h=l.excludeDates,f=l.includeDates,y=gr(c,n);return{isDisabled:(s=(u||m||h||f)&&FE(y,e.props))!==null&&s!==void 0?s:!1,labelDate:y}},e.isMonthDisabled=function(n){var s=e.isMonthDisabledForLabelDate(n).isDisabled;return s},e.getMonthClassNames=function(n){var s=e.props,l=s.day,c=s.startDate,u=s.endDate,m=s.preSelection,h=s.monthClassName,f=h?h(gr(l,n)):void 0,y=e.getSelection();return ua("react-datepicker__month-text","react-datepicker__month-".concat(n),f,{"react-datepicker__month-text--disabled":e.isMonthDisabled(n),"react-datepicker__month-text--selected":y?e.isSelectMonthInList(l,n,y):void 0,"react-datepicker__month-text--keyboard-selected":!e.props.disabledKeyboardNavigation&&m&&e.isSelectedMonth(l,n,m)&&!e.isMonthSelected()&&!e.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":e.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&u?Yu(c,u,n,l):void 0,"react-datepicker__month-text--range-start":e.isRangeStartMonth(n),"react-datepicker__month-text--range-end":e.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":e.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":e.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":e.isCurrentMonth(l,n)})},e.getTabIndex=function(n){if(e.props.preSelection==null)return"-1";var s=va(e.props.preSelection),l=e.isMonthDisabledForLabelDate(s).isDisabled,c=n===s&&!(l||e.props.disabledKeyboardNavigation)?"0":"-1";return c},e.getQuarterTabIndex=function(n){if(e.props.preSelection==null)return"-1";var s=ho(e.props.preSelection),l=$u(e.props.day,e.props),c=n===s&&!(l||e.props.disabledKeyboardNavigation)?"0":"-1";return c},e.getAriaLabel=function(n){var s=e.props,l=s.chooseDayAriaLabelPrefix,c=l===void 0?"Choose":l,u=s.disabledDayAriaLabelPrefix,m=u===void 0?"Not available":u,h=s.day,f=s.locale,y=gr(h,n),b=e.isDisabled(y)||e.isExcluded(y)?m:c;return"".concat(b," ").concat(fn(y,"MMMM yyyy",f))},e.getQuarterClassNames=function(n){var s=e.props,l=s.day,c=s.startDate,u=s.endDate,m=s.selected,h=s.minDate,f=s.maxDate,y=s.excludeDates,b=s.includeDates,E=s.filterDate,w=s.preSelection,_=s.disabledKeyboardNavigation,C=(h||f||y||b||E)&&$u(cl(l,n),e.props);return ua("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":C,"react-datepicker__quarter-text--selected":m?e.isSelectedQuarter(l,n,m):void 0,"react-datepicker__quarter-text--keyboard-selected":!_&&w&&e.isSelectedQuarter(l,n,w)&&!C,"react-datepicker__quarter-text--in-selecting-range":e.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&u?qu(c,u,n,l):void 0,"react-datepicker__quarter-text--range-start":e.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":e.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":e.isCurrentQuarter(l,n)})},e.getMonthContent=function(n){var s=e.props,l=s.showFullMonthYearPicker,c=s.renderMonthContent,u=s.locale,m=s.day,h=UE(n,u),f=U0(n,u);return c?c(n,h,f,m):l?f:h},e.getQuarterContent=function(n){var s,l=e.props,c=l.renderQuarterContent,u=l.locale,m=DN(n,u);return(s=c==null?void 0:c(n,m))!==null&&s!==void 0?s:m},e.renderMonths=function(){var n,s=e.props,l=s.showTwoColumnMonthYearPicker,c=s.showFourColumnMonthYearPicker,u=s.day,m=s.selected,h=(n=ng[v2(c,l)])===null||n===void 0?void 0:n.grid;return h==null?void 0:h.map(function(f,y){return r.createElement("div",{className:"react-datepicker__month-wrapper",key:y},f.map(function(b,E){return r.createElement("div",{ref:e.MONTH_REFS[b],key:E,onClick:function(w){e.onMonthClick(w,b)},onKeyDown:function(w){HE(w)&&(w.preventDefault(),w.key=Re.Enter),e.onMonthKeyDown(w,b)},onMouseEnter:e.props.usePointerEvent?void 0:function(){return e.onMonthMouseEnter(b)},onPointerEnter:e.props.usePointerEvent?function(){return e.onMonthMouseEnter(b)}:void 0,tabIndex:Number(e.getTabIndex(b)),className:e.getMonthClassNames(b),"aria-disabled":e.isMonthDisabled(b),role:"option","aria-label":e.getAriaLabel(b),"aria-current":e.isCurrentMonth(u,b)?"date":void 0,"aria-selected":m?e.isSelectedMonth(u,b,m):void 0},e.getMonthContent(b))}))})},e.renderQuarters=function(){var n=e.props,s=n.day,l=n.selected,c=[1,2,3,4];return r.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(u,m){return r.createElement("div",{key:m,ref:e.QUARTER_REFS[m],role:"option",onClick:function(h){e.onQuarterClick(h,u)},onKeyDown:function(h){e.onQuarterKeyDown(h,u)},onMouseEnter:e.props.usePointerEvent?void 0:function(){return e.onQuarterMouseEnter(u)},onPointerEnter:e.props.usePointerEvent?function(){return e.onQuarterMouseEnter(u)}:void 0,className:e.getQuarterClassNames(u),"aria-selected":l?e.isSelectedQuarter(s,u,l):void 0,tabIndex:Number(e.getQuarterTabIndex(u)),"aria-current":e.isCurrentQuarter(s,u)?"date":void 0},e.getQuarterContent(u))}))},e.getClassNames=function(){var n=e.props,s=n.selectingDate,l=n.selectsStart,c=n.selectsEnd,u=n.showMonthYearPicker,m=n.showQuarterYearPicker,h=n.showWeekPicker;return ua("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(l||c)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":m},{"react-datepicker__weekPicker":h})},e}return a.prototype.getSelection=function(){var e=this.props,n=e.selected,s=e.selectedDates,l=e.selectsMultiple;if(l)return s;if(n)return[n]},a.prototype.render=function(){var e=this.props,n=e.showMonthYearPicker,s=e.showQuarterYearPicker,l=e.day,c=e.ariaLabelPrefix,u=c===void 0?"Month ":c,m=u?u.trim()+" ":"";return r.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(m).concat(fn(l,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},a}(v.Component),qN=function(t){ra(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.isSelectedMonth=function(n){return e.props.month===n},e.renderOptions=function(){return e.props.monthNames.map(function(n,s){return r.createElement("div",{className:e.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:e.onChange.bind(e,s),"aria-selected":e.isSelectedMonth(s)?"true":void 0},e.isSelectedMonth(s)?r.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},e.onChange=function(n){return e.props.onChange(n)},e.handleClickOutside=function(){return e.props.onCancel()},e}return a.prototype.render=function(){return r.createElement(Dp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},a}(v.Component),ZN=function(t){ra(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(n){return n.map(function(s,l){return r.createElement("option",{key:s,value:l},s)})},e.renderSelectMode=function(n){return r.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(s){return e.onChange(parseInt(s.target.value))}},e.renderSelectOptions(n))},e.renderReadView=function(n,s){return r.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},r.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),r.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[e.props.month]))},e.renderDropdown=function(n){return r.createElement(qN,Tt({key:"dropdown"},e.props,{monthNames:n,onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(n){var s=e.state.dropdownVisible,l=[e.renderReadView(!s,n)];return s&&l.unshift(e.renderDropdown(n)),l},e.onChange=function(n){e.toggleDropdown(),n!==e.props.month&&e.props.onChange(n)},e.toggleDropdown=function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})},e}return a.prototype.render=function(){var e=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(l){return UE(l,e.props.locale)}:function(l){return U0(l,e.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(n);break;case"select":s=this.renderSelectMode(n);break}return r.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},a}(v.Component);function VN(t,a){for(var e=[],n=Ws(t),s=Ws(a);!$s(n,s);)e.push(zt(n)),n=Pr(n,1);return e}var QN=function(t){ra(a,t);function a(e){var n=t.call(this,e)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(s){var l=jg(s),c=Vr(n.props.date,s)&&Sa(n.props.date,s);return r.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:l,onClick:n.onChange.bind(n,l),"aria-selected":c?"true":void 0},c?r.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",fn(s,n.props.dateFormat,n.props.locale))})},n.onChange=function(s){return n.props.onChange(s)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:VN(n.props.minDate,n.props.maxDate)},n}return a.prototype.render=function(){var e=ua({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return r.createElement(Dp,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},a}(v.Component),JN=function(t){ra(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(){for(var n=Ws(e.props.minDate),s=Ws(e.props.maxDate),l=[];!$s(n,s);){var c=jg(n);l.push(r.createElement("option",{key:c,value:c},fn(n,e.props.dateFormat,e.props.locale))),n=Pr(n,1)}return l},e.onSelectChange=function(n){e.onChange(parseInt(n.target.value))},e.renderSelectMode=function(){return r.createElement("select",{value:jg(Ws(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())},e.renderReadView=function(n){var s=fn(e.props.date,e.props.dateFormat,e.props.locale);return r.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:e.toggleDropdown},r.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),r.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},e.renderDropdown=function(){return r.createElement(QN,Tt({key:"dropdown"},e.props,{onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(){var n=e.state.dropdownVisible,s=[e.renderReadView(!n)];return n&&s.unshift(e.renderDropdown()),s},e.onChange=function(n){e.toggleDropdown();var s=zt(n);Vr(e.props.date,s)&&Sa(e.props.date,s)||e.props.onChange(s)},e.toggleDropdown=function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})},e}return a.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode();break}return r.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},a}(v.Component),XN=function(t){ra(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.state={height:null},e.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,s,l;e.list&&(e.list.scrollTop=(l=e.centerLi&&a.calcCenterPosition(e.props.monthRef?e.props.monthRef.clientHeight-((s=(n=e.header)===null||n===void 0?void 0:n.clientHeight)!==null&&s!==void 0?s:0):e.list.clientHeight,e.centerLi))!==null&&l!==void 0?l:0)})},e.handleClick=function(n){var s,l;(e.props.minTime||e.props.maxTime)&&c2(n,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&l2(n,e.props)||(l=(s=e.props).onChange)===null||l===void 0||l.call(s,n)},e.isSelectedTime=function(n){return e.props.selected&&FN(e.props.selected,n)},e.isDisabledTime=function(n){return(e.props.minTime||e.props.maxTime)&&c2(n,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&l2(n,e.props)},e.liClasses=function(n){var s,l=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(n):void 0];return e.isSelectedTime(n)&&l.push("react-datepicker__time-list-item--selected"),e.isDisabledTime(n)&&l.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(Us(n)*3600+Fs(n)*60+Ri(n))%(((s=e.props.intervals)!==null&&s!==void 0?s:a.defaultProps.intervals)*60)!==0&&l.push("react-datepicker__time-list-item--injected"),l.join(" ")},e.handleOnKeyDown=function(n,s){var l,c;n.key===Re.Space&&(n.preventDefault(),n.key=Re.Enter),(n.key===Re.ArrowUp||n.key===Re.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Re.ArrowDown||n.key===Re.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Re.Enter&&e.handleClick(s),(c=(l=e.props).handleOnKeyDown)===null||c===void 0||c.call(l,n)},e.renderTimes=function(){for(var n,s=[],l=typeof e.props.format=="string"?e.props.format:"p",c=(n=e.props.intervals)!==null&&n!==void 0?n:a.defaultProps.intervals,u=e.props.selected||e.props.openToDate||zt(),m=mm(u),h=e.props.injectTimes&&e.props.injectTimes.sort(function(C,S){return C.getTime()-S.getTime()}),f=60*UN(u),y=f/c,b=0;b<y;b++){var E=Ug(m,b*c);if(s.push(E),h){var w=zN(m,E,b,c,h);s=s.concat(w)}}var _=s.reduce(function(C,S){return S.getTime()<=u.getTime()?S:C},s[0]);return s.map(function(C){return r.createElement("li",{key:C.valueOf(),onClick:e.handleClick.bind(e,C),className:e.liClasses(C),ref:function(S){C===_&&(e.centerLi=S)},onKeyDown:function(S){e.handleOnKeyDown(S,C)},tabIndex:C===_?0:-1,role:"option","aria-selected":e.isSelectedTime(C)?"true":void 0,"aria-disabled":e.isDisabledTime(C)?"true":void 0},fn(C,l,e.props.locale))})},e.renderTimeCaption=function(){return e.props.showTimeCaption===!1?r.createElement(r.Fragment,null):r.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(e.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){e.header=n}},r.createElement("div",{className:"react-datepicker-time__header"},e.props.timeCaption))},e}return Object.defineProperty(a,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),a.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},a.prototype.componentWillUnmount=function(){var e;(e=this.resizeObserver)===null||e===void 0||e.disconnect()},a.prototype.observeDatePickerHeightChanges=function(){var e=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(n))},a.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},a.prototype.render=function(){var e=this,n,s=this.state.height;return r.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:a.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),r.createElement("div",{className:"react-datepicker__time"},r.createElement("div",{className:"react-datepicker__time-box"},r.createElement("ul",{className:"react-datepicker__time-list",ref:function(l){e.list=l},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},a.calcCenterPosition=function(e,n){return n.offsetTop-(e/2-n.clientHeight/2)},a}(v.Component),x2=3,KN=function(t){ra(a,t);function a(e){var n=t.call(this,e)||this;return n.YEAR_REFS=Xr([],Array(n.props.yearItemNumber),!0).map(function(){return v.createRef()}),n.isDisabled=function(s){return br(s,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(s){return F0(s,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var s;return(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection},n.updateFocusOnPaginate=function(s){var l=function(){var c,u;(u=(c=n.YEAR_REFS[s])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(l)},n.handleYearClick=function(s,l){n.props.onDayClick&&n.props.onDayClick(s,l)},n.handleYearNavigation=function(s,l){var c,u,m,h,f=n.props,y=f.date,b=f.yearItemNumber;if(!(y===void 0||b===void 0)){var E=Ti(y,b).startPeriod;n.isDisabled(l)||n.isExcluded(l)||((u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,l),s-E<0?n.updateFocusOnPaginate(b-(E-s)):s-E>=b?n.updateFocusOnPaginate(Math.abs(b-(s-E))):(h=(m=n.YEAR_REFS[s-E])===null||m===void 0?void 0:m.current)===null||h===void 0||h.focus())}},n.isSameDay=function(s,l){return Mt(s,l)},n.isCurrentYear=function(s){return s===Et(zt())},n.isRangeStart=function(s){return n.props.startDate&&n.props.endDate&&Vr(Zr(zt(),s),n.props.startDate)},n.isRangeEnd=function(s){return n.props.startDate&&n.props.endDate&&Vr(Zr(zt(),s),n.props.endDate)},n.isInRange=function(s){return Gu(s,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(s){var l=n.props,c=l.selectsStart,u=l.selectsEnd,m=l.selectsRange,h=l.startDate,f=l.endDate;return!(c||u||m)||!n.selectingDate()?!1:c&&f?Gu(s,n.selectingDate(),f):u&&h||m&&h&&!f?Gu(s,h,n.selectingDate()):!1},n.isSelectingRangeStart=function(s){var l;if(!n.isInSelectingRange(s))return!1;var c=n.props,u=c.startDate,m=c.selectsStart,h=Zr(zt(),s);return m?Vr(h,(l=n.selectingDate())!==null&&l!==void 0?l:null):Vr(h,u??null)},n.isSelectingRangeEnd=function(s){var l;if(!n.isInSelectingRange(s))return!1;var c=n.props,u=c.endDate,m=c.selectsEnd,h=c.selectsRange,f=Zr(zt(),s);return m||h?Vr(f,(l=n.selectingDate())!==null&&l!==void 0?l:null):Vr(f,u??null)},n.isKeyboardSelected=function(s){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var l=n.props,c=l.minDate,u=l.maxDate,m=l.excludeDates,h=l.includeDates,f=l.filterDate,y=Gc(Zr(n.props.date,s)),b=(c||u||m||h||f)&&pm(s,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Mt(y,Gc(n.props.selected))&&Mt(y,Gc(n.props.preSelection))&&!b}},n.isSelectedYear=function(s){var l=n.props,c=l.selectsMultiple,u=l.selected,m=l.selectedDates;return c?m==null?void 0:m.some(function(h){return s===Et(h)}):!!u&&s===Et(u)},n.onYearClick=function(s,l){var c=n.props.date;c!==void 0&&n.handleYearClick(Gc(Zr(c,l)),s)},n.onYearKeyDown=function(s,l){var c,u,m=s.key,h=n.props,f=h.date,y=h.yearItemNumber,b=h.handleOnKeyDown;if(m!==Re.Tab&&s.preventDefault(),!n.props.disabledKeyboardNavigation)switch(m){case Re.Enter:if(n.props.selected==null)break;n.onYearClick(s,l),(u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,n.props.selected);break;case Re.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(l+1,Os(n.props.preSelection,1));break;case Re.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(l-1,xl(n.props.preSelection,1));break;case Re.ArrowUp:{if(f===void 0||y===void 0||n.props.preSelection==null)break;var E=Ti(f,y).startPeriod,w=x2,_=l-w;if(_<E){var C=y%w;l>=E&&l<E+C?w=C:w+=C,_=l-w}n.handleYearNavigation(_,xl(n.props.preSelection,w));break}case Re.ArrowDown:{if(f===void 0||y===void 0||n.props.preSelection==null)break;var S=Ti(f,y).endPeriod,w=x2,_=l+w;if(_>S){var C=y%w;l<=S&&l>S-C?w=C:w+=C,_=l+w}n.handleYearNavigation(_,Os(n.props.preSelection,w));break}}b&&b(s)},n.getYearClassNames=function(s){var l=n.props,c=l.date,u=l.minDate,m=l.maxDate,h=l.excludeDates,f=l.includeDates,y=l.filterDate,b=l.yearClassName;return ua("react-datepicker__year-text","react-datepicker__year-".concat(s),c?b==null?void 0:b(Zr(c,s)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(s),"react-datepicker__year-text--disabled":(u||m||h||f||y)&&pm(s,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(s),"react-datepicker__year-text--range-start":n.isRangeStart(s),"react-datepicker__year-text--range-end":n.isRangeEnd(s),"react-datepicker__year-text--in-range":n.isInRange(s),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(s),"react-datepicker__year-text--today":n.isCurrentYear(s)})},n.getYearTabIndex=function(s){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var l=Et(n.props.preSelection),c=pm(s,n.props);return s===l&&!c?"0":"-1"},n.getYearContent=function(s){return n.props.renderYearContent?n.props.renderYearContent(s):s},n}return a.prototype.render=function(){var e=this,n=[],s=this.props,l=s.date,c=s.yearItemNumber,u=s.onYearMouseEnter,m=s.onYearMouseLeave;if(l===void 0)return null;for(var h=Ti(l,c),f=h.startPeriod,y=h.endPeriod,b=function(_){n.push(r.createElement("div",{ref:E.YEAR_REFS[_-f],onClick:function(C){e.onYearClick(C,_)},onKeyDown:function(C){HE(C)&&(C.preventDefault(),C.key=Re.Enter),e.onYearKeyDown(C,_)},tabIndex:Number(E.getYearTabIndex(_)),className:E.getYearClassNames(_),onMouseEnter:E.props.usePointerEvent?void 0:function(C){return u(C,_)},onPointerEnter:E.props.usePointerEvent?function(C){return u(C,_)}:void 0,onMouseLeave:E.props.usePointerEvent?void 0:function(C){return m(C,_)},onPointerLeave:E.props.usePointerEvent?function(C){return m(C,_)}:void 0,key:_,"aria-current":E.isCurrentYear(_)?"date":void 0},E.getYearContent(_)))},E=this,w=f;w<=y;w++)b(w);return r.createElement("div",{className:"react-datepicker__year"},r.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},a}(v.Component);function ek(t,a,e,n){for(var s=[],l=0;l<2*a+1;l++){var c=t+a-l,u=!0;e&&(u=Et(e)<=c),n&&u&&(u=Et(n)>=c),u&&s.push(c)}return s}var tk=function(t){ra(a,t);function a(e){var n=t.call(this,e)||this;n.renderOptions=function(){var u=n.props.year,m=n.state.yearsList.map(function(y){return r.createElement("div",{className:u===y?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:y,onClick:n.onChange.bind(n,y),"aria-selected":u===y?"true":void 0},u===y?r.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",y)}),h=n.props.minDate?Et(n.props.minDate):null,f=n.props.maxDate?Et(n.props.maxDate):null;return(!f||!n.state.yearsList.find(function(y){return y===f}))&&m.unshift(r.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},r.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!h||!n.state.yearsList.find(function(y){return y===h}))&&m.push(r.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},r.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),m},n.onChange=function(u){n.props.onChange(u)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(u){var m=n.state.yearsList.map(function(h){return h+u});n.setState({yearsList:m})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var s=e.yearDropdownItemNumber,l=e.scrollableYearDropdown,c=s||(l?10:5);return n.state={yearsList:ek(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=v.createRef(),n}return a.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var n=e.children?Array.from(e.children):null,s=n?n.find(function(l){return l.ariaSelected}):null;e.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},a.prototype.render=function(){var e=ua({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return r.createElement(Dp,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},a}(v.Component),nk=function(t){ra(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(){for(var n=e.props.minDate?Et(e.props.minDate):1900,s=e.props.maxDate?Et(e.props.maxDate):2100,l=[],c=n;c<=s;c++)l.push(r.createElement("option",{key:c,value:c},c));return l},e.onSelectChange=function(n){e.onChange(parseInt(n.target.value))},e.renderSelectMode=function(){return r.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())},e.renderReadView=function(n){return r.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return e.toggleDropdown(s)}},r.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),r.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))},e.renderDropdown=function(){return r.createElement(tk,Tt({key:"dropdown"},e.props,{onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(){var n=e.state.dropdownVisible,s=[e.renderReadView(!n)];return n&&s.unshift(e.renderDropdown()),s},e.onChange=function(n){e.toggleDropdown(),n!==e.props.year&&e.props.onChange(n)},e.toggleDropdown=function(n){e.setState({dropdownVisible:!e.state.dropdownVisible},function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,n)})},e.handleYearChange=function(n,s){var l;(l=e.onSelect)===null||l===void 0||l.call(e,n,s),e.setOpen()},e.onSelect=function(n,s){var l,c;(c=(l=e.props).onSelect)===null||c===void 0||c.call(l,n,s)},e.setOpen=function(){var n,s;(s=(n=e.props).setOpen)===null||s===void 0||s.call(n,!0)},e}return a.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode();break}return r.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},a}(v.Component),ak=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],rk=function(t){var a=(t.className||"").split(/\s+/);return ak.some(function(e){return a.indexOf(e)>=0})},sk=function(t){ra(a,t);function a(e){var n=t.call(this,e)||this;return n.monthContainer=void 0,n.handleClickOutside=function(s){n.props.onClickOutside(s)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(s){var l,c;rk(s.target)&&((c=(l=n.props).onDropdownFocus)===null||c===void 0||c.call(l,s))},n.getDateInView=function(){var s=n.props,l=s.preSelection,c=s.selected,u=s.openToDate,m=WE(n.props),h=jE(n.props),f=zt(),y=u||c||l;return y||(m&&xo(f,m)?m:h&&$s(f,h)?h:f)},n.increaseMonth=function(){n.setState(function(s){var l=s.date;return{date:Pr(l,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(s){var l=s.date;return{date:go(l,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(s,l,c){n.props.onSelect(s,l,c),n.props.setPreSelection&&n.props.setPreSelection(s)},n.handleDayMouseEnter=function(s){n.setState({selectingDate:s}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(s)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(s,l){n.setState({selectingDate:Zr(zt(),l)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(s,l)},n.handleYearMouseLeave=function(s,l){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(s,l)},n.handleYearChange=function(s){var l,c,u,m;(c=(l=n.props).onYearChange)===null||c===void 0||c.call(l,s),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(s),(m=(u=n.props).setOpen)===null||m===void 0||m.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(s)},n.getEnabledPreSelectionDateForMonth=function(s){if(!br(s,n.props))return s;for(var l=Ws(s),c=IN(s),u=uE(c,l),m=null,h=0;h<=u;h++){var f=Lr(l,h);if(!br(f,n.props)){m=f;break}}return m},n.handleMonthChange=function(s){var l,c,u,m=(l=n.getEnabledPreSelectionDateForMonth(s))!==null&&l!==void 0?l:s;n.handleCustomMonthChange(m),n.props.adjustDateOnChange&&(n.props.onSelect(m),(u=(c=n.props).setOpen)===null||u===void 0||u.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(m)},n.handleCustomMonthChange=function(s){var l,c;(c=(l=n.props).onMonthChange)===null||c===void 0||c.call(l,s),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(s){n.handleYearChange(s),n.handleMonthChange(s)},n.changeYear=function(s){n.setState(function(l){var c=l.date;return{date:Zr(c,Number(s))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(s){n.setState(function(l){var c=l.date;return{date:gr(c,Number(s))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(s){n.setState(function(l){var c=l.date;return{date:Zr(gr(c,va(s)),Et(s))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(s){s===void 0&&(s=n.state.date);var l=Li(s,n.props.locale,n.props.calendarStartDay),c=[];return n.props.showWeekNumbers&&c.push(r.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),c.concat([0,1,2,3,4,5,6].map(function(u){var m=Lr(l,u),h=n.formatWeekday(m,n.props.locale),f=n.props.weekDayClassName?n.props.weekDayClassName(m):void 0;return r.createElement("div",{key:u,"aria-label":fn(m,"EEEE",n.props.locale),className:ua("react-datepicker__day-name",f)},h)}))},n.formatWeekday=function(s,l){return n.props.formatWeekDay?NN(s,n.props.formatWeekDay,l):n.props.useWeekdaysShort?AN(s,l):kN(s,l)},n.decreaseYear=function(){n.setState(function(s){var l,c=s.date;return{date:xl(c,n.props.showYearPicker?(l=n.props.yearItemNumber)!==null&&l!==void 0?l:a.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var s,l,c;if(!n.props.renderCustomHeader){var u=(s=n.props.monthsShown)!==null&&s!==void 0?s:a.defaultProps.monthsShown,m=n.props.showPreviousMonths?u-1:0,h=(l=n.props.monthSelectedIn)!==null&&l!==void 0?l:m,f=go(n.state.date,h),y;switch(!0){case n.props.showMonthYearPicker:y=m2(n.state.date,n.props);break;case n.props.showYearPicker:y=LN(n.state.date,n.props);break;case n.props.showQuarterYearPicker:y=TN(n.state.date,n.props);break;default:y=d2(f,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:a.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&y||n.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],E=["react-datepicker__navigation","react-datepicker__navigation--previous"],w=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(w=n.decreaseYear),y&&n.props.showDisabledMonthNavigation&&(E.push("react-datepicker__navigation--previous--disabled"),w=void 0);var _=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,C=n.props,S=C.previousMonthButtonLabel,I=S===void 0?a.defaultProps.previousMonthButtonLabel:S,k=C.previousYearButtonLabel,N=k===void 0?a.defaultProps.previousYearButtonLabel:k,M=n.props,R=M.previousMonthAriaLabel,$=R===void 0?typeof I=="string"?I:"Previous Month":R,z=M.previousYearAriaLabel,Y=z===void 0?typeof N=="string"?N:"Previous Year":z;return r.createElement("button",{type:"button",className:E.join(" "),onClick:w,onKeyDown:n.props.handleOnKeyDown,"aria-label":_?Y:$},r.createElement("span",{className:b.join(" ")},_?N:I))}}},n.increaseYear=function(){n.setState(function(s){var l,c=s.date;return{date:Os(c,n.props.showYearPicker?(l=n.props.yearItemNumber)!==null&&l!==void 0?l:a.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var s;if(!n.props.renderCustomHeader){var l;switch(!0){case n.props.showMonthYearPicker:l=p2(n.state.date,n.props);break;case n.props.showYearPicker:l=PN(n.state.date,n.props);break;case n.props.showQuarterYearPicker:l=RN(n.state.date,n.props);break;default:l=u2(n.state.date,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:a.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&l||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var m=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(m=n.increaseYear),l&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),m=void 0);var h=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,f=n.props,y=f.nextMonthButtonLabel,b=y===void 0?a.defaultProps.nextMonthButtonLabel:y,E=f.nextYearButtonLabel,w=E===void 0?a.defaultProps.nextYearButtonLabel:E,_=n.props,C=_.nextMonthAriaLabel,S=C===void 0?typeof b=="string"?b:"Next Month":C,I=_.nextYearAriaLabel,k=I===void 0?typeof w=="string"?w:"Next Year":I;return r.createElement("button",{type:"button",className:c.join(" "),onClick:m,onKeyDown:n.props.handleOnKeyDown,"aria-label":h?k:S},r.createElement("span",{className:u.join(" ")},h?w:b))}}},n.renderCurrentMonth=function(s){s===void 0&&(s=n.state.date);var l=["react-datepicker__current-month"];return n.props.showYearDropdown&&l.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&l.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&l.push("react-datepicker__current-month--hasMonthYearDropdown"),r.createElement("h2",{className:l.join(" ")},fn(s,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showYearDropdown||s))return r.createElement(nk,Tt({},a.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Et(n.state.date)}))},n.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthDropdown||s))return r.createElement(ZN,Tt({},a.defaultProps,n.props,{month:va(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthYearDropdown||s))return r.createElement(JN,Tt({},a.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(s){n.props.onSelect(s2(),s),n.props.setPreSelection&&n.props.setPreSelection(s2())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return r.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(s){var l=s.monthDate,c=s.i;return r.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(l),r.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)),r.createElement("div",{className:"react-datepicker__day-names"},n.header(l)))},n.renderCustomHeader=function(s){var l,c,u=s.monthDate,m=s.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var h=d2(n.state.date,n.props),f=u2(n.state.date,n.props),y=m2(n.state.date,n.props),b=p2(n.state.date,n.props),E=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return r.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(l=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(l,Tt(Tt({},n.state),{customHeaderCount:m,monthDate:u,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:h,nextMonthButtonDisabled:f,prevYearButtonDisabled:y,nextYearButtonDisabled:b})),E&&r.createElement("div",{className:"react-datepicker__day-names"},n.header(u)))},n.renderYearHeader=function(s){var l=s.monthDate,c=n.props,u=c.showYearPicker,m=c.yearItemNumber,h=m===void 0?a.defaultProps.yearItemNumber:m,f=Ti(l,h),y=f.startPeriod,b=f.endPeriod;return r.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(y," - ").concat(b):Et(l))},n.renderHeader=function(s){var l=s.monthDate,c=s.i,u=c===void 0?0:c,m={monthDate:l,i:u};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(m);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(m);default:return n.renderDefaultHeader(m)}},n.renderMonths=function(){var s,l;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],u=(s=n.props.monthsShown)!==null&&s!==void 0?s:a.defaultProps.monthsShown,m=n.props.showPreviousMonths?u-1:0,h=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Os(n.state.date,m):go(n.state.date,m),f=(l=n.props.monthSelectedIn)!==null&&l!==void 0?l:m,y=0;y<u;++y){var b=y-f+m,E=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Os(h,b):Pr(h,b),w="month-".concat(y),_=y<u-1,C=y>0;c.push(r.createElement("div",{key:w,ref:function(S){n.monthContainer=S??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:E,i:y}),r.createElement(GN,Tt({},a.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:E,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:y,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:_,monthShowsDuplicateDaysStart:C}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return r.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),r.createElement(KN,Tt({},a.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return r.createElement(XN,Tt({},a.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var s=n.props.selected?new Date(n.props.selected):void 0,l=s&&Mp(s)&&!!n.props.selected,c=l?"".concat(h2(s.getHours()),":").concat(h2(s.getMinutes())):"";if(n.props.showTimeInput)return r.createElement(WN,Tt({},a.defaultProps,n.props,{date:s,timeString:c,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var s,l=Ti(n.state.date,(s=n.props.yearItemNumber)!==null&&s!==void 0?s:a.defaultProps.yearItemNumber),c=l.startPeriod,u=l.endPeriod,m;return n.props.showYearPicker?m="".concat(c," - ").concat(u):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?m=Et(n.state.date):m="".concat(U0(va(n.state.date),n.props.locale)," ").concat(Et(n.state.date)),r.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&m)},n.renderChildren=function(){if(n.props.children)return r.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=v.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(a,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Cd}},enumerable:!1,configurable:!0}),a.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){e.setState({monthContainer:e.monthContainer})}())},a.prototype.componentDidUpdate=function(e){var n=this;if(this.props.preSelection&&(!Mt(this.props.preSelection,e.preSelection)||this.props.monthSelectedIn!==e.monthSelectedIn)){var s=!Sa(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Mt(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate})},a.prototype.render=function(){var e=this.props.container||vN;return r.createElement(Dp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},r.createElement("div",{style:{display:"contents"},ref:this.containerRef},r.createElement(e,{className:ua("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},a}(v.Component),ik=function(t){var a=t.icon,e=t.className,n=e===void 0?"":e,s=t.onClick,l="react-datepicker__calendar-icon";if(typeof a=="string")return r.createElement("i",{className:"".concat(l," ").concat(a," ").concat(n),"aria-hidden":"true",onClick:s});if(r.isValidElement(a)){var c=a;return r.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(l," ").concat(n),onClick:function(u){typeof c.props.onClick=="function"&&c.props.onClick(u),typeof s=="function"&&s(u)}})}return r.createElement("svg",{className:"".concat(l," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},r.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},YE=function(t){ra(a,t);function a(e){var n=t.call(this,e)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return a.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},a.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},a.prototype.render=function(){return xd.createPortal(this.props.children,this.el)},a}(v.Component),ok="[tabindex], a, button, input, select, textarea",lk=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},$E=function(t){ra(a,t);function a(e){var n=t.call(this,e)||this;return n.getTabChildren=function(){var s;return Array.prototype.slice.call((s=n.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(ok),1,-1).filter(lk)},n.handleFocusStart=function(){var s=n.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},n.handleFocusEnd=function(){var s=n.getTabChildren();s&&s.length>1&&s[0].focus()},n.tabLoopRef=v.createRef(),n}return a.prototype.render=function(){var e;return((e=this.props.enableTabLoop)!==null&&e!==void 0?e:a.defaultProps.enableTabLoop)?r.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},r.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,r.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},a.defaultProps={enableTabLoop:!0},a}(v.Component);function ck(t){var a=function(e){var n,s=typeof e.hidePopper=="boolean"?e.hidePopper:!0,l=v.useRef(null),c=bN(Tt({open:!s,whileElementsMounted:XI,placement:e.popperPlacement,middleware:Xr([sN({padding:15}),rN(10),iN({element:l})],(n=e.popperModifiers)!==null&&n!==void 0?n:[],!0)},e.popperProps)),u=Tt(Tt({},e),{hidePopper:s,popperProps:Tt(Tt({},c),{arrowRef:l})});return r.createElement(t,Tt({},u))};return a}var dk=function(t){ra(a,t);function a(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(a,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),a.prototype.render=function(){var e=this.props,n=e.className,s=e.wrapperClassName,l=e.hidePopper,c=l===void 0?a.defaultProps.hidePopper:l,u=e.popperComponent,m=e.targetComponent,h=e.enableTabLoop,f=e.popperOnKeyDown,y=e.portalId,b=e.portalHost,E=e.popperProps,w=e.showArrow,_=void 0;if(!c){var C=ua("react-datepicker-popper",n);_=r.createElement($E,{enableTabLoop:h},r.createElement("div",{ref:E.refs.setFloating,style:E.floatingStyles,className:C,"data-placement":E.placement,onKeyDown:f},u,w&&r.createElement(uN,{ref:E.arrowRef,context:E.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(_=v.createElement(this.props.popperContainer,{},_)),y&&!c&&(_=r.createElement(YE,{portalId:y,portalHost:b},_));var S=ua("react-datepicker-wrapper",s);return r.createElement(r.Fragment,null,r.createElement("div",{ref:E.refs.setReference,className:S},m),_)},a}(v.Component),uk=ck(dk),E2="react-datepicker-ignore-onclickoutside";function mk(t,a){return t&&a?va(t)!==va(a)||Et(t)!==Et(a):t!==a}var ag="Date input not valid.",GE=function(t){ra(a,t);function a(e){var n=t.call(this,e)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:zt()},n.modifyHolidays=function(){var s;return(s=n.props.holidays)===null||s===void 0?void 0:s.reduce(function(l,c){var u=new Date(c.date);return Mp(u)?Xr(Xr([],l,!0),[Tt(Tt({},c),{date:u})],!1):l},[])},n.calcInitialState=function(){var s,l=n.getPreSelection(),c=WE(n.props),u=jE(n.props),m=c&&xo(l,mm(c))?c:u&&$s(l,i2(u))?u:l;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&s!==void 0?s:m,highlightDates:f2(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Tt(Tt({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Tt(Tt({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var s,l;(l=(s=n.input)===null||s===void 0?void 0:s.focus)===null||l===void 0||l.call(s,{preventScroll:!0})},n.setBlur=function(){var s,l;(l=(s=n.input)===null||s===void 0?void 0:s.blur)===null||l===void 0||l.call(s),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(s,l){l===void 0&&(l=!1),n.setState({open:s,preSelection:s&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:rg},function(){s||n.setState(function(c){return{focused:l?c.focused:!1}},function(){!l&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return zs(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(s){var l,c,u=n.state.wasHidden,m=u?n.state.open:!0;u&&n.resetHiddenStatus(),n.state.preventFocus||((c=(l=n.props).onFocus)===null||c===void 0||c.call(l,s),m&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(s){var l,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(l=n.props).onBlur)===null||c===void 0||c.call(l,s)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(s){var l,c;n.props.inline||n.setOpen(!1),(c=(l=n.props).onClickOutside)===null||c===void 0||c.call(l,s),n.props.withPortal&&s.preventDefault()},n.handleChange=function(){for(var s,l,c,u,m,h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];var y=h[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,h),!y||typeof y.isDefaultPrevented!="function"||y.isDefaultPrevented()))){n.setState({inputValue:(y==null?void 0:y.target)instanceof HTMLInputElement?y.target.value:null,lastPreSelectChange:pk});var b=n.props,E=b.selectsRange,w=b.startDate,_=b.endDate,C=(s=n.props.dateFormat)!==null&&s!==void 0?s:a.defaultProps.dateFormat,S=(l=n.props.strictParsing)!==null&&l!==void 0?l:a.defaultProps.strictParsing,I=(y==null?void 0:y.target)instanceof HTMLInputElement?y.target.value:"";if(E){var k=I.split(C.includes("-")?zE:"-",2).map(function(ae){return ae.trim()}),N=k[0],M=k[1],R=eg(N??"",C,n.props.locale,S),$=eg(M??"",C,n.props.locale,S),z=(w==null?void 0:w.getTime())!==(R==null?void 0:R.getTime()),Y=(_==null?void 0:_.getTime())!==($==null?void 0:$.getTime());if(!z&&!Y||R&&br(R,n.props)||$&&br($,n.props))return;(u=(c=n.props).onChange)===null||u===void 0||u.call(c,[R,$],y)}else{var J=eg(I,C,n.props.locale,S,(m=n.props.selected)!==null&&m!==void 0?m:void 0);(J||!I)&&n.setSelected(J,y,!0)}}},n.handleSelect=function(s,l,c){if(!n.props.readOnly){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(l),n.setSelected(s,l,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(s);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var u=n.props,m=u.startDate,h=u.endDate;m&&!h&&(n.props.swapRange||!b2(s,m))&&n.setOpen(!1)}}},n.setSelected=function(s,l,c,u){var m,h,f=s;if(n.props.showYearPicker){if(f!==null&&pm(Et(f),n.props))return}else if(n.props.showMonthYearPicker){if(f!==null&&FE(f,n.props))return}else if(f!==null&&br(f,n.props))return;var y=n.props,b=y.onChange,E=y.selectsRange,w=y.startDate,_=y.endDate,C=y.selectsMultiple,S=y.selectedDates,I=y.minTime,k=y.swapRange;if(!mo(n.props.selected,f)||n.props.allowSameDay||E||C)if(f!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(f=tg(f,{hour:Us(n.props.selected),minute:Fs(n.props.selected),second:Ri(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&I&&(f=tg(f,{hour:I.getHours(),minute:I.getMinutes(),second:I.getSeconds()})),n.props.inline||n.setState({preSelection:f}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:u})),E){var N=!w&&!_,M=w&&!_,R=w&&_;N?b==null||b([f,null],l):M&&(f===null?b==null||b([null,null],l):b2(f,w)?k?b==null||b([f,w],l):b==null||b([f,null],l):b==null||b([w,f],l)),R&&(b==null||b([f,null],l))}else if(C){if(f!==null)if(!(S!=null&&S.length))b==null||b([f],l);else{var $=S.some(function(Y){return Mt(Y,f)});if($){var z=S.filter(function(Y){return!Mt(Y,f)});b==null||b(z,l)}else b==null||b(Xr(Xr([],S,!0),[f],!1),l)}}else b==null||b(f,l);c||((h=(m=n.props).onSelect)===null||h===void 0||h.call(m,f,l),n.setState({inputValue:null}))},n.setPreSelection=function(s){if(!n.props.readOnly){var l=zs(n.props.minDate),c=zs(n.props.maxDate),u=!0;if(s){var m=mm(s);if(l&&c)u=qc(s,n.props.minDate,n.props.maxDate);else if(l){var h=mm(n.props.minDate);u=$s(s,h)||mo(m,h)}else if(c){var f=i2(n.props.maxDate);u=xo(s,f)||mo(m,f)}}u&&n.setState({preSelection:s})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(s){var l,c;if(!(n.props.selectsRange||n.props.selectsMultiple)){var u=n.props.selected?n.props.selected:n.getPreSelection(),m=n.props.selected?s:tg(u,{hour:Us(s),minute:Fs(s)});n.setState({preSelection:m}),(c=(l=n.props).onChange)===null||c===void 0||c.call(l,m),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var s,l;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(l=(s=n.props).onInputClick)===null||l===void 0||l.call(s)},n.onInputKeyDown=function(s){var l,c,u,m,h,f;(c=(l=n.props).onKeyDown)===null||c===void 0||c.call(l,s);var y=s.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(y===Re.ArrowDown||y===Re.ArrowUp||y===Re.Enter)&&((u=n.onInputClick)===null||u===void 0||u.call(n));return}if(n.state.open){if(y===Re.ArrowDown||y===Re.ArrowUp){s.preventDefault();var b=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',E=((m=n.calendar)===null||m===void 0?void 0:m.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(b);E instanceof HTMLElement&&E.focus({preventScroll:!0});return}var w=zt(n.state.preSelection);y===Re.Enter?(s.preventDefault(),s.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===rg?(n.handleSelect(w,s),!n.props.shouldCloseOnSelect&&n.setPreSelection(w)):n.setOpen(!1)):y===Re.Escape?(s.preventDefault(),s.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):y===Re.Tab&&n.setOpen(!1),n.inputOk()||(f=(h=n.props).onInputError)===null||f===void 0||f.call(h,{code:1,msg:ag})}},n.onPortalKeyDown=function(s){var l=s.key;l===Re.Escape&&(s.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(s){var l,c,u,m,h,f,y=n.props,b=y.minDate,E=y.maxDate,w=y.disabledKeyboardNavigation,_=y.showWeekPicker,C=y.shouldCloseOnSelect,S=y.locale,I=y.calendarStartDay,k=y.adjustDateOnChange,N=y.inline;if((c=(l=n.props).onKeyDown)===null||c===void 0||c.call(l,s),!w){var M=s.key,R=s.shiftKey,$=zt(n.state.preSelection),z=function(L,A){var U=A;switch(L){case Re.ArrowRight:U=_?Cm(A,1):Lr(A,1);break;case Re.ArrowLeft:U=_?qv(A):X4(A);break;case Re.ArrowUp:U=qv(A);break;case Re.ArrowDown:U=Cm(A,1);break;case Re.PageUp:U=R?xl(A,1):go(A,1);break;case Re.PageDown:U=R?Os(A,1):Pr(A,1);break;case Re.Home:U=Li(A,S,I);break;case Re.End:U=_N(A);break}return U},Y=function(L,A){for(var U=40,q=L,Q=!1,T=0,F=z(L,A);!Q;){if(T>=U){F=A;break}b&&F<b&&(q=Re.ArrowRight,F=br(b,n.props)?z(q,F):b),E&&F>E&&(q=Re.ArrowLeft,F=br(E,n.props)?z(q,F):E),br(F,n.props)?((q===Re.PageUp||q===Re.Home)&&(q=Re.ArrowRight),(q===Re.PageDown||q===Re.End)&&(q=Re.ArrowLeft),F=z(q,F)):Q=!0,T++}return F};if(M===Re.Enter){s.preventDefault(),n.handleSelect($,s),!C&&n.setPreSelection($);return}else if(M===Re.Escape){s.preventDefault(),n.setOpen(!1),n.inputOk()||(m=(u=n.props).onInputError)===null||m===void 0||m.call(u,{code:1,msg:ag});return}var J=null;switch(M){case Re.ArrowLeft:case Re.ArrowRight:case Re.ArrowUp:case Re.ArrowDown:case Re.PageUp:case Re.PageDown:case Re.Home:case Re.End:J=Y(M,$);break}if(!J){(f=(h=n.props).onInputError)===null||f===void 0||f.call(h,{code:1,msg:ag});return}if(s.preventDefault(),n.setState({lastPreSelectChange:rg}),k&&n.setSelected(J),n.setPreSelection(J),N){var ae=va($),H=va(J),Z=Et($),O=Et(J);ae!==H||Z!==O?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(s){var l=s.key;l===Re.Escape&&(s.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),n.sendFocusBackToInput();var l=n.props,c=l.selectsRange,u=l.onChange;c?u==null||u([null,null],s):u==null||u(null,s),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(s){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(s)&&n.setOpen(!1)},n.renderCalendar=function(){var s,l;return!n.props.inline&&!n.isCalendarOpen()?null:r.createElement(sk,Tt({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(s=n.props.dateFormatCalendar)!==null&&s!==void 0?s:a.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:ON(n.modifyHolidays()),outsideClickIgnoreClass:E2,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(l=n.props.dropdownMode)!==null&&l!==void 0?l:a.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var s=n.props,l=s.dateFormat,c=l===void 0?a.defaultProps.dateFormat:l,u=s.locale,m=n.props.showTimeInput||n.props.showTimeSelect,h=m?"PPPPp":"PPPP",f;return n.props.selectsRange?f="Selected start date: ".concat(hr(n.props.startDate,{dateFormat:h,locale:u}),". ").concat(n.props.endDate?"End date: "+hr(n.props.endDate,{dateFormat:h,locale:u}):""):n.props.showTimeSelectOnly?f="Selected time: ".concat(hr(n.props.selected,{dateFormat:c,locale:u})):n.props.showYearPicker?f="Selected year: ".concat(hr(n.props.selected,{dateFormat:"yyyy",locale:u})):n.props.showMonthYearPicker?f="Selected month: ".concat(hr(n.props.selected,{dateFormat:"MMMM yyyy",locale:u})):n.props.showQuarterYearPicker?f="Selected quarter: ".concat(hr(n.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):f="Selected date: ".concat(hr(n.props.selected,{dateFormat:h,locale:u})),r.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},f)},n.renderDateInput=function(){var s,l,c,u=ua(n.props.className,(s={},s[E2]=n.state.open,s)),m=n.props.customInput||r.createElement("input",{type:"text"}),h=n.props.customInputRef||"ref",f=n.props,y=f.dateFormat,b=y===void 0?a.defaultProps.dateFormat:y,E=f.locale,w=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?EN(n.props.startDate,n.props.endDate,{dateFormat:b,locale:E}):n.props.selectsMultiple?wN((c=n.props.selectedDates)!==null&&c!==void 0?c:[],{dateFormat:b,locale:E}):hr(n.props.selected,{dateFormat:b,locale:E});return v.cloneElement(m,(l={},l[h]=function(_){n.input=_},l.value=w,l.onBlur=n.handleBlur,l.onChange=n.handleChange,l.onClick=n.onInputClick,l.onFocus=n.handleFocus,l.onKeyDown=n.onInputKeyDown,l.id=n.props.id,l.name=n.props.name,l.form=n.props.form,l.autoFocus=n.props.autoFocus,l.placeholder=n.props.placeholderText,l.disabled=n.props.disabled,l.autoComplete=n.props.autoComplete,l.className=ua(m.props.className,u),l.title=n.props.title,l.readOnly=n.props.readOnly,l.required=n.props.required,l.tabIndex=n.props.tabIndex,l["aria-describedby"]=n.props.ariaDescribedBy,l["aria-invalid"]=n.props.ariaInvalid,l["aria-labelledby"]=n.props.ariaLabelledBy,l["aria-required"]=n.props.ariaRequired,l))},n.renderClearButton=function(){var s=n.props,l=s.isClearable,c=s.disabled,u=s.selected,m=s.startDate,h=s.endDate,f=s.clearButtonTitle,y=s.clearButtonClassName,b=y===void 0?"":y,E=s.ariaLabelClose,w=E===void 0?"Close":E,_=s.selectedDates,C=s.readOnly;return l&&!C&&(u!=null||m!=null||h!=null||_!=null&&_.length)?r.createElement("button",{type:"button",className:ua("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":w,onClick:n.onClearClick,title:f,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(a,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Cd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),a.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},a.prototype.componentDidUpdate=function(e,n){var s,l,c,u;e.inline&&mk(e.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:f2(this.props.highlightDates)}),!n.focused&&!mo(e.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((l=(s=this.props).onCalendarOpen)===null||l===void 0||l.call(s)),n.open===!0&&this.state.open===!1&&((u=(c=this.props).onCalendarClose)===null||u===void 0||u.call(c)))},a.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},a.prototype.renderInputContainer=function(){var e=this.props,n=e.showIcon,s=e.icon,l=e.calendarIconClassname,c=e.calendarIconClassName,u=e.toggleCalendarOnIconClick,m=this.state.open;return l&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),r.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&r.createElement(ik,Tt({icon:s,className:ua(c,!c&&l,m&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},a.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var n=this.state.open?r.createElement($E,{enableTabLoop:this.props.enableTabLoop},r.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(n=r.createElement(YE,Tt({portalId:this.props.portalId},this.props),n)),r.createElement("div",null,this.renderInputContainer(),n)}return r.createElement(uk,Tt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},a}(v.Component),pk="input",rg="navigate";function w2(t){if(!t||typeof t!="string"||!t.match(/\d/))return{h:0,m:0};const[a,e]=t.trim().split(/\s+/);let[n,s]=a.split(":").map(Number);return e&&e.toLowerCase()==="pm"&&n!==12&&(n+=12),e&&e.toLowerCase()==="am"&&n===12&&(n=0),{h:n,m:s}}function W0(t,a,e=30){const n=w2(t),s=w2(a),l=[];let c=new Date(0,0,0,n.h,n.m);const u=new Date(0,0,0,s.h,s.m);for(;c<=u;){const m=c.getHours(),h=c.getMinutes();let f=(m%12||12)+":"+(h<10?"0":"")+h+(m<12?" AM":" PM");l.push(f),c=new Date(c.getTime()+e*6e4)}return l}function fk(t){const a={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6},e=new Date,n=e.getDay();let l=(a[t]-n+7)%7;l===0&&(l=7);const c=new Date(e);return c.setDate(e.getDate()+l),c}function qE({proposal:t,open:a,onClose:e,onSubmit:n,senderPlayer:s,phase:l,selectedDivision:c}){var q;const[u,m]=v.useState(new Date),[h,f]=v.useState(""),[y,b]=v.useState(""),[E,w]=v.useState(""),[_,C]=v.useState(""),[S,I]=v.useState(""),[k,N]=v.useState(""),[M,R]=v.useState("");v.useEffect(()=>{if(t&&a){if(t.date){const[Q,T,F]=t.date.split("-");m(new Date(parseInt(Q),parseInt(T)-1,parseInt(F)))}f(""),b(""),w(t.location||""),C(t.gameType||"8 Ball"),I(t.raceLength||(l==="scheduled"||l==="challenge"?5:7)),N("")}},[t,a,l]),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][u.getDay()];const Y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][u.getDay()],J=((q=s==null?void 0:s.availability)==null?void 0:q[Y])||[],ae=["6:00 PM - 8:00 PM","8:00 PM - 10:00 PM","10:00 PM - 12:00 AM"],H=J.length>0?J:ae,Z=s!=null&&s.locations?s.locations.split(/\r?\n/).map(Q=>Q.trim()).filter(Boolean):[],O=v.useMemo(()=>{if(!h)return[];const Q=h.replace(/[–—−]/g,"-").replace(/\s*-\s*/g," - ").trim();if(!Q.includes(" - "))return[];let[T,F]=Q.split(" - ").map(V=>L(V.trim()));return!T||!F?[]:W0(T,F,30)},[h]);function L(Q){let T=Q.trim();T=T.replace(/(\d{1,2}):(\d{2})\s*(am|pm)/i,(V,j,re,K)=>`${parseInt(j,10)}:${re} ${K.toUpperCase()}`),T=T.replace(/^(\d{1,2})(\d{2})(am|pm)$/i,(V,j,re,K)=>`${parseInt(j,10)}:${re} ${K.toUpperCase()}`),T=T.replace(/^(\d{1,2})(am|pm)$/i,(V,j,re)=>`${parseInt(j,10)}:00 ${re.toUpperCase()}`),T=T.replace(/(am|pm)$/i," $1"),T=T.replace(/(am|pm)$/i,V=>V.toUpperCase());const F=T.match(/^(\d{1,2}):(\d{2}) (AM|PM)$/i);if(F){const V=F[1],j=F[2],re=F[3].toUpperCase();return`${V}:${j} ${re}`}return T}function A(Q){if(!Q)return"";const T=new Date(Q),F=String(T.getMonth()+1).padStart(2,"0"),V=String(T.getDate()).padStart(2,"0"),j=T.getFullYear();return`${F}-${V}-${j}`}const U=Q=>{if(Q.preventDefault(),!u||!y||!E){R("Please fill in all required fields.");return}R(""),n({date:A(u),time:y,location:E,gameType:_,raceLength:S,note:k})};return!a||!t?null:r.createElement(Xt,{open:a,onClose:e,title:"🔄 Counter Proposal",maxWidth:"500px"},r.createElement("form",{onSubmit:U,style:{textAlign:"left"}},r.createElement("div",{style:{fontWeight:"bold",fontSize:"1.15rem",margin:"0 0 1rem 0",color:"#fff",textAlign:"center"}},"To: ",t.senderName||"Opponent"),r.createElement("div",{style:{marginBottom:"1rem"}},r.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Date:"),r.createElement(GE,{selected:u,onChange:Q=>m(Q),dateFormat:"MM-dd-yyyy",className:"counter-proposal-date-input",required:!0})),r.createElement("div",{style:{marginBottom:"1rem"}},r.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Time Block:"),r.createElement("select",{value:h,onChange:Q=>{f(Q.target.value),b("")},required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"}},r.createElement("option",{value:""},"Select time block"),H.map((Q,T)=>r.createElement("option",{key:T,value:Q},Q)))),r.createElement("div",{style:{marginBottom:"1rem"}},r.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Start Time:"),r.createElement("select",{value:y,onChange:Q=>b(Q.target.value),required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"}},r.createElement("option",{value:""},"Select..."),O.map((Q,T)=>r.createElement("option",{key:T,value:Q},Q)))),r.createElement("div",{style:{marginBottom:"1rem"}},r.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Location:"),r.createElement("select",{value:E,onChange:Q=>w(Q.target.value),required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"}},r.createElement("option",{value:""},"Select location"),Z.map((Q,T)=>r.createElement("option",{key:T,value:Q},Q)))),r.createElement("div",{style:{marginBottom:"1rem"}},r.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Game Type:"),r.createElement("select",{value:_,onChange:Q=>C(Q.target.value),required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"}},r.createElement("option",{value:"8 Ball"},"8 Ball"),r.createElement("option",{value:"9 Ball"},"9 Ball"),r.createElement("option",{value:"10 Ball"},"10 Ball"),r.createElement("option",{value:"Mixed"},"Mixed"))),r.createElement("div",{style:{marginBottom:"1rem"}},r.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Race Length:"),r.createElement("select",{value:S,onChange:Q=>I(Number(Q.target.value)),required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"}},l==="scheduled"||l==="challenge"?r.createElement("option",{value:5},"5"):[...Array(13)].map((Q,T)=>{const F=T+3;return r.createElement("option",{key:F,value:F},F)}))),r.createElement("div",{style:{marginBottom:"1.5rem"}},r.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Note (optional):"),r.createElement("textarea",{value:k,onChange:Q=>N(Q.target.value),placeholder:"Add a note explaining your counter proposal...",rows:3,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px",resize:"vertical"}})),M&&r.createElement("div",{style:{color:"#e53e3e",marginBottom:"1rem"}},M),r.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"center"}},r.createElement("button",{type:"submit",style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:"6px",padding:"0.7rem 1.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",minWidth:"120px"}},"Submit Counter"),r.createElement("button",{type:"button",onClick:e,style:{background:"#6c757d",color:"#fff",border:"none",borderRadius:"6px",padding:"0.7rem 1.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",minWidth:"120px"}},"Cancel"))))}const dd={_origin:"https://api.emailjs.com"},hk=(t,a="https://api.emailjs.com")=>{dd._userID=t,dd._origin=a},ZE=(t,a,e)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!a)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class S2{constructor(a){this.status=a.status,this.text=a.responseText}}const VE=(t,a,e={})=>new Promise((n,s)=>{const l=new XMLHttpRequest;l.addEventListener("load",({target:c})=>{const u=new S2(c);u.status===200||u.text==="OK"?n(u):s(u)}),l.addEventListener("error",({target:c})=>{s(new S2(c))}),l.open("POST",dd._origin+t,!0),Object.keys(e).forEach(c=>{l.setRequestHeader(c,e[c])}),l.send(a)}),gk=(t,a,e,n)=>{const s=n||dd._userID;return ZE(s,t,a),VE("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:s,service_id:t,template_id:a,template_params:e}),{"Content-type":"application/json"})},yk=t=>{let a;if(typeof t=="string"?a=document.querySelector(t):a=t,!a||a.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return a},bk=(t,a,e,n)=>{const s=n||dd._userID,l=yk(e);ZE(s,t,a);const c=new FormData(l);return c.append("lib_version","3.2.0"),c.append("service_id",t),c.append("template_id",a),c.append("user_id",s),VE("/api/v1.0/email/send-form",c)},Id={init:hk,send:gk,sendForm:bk};function vk({to_email:t,to_name:a,from_name:e,from_email:n,day:s,date:l,time:c,location:u,note:m,gameType:h,raceLength:f,proposalId:y}){if(!t||t==="undefined")return alert("Recipient email is missing. Cannot send proposal."),Promise.reject(new Error("Recipient email is missing."));if(!n||n==="undefined")return alert("Your email is missing. Cannot send proposal."),Promise.reject(new Error("Sender email is missing."));const b=Ca(SE(l),"MM-dd-yyyy"),w=Object.entries({from:e,to:a,day:s,date:b,time:c,location:u,note:m,proposerEmail:n,gameType:h,raceLength:f,proposalId:y}).map(([I,k])=>`${I}=${encodeURIComponent(k)}`).join("&"),_="https://newapp-1-ic1v.onrender.com",C=`${_}/#/confirm-match?${w}`,S=`${_}/#/confirm-match?${w}`;return Id.send("service_l5q2047","template_xu0tl3i",{to_email:t,to_name:a,from_name:e,day:s,date:b,time:c,location:u,note:m,gameType:h,raceLength:f,confirm_link:C,counter_propose_link:S},"g6vqrOs_Jb6LL1VCZ")}function xk({to_email:t,to_name:a,day:e,date:n,time:s,location:l,proposal_note:c,confirmation_note:u,confirmed_by:m,gameType:h,raceLength:f}){return Id.send("service_l5q2047","template_dtc43h8",{to_email:t,to_name:a,day:e,date:n,time:s,location:l,proposal_note:c,confirmation_note:u,confirmed_by:m,gameType:h,raceLength:f},"g6vqrOs_Jb6LL1VCZ")}function Ek({to_email:t,to_name:a,division:e,daysUntilDeadline:n,completedMatches:s,totalRequiredMatches:l,deadlineDate:c,remainingMatches:u}){if(!t||t==="undefined")return console.error("Recipient email is missing. Cannot send deadline reminder."),Promise.reject(new Error("Recipient email is missing."));const m=Math.round(s/l*100),h=n<=1?"CRITICAL":n<=3?"URGENT":n<=7?"WARNING":"REMINDER";return Id.send("service_l5q2047","template_xbpnbge",{to_email:t,to_name:a,division:e,days_until_deadline:n,completed_matches:s,total_required_matches:l,progress_percentage:m,deadline_date:c,remaining_matches:u,urgency_level:h,app_url:"https://newapp-1-ic1v.onrender.com"},"g6vqrOs_Jb6LL1VCZ")}function wk({to_email:t,to_name:a,registrationId:e,registrationDate:n,registrationFee:s,paymentMethods:l=[],additionalInstructions:c="",contactInfo:u={}}){if(!t||t==="undefined")return console.error("Recipient email is missing. Cannot send payment instructions."),Promise.reject(new Error("Recipient email is missing."));const m=l.length>0?l.map((f,y)=>{let b=f.instructions;return f.key==="venmo"&&f.username?b=`Send payment to @${f.username}`:f.key==="cashapp"&&f.username?b=`Send payment to $${f.username}`:f.key==="paypal"&&f.email?b=`Send payment to ${f.email}`:f.key==="creditCard"&&f.paymentLink?b=`Pay securely online: ${f.paymentLink}`:f.key==="applePay"&&f.paymentLink?b=`Pay with Apple Pay: ${f.paymentLink}`:f.key==="googlePay"&&f.paymentLink?b=`Pay with Google Pay: ${f.paymentLink}`:f.key==="check"&&f.payeeName&&(b=`Make check payable to ${f.payeeName}`),`${y+1}. **${f.displayName}:** ${b}`}).join(`
`):"1. **Cash:** Pay in person to league administrator",h=u&&(u.email||u.phone||u.name)?`

**For payment questions, contact:**
${u.name?`Name: ${u.name}
`:""}${u.email?`Email: ${u.email}
`:""}${u.phone?`Phone: ${u.phone}`:""}`:"";return Id.send("service_l5q2047","template_payment_instructions",{to_email:t,to_name:a,registration_id:e,registration_date:n,registration_fee:s,payment_instructions:`
        **League Registration Payment Instructions**
        
        Registration Fee: $${s}
        Registration ID: ${e}
        
        **Payment Methods:**
${m}
        
        ${c?`
**Additional Instructions:**
${c}
`:""}
        
        **Important Notes:**
        • Include your Registration ID (${e}) in payment notes
        • Payment must be completed within 7 days
        • Your PIN will be sent once payment is confirmed
        • Contact league admin if you have payment issues${h}
        
        **Next Steps:**
        1. Complete payment using one of the methods above
        2. Wait for payment confirmation email
        3. You'll receive your unique PIN and full access
      `,app_url:"https://newapp-1-ic1v.onrender.com"},"g6vqrOs_Jb6LL1VCZ")}const Sk="_confirmMatchCard_7heot_7",Ck="_confirmMatchTitle_7heot_31",_k="_redTitle_7heot_45",Ik="_confirmMatchDetails_7heot_55",Nk="_detailRow_7heot_65",kk="_confirmBtn_7heot_173",un={confirmMatchCard:Sk,confirmMatchTitle:Ck,redTitle:_k,confirmMatchDetails:Ik,detailRow:Nk,confirmBtn:kk};function Ak({text:t,query:a}){return a?t.split(new RegExp(`(${a})`,"gi")).map((n,s)=>n.toLowerCase()===a.toLowerCase()?r.createElement("mark",{key:s},n):n):r.createElement(r.Fragment,null,t)}const Ce="https://atlasbackend-bnng.onrender.com";function Dk(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-"),m=new Date(parseInt(l),parseInt(c)-1,parseInt(u)),h=String(m.getMonth()+1).padStart(2,"0"),f=String(m.getDate()).padStart(2,"0"),y=m.getFullYear();return`${h}-${f}-${y}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function Mk(){const[t]=O_(),[a,e]=v.useState(!1),[n,s]=v.useState(""),[l,c]=v.useState(!1),m=t.get("action")==="counter",h=t.get("from"),f=t.get("to"),y=t.get("day"),b=t.get("date"),E=t.get("time"),w=t.get("location"),_=t.get("proposerEmail"),C=t.get("note"),S=t.get("gameType"),I=t.get("raceLength"),k=t.get("proposalId");v.useEffect(()=>{m&&c(!0)},[m]);const N=()=>{console.log("CONFIRM BUTTON CLICKED"),xk({to_email:_,to_name:h,day:y,date:b,time:E,location:w,confirmed_by:f,proposal_note:C||"",confirmation_note:n||"",gameType:S||"",raceLength:I||""}),k?fetch(`${Ce}/api/proposals/${k}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"confirmed",note:n})}).then(R=>{if(!R.ok)throw new Error("Failed to confirm proposal");console.log("Proposal confirmed successfully"),e(!0)}).catch(R=>{console.error("Error confirming proposal:",R),alert("Failed to confirm proposal: "+R.message)}):(console.log("No proposalId provided - showing confirmation modal"),e(!0))};return r.createElement("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(3px)",WebkitBackdropFilter:"blur(3px)"}},r.createElement("div",{className:"draggable-modal",style:{background:"linear-gradient(120deg, #232323 80%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:window.innerWidth<=400?"0":"1.2rem",boxShadow:"0 0 32px #e53e3e, 0 0 40px rgba(0,0,0,0.85)",width:window.innerWidth<=400?"100vw":"auto",maxWidth:window.innerWidth<=400?"100vw":"480px",minWidth:0,margin:window.innerWidth<=400?"0":"0 auto",left:0,right:0,animation:"modalBounceIn 0.5s cubic-bezier(.21,1.02,.73,1.01)",padding:"1.5rem 2rem 1rem 2rem",position:"relative",fontFamily:"inherit",boxSizing:"border-box",textAlign:"center",marginTop:"100px",maxHeight:"85vh",overflowY:"auto"}},r.createElement("div",{style:{position:"relative"}},r.createElement("button",{onClick:()=>window.location.href="/#/dashboard",style:{position:"absolute",top:"-0.5rem",right:"-0.5rem",background:"#333",color:"#fff",border:"1px solid #666",borderRadius:"50%",width:"2rem",height:"2rem",fontSize:"1.2rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s, border-color 0.2s",zIndex:10},onMouseEnter:M=>{M.target.style.background="#e53e3e",M.target.style.borderColor="#fff"},onMouseLeave:M=>{M.target.style.background="#333",M.target.style.borderColor="#666"}},"×"),r.createElement("h1",{style:{marginBottom:"1rem",fontSize:"1.4rem",fontWeight:"bold",letterSpacing:"0.01em",color:"#ff0000"}},"🎱 Front Range Pool League",r.createElement("br",null),"Confirm Match")),r.createElement("p",{style:{marginBottom:"1rem",fontSize:"0.95rem",color:"#faf6f6",textAlign:"center"}},"You are about to confirm this match. Your opponent will be notified by email and the match will be added to your app calendar!"),r.createElement("div",{style:{textAlign:"center",marginBottom:"0.8rem",background:"#1a1a1a",color:"#faf6f6",borderRadius:8,padding:"0.4rem 0.5rem",border:"1px solid #ff0000"}},r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.7em",marginBottom:"0.7em",fontSize:"1rem"}},r.createElement("span",{role:"img","aria-label":"you"},"🧑")," ",r.createElement("strong",null,"You:")," ",f||"N/A"),r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.7em",marginBottom:"0.7em",fontSize:"1rem"}},r.createElement("span",{role:"img","aria-label":"opponent"},"🤝")," ",r.createElement("strong",null,"Opponent:")," ",h||"N/A"),r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.7em",marginBottom:"0.7em",fontSize:"1rem"}},r.createElement("span",{role:"img","aria-label":"calendar"},"📅")," ",r.createElement("strong",null,"Day:")," ",y||"N/A"),r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.7em",marginBottom:"0.7em",fontSize:"1rem"}},r.createElement("span",{role:"img","aria-label":"date"},"🗓️")," ",r.createElement("strong",null,"Date:")," ",Dk(b)),r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.7em",marginBottom:"0.7em",fontSize:"1rem"}},r.createElement("span",{role:"img","aria-label":"clock"},"⏰")," ",r.createElement("strong",null,"Time:")," ",E||"N/A"),S&&r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.7em",marginBottom:"0.7em",fontSize:"1rem"}},r.createElement(Sp,{gameType:S,size:16})," ",r.createElement("strong",null,"Game Type:")," ",S),I&&r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.7em",marginBottom:"0.7em",fontSize:"1rem"}},r.createElement("span",{role:"img","aria-label":"race"},"🏁")," ",r.createElement("strong",null,"Race to:")," ",I),r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.7em",marginBottom:"0.7em",fontSize:"1rem"}},r.createElement("span",{role:"img","aria-label":"location"},"📍")," ",r.createElement("strong",null,"Location:")," ",w||"N/A")),C&&r.createElement("div",{style:{margin:"12px 0 0 0",padding:"0.6rem 0.8rem",background:"#2a2a2a",borderLeft:"3px solid #ffb300",borderRadius:4,color:"#ffb300",fontSize:"0.98rem",textAlign:"left"}},r.createElement("span",{role:"img","aria-label":"note"},"📝")," ",r.createElement("strong",null,"Note from opponent:"),r.createElement("br",null),C),r.createElement("div",{style:{margin:"1rem 0 0.2rem 0",textAlign:"left"}},r.createElement("label",{htmlFor:"note",style:{fontWeight:500,color:"#faf6f6",marginBottom:"0.2rem",display:"block"}},"📝 Add a note (optional):"),r.createElement("textarea",{id:"note",value:n,onChange:M=>s(M.target.value),rows:2,placeholder:"Write a message to your opponent…",style:{width:"100%",minHeight:"54px",borderRadius:7,border:"1px solid #666",padding:"0.6em 0.8em",fontSize:"1rem",marginTop:"0.2rem",resize:"vertical",background:"#1a1a1a",color:"#faf6f6",boxSizing:"border-box",transition:"border 0.2s"},onFocus:M=>M.target.style.border="1.5px solid #ff0000",onBlur:M=>M.target.style.border="1px solid #666"})),r.createElement("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"1rem",flexWrap:"wrap"}},r.createElement("button",{style:{background:"#ff0000",color:"#fff",border:"none",borderRadius:8,padding:"0.7rem 1.5rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",minWidth:"120px",transition:"background 0.18s, color 0.18s, border 0.18s, box-shadow 0.18s",boxShadow:"0 2px 6px #0001"},onMouseEnter:M=>M.target.style.background="#c90000",onMouseLeave:M=>M.target.style.background="#ff0000",onClick:N},"✅ Confirm Match"),r.createElement("button",{style:{background:"#fff",color:"#ff0000",border:"2px solid #ff0000",borderRadius:8,padding:"0.7rem 1.5rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",minWidth:"120px",transition:"background 0.18s, color 0.18s, border 0.18s, box-shadow 0.18s",boxShadow:"0 2px 6px #0001"},onMouseEnter:M=>{M.target.style.background="#ff0000",M.target.style.color="#fff"},onMouseLeave:M=>{M.target.style.background="#fff",M.target.style.color="#ff0000"},onClick:()=>c(!0)},"🔄 Counter Propose")),r.createElement("div",{style:{textAlign:"center",marginTop:"1rem"}},r.createElement("button",{onClick:()=>window.location.href="/#/dashboard",style:{background:"#333",color:"#fff",border:"1px solid #666",borderRadius:6,padding:"0.5rem 1rem",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"background 0.2s, border-color 0.2s"},onMouseEnter:M=>{M.target.style.background="#444",M.target.style.borderColor="#888"},onMouseLeave:M=>{M.target.style.background="#333",M.target.style.borderColor="#666"}},"📊 Go to Dashboard")),r.createElement(iE,{open:a,message:"Match confirmed! The opponent has been notified and the match has been added to your app calendar.",proposalNote:C,confirmationNote:n,gameType:S,raceLength:I,day:y,date:b,time:E,location:w,onClose:()=>e(!1)}),r.createElement(qE,{open:l,onClose:()=>c(!1),proposal:{senderName:h,receiverName:f,senderEmail:_,receiverEmail:"",date:b,time:E,location:w,message:C,gameType:S,raceLength:I,_id:k},onSubmit:M=>{console.log("Counter proposal submitted:",M),c(!1)},senderPlayer:{firstName:(f==null?void 0:f.split(" ")[0])||"",lastName:(f==null?void 0:f.split(" ").slice(1).join(" "))||"",email:""},phase:"scheduled",selectedDivision:""})))}const Tk="_dashboardBg_14irn_18",Rk="_floatingLogo_14irn_28",Lk="_dashboardFrame_14irn_36",Pk="_dashboardCard_14irn_52",Bk="_fadeInUp_14irn_1",Ok="_dashboardTitle_14irn_82",zk="_dashboardUserName_14irn_90",Uk="_dashboardSection_14irn_100",Fk="_newsUpdatesSection_14irn_112",Wk="_dashboardSectionBox_14irn_116",jk="_dashboardSectionTitle_14irn_128",Hk="_dashboardHelperText_14irn_137",Yk="_matchesSection_14irn_145",$k="_dashboardList_14irn_157",Gk="_matchCard_14irn_168",qk="_matchCardButton_14irn_191",Zk="_matchCardOpponentLabel_14irn_217",Vk="_matchCardOpponentName_14irn_218",Qk="_matchCardDetail_14irn_219",Jk="_dashboardActions_14irn_260",Xk="_dashboardBtn_14irn_271",Kk="_dashboardBtnPrimary_14irn_332",eA="_dashboardBtnSecondary_14irn_336",tA="_dashboardBtnSuccess_14irn_346",nA="_dashboardBtnWarning_14irn_356",aA="_dashboardBtnDanger_14irn_366",rA="_dashboardBtnSmall_14irn_377",sA="_dashboardBtnLarge_14irn_384",iA="_buttonRow_14irn_402",oA="_errorBox_14irn_408",lA="_dashboardAdminBtn_14irn_418",cA="_dashboardLogoutBtn_14irn_436",dA="_dashboardNoteItem_14irn_455",uA="_simulationOuterWrapper_14irn_466",mA="_simulationContainer_14irn_474",pA="_modalOverlay_14irn_495",fA="_dashboardModalContent_14irn_521",hA="_modalBounceIn_14irn_1",gA="_modalHeader_14irn_549",yA="_modalTitle_14irn_562",bA="_closeBtn_14irn_571",vA="_modalFooter_14irn_589",xA="_footerCloseBtn_14irn_610",EA="_dashboardHighlight_14irn_645",wA="_pulseGlow_14irn_1",SA="_dashboardSimulationBox_14irn_691",CA="_proposalAlertButton_14irn_733",_A="_proposalAlertRow_14irn_740",IA="_newsUpdatesHeader_14irn_853",NA="_poolTableContainer_14irn_914",kA="_modalDetailsSnazzy_14irn_975",AA="_modalDetailRowSnazzy_14irn_979",DA="_gameTypeIcon_14irn_984",MA="_iframeWrapper_14irn_993",TA="_modalIframe_14irn_1004",RA="_proposalModalContent_14irn_1016",LA="_proposalModalTitle_14irn_1035",PA="_proposalModalCloseBtn_14irn_1046",BA="_proposalCardButton_14irn_1067",OA="_proposalCardLabel_14irn_1086",zA="_proposalCardMessage_14irn_1092",UA="_smallShowMoreBtn_14irn_1097",FA="_counterProposalOverlay_14irn_1115",WA="_proposalList_14irn_1140",jA="_proposalCard_14irn_1067",HA="_proposalCardBtn_14irn_1147",YA="_proposalCardName_14irn_1165",$A="_emptyMsg_14irn_1169",GA="_matchCardContentWrapper_14irn_1215",qA="_matchCardDoneBtn_14irn_1222",ZA="_standingsModalContent_14irn_1248",VA="_standingsTableWrapper_14irn_1286",QA="_standingsTable_14irn_1286",JA="_inputField_14irn_1324",XA="_proposalModalHeaderBar_14irn_1348",KA="_phasePill_14irn_1357",eD="_divisionPill_14irn_1367",tD="_proposalModalToRow_14irn_1375",nD="_toOpponentLabel_14irn_1382",aD="_toOpponentName_14irn_1388",rD="_proposalModalDayRow_14irn_1393",sD="_dayLabel_14irn_1400",iD="_dayValue_14irn_1406",oD="_proposalModalFieldRow_14irn_1411",lD="_fieldLabel_14irn_1416",cD="_datePill_14irn_1425",dD="_proposalModalButtonRow_14irn_1438",uD="_root_14irn_1",mD="_challengeStatsContainer_14irn_1604",pD="_challengeStatsHeader_14irn_1612",fD="_challengeStatsGrid_14irn_1616",hD="_challengeStatCard_14irn_1623",gD="_challengeStatHeader_14irn_1635",yD="_challengeProgressBar_14irn_1644",bD="_challengeProgressFill_14irn_1653",vD="_challengeStatDetails_14irn_1658",xD="_challengeStatusSummary_14irn_1668",ED="_mobileMatchesOverlay_14irn_1790",wD="_countersRow_14irn_1794",SD="_counterBox_14irn_1800",CD="_scheduleMatchBtn_14irn_1804",_D="_noMatchesText_14irn_1877",ID="_dashboardButton_14irn_1978",ND="_dashboardButtonSmall_14irn_1985",kD="_dashboardButtonLarge_14irn_1991",AD="_dashboardGrid_14irn_1997",DD="_dashboardFlexRow_14irn_2002",MD="_dashboardStats_14irn_2013",TD="_dashboardStat_14irn_2013",RD="_dashboardStatValue_14irn_2023",LD="_dashboardStatLabel_14irn_2027",PD="_dashboardText_14irn_2113",BD="_dashboardTextSmall_14irn_2118",OD="_dashboardSpacing_14irn_2124",zD="_dashboardSpacingLarge_14irn_2128",UD="_matchManager_14irn_2287",FD="_matchStats_14irn_2294",WD="_statsGrid_14irn_2309",jD="_statItem_14irn_2315",HD="_statNumber_14irn_2323",YD="_statLabel_14irn_2331",$D="_matchSection_14irn_2338",GD="_noMatches_14irn_1877",qD="_matchList_14irn_2360",ZD="_completedMatch_14irn_2380",VD="_matchHeader_14irn_2389",QD="_matchStatus_14irn_2396",JD="_matchDate_14irn_2405",XD="_matchPlayers_14irn_2410",KD="_player1_14irn_2419",e8="_player2_14irn_2419",t8="_winner_14irn_2426",n8="_vs_14irn_2432",a8="_matchDetails_14irn_2437",r8="_location_14irn_2446",s8="_type_14irn_2446",i8="_matchResult_14irn_2452",o8="_score_14irn_2461",l8="_matchNotes_14irn_2466",c8="_notesLabel_14irn_2472",d8="_notesText_14irn_2479",u8="_matchActions_14irn_2485",m8="_actionButton_14irn_2493",p8="_cancelButton_14irn_2511",f8="_modal_14irn_495",h8="_formGroup_14irn_2553",g8="_modalActions_14irn_2589",y8="_loading_14irn_2629",b8="_mobileCard_14irn_2687",v8="_mobileCardElevated_14irn_2702",x8="_mobileCardOutlined_14irn_2707",E8="_mobileButton_14irn_2713",w8="_mobileButtonSecondary_14irn_2752",S8="_mobileButtonSuccess_14irn_2762",C8="_mobileButtonWarning_14irn_2772",_8="_mobileButtonDanger_14irn_2782",I8="_mobileButtonSmall_14irn_2792",N8="_mobileButtonLarge_14irn_2798",k8="_mobileButtonFullWidth_14irn_2804",A8="_mobileList_14irn_2809",D8="_mobileListItem_14irn_2815",M8="_mobileNavigation_14irn_2836",T8="_mobileActionSheetOverlay_14irn_2847",R8="_fadeIn_14irn_1",L8="_mobileActionSheet_14irn_2847",P8="_slideUp_14irn_1",B8="_mobileSwipeableCard_14irn_2874",O8="_mobilePullToRefresh_14irn_2902",z8="_mobileDashboard_14irn_2908",U8="_mobileLoadingOverlay_14irn_3020",F8="_mobileErrorContainer_14irn_3035",W8="_mobileErrorIcon_14irn_3046",j8="_mobileErrorMessage_14irn_3052",H8="_mobileSuccessContainer_14irn_3060",Y8="_mobileSuccessIcon_14irn_3071",$8="_mobileSuccessMessage_14irn_3077",G8="_mobileInfoContainer_14irn_3085",q8="_mobileInfoIcon_14irn_3096",Z8="_mobileInfoMessage_14irn_3102",V8="_loadingOverlay_14irn_3175",Q8="_loadingSpinner_14irn_3189",J8="_spin_14irn_1",X8="_loadingText_14irn_3203",K8="_skeletonLoader_14irn_3212",e6="_skeletonLine_14irn_3219",t6="_shimmer_14irn_1",n6="_errorContainer_14irn_3239",a6="_errorIcon_14irn_3250",r6="_errorMessage_14irn_3256",s6="_errorAction_14irn_3263",i6="_successContainer_14irn_3281",o6="_successIcon_14irn_3292",l6="_successMessage_14irn_3298",c6="_infoContainer_14irn_3308",d6="_infoIcon_14irn_3319",u6="_infoMessage_14irn_3325",m6="_srOnly_14irn_3353",p6="_slideInLeft_14irn_1",f6="_slideInRight_14irn_1",ge={dashboardBg:Tk,floatingLogo:Rk,dashboardFrame:Lk,dashboardCard:Pk,fadeInUp:Bk,dashboardTitle:Ok,dashboardUserName:zk,dashboardSection:Uk,newsUpdatesSection:Fk,dashboardSectionBox:Wk,dashboardSectionTitle:jk,dashboardHelperText:Hk,matchesSection:Yk,dashboardList:$k,matchCard:Gk,matchCardButton:qk,matchCardOpponentLabel:Zk,matchCardOpponentName:Vk,matchCardDetail:Qk,dashboardActions:Jk,dashboardBtn:Xk,dashboardBtnPrimary:Kk,dashboardBtnSecondary:eA,dashboardBtnSuccess:tA,dashboardBtnWarning:nA,dashboardBtnDanger:aA,dashboardBtnSmall:rA,dashboardBtnLarge:sA,buttonRow:iA,errorBox:oA,dashboardAdminBtn:lA,dashboardLogoutBtn:cA,dashboardNoteItem:dA,simulationOuterWrapper:uA,simulationContainer:mA,modalOverlay:pA,dashboardModalContent:fA,modalBounceIn:hA,modalHeader:gA,modalTitle:yA,closeBtn:bA,modalFooter:vA,footerCloseBtn:xA,dashboardHighlight:EA,pulseGlow:wA,dashboardSimulationBox:SA,proposalAlertButton:CA,proposalAlertRow:_A,newsUpdatesHeader:IA,poolTableContainer:NA,modalDetailsSnazzy:kA,modalDetailRowSnazzy:AA,gameTypeIcon:DA,iframeWrapper:MA,modalIframe:TA,proposalModalContent:RA,proposalModalTitle:LA,proposalModalCloseBtn:PA,proposalCardButton:BA,proposalCardLabel:OA,proposalCardMessage:zA,smallShowMoreBtn:UA,counterProposalOverlay:FA,proposalList:WA,proposalCard:jA,proposalCardBtn:HA,proposalCardName:YA,emptyMsg:$A,matchCardContentWrapper:GA,matchCardDoneBtn:qA,standingsModalContent:ZA,standingsTableWrapper:VA,standingsTable:QA,inputField:JA,proposalModalHeaderBar:XA,phasePill:KA,divisionPill:eD,proposalModalToRow:tD,toOpponentLabel:nD,toOpponentName:aD,proposalModalDayRow:rD,dayLabel:sD,dayValue:iD,proposalModalFieldRow:oD,fieldLabel:lD,datePill:cD,proposalModalButtonRow:dD,root:uD,challengeStatsContainer:mD,challengeStatsHeader:pD,challengeStatsGrid:fD,challengeStatCard:hD,challengeStatHeader:gD,challengeProgressBar:yD,challengeProgressFill:bD,challengeStatDetails:vD,challengeStatusSummary:xD,mobileMatchesOverlay:ED,countersRow:wD,counterBox:SD,scheduleMatchBtn:CD,noMatchesText:_D,dashboardButton:ID,dashboardButtonSmall:ND,dashboardButtonLarge:kD,dashboardGrid:AD,dashboardFlexRow:DD,dashboardStats:MD,dashboardStat:TD,dashboardStatValue:RD,dashboardStatLabel:LD,dashboardText:PD,dashboardTextSmall:BD,dashboardSpacing:OD,dashboardSpacingLarge:zD,matchManager:UD,matchStats:FD,statsGrid:WD,statItem:jD,statNumber:HD,statLabel:YD,matchSection:$D,noMatches:GD,matchList:qD,completedMatch:ZD,matchHeader:VD,matchStatus:QD,matchDate:JD,matchPlayers:XD,player1:KD,player2:e8,winner:t8,vs:n8,matchDetails:a8,location:r8,type:s8,matchResult:i8,score:o8,matchNotes:l8,notesLabel:c8,notesText:d8,matchActions:u8,actionButton:m8,cancelButton:p8,modal:f8,formGroup:h8,modalActions:g8,loading:y8,mobileCard:b8,mobileCardElevated:v8,mobileCardOutlined:x8,mobileButton:E8,mobileButtonSecondary:w8,mobileButtonSuccess:S8,mobileButtonWarning:C8,mobileButtonDanger:_8,mobileButtonSmall:I8,mobileButtonLarge:N8,mobileButtonFullWidth:k8,mobileList:A8,mobileListItem:D8,mobileNavigation:M8,mobileActionSheetOverlay:T8,fadeIn:R8,mobileActionSheet:L8,slideUp:P8,mobileSwipeableCard:B8,mobilePullToRefresh:O8,mobileDashboard:z8,mobileLoadingOverlay:U8,mobileErrorContainer:F8,mobileErrorIcon:W8,mobileErrorMessage:j8,mobileSuccessContainer:H8,mobileSuccessIcon:Y8,mobileSuccessMessage:$8,mobileInfoContainer:G8,mobileInfoIcon:q8,mobileInfoMessage:Z8,loadingOverlay:V8,loadingSpinner:Q8,spin:J8,loadingText:X8,skeletonLoader:K8,skeletonLine:e6,shimmer:t6,errorContainer:n6,errorIcon:a6,errorMessage:r6,errorAction:s6,successContainer:i6,successIcon:o6,successMessage:l6,infoContainer:c6,infoIcon:d6,infoMessage:u6,srOnly:m6,slideInLeft:p6,slideInRight:f6},Tp=""+new URL("tenball-I4UPjCSs.svg",import.meta.url).href,QE=""+new URL("PredatorTable-CE1I7Bce.png",import.meta.url).href,JE=""+new URL("nineball-5ZBjRXm5.svg",import.meta.url).href,Bm=""+new URL("8ball-COe24mO4.svg",import.meta.url).href,XE="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3c!--%20Main%20ball%20gradient%20with%20realistic%20lighting%20--%3e%3cradialGradient%20id='cueMain'%20cx='25%25'%20cy='25%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%23ffffff'/%3e%3cstop%20offset='30%25'%20stop-color='%23f5f5f5'/%3e%3cstop%20offset='60%25'%20stop-color='%23e8e8e8'/%3e%3cstop%20offset='100%25'%20stop-color='%23d0d0d0'/%3e%3c/radialGradient%3e%3c!--%20Secondary%20highlight%20for%20depth%20--%3e%3cradialGradient%20id='cueHighlight'%20cx='20%25'%20cy='20%25'%20r='40%25'%3e%3cstop%20offset='0%25'%20stop-color='%23ffffff'%20stop-opacity='0.9'/%3e%3cstop%20offset='60%25'%20stop-color='%23ffffff'%20stop-opacity='0.3'/%3e%3cstop%20offset='100%25'%20stop-color='%23ffffff'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3c!--%20Specular%20highlight%20--%3e%3cradialGradient%20id='cueSpecular'%20cx='35%25'%20cy='35%25'%20r='15%25'%3e%3cstop%20offset='0%25'%20stop-color='%23ffffff'/%3e%3cstop%20offset='100%25'%20stop-color='%23ffffff'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3c!--%20Shadow%20gradient%20--%3e%3cradialGradient%20id='cueShadow'%20cx='75%25'%20cy='75%25'%20r='25%25'%3e%3cstop%20offset='0%25'%20stop-color='%23000000'%20stop-opacity='0.2'/%3e%3cstop%20offset='100%25'%20stop-color='%23000000'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3c/defs%3e%3c!--%20Main%20ball%20--%3e%3ccircle%20cx='8'%20cy='8'%20r='7.5'%20fill='url(%23cueMain)'%20stroke='%23c0c0c0'%20stroke-width='0.3'/%3e%3c!--%20Primary%20highlight%20--%3e%3ccircle%20cx='6'%20cy='6'%20r='2.5'%20fill='url(%23cueHighlight)'/%3e%3c!--%20Specular%20highlight%20--%3e%3ccircle%20cx='7'%20cy='7'%20r='1.2'%20fill='url(%23cueSpecular)'/%3e%3c!--%20Subtle%20shadow%20for%20depth%20--%3e%3ccircle%20cx='9'%20cy='9'%20r='7.5'%20fill='url(%23cueShadow)'/%3e%3c/svg%3e",h6="_pinBallImg_1hrzk_212",g6={pinBallImg:h6},j0=""+new URL("logo-CyezyYO7.png",import.meta.url).href,y6=[{key:"cue",src:XE,alt:"Cue Ball"},{key:"8",src:Bm,alt:"8 Ball"},{key:"9",src:JE,alt:"9 Ball"},{key:"10",src:Tp,alt:"10 Ball"}],KE=600,ew=300,an=15,cr=an/2;function b6(t,a,e,n=1){const s=e*n,l=a.x-t.x,c=a.y-t.y,u=Math.sqrt(l*l+c*c);if(u===0||u>=s)return;const m=s-u+.01,h=l/u,f=c/u;t.x-=h*(m/2),t.y-=f*(m/2),a.x+=h*(m/2),a.y+=f*(m/2);const y=t.vx-a.vx,b=t.vy-a.vy,w=-(y*h+b*f)||.01;t.vx+=w*h,t.vy+=w*f,a.vx-=w*h,a.vy-=w*f,t.isMoving=!0,a.isMoving=!0}function v6(t=KE,a=ew,e=1){const n=t/e,s=a/e;return[{x:0,y:0},{x:n,y:0},{x:0,y:s},{x:n,y:s},{x:n/2,y:0},{x:n/2,y:s}]}function ud({isRotated:t=!1}){console.log("PoolSimulation isRotated:",t);const a=v.useRef(null),e=v.useRef(null),n=v.useRef({cue:r.createRef(),8:r.createRef(),9:r.createRef(),10:r.createRef()}),s=v.useRef({}),l=v.useRef({}),c=v.useRef(null),u=v.useRef(null),m=v.useRef(0),h=v.useRef(1),[f,y]=v.useState(!1);function b(){Object.keys(s.current).forEach(I=>{l.current[I]={x:s.current[I].x,y:s.current[I].y}})}function E(){const I=a.current;if(!I)return;const k=I.offsetWidth,N=I.offsetHeight,M=k/h.current,R=N/h.current,$=M*.25,z=R/2,Y=an*.87,J=an*.5;function ae(){return(Math.random()-.5)*1}s.current={8:{ref:n.current[8],x:$+ae(),y:z+ae(),vx:0,vy:0,isMoving:!1,visible:!0},9:{ref:n.current[9],x:$-Y+ae(),y:z-J+ae(),vx:0,vy:0,isMoving:!1,visible:!0},10:{ref:n.current[10],x:$-Y+ae(),y:z+J+ae(),vx:0,vy:0,isMoving:!1,visible:!0},cue:{ref:n.current.cue,x:M*.85,y:R/2,vx:0,vy:0,isMoving:!1,visible:!0}},Object.values(s.current).forEach(H=>{H.ref.current&&(H.ref.current.style.opacity=1)}),b()}function w(){E(),m.current=0,setTimeout(()=>{_()},1e3)}v.useEffect(()=>{if(a.current&&!f){const I=a.current,k=I.offsetWidth,N=I.offsetHeight;if(k<400||N<200)h.current=.55;else{const M=k/KE,R=N/ew;h.current=Math.min(M,R)}E(),setTimeout(()=>{_()},1e3),y(!0)}return()=>{cancelAnimationFrame(c.current),clearTimeout(u.current)}},[f]);function _(){if(!s.current.cue||s.current.cue.isMoving)return;const I=s.current.cue;if(m.current+=1,m.current===1){s.current[8];const k=s.current[9],N=a.current;if(!N)return;const M=N.offsetWidth,R=N.offsetHeight,$=M/h.current,z=R/h.current,Y=$*.85,J=z*.5;I.x=Y,I.y=J;const ae=k.x+(Math.random()-.5)*an*.3,H=k.y+(Math.random()-.5)*an*.3,Z=ae-I.x,O=H-I.y,L=Math.atan2(O,Z)+(Math.random()-.5)*(Math.PI/45),A=18+Math.random()*3;I.vx=Math.cos(L)*A,I.vy=Math.sin(L)*A,I.isMoving=!0,S();return}C()}function C(){var A;const I=["8","9","10"],k=I.find(U=>{var q;return(q=s.current[U])==null?void 0:q.visible});if(!k)return;const N=s.current.cue,M=s.current[k],R=a.current;if(!R)return;const $=R.offsetWidth,z=R.offsetHeight;$/h.current,z/h.current;const Y=v6($,z,h.current);let J=null,ae=1/0;for(const U of Y){U.x-M.x,U.y-M.y;let q=U.x,Q=U.y;const T=q-M.x,F=Q-M.y,V=Math.hypot(T,F),j=M.x-T/V*an,re=M.y-F/V*an;let K=!0;for(const pe of I)if(pe!==k&&(A=s.current[pe])!=null&&A.visible){const Ue=s.current[pe];if(Math.abs((re-N.y)*Ue.x-(j-N.x)*Ue.y+j*N.y-re*N.x)/Math.hypot(j-N.x,re-N.y)<an*.6){K=!1;break}}if(!K)continue;const ce=Math.hypot(N.x-j,N.y-re),xe=Math.hypot(M.x-U.x,M.y-U.y);let Se=ce*.05;Se+=xe*.02,ce<an*3?Se*=.01:ce<an*6?Se*=.1:ce<an*10&&(Se*=.3);const Ke=I.find(pe=>{var Ue;return pe!==k&&((Ue=s.current[pe])==null?void 0:Ue.visible)});if(Ke){const pe=s.current[Ke],Ue=j+(j-N.x)*.3,je=re+(re-N.y)*.3;Math.hypot(Ue-pe.x,je-pe.y)<an*8&&(Se*=.5)}Se+=Math.random()*.2,Se<ae&&(ae=Se,J={ghostX:j,ghostY:re,targetToPocket:xe,cueToGhost:ce,pocket:U})}if(!J){const U=Math.atan2(M.y-N.y,M.x-N.x),q=Math.hypot(M.x-N.x,M.y-N.y);J={ghostX:N.x+Math.cos(U)*q*.7,ghostY:N.y+Math.sin(U)*q*.7,targetToPocket:1e3,cueToGhost:q}}const H=J.ghostX-N.x,Z=J.ghostY-N.y,O=Math.hypot(H,Z);let L;O<an*2?L=3:O<an*4?L=4:O<an*8?L=5:O<an*12?L=6:L=7,J.targetToPocket>an*6&&(L+=1),L+=(Math.random()-.5)*.3,L=Math.max(2,Math.min(8,L)),N.vx=H/O*L,N.vy=Z/O*L,N.isMoving=!0,S()}function S(){const N=a.current;if(!N)return;const M=N.offsetWidth,R=N.offsetHeight,$=cr*3.5,z=cr*4.5,Y=$,J=M/h.current-z,ae=$,H=R/h.current-$;function Z(){for(let O=0;O<16;O++){Object.entries(s.current).forEach(([A,U])=>{if(!U.visible)return;let q=U.x+U.vx/16,Q=U.y+U.vy/16;const T=a.current;if(T){const F=T.offsetWidth,V=T.offsetHeight,j=F/h.current,re=V/h.current;[{x:0,y:0},{x:j,y:0},{x:0,y:re},{x:j,y:re},{x:j/2,y:0},{x:j/2,y:re}].some(xe=>Math.hypot(q-xe.x,Q-xe.y)<an*4)?(console.log(`Ball ${A} pocketed! Position: (${q.toFixed(1)}, ${Q.toFixed(1)})`),U.isMoving=!1,U.visible=!1,U.ref.current&&(U.ref.current.style.opacity=0)):(q<Y+cr?(U.x=Y+cr,U.vx=Math.abs(U.vx)*.75):q>J-cr?(U.x=J-cr,U.vx=-Math.abs(U.vx)*.75):U.x=q,Q<ae+cr?(U.y=ae+cr,U.vy=Math.abs(U.vy)*.75):Q>H-cr?(U.y=H-cr,U.vy=-Math.abs(U.vy)*.75):U.y=Q,U.vx*=Math.pow(.99,1/16),U.vy*=Math.pow(.99,1/16))}U.isMoving&&Math.abs(U.vx)<.03&&Math.abs(U.vy)<.03&&(U.vx=0,U.vy=0,U.isMoving=!1)});const L=Object.keys(s.current);for(let A=0;A<L.length;A++)for(let U=A+1;U<L.length;U++){const q=s.current[L[A]],Q=s.current[L[U]];!q.visible||!Q.visible||b6(q,Q,an,h.current)}}if(Object.entries(s.current).forEach(([O,L])=>{if(L.ref.current&&L.visible){const A=L.x*h.current-cr*h.current,U=L.y*h.current-cr*h.current,q=an*h.current,Q=M-q,T=R-q;L.ref.current.style.left=Math.max(0,Math.min(A,Q))+"px",L.ref.current.style.top=Math.max(0,Math.min(U,T))+"px",L.ref.current.style.width=q+"px",L.ref.current.style.height=q+"px",L.ref.current.style.opacity=1}}),!s.current.cue.visible){if(Object.values(s.current).some(T=>T.isMoving)){c.current=requestAnimationFrame(Z);return}const O=a.current;if(!O)return;const L=O.offsetWidth,A=O.offsetHeight,U=L/h.current,q=A/h.current,Q=["8","9","10"].filter(T=>{var F;return(F=s.current[T])==null?void 0:F.visible});if(Q.length>0){const T=Q[0],F=s.current[T],V=(Math.random()-.5)*an*2,j=(Math.random()-.5)*an*2;s.current.cue.x=F.x+V,s.current.cue.y=F.y+j}else s.current.cue.x=U*.5,s.current.cue.y=q*.5;s.current.cue.vx=0,s.current.cue.vy=0,s.current.cue.isMoving=!1,s.current.cue.visible=!0,s.current.cue.ref.current&&(s.current.cue.ref.current.style.opacity=1),setTimeout(()=>{C()},1500);return}if(!s.current[10].visible){setTimeout(()=>{w()},1200);return}Object.values(s.current).some(O=>O.isMoving)?c.current=requestAnimationFrame(Z):u.current||(u.current=setTimeout(()=>{u.current=null,C()},2e3))}c.current=requestAnimationFrame(Z)}return r.createElement("div",{ref:a,"data-pool-container":!0,style:{width:"100%",height:"100%",position:"relative",background:"linear-gradient(180deg, #1a1a1a 0%, #000000 100%)",zIndex:0,boxShadow:"inset 0 0 50px rgba(0,0,0,0.8)"}},r.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(ellipse 1200px 800px at center 60px, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.04) 20%, rgba(255,255,255,0.02) 40%, rgba(255,255,255,0.01) 60%, transparent 80%)",zIndex:3,pointerEvents:"none"}}),r.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(circle 800px at center 40px, rgba(255,255,255,0.02) 0%, transparent 70%)",zIndex:3,pointerEvents:"none"}}),r.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(circle 800px at center 40px, rgba(255,255,255,0.02) 0%, transparent 70%)",zIndex:3,pointerEvents:"none"}}),r.createElement("img",{ref:e,src:QE,alt:"Pool Table",style:{width:"100%",height:"100%",display:"block",objectFit:"fill",position:"absolute",top:1,left:0,zIndex:1,pointerEvents:"none",opacity:1,filter:"opacity(1) contrast(1.3) brightness(1.25) saturate(1.1)",boxShadow:"inset 0 0 30px rgba(0,0,0,0.3)",transform:t?"rotate(90deg)":"none",transformOrigin:"center center"},onLoad:()=>{console.log("Table image loaded, isRotated:",t,"transform:",t?"rotate(90deg)":"none")}}),r.createElement("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",userSelect:"none",zIndex:2}},r.createElement("img",{src:j0,alt:"League Logo",style:{position:"absolute",left:"50%",top:"50%",width:"30.5%",height:"auto",transform:t?"translate(-50%, -50%) rotate(-90deg)":"translate(-50%, -50%)",objectFit:"contain",zIndex:2,opacity:.25,filter:"drop-shadow(0 1px 4px rgba(0,0,0,0.3))",pointerEvents:"none",userSelect:"none"}})),y6.map(I=>{var k,N;return r.createElement(r.Fragment,{key:I.key},r.createElement("img",{src:I.src,alt:I.alt,ref:n.current[I.key],className:g6.pinBallImg,style:{position:"absolute",left:0,top:0,width:an,height:an,zIndex:10,opacity:((k=s.current[I.key])==null?void 0:k.visible)===!1?0:1,transition:"none",pointerEvents:"none",filter:"opacity(1) contrast(1.3) brightness(1.2) saturate(1.1) drop-shadow(0 2px 4px rgba(0,0,0,0.3))",borderRadius:"50%",transform:t?"rotate(-90deg)":"none",transformOrigin:"center center"}}),r.createElement("div",{style:{position:"absolute",left:3,top:3,width:an-6,height:an-6,borderRadius:"50%",background:"radial-gradient(ellipse 8px 4px at 30% 30%, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0.1) 50%, transparent 100%)",zIndex:11,opacity:((N=s.current[I.key])==null?void 0:N.visible)===!1?0:.8,pointerEvents:"none"}}))}))}function H0({aspectWidth:t,aspectHeight:a,children:e}){const n=v.useRef(null),[s,l]=v.useState(1);return v.useEffect(()=>{function c(){if(!n.current)return;const{width:m,height:h}=n.current.getBoundingClientRect(),f=Math.min(m/t,h/a);l(f)}c();const u=()=>{c()};return window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},[t,a]),r.createElement("div",{ref:n,style:{width:"100%",height:"100%",position:"relative",overflow:"visible"}},r.createElement("div",{style:{width:t,height:a,transform:`scale(${s})`,transformOrigin:"top left",position:"absolute",top:0,left:0}},e))}function x6({open:t,onClose:a,standingsUrl:e}){const[n,s]=v.useState(!0);return t?r.createElement(Xt,{open:t,onClose:a,title:"📊 League Standings",maxWidth:"90vw",className:"standings-modal"},r.createElement("div",{style:{height:"70vh",width:"100%",position:"relative"}},n&&r.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:10,color:"#e53e3e",fontSize:"1.2rem",fontWeight:"bold"}},"Loading standings..."),r.createElement("iframe",{src:e,style:{width:"100%",height:"100%",border:"none",borderRadius:"8px",background:"#fff"},title:"League Standings",onLoad:()=>s(!1)})),r.createElement("div",{style:{marginTop:"1rem",textAlign:"center",color:"#888",fontSize:"0.9rem"}},"Front Range Pool League")):null}function E6({open:t,onClose:a,playerName:e,playerLastName:n,selectedDivision:s}){const[l,c]=v.useState([]),[u,m]=v.useState(!0),[h,f]=v.useState(null),[y,b]=v.useState(null),[E,w]=v.useState([]),_=`${e} ${n}`;return v.useEffect(()=>{if(!t||!s)return;async function C(){try{m(!0),f(null);const S=s.replace(/[^A-Za-z0-9]/g,"_"),I=`${Ce}/static/standings_${S}.json`,k=await fetch(I);if(!k.ok)throw new Error(`Failed to fetch standings: ${k.status}`);const N=await k.json(),M=N.findIndex(R=>R.name&&R.name.toLowerCase().includes(_.toLowerCase()));if(M!==-1){b(M+1);const R=N.slice(M+1,M+5);w(R)}else f("Could not find user in standings")}catch(S){console.error("Error fetching standings:",S),f("Failed to load standings data")}finally{m(!1)}}C()},[t,s,_]),t?r.createElement("div",{className:ge.modalOverlay,onClick:a},r.createElement("div",{className:ge.dashboardModalContent,onClick:C=>C.stopPropagation()},r.createElement("div",{className:ge.modalHeader},r.createElement("h2",{className:ge.modalTitle},"🛡️ Potential Challengers"),r.createElement("button",{className:ge.closeBtn,onClick:a},"×")),r.createElement("div",{style:{padding:"20px",flex:1,overflowY:"auto",display:"flex",flexDirection:"column"}},r.createElement("p",{style:{margin:"0 0 20px 0",color:"#e0e0e0",fontSize:"0.9rem",fontStyle:"italic",textAlign:"center"}},"Players ranked below you who could challenge you in Phase 2"),u&&r.createElement("div",{style:{textAlign:"center",padding:"40px 20px",color:"#888",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.createElement("div",{style:{fontSize:"1.2rem",marginBottom:"10px"}},"🔄"),"Loading potential challengers..."),h&&r.createElement("div",{style:{textAlign:"center",padding:"40px 20px",color:"#e53e3e",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.createElement("div",{style:{fontSize:"1.2rem",marginBottom:"10px"}},"⚠️"),h),!u&&!h&&r.createElement(r.Fragment,null,r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"8px",padding:"15px",marginBottom:"20px",border:"1px solid rgba(255,255,255,0.1)",textAlign:"center"}},r.createElement("div",{style:{color:"#ffffff",fontSize:"1.1rem",fontWeight:"bold",marginBottom:"5px"}},"Your Position: #",y),r.createElement("div",{style:{color:"#e0e0e0",fontSize:"0.9rem"}},_)),r.createElement("div",{style:{marginBottom:"20px",flex:1}},r.createElement("h3",{style:{color:"#ffffff",fontSize:"1.2rem",marginBottom:"15px",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},"Potential Challengers (",E.length,")"),E.length===0?r.createElement("div",{style:{textAlign:"center",padding:"20px",color:"#888",fontStyle:"italic"}},"No players ranked below you found in standings"):r.createElement("div",{style:{display:"grid",gap:"10px"}},E.map((C,S)=>r.createElement("div",{key:S,style:{background:"rgba(255,255,255,0.05)",borderRadius:"8px",padding:"15px",border:"1px solid rgba(255,255,255,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"background-color 0.2s ease"},onMouseEnter:I=>I.target.style.backgroundColor="rgba(255,255,255,0.1)",onMouseLeave:I=>I.target.style.backgroundColor="rgba(255,255,255,0.05)"},r.createElement("div",{style:{flex:1}},r.createElement("div",{style:{color:"#ffffff",fontSize:"1rem",fontWeight:"bold",marginBottom:"5px"}},"#",y+S+1," - ",C.name||"Unknown Player"),C.record&&r.createElement("div",{style:{color:"#e0e0e0",fontSize:"0.85rem"}},"Record: ",C.record),C.points&&r.createElement("div",{style:{color:"#e0e0e0",fontSize:"0.85rem"}},"Points: ",C.points)),r.createElement("div",{style:{color:"#ff4444",fontSize:"1.5rem",marginLeft:"15px"}},"⚔️"))))),r.createElement("div",{style:{background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"15px",border:"1px solid rgba(255,255,255,0.1)",marginBottom:"20px"}},r.createElement("div",{style:{color:"#ffffff",fontSize:"0.9rem",textAlign:"center",lineHeight:"1.4"}},r.createElement("strong",null,"Phase 2 Defense Rules:"),r.createElement("br",null),"• Players ranked below you can challenge you",r.createElement("br",null),"• You must accept at least 2 defense challenges",r.createElement("br",null),"• These are the players who could challenge you")))))):null}const w6="_modalOverlay_8evb8_7",S6="_modalContentSnazzy_8evb8_33",C6="_modalHeaderSnazzy_8evb8_69",_6="_modalAccentBar_8evb8_89",I6="_modalTitleSnazzy_8evb8_107",N6="_modalCloseBtnSnazzy_8evb8_131",k6="_modalDetailsSnazzy_8evb8_173",A6="_modalDetailRowSnazzy_8evb8_189",D6="_modalDetailIcon_8evb8_217",M6="_modalDetailLabelSnazzy_8evb8_229",T6="_modalDetailValueSnazzy_8evb8_243",R6="_modalOpponentName_8evb8_263",L6="_modalVs_8evb8_277",P6="_gameTypeIcon_8evb8_293",B6="_modalActionBtn_8evb8_397",ht={modalOverlay:w6,modalContentSnazzy:S6,modalHeaderSnazzy:C6,modalAccentBar:_6,modalTitleSnazzy:I6,modalCloseBtnSnazzy:N6,modalDetailsSnazzy:k6,modalDetailRowSnazzy:A6,modalDetailIcon:D6,modalDetailLabelSnazzy:M6,modalDetailValueSnazzy:T6,modalOpponentName:R6,modalVs:L6,gameTypeIcon:P6,modalActionBtn:B6};class O6{constructor(){this.backendUrl=Ce,this.currentAdmin=null,this.isAuthenticated=!1}async authenticateAdmin(a,e){try{console.log("🔐 Authenticating admin:",a);const n=await fetch(`${this.backendUrl}/api/platform/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,pin:e})});if(!n.ok){const l=await n.json();throw new Error(l.message||"Authentication failed")}const s=await n.json();if(s.success&&s.admin)return this.currentAdmin=s.admin,this.isAuthenticated=!0,localStorage.setItem("adminData",JSON.stringify(s.admin)),localStorage.setItem("isAdminAuthenticated","true"),console.log("✅ Admin authenticated:",s.admin.email,"Role:",s.admin.role),s.admin;throw new Error("Invalid response from server")}catch(n){throw console.error("❌ Admin authentication failed:",n),this.currentAdmin=null,this.isAuthenticated=!1,n}}async isSuperAdmin(a,e){try{const n=await this.authenticateAdmin(a,e);return n&&n.role==="super_admin"}catch(n){return console.log("🔍 User is not a super admin:",n.message),!1}}async isAdmin(a,e){try{const n=await this.authenticateAdmin(a,e);return n&&(n.role==="admin"||n.role==="super_admin"||n.role==="support")}catch(n){return console.log("🔍 User is not an admin:",n.message),!1}}getCurrentAdmin(){if(this.currentAdmin)return this.currentAdmin;const a=localStorage.getItem("adminData"),e=localStorage.getItem("isAdminAuthenticated")==="true";if(a&&e)try{return this.currentAdmin=JSON.parse(a),this.isAuthenticated=!0,this.currentAdmin}catch(n){console.error("Error parsing stored admin data:",n),this.logout()}return null}hasPermission(a){const e=this.getCurrentAdmin();return!e||!e.permissions?!1:e.permissions[a]===!0}isSuperAdminRole(){const a=this.getCurrentAdmin();return a&&a.role==="super_admin"}logout(){this.currentAdmin=null,this.isAuthenticated=!1,localStorage.removeItem("adminData"),localStorage.removeItem("isAdminAuthenticated"),console.log("🔓 Admin logged out")}isAuthenticated(){return this.isAuthenticated&&this.getCurrentAdmin()!==null}}const Oi=new O6,C2=""+new URL("ball9-U9rUK9VA.jpg",import.meta.url).href,_2=""+new URL("ball10-pPX9kWaM.jpg",import.meta.url).href;function Y0({open:t,onClose:a,player1:e,player2:n,onSelect:s}){return t?r.createElement(Xt,{open:t,onClose:a,title:"Who won?",maxWidth:"340px"},r.createElement("div",{style:{textAlign:"center",marginBottom:18,color:"#fff",fontSize:"1.1em"}},"Please select the winner:"),r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:16,alignItems:"center"}},r.createElement("button",{style:{background:"#23232a",color:"#28a745",border:"2px solid #28a745",borderRadius:8,padding:"0.7rem 1.5rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",minWidth:"160px"},onClick:()=>s(e)},e),r.createElement("button",{style:{background:"#23232a",color:"#e53e3e",border:"2px solid #e53e3e",borderRadius:8,padding:"0.7rem 1.5rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",minWidth:"160px"},onClick:()=>s(n)},n)),r.createElement("button",{style:{marginTop:24,background:"#6c757d",color:"#fff",border:"none",borderRadius:"6px",padding:"0.7rem 1.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",minWidth:"120px",display:"block",marginLeft:"auto",marginRight:"auto"},onClick:a},"Cancel")):null}const z6=Ce;class Bn{static async request(a,e={}){const n=`${z6}${a}`,s={headers:{"Content-Type":"application/json",Accept:"application/json",...e.headers},signal:AbortSignal.timeout(3e4),credentials:"include",mode:"cors",...e},l=3;let c;for(let u=1;u<=l;u++)try{console.log(`API Request (attempt ${u}): ${n}`);const m=await fetch(n,s);if(!m.ok)throw new Error(`API Error: ${m.status} - ${m.statusText}`);const h=await m.json();return console.log(`API Success: ${n}`),h}catch(m){if(c=m,console.warn(`API Request failed (attempt ${u}/${l}): ${n}`,m),m.message.includes("400")||m.message.includes("401")||m.message.includes("403")||m.message.includes("404"))break;if(u<l){const h=Math.min(1e3*Math.pow(2,u-1),5e3);await new Promise(f=>setTimeout(f,h))}}throw console.error(`API Request failed after ${l} attempts: ${n}`,c),c}static get(a){return this.request(a)}static post(a,e){return this.request(a,{method:"POST",body:JSON.stringify(e)})}static patch(a,e){return this.request(a,{method:"PATCH",body:JSON.stringify(e)})}static delete(a){return this.request(a,{method:"DELETE"})}static async testConnection(){try{const a=await this.get("/health");return console.log("Backend connection test successful:",a),!0}catch(a){return console.error("Backend connection test failed:",a),!1}}}const Ga={async getPendingProposals(t,a){return Bn.get(`/api/proposals/by-name?receiverName=${encodeURIComponent(t)}&division=${encodeURIComponent(a)}`)},async getSentProposals(t,a){return Bn.get(`/api/proposals/by-sender?senderName=${encodeURIComponent(t)}&division=${encodeURIComponent(a)}`)},async updateProposalStatus(t,a,e){return Bn.patch(`/api/proposals/${t}/status`,{status:a,note:e})},async createProposal(t){return Bn.post("/api/proposals",t)},async counterProposal(t,a){return Bn.patch(`/api/proposals/${t}/counter`,a)},async markCompleted(t,a,e,n){return Bn.patch(`/api/matches/completed/${t}`,{winner:a,markedByName:e,markedByEmail:n})},async cancelProposal(t){return Bn.post(`/api/proposals/${t}/cancel`)},async getAllProposals(t){const a=t?`?division=${encodeURIComponent(t)}`:"";return Bn.get(`/api/proposals/debug-list${a}`)}};function U6(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-"),m=new Date(parseInt(l),parseInt(c)-1,parseInt(u)),h=String(m.getMonth()+1).padStart(2,"0"),f=String(m.getDate()).padStart(2,"0"),y=m.getFullYear();return`${h}-${f}-${y}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function F6({open:t,onClose:a,match:e,onCompleted:n,userPin:s,onMatchUpdated:l,senderName:c,senderEmail:u}){const[m,h]=v.useState({x:0,y:0}),[f,y]=v.useState(!1),b=v.useRef({x:0,y:0}),E=Z=>{y(!0),b.current={x:Z.clientX-m.x,y:Z.clientY-m.y},document.body.style.userSelect="none"},w=Z=>{f&&h({x:Z.clientX-b.current.x,y:Z.clientY-b.current.y})},_=()=>{y(!1),document.body.style.userSelect=""};v.useEffect(()=>(f?(window.addEventListener("mousemove",w),window.addEventListener("mouseup",_)):(window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",_)),()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",_)}),[f]);const[C,S]=v.useState(!1),[I,k]=v.useState(!1),[N,M]=v.useState({player1:"",player2:""}),[R,$]=v.useState(e);v.useEffect(()=>{$(e)},[e]);const z=()=>{let Z=e.player||e.senderName,O=e.opponent||e.receiverName;M({player1:Z,player2:O}),k(!0)},Y=async Z=>{k(!1),S(!0);const O=c&&c.trim()?c:R.player||R.senderName||"Unknown",L=u&&u.trim()?u:R.senderEmail||"unknown@example.com";console.log("Marking winner with:",{winner:Z,markedByName:O,markedByEmail:L});try{const A=await Ga.markCompleted(R._id,Z,O,L);A&&A.proposal?($(A.proposal),l&&l(A.proposal)):($({...R,winner:Z}),l&&l({...R,winner:Z})),n&&n(R._id)}catch{alert("Failed to mark as completed.")}S(!1)};if(!t||!R)return null;let J=new Date,ae="",H="";if(R.date&&R.time){const[Z,O,L]=R.date.split("-"),A=`${Z}-${O.padStart(2,"0")}-${L.padStart(2,"0")}`;let U=R.time.trim().toUpperCase(),[q,Q]=U.split(" "),[T,F]=q.split(":").map(Number);Q==="PM"&&T<12&&(T+=12),Q==="AM"&&T===12&&(T=0);const V=T.toString().padStart(2,"0"),j=(F||0).toString().padStart(2,"0"),re=`${V}:${j}`;J=new Date(`${A}T${re}:00`),ae=U6(R.date),H=J.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"})}return r.createElement("div",{className:ht.modalOverlay,onClick:a},r.createElement("div",{className:ht.modalContentSnazzy,style:{transform:`translate(${m.x}px, ${m.y}px)`,cursor:f?"grabbing":"default"},onClick:Z=>Z.stopPropagation(),role:"dialog","aria-modal":"true","aria-label":"Match Details",tabIndex:-1},r.createElement("button",{className:ht.modalCloseBtnSnazzy,onClick:a,"aria-label":"Close"},"×"),r.createElement("div",{className:ht.modalHeaderSnazzy,onMouseDown:E,style:{cursor:"grab",userSelect:"none"}},r.createElement("span",{className:ht.modalAccentBar}),r.createElement("h2",{className:ht.modalTitleSnazzy},"🎱 Match Details")),r.createElement("div",{className:ht.modalDetailsSnazzy},r.createElement("div",{className:ht.modalDetailRowSnazzy},r.createElement("span",{className:ht.modalDetailIcon},"🤝"),r.createElement("span",{className:ht.modalDetailLabelSnazzy},"Players:"),r.createElement("span",{className:ht.modalDetailValueSnazzy},r.createElement("span",{className:ht.modalOpponentName},R.player||R.senderName),r.createElement("span",{className:ht.modalVs},"vs"),r.createElement("span",{className:ht.modalOpponentName},R.opponent||R.receiverName))),r.createElement("div",{className:ht.modalDetailRowSnazzy},r.createElement("span",{className:ht.modalDetailIcon},"📅"),r.createElement("span",{className:ht.modalDetailLabelSnazzy},"Date:"),r.createElement("span",{className:ht.modalDetailValueSnazzy},ae)),r.createElement("div",{className:ht.modalDetailRowSnazzy},r.createElement("span",{className:ht.modalDetailIcon},"⏰"),r.createElement("span",{className:ht.modalDetailLabelSnazzy},"Time:"),r.createElement("span",{className:ht.modalDetailValueSnazzy},H)),r.createElement("div",{className:ht.modalDetailRowSnazzy},r.createElement("span",{className:ht.modalDetailIcon},"��"),r.createElement("span",{className:ht.modalDetailLabelSnazzy},"Location:"),r.createElement("span",{className:ht.modalDetailValueSnazzy},R.location)),R.gameType&&r.createElement("div",{className:ht.modalDetailRowSnazzy},W6(R.gameType),r.createElement("span",{className:ht.modalDetailLabelSnazzy},"Game Type:"),r.createElement("span",{className:ht.modalDetailValueSnazzy},R.gameType)),R.raceLength&&r.createElement("div",{className:ht.modalDetailRowSnazzy},r.createElement("span",{className:ht.modalDetailIcon},"🏁"),r.createElement("span",{className:ht.modalDetailLabelSnazzy},"Race to:"),r.createElement("span",{className:ht.modalDetailValueSnazzy},R.raceLength)),R.winner&&r.createElement("div",{style:{color:"#ffd700",fontWeight:700,marginTop:6,fontSize:"1em"}},"🏆 Winner: ",R.winner,Oi.getCurrentAdmin()&&R.winnerChangedByName&&r.createElement("span",{style:{color:"#aaa",fontWeight:400,fontSize:"0.95em",marginLeft:8}},"(marked by ",R.winnerChangedByName,R.winnerChangedAt?` on ${new Date(R.winnerChangedAt).toLocaleString()}`:"",")"))),!R.completed&&r.createElement(r.Fragment,null,r.createElement("button",{className:ht.modalActionBtn,onClick:z,disabled:C,style:{marginTop:16,minWidth:180},type:"button"},C?"Marking...":"Mark as Completed"),r.createElement(Y0,{open:I,onClose:()=>k(!1),player1:N.player1,player2:N.player2,onSelect:Y}))))}function W6(t){if(!t)return r.createElement("span",{className:ht.modalDetailIcon},"🎯");const a=t.trim().toLowerCase();return a==="8 ball"||a==="8-ball"||a==="8ball"?r.createElement("img",{src:Bm,alt:"8 Ball",className:ht.gameTypeIcon}):a==="9 ball"||a==="9-ball"||a==="9ball"?r.createElement("img",{src:C2,alt:"9 Ball",className:ht.gameTypeIcon}):a==="10 ball"||a==="10-ball"||a==="10ball"?r.createElement("img",{src:_2,alt:"10 Ball",className:ht.gameTypeIcon}):a==="mixed"||a==="mixed games"?r.createElement(r.Fragment,null,r.createElement("img",{src:Bm,alt:"8 Ball",className:ht.gameTypeIcon}),r.createElement("img",{src:C2,alt:"9 Ball",className:ht.gameTypeIcon}),r.createElement("img",{src:_2,alt:"10 Ball",className:ht.gameTypeIcon})):r.createElement("span",{className:ht.modalDetailIcon},"🎯")}const j6="_proposalList_1gl2k_39",H6="_proposalCardButton_1gl2k_169",Y6="_proposalCardLabel_1gl2k_211",$6="_proposalCardMessage_1gl2k_223",G6="_modalContent_1gl2k_277",q6="_confirmDialogBox_1gl2k_345",da={proposalList:j6,proposalCardButton:H6,proposalCardLabel:Y6,proposalCardMessage:$6,modalContent:G6,confirmDialogBox:q6};function I2(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-"),m=new Date(parseInt(l),parseInt(c)-1,parseInt(u)),h=String(m.getMonth()+1).padStart(2,"0"),f=String(m.getDate()).padStart(2,"0"),y=m.getFullYear();return`${h}-${f}-${y}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function Z6(t){if(!t)return"N/A";if(t.includes(":")&&t.length===5){const[a,e]=t.split(":"),n=parseInt(a),s=n>=12?"PM":"AM";return`${n===0?12:n>12?n-12:n}:${e} ${s}`}return t}function N2({proposals:t,onSelect:a,onClose:e,type:n="received",isAdmin:s=!1,senderEmail:l,senderName:c,onProposalUpdated:u}){console.log("Proposals:",t);const[m,h]=v.useState(null),[f,y]=v.useState(!1),[b,E]=v.useState(""),[w,_]=v.useState(t),[C,S]=v.useState("all"),I=t.filter(L=>L.isCounter),k=t.filter(L=>!L.isCounter),N=C==="counter"?I:k,[M,R]=v.useState(!1),[$,z]=v.useState(null),[Y,J]=v.useState({player1:"",player2:""}),[ae,H]=v.useState(!1),Z=async L=>{y(!0),E("");try{await Ga.cancelProposal(L),_(A=>A.filter(U=>U._id!==L)),h(null)}catch{E("Failed to cancel proposal. Please try again.")}finally{y(!1)}},O=n==="completed"?w:t;return r.createElement(Xt,{open:!0,onClose:e,title:n==="completed"?"Completed Matches":n==="sent"?"Matches You Proposed":"Pending Match Proposals",maxWidth:"600px"},r.createElement("div",{className:da.modalContent,style:{position:"relative",maxHeight:"none",overflowY:"visible"}},n!=="completed"&&r.createElement("div",{style:{display:"flex",gap:8,marginBottom:16}},r.createElement("button",{onClick:()=>S("all"),style:{background:C==="all"?"#e53e3e":"#333",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:C==="all"?"0 2px 8px #e53e3e44":"none",position:"relative"}},"All Proposals (",k.length,")",k.length>0&&r.createElement("span",{style:{background:"#fff",color:"#e53e3e",borderRadius:"50%",padding:"2px 8px",fontSize:"0.85em",fontWeight:"bold",marginLeft:8,position:"absolute",top:"-8px",right:"-12px",minWidth:24,textAlign:"center",boxShadow:"0 1px 4px #0002"}},k.length)),r.createElement("button",{onClick:()=>S("counter"),style:{background:C==="counter"?"#ff9800":"#333",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:C==="counter"?"0 2px 8px #ff980044":"none",position:"relative"}},"Counter Proposals (",I.length,")",I.length>0&&r.createElement("span",{style:{background:"#fff",color:"#ff9800",borderRadius:"50%",padding:"2px 8px",fontSize:"0.85em",fontWeight:"bold",marginLeft:8,position:"absolute",top:"-8px",right:"-12px",minWidth:24,textAlign:"center",boxShadow:"0 1px 4px #0002"}},I.length))),r.createElement("ul",{className:da.proposalList,style:{listStyle:"none",padding:0,margin:0}},n==="completed"?O.map(L=>r.createElement("li",{key:L._id,style:{position:"relative",marginBottom:12}},r.createElement("div",{className:da.proposalCardButton,style:{cursor:"default",background:"#23232a",color:"#28a745",border:"2px solid #28a745",borderRadius:8,padding:"1rem",fontWeight:600}},r.createElement("div",null,r.createElement("span",{className:da.proposalCardLabel},"Opponent:")," ",L.opponent||L.receiverName||L.senderName),r.createElement("div",null,r.createElement("span",{className:da.proposalCardLabel},"Date:")," ",I2(L.date),"  ",r.createElement("span",{className:da.proposalCardLabel},"Time:")," ",L.time),r.createElement("div",null,r.createElement("span",{className:da.proposalCardLabel},"Location:")," ",L.location),r.createElement("div",null,r.createElement("span",{className:da.proposalCardLabel},"Game Type:")," ",L.gameType),L.winner&&r.createElement("div",{style:{color:"#ffd700",fontWeight:700,marginTop:6,fontSize:"1em"}},"🏆 Winner: ",L.winner,s&&L.winnerChangedByName&&r.createElement("span",{style:{color:"#aaa",fontWeight:400,fontSize:"0.95em",marginLeft:8}},"(marked by ",L.winnerChangedByName,L.winnerChangedAt?` on ${new Date(L.winnerChangedAt).toLocaleString()}`:"",")")),s&&r.createElement("button",{style:{marginTop:10,background:"#444",color:"#fff",border:"1px solid #ffd700",borderRadius:6,padding:"4px 12px",fontWeight:600,cursor:"pointer",fontSize:"0.95em",display:"inline-block"},disabled:ae,onClick:()=>{const A=L.player||L.senderName,U=L.opponent||L.receiverName;z(L),J({player1:A,player2:U}),R(!0)},type:"button"},ae?"Saving...":L.winner?"Edit Winner":"Set Winner")))):N.map(L=>r.createElement("li",{key:L._id,style:{position:"relative"}},r.createElement("button",{onClick:()=>a(L),className:da.proposalCardButton},r.createElement("div",null,r.createElement("span",{className:da.proposalCardLabel},n==="sent"?"To:":"From:"),n==="sent"?L.receiverName:L.senderName,L.isCounter&&r.createElement("span",{style:{background:"#ff9800",color:"#fff",borderRadius:"6px",padding:"2px 8px",fontSize:"0.85em",marginLeft:"8px",fontWeight:"bold",display:"inline-block"}},"Counter Proposal")),r.createElement("div",null,r.createElement("span",{className:da.proposalCardLabel},"Date:")," ",I2(L.date),"  ",r.createElement("span",{className:da.proposalCardLabel},"Time:")," ",Z6(L.time)),r.createElement("div",null,r.createElement("span",{className:da.proposalCardLabel},"Location:")," ",L.location),r.createElement("div",{className:da.proposalCardMessage},L.message),r.createElement("div",null,r.createElement("span",{className:da.proposalCardLabel},"Status:"),r.createElement("span",{style:{color:L.status==="pending"?"#d32f2f":L.status==="countered"?"#fbc02d":"#388e3c"}},L.status))),n==="sent"&&L.status==="pending"&&r.createElement("button",{className:da.cancelProposalBtn,style:{position:"absolute",top:10,right:10},onClick:A=>{A.stopPropagation(),h(L._id)},disabled:f},"Cancel")))),N.length===0&&r.createElement("div",{style:{color:"#ffecb3",textAlign:"center",marginTop:16}},"Nothing to see here."),m&&r.createElement("div",{className:da.confirmDialogBox,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1001,background:"#222",color:"#fff",borderRadius:"10px",padding:"2rem 2.5rem",boxShadow:"0 4px 32px #000a",maxWidth:"90vw",minWidth:"260px",textAlign:"center",border:"2px solid #e53e3e"}},r.createElement("p",null,"Are you sure you want to cancel this proposal?"),r.createElement("button",{onClick:()=>Z(m),disabled:f,style:{marginRight:12}},f?"Cancelling...":"Yes, Cancel"),r.createElement("button",{onClick:()=>h(null),disabled:f},"No, Go Back"),b&&r.createElement("div",{style:{color:"red",marginTop:8}},b))),r.createElement(Y0,{open:M,onClose:()=>R(!1),player1:Y.player1,player2:Y.player2,onSelect:async L=>{if($){H(!0);try{const A=await Ga.markCompleted($._id,L,c,l),U=A&&A.proposal?A.proposal:{...$,winner:L,winnerChangedByName:c,winnerChangedByEmail:l,winnerChangedAt:new Date().toISOString()};_(q=>q.map(Q=>Q._id===$._id?U:Q)),u&&u(U),R(!1)}catch{alert("Failed to update winner.")}H(!1)}}}))}function V6(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-"),m=new Date(parseInt(l),parseInt(c)-1,parseInt(u)),h=String(m.getMonth()+1).padStart(2,"0"),f=String(m.getDate()).padStart(2,"0"),y=m.getFullYear();return`${h}-${f}-${y}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function Q6({proposal:t,phase:a,userNote:e,setUserNote:n,onConfirm:s,onClose:l,onCounterPropose:c,showNote:u=!0,confirmLabel:m="✅ Confirm Match",currentUserName:h,currentUserEmail:f}){if(!t)return null;const{senderName:y,receiverName:b,senderEmail:E,receiverEmail:w,day:_,date:C,time:S,location:I,gameType:k,raceLength:N,message:M,proposalNote:R}=t,$=f&&E&&f.toLowerCase()===E.toLowerCase()||h&&y&&h.toLowerCase()===y.toLowerCase();return r.createElement("div",{className:un.confirmMatchCard},r.createElement("h1",{className:un.confirmMatchTitle},r.createElement("span",{className:un.redTitle},"🎱 Confirm Match")),r.createElement("div",{className:un.confirmMatchDetails},r.createElement("div",{className:un.detailRow},r.createElement("strong",{className:un.redTitle},"You:")," ",b||t.to||"N/A"),r.createElement("div",{className:un.detailRow},r.createElement("strong",{className:un.redTitle},"Opponent:")," ",y||t.from||"N/A"),_&&r.createElement("div",{className:un.detailRow},r.createElement("strong",{className:un.redTitle},"Day:")," ",_),r.createElement("div",{className:un.detailRow},r.createElement("strong",{className:un.redTitle},"Date:")," ",V6(C)),r.createElement("div",{className:un.detailRow},r.createElement("strong",{className:un.redTitle},"Time:")," ",S||"N/A"),r.createElement("div",{className:un.detailRow},r.createElement("strong",{className:un.redTitle},"Location:")," ",I||"N/A"),k&&r.createElement("div",{className:un.detailRow},r.createElement(Sp,{gameType:k,size:16}),r.createElement("strong",{className:un.redTitle},"Game Type:")," ",k),N&&r.createElement("div",{className:un.detailRow},r.createElement("strong",{className:un.redTitle},"Race to:")," ",N),r.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:12,marginTop:18,justifyContent:"center",paddingBottom:8,width:"100%",boxSizing:"border-box"}},$?r.createElement(r.Fragment,null,r.createElement("span",{style:{color:"#888",fontWeight:500,fontSize:"1.1em"}},"You proposed this match. You can edit or message, but only your opponent can confirm/counter/cancel."),r.createElement("button",{className:un.confirmBtn,style:{background:"#aaa",minWidth:120,marginLeft:16},onClick:l},"OK")):r.createElement(r.Fragment,null,r.createElement("button",{className:un.confirmBtn,style:{minWidth:120},onClick:s},m),c&&r.createElement("button",{className:un.confirmBtn,style:{background:"#fff",color:"#d32f2f",border:"1.5px solid #d32f2f",minWidth:120},onClick:c,type:"button"},"Counter-Propose"),r.createElement("button",{className:un.confirmBtn,style:{background:"#aaa",minWidth:120},onClick:l},"Close")))))}function Gg(t){const a={Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat",Sunday:"Sun"},e={Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[],Sun:[]};return t&&t.split(/\r?\n/).forEach(n=>{const s=n.match(/Day:\s*(\w+),\s*Available From:\s*([\w:]+),\s*Available Until:\s*([\w: ]+)/i);if(s){const[l,c,u,m]=s,h=a[c];h&&e[h].push(`${u} - ${m}`)}}),e}function tw({open:t,onClose:a,opponents:e,onOpponentClick:n,phase:s,selectedCalendarDate:l,smartMatchMode:c=!1,allPlayers:u=[]}){if(!t)return null;const m=l?e.filter(h=>{if(!h.player||!h.player.availability)return!1;const y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][l.getDay()],b=h.player.availability;return b[y]&&b[y].length>0}):e;return r.createElement(Xt,{open:t,onClose:a,title:c?`🧠 Smart Match - Select Opponent${l?` (${l.toLocaleDateString()})`:""}`:`🎱 Select Opponent - ${s==="scheduled"||s==="offseason"?"Phase 1":"Phase 2"}${l?` (${l.toLocaleDateString()})`:""}`,maxWidth:"500px"},r.createElement("div",{style:{maxHeight:"60vh",overflowY:"auto"}},m.length===0?r.createElement("p",{style:{color:"#888",textAlign:"center",fontStyle:"italic"}},l?`No opponents available for ${l.toLocaleDateString()} (${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][l.getDay()]}).`:"No opponents available for scheduling at this time."):r.createElement("div",{style:{display:"grid",gap:"8px"}},m.map((h,f)=>r.createElement("button",{key:h.player&&h.player.email||`${h.opponentName}-${f}`||`opponent-${f}`,onClick:()=>n(h.player&&h.player.name?h.player.name:h.opponentName),style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"1rem",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:y=>{y.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",y.target.style.transform="translateY(-2px)",y.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:y=>{y.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",y.target.style.transform="translateY(0)",y.target.style.boxShadow="none"}},h.player&&h.player.name?h.player.name:h.opponentName)))))}function Rp({player:t,onClose:a,senderEmail:e,onProposeMatch:n,selectedDivision:s,phase:l}){if(!t)return null;const[c,u]=v.useState(!1),[m,h]=v.useState(10);return v.useEffect(()=>{let f;return c&&(h(10),f=setInterval(()=>{h(y=>y<=1?(clearInterval(f),u(!1),10):y-1)},1e3)),()=>clearInterval(f)},[c]),r.createElement(Xt,{open:!0,onClose:a,title:`👤 ${t.name||`${t.firstName} ${t.lastName}`}`,maxWidth:"600px"},r.createElement("div",{style:{textAlign:"left"}},r.createElement("div",{style:{fontSize:"0.9rem",color:"#888",marginBottom:"1.5rem",textAlign:"center"}},l==="scheduled"?"Phase 1 (Scheduled)":l==="challenge"?"Phase 2 (Challenge)":l),r.createElement("div",{style:{marginBottom:"1.5rem"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"0.5rem",fontSize:"1.1rem",textAlign:"center"}},"Preferred Locations:"),r.createElement("div",{style:{color:"#fff",textAlign:"center",maxWidth:"100%",overflow:"hidden"}},t.locations?(()=>{const f=t.locations.split(/\r?\n/).filter(Boolean);return r.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"8px",padding:"8px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",maxWidth:"100%"}},f.map((y,b)=>r.createElement("span",{key:y+b,style:{background:"rgba(229, 62, 62, 0.2)",color:"#fff",padding:"4px 8px",borderRadius:"12px",fontSize:"0.85rem",border:"1px solid rgba(229, 62, 62, 0.3)",whiteSpace:"nowrap",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block"},title:y},"📍 ",y)))})():"No locations specified")),r.createElement("div",{style:{marginBottom:"1.5rem"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"0.5rem",fontSize:"1.1rem",textAlign:"center"}},"Availability:"),r.createElement("div",{style:{color:"#fff",fontSize:"0.9rem",marginBottom:"1rem",textAlign:"center",fontStyle:"italic"}},"Pick a timeblock within a day to schedule a match with this opponent."),r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px"}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"}},["Mon","Tue","Wed"].map(f=>r.createElement("div",{key:f,style:{textAlign:"center"}},r.createElement("div",{style:{color:"#e53e3e",fontWeight:"bold",marginBottom:"0.5rem",fontSize:"0.9rem"}},f),!t.availability||!t.availability[f]||t.availability[f].length===0?r.createElement("div",{style:{color:"#666",fontSize:"0.8rem",padding:"0.5rem",background:"#222",borderRadius:"4px"}},"—"):(t.availability[f]||[]).map((y,b)=>r.createElement("div",{key:b,onClick:()=>{n&&n(f,y,l,s)},style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"1px solid #e53e3e",borderRadius:"6px",padding:"0.5rem",fontSize:"0.8rem",cursor:"pointer",transition:"all 0.2s ease",marginBottom:"0.5rem"},onMouseEnter:E=>{E.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",E.target.style.transform="translateY(-1px)",E.target.style.boxShadow="0 2px 8px rgba(229, 62, 62, 0.3)"},onMouseLeave:E=>{E.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",E.target.style.transform="translateY(0)",E.target.style.boxShadow="none"},tabIndex:0,role:"button","aria-label":`Propose match on ${f} at ${y}`,onKeyPress:E=>{(E.key==="Enter"||E.key===" ")&&n&&n(f,y,l,s)}},y))))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"}},["Thu","Fri","Sat"].map(f=>r.createElement("div",{key:f,style:{textAlign:"center"}},r.createElement("div",{style:{color:"#e53e3e",fontWeight:"bold",marginBottom:"0.5rem",fontSize:"0.9rem"}},f),!t.availability||!t.availability[f]||t.availability[f].length===0?r.createElement("div",{style:{color:"#666",fontSize:"0.8rem",padding:"0.5rem",background:"#222",borderRadius:"4px"}},"—"):(t.availability[f]||[]).map((y,b)=>r.createElement("div",{key:b,onClick:()=>{n&&n(f,y,l,s)},style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"1px solid #e53e3e",borderRadius:"6px",padding:"0.5rem",fontSize:"0.8rem",cursor:"pointer",transition:"all 0.2s ease",marginBottom:"0.5rem"},onMouseEnter:E=>{E.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",E.target.style.transform="translateY(-1px)",E.target.style.boxShadow="0 2px 8px rgba(229, 62, 62, 0.3)"},onMouseLeave:E=>{E.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",E.target.style.transform="translateY(0)",E.target.style.boxShadow="none"},tabIndex:0,role:"button","aria-label":`Propose match on ${f} at ${y}`,onKeyPress:E=>{(E.key==="Enter"||E.key===" ")&&n&&n(f,y,l,s)}},y))))))),r.createElement("div",{style:{marginBottom:"1.5rem",textAlign:"center"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"0.5rem",fontSize:"1.1rem",textAlign:"center"}},"Contact Information:"),r.createElement("div",{style:{color:"#fff",textAlign:"center"}},c?r.createElement("div",{style:{background:"rgba(229, 62, 62, 0.1)",border:"1px solid #e53e3e",borderRadius:"6px",padding:"1rem"}},r.createElement("div",{style:{marginBottom:"0.5rem"}},r.createElement("strong",null,"Email:")," ",t.email||"Not provided"),t.phone&&r.createElement("div",{style:{marginBottom:"0.5rem"}},r.createElement("strong",null,"Phone:")," ",t.phone),t.text&&r.createElement("div",{style:{marginBottom:"0.5rem"}},r.createElement("strong",null,"Text:")," ",t.text),t.preferredContacts&&t.preferredContacts.length>0&&r.createElement("div",null,r.createElement("strong",null,"Preferred Contact:")," ",t.preferredContacts.join(", ")),r.createElement("div",{style:{color:"#ffc107",fontSize:"0.9rem",marginTop:"0.5rem"}},"Auto-hiding in ",m," seconds...")):r.createElement("button",{onClick:()=>u(!0),style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:"6px",padding:"0.7rem 1.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"}},"Show Contact Info")))))}const J6="_opponentName_1wgqu_479",mn={"match-proposal-content":"_match-proposal-content_1wgqu_49","match-proposal-title":"_match-proposal-title_1wgqu_135","match-proposal-row":"_match-proposal-row_1wgqu_155","match-proposal-select":"_match-proposal-select_1wgqu_177","match-proposal-location-select":"_match-proposal-location-select_1wgqu_179","match-proposal-textarea":"_match-proposal-textarea_1wgqu_225","match-proposal-date-input":"_match-proposal-date-input_1wgqu_339","match-proposal-send-btn":"_match-proposal-send-btn_1wgqu_365","match-proposal-day-value":"_match-proposal-day-value_1wgqu_449",opponentName:J6,"match-proposal-division":"_match-proposal-division_1wgqu_493","match-proposal-phase":"_match-proposal-phase_1wgqu_493","match-proposal-label-red":"_match-proposal-label-red_1wgqu_501"};var sg={},X6=Object.create,nw=Object.defineProperty,K6=Object.getOwnPropertyDescriptor,aw=Object.getOwnPropertyNames,eM=Object.getPrototypeOf,tM=Object.prototype.hasOwnProperty,Nd=(t,a)=>function(){return a||(0,t[aw(t)[0]])((a={exports:{}}).exports,a),a.exports},nM=(t,a,e,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let s of aw(a))!tM.call(t,s)&&s!==e&&nw(t,s,{get:()=>a[s],enumerable:!(n=K6(a,s))||n.enumerable});return t},kd=(t,a,e)=>(e=t!=null?X6(eM(t)):{},nM(!t||!t.__esModule?nw(e,"default",{value:t,enumerable:!0}):e,t)),aM=Nd({"node_modules/base64-js/index.js"(t){t.byteLength=m,t.toByteArray=f,t.fromByteArray=E;var a=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(l=0,c=s.length;l<c;++l)a[l]=s[l],e[s.charCodeAt(l)]=l;var l,c;e[45]=62,e[95]=63;function u(w){var _=w.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=w.indexOf("=");C===-1&&(C=_);var S=C===_?0:4-C%4;return[C,S]}function m(w){var _=u(w),C=_[0],S=_[1];return(C+S)*3/4-S}function h(w,_,C){return(_+C)*3/4-C}function f(w){var _,C=u(w),S=C[0],I=C[1],k=new n(h(w,S,I)),N=0,M=I>0?S-4:S,R;for(R=0;R<M;R+=4)_=e[w.charCodeAt(R)]<<18|e[w.charCodeAt(R+1)]<<12|e[w.charCodeAt(R+2)]<<6|e[w.charCodeAt(R+3)],k[N++]=_>>16&255,k[N++]=_>>8&255,k[N++]=_&255;return I===2&&(_=e[w.charCodeAt(R)]<<2|e[w.charCodeAt(R+1)]>>4,k[N++]=_&255),I===1&&(_=e[w.charCodeAt(R)]<<10|e[w.charCodeAt(R+1)]<<4|e[w.charCodeAt(R+2)]>>2,k[N++]=_>>8&255,k[N++]=_&255),k}function y(w){return a[w>>18&63]+a[w>>12&63]+a[w>>6&63]+a[w&63]}function b(w,_,C){for(var S,I=[],k=_;k<C;k+=3)S=(w[k]<<16&16711680)+(w[k+1]<<8&65280)+(w[k+2]&255),I.push(y(S));return I.join("")}function E(w){for(var _,C=w.length,S=C%3,I=[],k=16383,N=0,M=C-S;N<M;N+=k)I.push(b(w,N,N+k>M?M:N+k));return S===1?(_=w[C-1],I.push(a[_>>2]+a[_<<4&63]+"==")):S===2&&(_=(w[C-2]<<8)+w[C-1],I.push(a[_>>10]+a[_>>4&63]+a[_<<2&63]+"=")),I.join("")}}}),rM=Nd({"(disabled):https"(){}}),sM=Nd({"node_modules/form-data/lib/browser.js"(t,a){a.exports=typeof self=="object"?self.FormData:window.FormData}}),iM=Nd({"(disabled):node_modules/jsonwebtoken/index.js"(){}}),oM=Nd({"(disabled):crypto"(){}}),lM=kd(aM());function qg(t){return typeof t=="string"}function k2(t,a){return!!a&&qg(t)}function cM(t,a){const e=[];if(qg(t)&&k2(t,a)){for(let n=0,s=t.length;n<s;n++)if(t.charAt(n)){const l=t.charAt(n),c=a(l,n,t);e[n]=c}}else if(!qg(t)&&!k2(t,a)){for(let n=0,s=t.length;n<s;n++)if(n in t){const l=t[n],c=a(l,n,t);e[n]=c}}return e}var dM=t=>(0,lM.fromByteArray)(new Uint8Array(cM(t,a=>a.charCodeAt(0)))),uM=t=>{const a={},e=String.fromCharCode,n=t.length;let s,l=0,c,u,m=0,h,f="";const y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0;s<64;s++)a[y.charAt(s)]=s;for(u=0;u<n;u++)for(c=a[t.charAt(u)],l=(l<<6)+c,m+=6;m>=8;)((h=l>>>(m-=8)&255)||u<n-2)&&(f+=e(h));return f},A2=class{constructor(t,a,e){this.client=t,this.id=a,this.data=e}async create(){var e,n,s,l,c,u,m,h,f,y,b,E;const t={id:this.id,message_template:(e=this.data)==null?void 0:e.message_template,segment_ids:(n=this.data)==null?void 0:n.segment_ids,sender_id:(s=this.data)==null?void 0:s.sender_id,sender_mode:(l=this.data)==null?void 0:l.sender_mode,channel_template:(c=this.data)==null?void 0:c.channel_template,create_channels:(u=this.data)==null?void 0:u.create_channels,show_channels:(m=this.data)==null?void 0:m.show_channels,description:(h=this.data)==null?void 0:h.description,name:(f=this.data)==null?void 0:f.name,skip_push:(y=this.data)==null?void 0:y.skip_push,skip_webhook:(b=this.data)==null?void 0:b.skip_webhook,user_ids:(E=this.data)==null?void 0:E.user_ids},a=await this.client.createCampaign(t);return this.id=a.campaign.id,this.data=a.campaign,a}verifyCampaignId(){if(!this.id)throw new Error("Campaign id is missing. Either create the campaign using campaign.create() or set the id during instantiation - const campaign = client.campaign(id)")}async start(t){return this.verifyCampaignId(),await this.client.startCampaign(this.id,t)}update(t){return this.verifyCampaignId(),this.client.updateCampaign(this.id,t)}async delete(){return this.verifyCampaignId(),await this.client.deleteCampaign(this.id)}stop(){return this.verifyCampaignId(),this.client.stopCampaign(this.id)}get(t){return this.verifyCampaignId(),this.client.getCampaign(this.id,t)}};function rw(t,a){return function(){return t.apply(a,arguments)}}var{toString:mM}=Object.prototype,{getPrototypeOf:$0}=Object,Lp=(t=>a=>{const e=mM.call(a);return t[e]||(t[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),is=t=>(t=t.toLowerCase(),a=>Lp(a)===t),Pp=t=>a=>typeof a===t,{isArray:Ll}=Array,md=Pp("undefined");function pM(t){return t!==null&&!md(t)&&t.constructor!==null&&!md(t.constructor)&&xr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var sw=is("ArrayBuffer");function fM(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&sw(t.buffer),a}var hM=Pp("string"),xr=Pp("function"),iw=Pp("number"),Bp=t=>t!==null&&typeof t=="object",gM=t=>t===!0||t===!1,fm=t=>{if(Lp(t)!=="object")return!1;const a=$0(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yM=is("Date"),bM=is("File"),vM=is("Blob"),xM=is("FileList"),EM=t=>Bp(t)&&xr(t.pipe),wM=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||xr(t.append)&&((a=Lp(t))==="formdata"||a==="object"&&xr(t.toString)&&t.toString()==="[object FormData]"))},SM=is("URLSearchParams"),CM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ad(t,a,{allOwnKeys:e=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),Ll(t))for(n=0,s=t.length;n<s;n++)a.call(null,t[n],n,t);else{const l=e?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let u;for(n=0;n<c;n++)u=l[n],a.call(null,t[u],u,t)}}function ow(t,a){a=a.toLowerCase();const e=Object.keys(t);let n=e.length,s;for(;n-- >0;)if(s=e[n],a===s.toLowerCase())return s;return null}var lw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cw=t=>!md(t)&&t!==lw;function Zg(){const{caseless:t}=cw(this)&&this||{},a={},e=(n,s)=>{const l=t&&ow(a,s)||s;fm(a[l])&&fm(n)?a[l]=Zg(a[l],n):fm(n)?a[l]=Zg({},n):Ll(n)?a[l]=n.slice():a[l]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Ad(arguments[n],e);return a}var _M=(t,a,e,{allOwnKeys:n}={})=>(Ad(a,(s,l)=>{e&&xr(s)?t[l]=rw(s,e):t[l]=s},{allOwnKeys:n}),t),IM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),NM=(t,a,e,n)=>{t.prototype=Object.create(a.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:a.prototype}),e&&Object.assign(t.prototype,e)},kM=(t,a,e,n)=>{let s,l,c;const u={};if(a=a||{},t==null)return a;do{for(s=Object.getOwnPropertyNames(t),l=s.length;l-- >0;)c=s[l],(!n||n(c,t,a))&&!u[c]&&(a[c]=t[c],u[c]=!0);t=e!==!1&&$0(t)}while(t&&(!e||e(t,a))&&t!==Object.prototype);return a},AM=(t,a,e)=>{t=String(t),(e===void 0||e>t.length)&&(e=t.length),e-=a.length;const n=t.indexOf(a,e);return n!==-1&&n===e},DM=t=>{if(!t)return null;if(Ll(t))return t;let a=t.length;if(!iw(a))return null;const e=new Array(a);for(;a-- >0;)e[a]=t[a];return e},MM=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&$0(Uint8Array)),TM=(t,a)=>{const n=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const l=s.value;a.call(t,l[0],l[1])}},RM=(t,a)=>{let e;const n=[];for(;(e=t.exec(a))!==null;)n.push(e);return n},LM=is("HTMLFormElement"),PM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,s){return n.toUpperCase()+s}),D2=(({hasOwnProperty:t})=>(a,e)=>t.call(a,e))(Object.prototype),BM=is("RegExp"),dw=(t,a)=>{const e=Object.getOwnPropertyDescriptors(t),n={};Ad(e,(s,l)=>{let c;(c=a(s,l,t))!==!1&&(n[l]=c||s)}),Object.defineProperties(t,n)},OM=t=>{dw(t,(a,e)=>{if(xr(t)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const n=t[e];if(xr(n)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},zM=(t,a)=>{const e={},n=s=>{s.forEach(l=>{e[l]=!0})};return Ll(t)?n(t):n(String(t).split(a)),e},UM=()=>{},FM=(t,a)=>(t=+t,Number.isFinite(t)?t:a),ig="abcdefghijklmnopqrstuvwxyz",M2="0123456789",uw={DIGIT:M2,ALPHA:ig,ALPHA_DIGIT:ig+ig.toUpperCase()+M2},WM=(t=16,a=uw.ALPHA_DIGIT)=>{let e="";const{length:n}=a;for(;t--;)e+=a[Math.random()*n|0];return e};function jM(t){return!!(t&&xr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var HM=t=>{const a=new Array(10),e=(n,s)=>{if(Bp(n)){if(a.indexOf(n)>=0)return;if(!("toJSON"in n)){a[s]=n;const l=Ll(n)?[]:{};return Ad(n,(c,u)=>{const m=e(c,s+1);!md(m)&&(l[u]=m)}),a[s]=void 0,l}}return n};return e(t,0)},YM=is("AsyncFunction"),$M=t=>t&&(Bp(t)||xr(t))&&xr(t.then)&&xr(t.catch),Ee={isArray:Ll,isArrayBuffer:sw,isBuffer:pM,isFormData:wM,isArrayBufferView:fM,isString:hM,isNumber:iw,isBoolean:gM,isObject:Bp,isPlainObject:fm,isUndefined:md,isDate:yM,isFile:bM,isBlob:vM,isRegExp:BM,isFunction:xr,isStream:EM,isURLSearchParams:SM,isTypedArray:MM,isFileList:xM,forEach:Ad,merge:Zg,extend:_M,trim:CM,stripBOM:IM,inherits:NM,toFlatObject:kM,kindOf:Lp,kindOfTest:is,endsWith:AM,toArray:DM,forEachEntry:TM,matchAll:RM,isHTMLForm:LM,hasOwnProperty:D2,hasOwnProp:D2,reduceDescriptors:dw,freezeMethods:OM,toObjectSet:zM,toCamelCase:PM,noop:UM,toFiniteNumber:FM,findKey:ow,global:lw,isContextDefined:cw,ALPHABET:uw,generateString:WM,isSpecCompliantForm:jM,toJSONObject:HM,isAsyncFn:YM,isThenable:$M};function _l(t,a,e,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",a&&(this.code=a),e&&(this.config=e),n&&(this.request=n),s&&(this.response=s)}Ee.inherits(_l,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ee.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var mw=_l.prototype,pw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{pw[t]={value:t}});Object.defineProperties(_l,pw);Object.defineProperty(mw,"isAxiosError",{value:!0});_l.from=(t,a,e,n,s,l)=>{const c=Object.create(mw);return Ee.toFlatObject(t,c,function(m){return m!==Error.prototype},u=>u!=="isAxiosError"),_l.call(c,t.message,a,e,n,s),c.cause=t,c.name=t.name,l&&Object.assign(c,l),c};var Ht=_l,GM=null;function Vg(t){return Ee.isPlainObject(t)||Ee.isArray(t)}function fw(t){return Ee.endsWith(t,"[]")?t.slice(0,-2):t}function T2(t,a,e){return t?t.concat(a).map(function(s,l){return s=fw(s),!e&&l?"["+s+"]":s}).join(e?".":""):a}function qM(t){return Ee.isArray(t)&&!t.some(Vg)}var ZM=Ee.toFlatObject(Ee,{},null,function(a){return/^is[A-Z]/.test(a)});function VM(t,a,e){if(!Ee.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,e=Ee.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,C){return!Ee.isUndefined(C[_])});const n=e.metaTokens,s=e.visitor||f,l=e.dots,c=e.indexes,m=(e.Blob||typeof Blob<"u"&&Blob)&&Ee.isSpecCompliantForm(a);if(!Ee.isFunction(s))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(Ee.isDate(w))return w.toISOString();if(!m&&Ee.isBlob(w))throw new Ht("Blob is not supported. Use a Buffer instead.");return Ee.isArrayBuffer(w)||Ee.isTypedArray(w)?m&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function f(w,_,C){let S=w;if(w&&!C&&typeof w=="object"){if(Ee.endsWith(_,"{}"))_=n?_:_.slice(0,-2),w=JSON.stringify(w);else if(Ee.isArray(w)&&qM(w)||(Ee.isFileList(w)||Ee.endsWith(_,"[]"))&&(S=Ee.toArray(w)))return _=fw(_),S.forEach(function(k,N){!(Ee.isUndefined(k)||k===null)&&a.append(c===!0?T2([_],N,l):c===null?_:_+"[]",h(k))}),!1}return Vg(w)?!0:(a.append(T2(C,_,l),h(w)),!1)}const y=[],b=Object.assign(ZM,{defaultVisitor:f,convertValue:h,isVisitable:Vg});function E(w,_){if(!Ee.isUndefined(w)){if(y.indexOf(w)!==-1)throw Error("Circular reference detected in "+_.join("."));y.push(w),Ee.forEach(w,function(S,I){(!(Ee.isUndefined(S)||S===null)&&s.call(a,S,Ee.isString(I)?I.trim():I,_,b))===!0&&E(S,_?_.concat(I):[I])}),y.pop()}}if(!Ee.isObject(t))throw new TypeError("data must be an object");return E(t),a}var Op=VM;function R2(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return a[n]})}function hw(t,a){this._pairs=[],t&&Op(t,this,a)}var gw=hw.prototype;gw.append=function(a,e){this._pairs.push([a,e])};gw.toString=function(a){const e=a?function(n){return a.call(this,n,R2)}:R2;return this._pairs.map(function(s){return e(s[0])+"="+e(s[1])},"").join("&")};var yw=hw;function QM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bw(t,a,e){if(!a)return t;const n=e&&e.encode||QM,s=e&&e.serialize;let l;if(s?l=s(a,e):l=Ee.isURLSearchParams(a)?a.toString():new yw(a,e).toString(n),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}var JM=class{constructor(){this.handlers=[]}use(t,a,e){return this.handlers.push({fulfilled:t,rejected:a,synchronous:e?e.synchronous:!1,runWhen:e?e.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ee.forEach(this.handlers,function(e){e!==null&&t(e)})}},L2=JM,vw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},XM=typeof URLSearchParams<"u"?URLSearchParams:yw,KM=typeof FormData<"u"?FormData:null,eT=typeof Blob<"u"?Blob:null,tT=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),nT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Kr={classes:{URLSearchParams:XM,FormData:KM,Blob:eT},isStandardBrowserEnv:tT,isStandardBrowserWebWorkerEnv:nT,protocols:["http","https","file","blob","url","data"]};function aT(t,a){return Op(t,new Kr.classes.URLSearchParams,Object.assign({visitor:function(e,n,s,l){return Kr.isNode&&Ee.isBuffer(e)?(this.append(n,e.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},a))}function rT(t){return Ee.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function sT(t){const a={},e=Object.keys(t);let n;const s=e.length;let l;for(n=0;n<s;n++)l=e[n],a[l]=t[l];return a}function iT(t){function a(e,n,s,l){let c=e[l++];const u=Number.isFinite(+c),m=l>=e.length;return c=!c&&Ee.isArray(s)?s.length:c,m?(Ee.hasOwnProp(s,c)?s[c]=[s[c],n]:s[c]=n,!u):((!s[c]||!Ee.isObject(s[c]))&&(s[c]=[]),a(e,n,s[c],l)&&Ee.isArray(s[c])&&(s[c]=sT(s[c])),!u)}if(Ee.isFormData(t)&&Ee.isFunction(t.entries)){const e={};return Ee.forEachEntry(t,(n,s)=>{a(rT(n),s,e,0)}),e}return null}var xw=iT;function oT(t,a,e){if(Ee.isString(t))try{return(a||JSON.parse)(t),Ee.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(t)}var G0={transitional:vw,adapter:["xhr","http"],transformRequest:[function(a,e){const n=e.getContentType()||"",s=n.indexOf("application/json")>-1,l=Ee.isObject(a);if(l&&Ee.isHTMLForm(a)&&(a=new FormData(a)),Ee.isFormData(a))return s&&s?JSON.stringify(xw(a)):a;if(Ee.isArrayBuffer(a)||Ee.isBuffer(a)||Ee.isStream(a)||Ee.isFile(a)||Ee.isBlob(a))return a;if(Ee.isArrayBufferView(a))return a.buffer;if(Ee.isURLSearchParams(a))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let u;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return aT(a,this.formSerializer).toString();if((u=Ee.isFileList(a))||n.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Op(u?{"files[]":a}:a,m&&new m,this.formSerializer)}}return l||s?(e.setContentType("application/json",!1),oT(a)):a}],transformResponse:[function(a){const e=this.transitional||G0.transitional,n=e&&e.forcedJSONParsing,s=this.responseType==="json";if(a&&Ee.isString(a)&&(n&&!this.responseType||s)){const c=!(e&&e.silentJSONParsing)&&s;try{return JSON.parse(a)}catch(u){if(c)throw u.name==="SyntaxError"?Ht.from(u,Ht.ERR_BAD_RESPONSE,this,null,this.response):u}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kr.classes.FormData,Blob:Kr.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ee.forEach(["delete","get","head","post","put","patch"],t=>{G0.headers[t]={}});var q0=G0,lT=Ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cT=t=>{const a={};let e,n,s;return t&&t.split(`
`).forEach(function(c){s=c.indexOf(":"),e=c.substring(0,s).trim().toLowerCase(),n=c.substring(s+1).trim(),!(!e||a[e]&&lT[e])&&(e==="set-cookie"?a[e]?a[e].push(n):a[e]=[n]:a[e]=a[e]?a[e]+", "+n:n)}),a},P2=Symbol("internals");function Oc(t){return t&&String(t).trim().toLowerCase()}function hm(t){return t===!1||t==null?t:Ee.isArray(t)?t.map(hm):String(t)}function dT(t){const a=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=e.exec(t);)a[n[1]]=n[2];return a}var uT=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function og(t,a,e,n,s){if(Ee.isFunction(n))return n.call(this,a,e);if(s&&(a=e),!!Ee.isString(a)){if(Ee.isString(n))return a.indexOf(n)!==-1;if(Ee.isRegExp(n))return n.test(a)}}function mT(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,e,n)=>e.toUpperCase()+n)}function pT(t,a){const e=Ee.toCamelCase(" "+a);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+e,{value:function(s,l,c){return this[n].call(this,a,s,l,c)},configurable:!0})})}var zp=class{constructor(t){t&&this.set(t)}set(t,a,e){const n=this;function s(c,u,m){const h=Oc(u);if(!h)throw new Error("header name must be a non-empty string");const f=Ee.findKey(n,h);(!f||n[f]===void 0||m===!0||m===void 0&&n[f]!==!1)&&(n[f||u]=hm(c))}const l=(c,u)=>Ee.forEach(c,(m,h)=>s(m,h,u));return Ee.isPlainObject(t)||t instanceof this.constructor?l(t,a):Ee.isString(t)&&(t=t.trim())&&!uT(t)?l(cT(t),a):t!=null&&s(a,t,e),this}get(t,a){if(t=Oc(t),t){const e=Ee.findKey(this,t);if(e){const n=this[e];if(!a)return n;if(a===!0)return dT(n);if(Ee.isFunction(a))return a.call(this,n,e);if(Ee.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=Oc(t),t){const e=Ee.findKey(this,t);return!!(e&&this[e]!==void 0&&(!a||og(this,this[e],e,a)))}return!1}delete(t,a){const e=this;let n=!1;function s(l){if(l=Oc(l),l){const c=Ee.findKey(e,l);c&&(!a||og(e,e[c],c,a))&&(delete e[c],n=!0)}}return Ee.isArray(t)?t.forEach(s):s(t),n}clear(t){const a=Object.keys(this);let e=a.length,n=!1;for(;e--;){const s=a[e];(!t||og(this,this[s],s,t,!0))&&(delete this[s],n=!0)}return n}normalize(t){const a=this,e={};return Ee.forEach(this,(n,s)=>{const l=Ee.findKey(e,s);if(l){a[l]=hm(n),delete a[s];return}const c=t?mT(s):String(s).trim();c!==s&&delete a[s],a[c]=hm(n),e[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return Ee.forEach(this,(e,n)=>{e!=null&&e!==!1&&(a[n]=t&&Ee.isArray(e)?e.join(", "):e)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const e=new this(t);return a.forEach(n=>e.set(n)),e}static accessor(t){const e=(this[P2]=this[P2]={accessors:{}}).accessors,n=this.prototype;function s(l){const c=Oc(l);e[c]||(pT(n,l),e[c]=!0)}return Ee.isArray(t)?t.forEach(s):s(t),this}};zp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ee.reduceDescriptors(zp.prototype,({value:t},a)=>{let e=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(n){this[e]=n}}});Ee.freezeMethods(zp);var js=zp;function lg(t,a){const e=this||q0,n=a||e,s=js.from(n.headers);let l=n.data;return Ee.forEach(t,function(u){l=u.call(e,l,s.normalize(),a?a.status:void 0)}),s.normalize(),l}function Ew(t){return!!(t&&t.__CANCEL__)}function ww(t,a,e){Ht.call(this,t??"canceled",Ht.ERR_CANCELED,a,e),this.name="CanceledError"}Ee.inherits(ww,Ht,{__CANCEL__:!0});var Up=ww;function fT(t,a,e){const n=e.config.validateStatus;!e.status||!n||n(e.status)?t(e):a(new Ht("Request failed with status code "+e.status,[Ht.ERR_BAD_REQUEST,Ht.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}var hT=Kr.isStandardBrowserEnv?function(){return{write:function(e,n,s,l,c,u){const m=[];m.push(e+"="+encodeURIComponent(n)),Ee.isNumber(s)&&m.push("expires="+new Date(s).toGMTString()),Ee.isString(l)&&m.push("path="+l),Ee.isString(c)&&m.push("domain="+c),u===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function gT(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function yT(t,a){return a?t.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):t}function Sw(t,a){return t&&!gT(a)?yT(t,a):a}var bT=Kr.isStandardBrowserEnv?function(){const a=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function s(l){let c=l;return a&&(e.setAttribute("href",c),c=e.href),e.setAttribute("href",c),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return n=s(window.location.href),function(c){const u=Ee.isString(c)?s(c):c;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}();function vT(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function xT(t,a){t=t||10;const e=new Array(t),n=new Array(t);let s=0,l=0,c;return a=a!==void 0?a:1e3,function(m){const h=Date.now(),f=n[l];c||(c=h),e[s]=m,n[s]=h;let y=l,b=0;for(;y!==s;)b+=e[y++],y=y%t;if(s=(s+1)%t,s===l&&(l=(l+1)%t),h-c<a)return;const E=f&&h-f;return E?Math.round(b*1e3/E):void 0}}var ET=xT;function B2(t,a){let e=0;const n=ET(50,250);return s=>{const l=s.loaded,c=s.lengthComputable?s.total:void 0,u=l-e,m=n(u),h=l<=c;e=l;const f={loaded:l,total:c,progress:c?l/c:void 0,bytes:u,rate:m||void 0,estimated:m&&c&&h?(c-l)/m:void 0,event:s};f[a?"download":"upload"]=!0,t(f)}}var wT=typeof XMLHttpRequest<"u",ST=wT&&function(t){return new Promise(function(e,n){let s=t.data;const l=js.from(t.headers).normalize(),c=t.responseType;let u;function m(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}let h;Ee.isFormData(s)&&(Kr.isStandardBrowserEnv||Kr.isStandardBrowserWebWorkerEnv?l.setContentType(!1):l.getContentType(/^\s*multipart\/form-data/)?Ee.isString(h=l.getContentType())&&l.setContentType(h.replace(/^\s*(multipart\/form-data);+/,"$1")):l.setContentType("multipart/form-data"));let f=new XMLHttpRequest;if(t.auth){const w=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";l.set("Authorization","Basic "+btoa(w+":"+_))}const y=Sw(t.baseURL,t.url);f.open(t.method.toUpperCase(),bw(y,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function b(){if(!f)return;const w=js.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),C={data:!c||c==="text"||c==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:w,config:t,request:f};fT(function(I){e(I),m()},function(I){n(I),m()},C),f=null}if("onloadend"in f?f.onloadend=b:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(b)},f.onabort=function(){f&&(n(new Ht("Request aborted",Ht.ECONNABORTED,t,f)),f=null)},f.onerror=function(){n(new Ht("Network Error",Ht.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let _=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const C=t.transitional||vw;t.timeoutErrorMessage&&(_=t.timeoutErrorMessage),n(new Ht(_,C.clarifyTimeoutError?Ht.ETIMEDOUT:Ht.ECONNABORTED,t,f)),f=null},Kr.isStandardBrowserEnv){const w=bT(y)&&t.xsrfCookieName&&hT.read(t.xsrfCookieName);w&&l.set(t.xsrfHeaderName,w)}s===void 0&&l.setContentType(null),"setRequestHeader"in f&&Ee.forEach(l.toJSON(),function(_,C){f.setRequestHeader(C,_)}),Ee.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),c&&c!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",B2(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",B2(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=w=>{f&&(n(!w||w.type?new Up(null,t,f):w),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const E=vT(y);if(E&&Kr.protocols.indexOf(E)===-1){n(new Ht("Unsupported protocol "+E+":",Ht.ERR_BAD_REQUEST,t));return}f.send(s||null)})},Qg={http:GM,xhr:ST};Ee.forEach(Qg,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});var O2=t=>`- ${t}`,CT=t=>Ee.isFunction(t)||t===null||t===!1,Cw={getAdapter:t=>{t=Ee.isArray(t)?t:[t];const{length:a}=t;let e,n;const s={};for(let l=0;l<a;l++){e=t[l];let c;if(n=e,!CT(e)&&(n=Qg[(c=String(e)).toLowerCase()],n===void 0))throw new Ht(`Unknown adapter '${c}'`);if(n)break;s[c||"#"+l]=n}if(!n){const l=Object.entries(s).map(([u,m])=>`adapter ${u} `+(m===!1?"is not supported by the environment":"is not available in the build"));let c=a?l.length>1?`since :
`+l.map(O2).join(`
`):" "+O2(l[0]):"as no adapter specified";throw new Ht("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n},adapters:Qg};function cg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Up(null,t)}function z2(t){return cg(t),t.headers=js.from(t.headers),t.data=lg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Cw.getAdapter(t.adapter||q0.adapter)(t).then(function(n){return cg(t),n.data=lg.call(t,t.transformResponse,n),n.headers=js.from(n.headers),n},function(n){return Ew(n)||(cg(t),n&&n.response&&(n.response.data=lg.call(t,t.transformResponse,n.response),n.response.headers=js.from(n.response.headers))),Promise.reject(n)})}var U2=t=>t instanceof js?t.toJSON():t;function Il(t,a){a=a||{};const e={};function n(h,f,y){return Ee.isPlainObject(h)&&Ee.isPlainObject(f)?Ee.merge.call({caseless:y},h,f):Ee.isPlainObject(f)?Ee.merge({},f):Ee.isArray(f)?f.slice():f}function s(h,f,y){if(Ee.isUndefined(f)){if(!Ee.isUndefined(h))return n(void 0,h,y)}else return n(h,f,y)}function l(h,f){if(!Ee.isUndefined(f))return n(void 0,f)}function c(h,f){if(Ee.isUndefined(f)){if(!Ee.isUndefined(h))return n(void 0,h)}else return n(void 0,f)}function u(h,f,y){if(y in a)return n(h,f);if(y in t)return n(void 0,h)}const m={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(h,f)=>s(U2(h),U2(f),!0)};return Ee.forEach(Object.keys(Object.assign({},t,a)),function(f){const y=m[f]||s,b=y(t[f],a[f],f);Ee.isUndefined(b)&&y!==u||(e[f]=b)}),e}var _w="1.6.0",Z0={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{Z0[t]=function(n){return typeof n===t||"a"+(a<1?"n ":" ")+t}});var F2={};Z0.transitional=function(a,e,n){function s(l,c){return"[Axios v"+_w+"] Transitional option '"+l+"'"+c+(n?". "+n:"")}return(l,c,u)=>{if(a===!1)throw new Ht(s(c," has been removed"+(e?" in "+e:"")),Ht.ERR_DEPRECATED);return e&&!F2[c]&&(F2[c]=!0,console.warn(s(c," has been deprecated since v"+e+" and will be removed in the near future"))),a?a(l,c,u):!0}};function _T(t,a,e){if(typeof t!="object")throw new Ht("options must be an object",Ht.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const l=n[s],c=a[l];if(c){const u=t[l],m=u===void 0||c(u,l,t);if(m!==!0)throw new Ht("option "+l+" must be "+m,Ht.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Ht("Unknown option "+l,Ht.ERR_BAD_OPTION)}}var Jg={assertOptions:_T,validators:Z0},Si=Jg.validators,Om=class{constructor(t){this.defaults=t,this.interceptors={request:new L2,response:new L2}}request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=Il(this.defaults,a);const{transitional:e,paramsSerializer:n,headers:s}=a;e!==void 0&&Jg.assertOptions(e,{silentJSONParsing:Si.transitional(Si.boolean),forcedJSONParsing:Si.transitional(Si.boolean),clarifyTimeoutError:Si.transitional(Si.boolean)},!1),n!=null&&(Ee.isFunction(n)?a.paramsSerializer={serialize:n}:Jg.assertOptions(n,{encode:Si.function,serialize:Si.function},!0)),a.method=(a.method||this.defaults.method||"get").toLowerCase();let l=s&&Ee.merge(s.common,s[a.method]);s&&Ee.forEach(["delete","get","head","post","put","patch","common"],E=>{delete s[E]}),a.headers=js.concat(l,s);const c=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(a)===!1||(u=u&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const m=[];this.interceptors.response.forEach(function(w){m.push(w.fulfilled,w.rejected)});let h,f=0,y;if(!u){const E=[z2.bind(this),void 0];for(E.unshift.apply(E,c),E.push.apply(E,m),y=E.length,h=Promise.resolve(a);f<y;)h=h.then(E[f++],E[f++]);return h}y=c.length;let b=a;for(f=0;f<y;){const E=c[f++],w=c[f++];try{b=E(b)}catch(_){w.call(this,_);break}}try{h=z2.call(this,b)}catch(E){return Promise.reject(E)}for(f=0,y=m.length;f<y;)h=h.then(m[f++],m[f++]);return h}getUri(t){t=Il(this.defaults,t);const a=Sw(t.baseURL,t.url);return bw(a,t.params,t.paramsSerializer)}};Ee.forEach(["delete","get","head","options"],function(a){Om.prototype[a]=function(e,n){return this.request(Il(n||{},{method:a,url:e,data:(n||{}).data}))}});Ee.forEach(["post","put","patch"],function(a){function e(n){return function(l,c,u){return this.request(Il(u||{},{method:a,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Om.prototype[a]=e(),Om.prototype[a+"Form"]=e(!0)});var gm=Om,IT=class Iw{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(l){e=l});const n=this;this.promise.then(s=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](s);n._listeners=null}),this.promise.then=s=>{let l;const c=new Promise(u=>{n.subscribe(u),l=u}).then(s);return c.cancel=function(){n.unsubscribe(l)},c},a(function(l,c,u){n.reason||(n.reason=new Up(l,c,u),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const e=this._listeners.indexOf(a);e!==-1&&this._listeners.splice(e,1)}static source(){let a;return{token:new Iw(function(s){a=s}),cancel:a}}},NT=IT;function kT(t){return function(e){return t.apply(null,e)}}function AT(t){return Ee.isObject(t)&&t.isAxiosError===!0}var Xg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xg).forEach(([t,a])=>{Xg[a]=t});var DT=Xg;function Nw(t){const a=new gm(t),e=rw(gm.prototype.request,a);return Ee.extend(e,gm.prototype,a,{allOwnKeys:!0}),Ee.extend(e,a,null,{allOwnKeys:!0}),e.create=function(s){return Nw(Il(t,s))},e}var jn=Nw(q0);jn.Axios=gm;jn.CanceledError=Up;jn.CancelToken=NT;jn.isCancel=Ew;jn.VERSION=_w;jn.toFormData=Op;jn.AxiosError=Ht;jn.Cancel=jn.CanceledError;jn.all=function(a){return Promise.all(a)};jn.spread=kT;jn.isAxiosError=AT;jn.mergeConfig=Il;jn.AxiosHeaders=js;jn.formToJSON=t=>xw(Ee.isHTMLForm(t)?new FormData(t):t);jn.getAdapter=Cw.getAdapter;jn.HttpStatusCode=DT;jn.default=jn;var pd=jn,{Axios:FW,AxiosError:WW,CanceledError:jW,isCancel:HW,CancelToken:YW,VERSION:$W,all:GW,Cancel:qW,isAxiosError:ZW,spread:VW,toFormData:QW,AxiosHeaders:JW,HttpStatusCode:XW,formToJSON:KW,getAdapter:ej,mergeConfig:tj}=pd,MT=kd(rM()),TT=kd(sM()),RT=25,LT=100,dg={hasNext:!1,hasPrev:!1},PT=100*1024*1024,BT=10,OT=100,zT={created_at:!0,deleted_at:!0,pinned_at:!0,updated_at:!0,command:!0,mentioned_users:!0,quoted_message:!0,latest_reactions:!0,own_reactions:!0,reaction_counts:!0,reply_count:!0,i18n:!0,type:!0,html:!0,__html:!0,user:!0},UT={error:!0},FT=3,WT=1e3;function kw(t,a){t.then().catch(e=>{console.warn(`failed to do ${a}, ran into error: `,e)})}var Pi=t=>new Promise(a=>setTimeout(a,t));function Kg(t){return typeof t=="function"||t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}var Zc={TOKEN_EXPIRED:40,WS_CLOSED_SUCCESS:1e3};function jT(t){return t!==null&&typeof t=="object"&&(t.readable||typeof t._read=="function")}function HT(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function YT(t){return typeof window<"u"&&"File"in window&&t instanceof File}function $T(t){return typeof window<"u"&&"Blob"in window&&t instanceof Blob}function GT(t){return{channel_mutes:!0,devices:!0,mutes:!0,total_unread_count:!0,unread_channels:!0,unread_count:!0,unread_threads:!0,invisible:!0,privacy_settings:!0,roles:!0,push_preferences:!0}[t]}function qT(t,a,e){const n=new TT.default;return jT(t)||HT(t)||YT(t)||$T(t)?a?n.append("file",t,a):n.append("file",t):n.append("file",{uri:t,name:a||t.split("/").reverse()[0],contentType:e,type:e}),n}function ba(t){const a=[],e=Array.isArray(t)?t:[t];for(const n of e){const s=Object.entries(n);s.length>1&&console.warn("client._buildSort() - multiple fields in a single sort object detected. Object's field order is not guaranteed");for(const[l,c]of s)a.push({field:l,direction:c})}return a}function zm(t){const a=Math.min(500+t*2e3,25e3),e=Math.min(Math.max(250,(t-1)*2e3),25e3);return Math.floor(Math.random()*(a-e)+e)}function ml(){return wr()}function zc(t){let a="";for(let e=0;e<t.length;e++)a+=t[e].toString(16).padStart(2,"0");return a}function wr(){const t=QT(16);return t[6]=t[6]&15|64,t[8]=t[8]&191|128,zc(t.subarray(0,4))+"-"+zc(t.subarray(4,6))+"-"+zc(t.subarray(6,8))+"-"+zc(t.subarray(8,10))+"-"+zc(t.subarray(10,16))}function ZT(t){const a=Math.pow(2,8*t.byteLength/t.length);for(let e=0;e<t.length;e++)t[e]=Math.random()*a}var VT=typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)<"u"?crypto.getRandomValues.bind(crypto):typeof msCrypto<"u"?msCrypto.getRandomValues.bind(msCrypto):ZT;function QT(t){const a=new Uint8Array(t);return VT(a),a}function JT(t){const a={};if(!t)return a;try{Object.getOwnPropertyNames(t).forEach(e=>{a[e]=Object.getOwnPropertyDescriptor(t,e)})}catch{return{error:"failed to serialize the error"}}return a}function XT(){const t=typeof navigator<"u"?navigator:typeof window<"u"&&window.navigator?window.navigator:void 0;return t?typeof t.onLine!="boolean"?!0:t.onLine:(console.warn("isOnline failed to access window.navigator and assume browser is online"),!0)}function Aw(t){typeof window<"u"&&window.addEventListener&&(window.addEventListener("offline",t),window.addEventListener("online",t))}function Dw(t){typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("offline",t),window.removeEventListener("online",t))}var KT=t=>{const a=[];for(const e in t)t[e]!==void 0&&(Array.isArray(t[e])||typeof t[e]=="object"?a.push(`${e}=${encodeURIComponent(JSON.stringify(t[e]))}`):a.push(`${e}=${encodeURIComponent(t[e])}`));return a.join("&")};function qa(t){const a=e=>e?{...e,created_at:t.created_at?new Date(t.created_at):new Date,deleted_at:t.deleted_at?new Date(t.deleted_at):null,pinned_at:t.pinned_at?new Date(t.pinned_at):null,reaction_groups:eR(t.reaction_groups,t.reaction_counts,t.reaction_scores),status:t.status||"received",updated_at:t.updated_at?new Date(t.updated_at):new Date}:null;return{...a(t),error:t.error??null,quoted_message:a(t.quoted_message)}}var Mw=t=>{var n;const a={...zT,...UT};return{...Object.fromEntries(Object.entries(t).filter(([s])=>!a[s])),pinned:!!t.pinned_at,mentioned_users:(n=t.mentioned_users)==null?void 0:n.map(s=>typeof s=="string"?s:s.id)}},Tw=({needle:t,sortedArray:a,selectKey:e,selectValueToCompare:n=l=>l,sortDirection:s="ascending"})=>{if(!a.length)return 0;let l=0,c=a.length-1,u=0;const m=()=>{u=Math.round((l+c)/2)},h=n(t);for(;l<=c;){m();const f=n(a[u]);s==="ascending"&&h<f||s==="descending"&&h>=f?c=u-1:l=u+1}if(e){const f=e(t),y=s==="ascending"?-1:1;for(let b=l+y;0<=b&&b<a.length&&n(a[b])===h;b+=y)if(e(a[b])===f)return b}return l};function Rw(t,a,e=!1,n="created_at",s=!0){const l=s||e;let c=[...t];if(e&&(c=c.filter(f=>!(f.id&&a.id===f.id))),c.length===0&&l)return c.concat(a);if(c.length===0)return c;const u=a[n].getTime(),m=c.at(-1)[n].getTime()<u;if(m&&l)return c.concat(a);if(m)return c;const h=Tw({needle:a,sortedArray:c,sortDirection:"ascending",selectValueToCompare:f=>f[n].getTime(),selectKey:f=>f.id});return!e&&a.id&&c[h]&&a.id===c[h].id?(c[h]=a,c):(l&&c.splice(h,0,a),c)}function eR(t,a,e){if(t)return t;if(a&&e){const n={};for(const s of Object.keys(a))n[s]={count:a[s],sum_scores:e[s]};return n}return null}var e0=(t,a=0,{leading:e=!1,trailing:n=!0}={})=>{let s=null,l=null,c;const u=(...m)=>(s?clearTimeout(s):e&&(c=t(...m)),n&&(l=m),s=setTimeout(()=>{l&&(c=t(...l),l=null),s=null},a),c);return u.cancel=()=>{s&&clearTimeout(s)},u.flush=()=>(s&&(clearTimeout(s),s=null,l&&(c=t(...l))),c),u},Lw=(t,a=200,{leading:e=!0,trailing:n=!1}={})=>{let s=null,l=null;return(...c)=>{if(s){n&&(l=c);return}e&&t(...c);const u=()=>{if(l){t(...l),l=null,s=setTimeout(u,a);return}s=null};s=setTimeout(u,a)}},tR=(t,a)=>a.split(".").reduce((e,n)=>{if(e&&typeof e=="object"&&n in e)return e[n]},t),nR=(t,a)=>{if(!Array.isArray(t))return[];const e=new Set;return t.filter(n=>{const s=tR(n,a);return e.has(s)?!1:(e.add(s),!0)})};function aR(t,a){let e=0,n=t.length-1;for(;e<=n;){const s=Math.floor((e+n)/2),l=t[s].created_at;if(!l){e+=1;continue}const c=new Date(l);if(c.getTime()===a.getTime())return s;c.getTime()<a.getTime()?e=s+1:n=s-1}return e}var rR=({parentSet:t,requestedPageSize:a,returnedPage:e,messagePaginationOptions:n})=>{var C,S;const s={...t.pagination};if(!(n!=null&&n.created_at_around))return s;let l,c,u,m;const h=new Date(n.created_at_around),[f,y]=[e[0],e.slice(-1)[0]],b=!!(f!=null&&f.created_at)&&new Date(f.created_at)>h,E=!!(y!=null&&y.created_at)&&new Date(y.created_at)<h,w=a>t.messages.length&&a>e.length,_=(a>t.messages.length||t.messages.length>=e.length)&&a>e.length;if(b)l=!1,u=!0,w&&(c=!1,m=!0);else if(E)c=!1,m=!0,w&&(l=!1,u=!0);else if(_)c=l=!1,u=m=!0;else{const[I,k]=[(f==null?void 0:f.id)&&f.id===((C=t.messages[0])==null?void 0:C.id),(y==null?void 0:y.id)&&y.id===((S=t.messages.slice(-1)[0])==null?void 0:S.id)];u=I,m=k;const N=Math.floor(e.length/2),M=aR(e,h);M!==-1&&(l=N<=M,c=N>=M)}return u&&typeof l<"u"&&(s.hasPrev=l),m&&typeof c<"u"&&(s.hasNext=c),s},sR=({parentSet:t,requestedPageSize:a,returnedPage:e,messagePaginationOptions:n})=>{var C,S;const s={...t.pagination},{id_around:l}=n||{};if(!l)return s;let c,u;const[m,h]=[e[0],e.slice(-1)[0]],[f,y]=[(m==null?void 0:m.id)===((C=t.messages[0])==null?void 0:C.id),(h==null?void 0:h.id)===((S=t.messages.slice(-1)[0])==null?void 0:S.id)];let b=f,E=y;const w=Math.floor(e.length/2);if((a>t.messages.length||t.messages.length>=e.length)&&a>e.length)u=c=!1,b=E=!0;else if(e[w])if(e[w].id===l)c=u=!0;else{let I;const k=[e.slice(0,w),e.slice(w)];c=u=!0;for(let N=0;N<k.length;N++)I=k[N].find(M=>M.id===l),I&&N===0&&(c=!1),I&&N===1&&(u=!1)}else return s;return b&&typeof c<"u"&&(s.hasPrev=c),E&&typeof u<"u"&&(s.hasNext=u),s},iR=({parentSet:t,requestedPageSize:a,returnedPage:e,messagePaginationOptions:n})=>{var C,S;const s={...t.pagination};let l,c;const[u,m]=[e[0],e.slice(-1)[0]],[h,f]=[(u==null?void 0:u.id)&&u.id===((C=t.messages[0])==null?void 0:C.id),(m==null?void 0:m.id)&&m.id===((S=t.messages.slice(-1)[0])==null?void 0:S.id)],y=n&&(n.created_at_after_or_equal||n.created_at_after||n.id_gt||n.id_gte),b=typeof n>"u"?!0:n.created_at_before_or_equal||n.created_at_before||n.id_lt||n.id_lte||n.offset,E=!y&&!b&&!(n!=null&&n.id_around)&&!(n!=null&&n.created_at_around),w=e.length>=a;(typeof b<"u"||E)&&(l=w),typeof y<"u"&&(c=w);const _=e.length===0;return(h||_)&&typeof l<"u"&&(s.hasPrev=l),(f||_)&&typeof c<"u"&&(s.hasNext=c),s},Pw=t=>{var a,e,n;return t.parentSet.messages.length<t.returnedPage.length?((a=t.logger)==null||a.call(t,"error","Corrupted message set state: parent set size < returned page size"),t.parentSet.pagination):(e=t.messagePaginationOptions)!=null&&e.created_at_around?rR(t):(n=t.messagePaginationOptions)!=null&&n.id_around?sR(t):iR(t)},Vu={},ug=async({channel:t,client:a,id:e,members:n,options:s,type:l})=>{if(!t&&!l)throw new Error("Channel or channel type have to be provided to query a channel.");const c=t||a.channel(l,e,{members:n}),u=c.id?c.cid:n&&n.length?V0(c.type,n):void 0;if(!u)throw new Error("Channel ID or channel members array have to be provided to query a channel.");const m=Vu[u];if(m)await m;else try{Vu[u]=c.watch(s),await Vu[u]}finally{delete Vu[u]}return c},V0=(t,a)=>{if(!a)return;const e=[...a].sort().join(",");if(e)return`${t}:!members-${e}`},Um=t=>{if(!t)return!1;const a=t.state.membership;return!!(a!=null&&a.pinned_at)},Qu=t=>{if(!t)return!1;const a=t.state.membership;return!!(a!=null&&a.archived_at)},Ju=t=>t?typeof t.archived=="boolean":!1,Bw=({atIndex:t,sort:a,targetKey:e})=>{if(!a)return null;let n=null;if(Array.isArray(a))n=a[t]??null;else for(const s in a){if(s!==e)return null;n=a;break}return(n==null?void 0:n[e])??null},t0=t=>{const a=oR({sort:t});return typeof a!="number"?!1:Math.abs(a)===1},oR=({sort:t})=>Bw({atIndex:0,sort:t,targetKey:"pinned_at"}),Ow=({channels:t})=>{let a=null;for(const e of t){if(!Um(e))break;typeof a=="number"?a++:a=0}return a},Xu=({channels:t,channelToMove:a,channelToMoveIndexWithinChannels:e,sort:n})=>{const s=e??t.findIndex(y=>y.cid===a.cid),l=s>=0,c=s===0,u=t0(n),m=Um(a);if(c||u&&m)return t;const h=[...t];l&&h.splice(s,1);let f=null;return u&&(f=Ow({channels:h})),h.splice(typeof f=="number"?f+1:0,0,a),h},lR=t=>!!t.getTime,zw=t=>lR(t.created_at),cR=class{constructor(t){var a;this.messageSets=[],this.formatMessage=e=>qa(e),this.setIsUpToDate=e=>{this.isUpToDate=e},this.removeMessageFromArray=(e,n)=>{const s=e.filter(l=>!(l.id&&n.id&&l.id===n.id));return{removed:s.length<e.length,result:s}},this.updateUserMessages=e=>{const n=(s,l)=>{var c;for(let u=0;u<s.length;u++){const m=s[u];((c=m.user)==null?void 0:c.id)===l.id&&(s[u]={...m,user:l})}};this.messageSets.forEach(s=>n(s.messages,e));for(const s in this.threads)n(this.threads[s],e);n(this.pinnedMessages,e)},this.deleteUserMessages=(e,n=!1)=>{const s=(l,c,u=!1)=>{var m;for(let h=0;h<l.length;h++){const f=l[h];((m=f.user)==null?void 0:m.id)===c.id&&(u?l[h]={cid:f.cid,created_at:f.created_at,deleted_at:c.deleted_at,id:f.id,latest_reactions:[],mentioned_users:[],own_reactions:[],parent_id:f.parent_id,reply_count:f.reply_count,status:f.status,thread_participants:f.thread_participants,type:"deleted",updated_at:f.updated_at,user:f.user}:l[h]={...f,type:"deleted",deleted_at:c.deleted_at?new Date(c.deleted_at):null})}};this.messageSets.forEach(l=>s(l.messages,e,n));for(const l in this.threads)s(this.threads[l],e,n);s(this.pinnedMessages,e,n)},this._channel=t,this.watcher_count=0,this.typing={},this.read={},this.initMessages(),this.pinnedMessages=[],this.pending_messages=[],this.threads={},this.mutedUsers=[],this.watchers={},this.members={},this.membership={},this.unreadCount=0,this.isUpToDate=!0,this.last_message_at=((a=t==null?void 0:t.state)==null?void 0:a.last_message_at)!=null?new Date(t.state.last_message_at):null}get messages(){var t;return((t=this.messageSets.find(a=>a.isCurrent))==null?void 0:t.messages)||[]}set messages(t){const a=this.messageSets.findIndex(e=>e.isCurrent);this.messageSets[a].messages=t}get latestMessages(){var t;return((t=this.messageSets.find(a=>a.isLatest))==null?void 0:t.messages)||[]}set latestMessages(t){const a=this.messageSets.findIndex(e=>e.isLatest);this.messageSets[a].messages=t}get messagePagination(){var t;return((t=this.messageSets.find(a=>a.isCurrent))==null?void 0:t.pagination)||dg}addMessageSorted(t,a=!1,e=!0,n="latest"){return this.addMessagesSorted([t],a,!1,e,n)}addMessagesSorted(t,a=!1,e=!1,n=!0,s="current"){var u;const{messagesToAdd:l,targetMessageSetIndex:c}=this.findTargetMessageSet(t,n,s);for(let m=0;m<l.length;m+=1){if(l[m].shadowed)continue;const f=l[m].created_at instanceof Date;let y;f?y=l[m]:(y=this.formatMessage(l[m]),y.user&&((u=this._channel)!=null&&u.cid)&&this._channel.getClient().state.updateUserReference(y.user,this._channel.cid),e&&y.id&&this.threads[y.id]&&delete this.threads[y.id],this.last_message_at||(this.last_message_at=new Date(y.created_at.getTime())),y.created_at.getTime()>this.last_message_at.getTime()&&(this.last_message_at=new Date(y.created_at.getTime())));const b=y.parent_id;if((!b||y.show_in_channel)&&c!==-1&&(this.messageSets[c].messages=this._addToMessageList(this.messageSets[c].messages,y,a,"created_at",n)),b&&!e){const E=this.threads[b]||[];this.threads[b]=this._addToMessageList(E,y,a,"created_at",n)}}return{messageSet:this.messageSets[c]}}addPinnedMessages(t){for(let a=0;a<t.length;a+=1)this.addPinnedMessage(t[a])}addPinnedMessage(t){this.pinnedMessages=this._addToMessageList(this.pinnedMessages,this.formatMessage(t),!1,"pinned_at")}removePinnedMessage(t){const{result:a}=this.removeMessageFromArray(this.pinnedMessages,t);this.pinnedMessages=a}addReaction(t,a,e){const n=a;let s;if(n||(s=this.findMessage(t.message_id)),!n&&!s)return;const l=n??s,c={id:l==null?void 0:l.id,parent_id:l==null?void 0:l.parent_id,pinned:l==null?void 0:l.pinned,show_in_channel:l==null?void 0:l.show_in_channel};return this._updateMessage(c,u=>{if(n){const m={...n};return n.own_reactions=this._addOwnReactionToMessage(u.own_reactions,t,e),m.own_reactions=this._channel.getClient().userID===t.user_id?n.own_reactions:u.own_reactions,this.formatMessage(m)}return s?this._addReactionToState(s,t,e):u}),n??s}_addReactionToState(t,a,e){if(t.reaction_groups||(t.reaction_groups={}),e)for(const u of t.own_reactions??[]){const m=t.reaction_groups[u.type];t.reaction_groups[u.type]={...m,count:m.count-1,sum_scores:m.sum_scores-(u.score??1)},t.reaction_groups[u.type].count<1&&delete t.reaction_groups[u.type]}const s=t.reaction_groups[a.type],l=a.score??1;t.reaction_groups[a.type]=s?{...s,count:s.count+1,sum_scores:s.sum_scores+l,last_reaction_at:a.created_at}:{count:1,first_reaction_at:a.created_at,last_reaction_at:a.created_at,sum_scores:l},t.own_reactions=this._addOwnReactionToMessage(t.own_reactions,a,e);const c=this._channel.getClient().userID;return t.latest_reactions=e?[...(t.latest_reactions||[]).filter(u=>u.user_id!==c),a]:[...t.latest_reactions||[],a],t}_addOwnReactionToMessage(t,a,e){return e?t=[]:t=this._removeOwnReactionFromMessage(t,a),t=t||[],this._channel.getClient().userID===a.user_id&&t.push(a),t}_removeOwnReactionFromMessage(t,a){return t&&t.filter(e=>e.user_id!==a.user_id||e.type!==a.type)}removeReaction(t,a){const e=a;let n;if(e||(n=this.findMessage(t.message_id)),!e&&!n)return;const s=e??n,l={id:s==null?void 0:s.id,parent_id:s==null?void 0:s.parent_id,pinned:s==null?void 0:s.pinned,show_in_channel:s==null?void 0:s.show_in_channel};return this._updateMessage(l,c=>e?(e.own_reactions=this._removeOwnReactionFromMessage(c.own_reactions,t),this.formatMessage(e)):n?this._removeReactionFromState(n,t):c),e}_removeReactionFromState(t,a){var s,l,c,u;const e=(s=t.own_reactions)==null?void 0:s.find(m=>m.type===a.type);if(e&&((l=t.reaction_groups)!=null&&l[e.type])){const m=t.reaction_groups[e.type];t.reaction_groups[e.type]={...m,count:m.count-1,sum_scores:m.sum_scores-(e.score??1)},t.reaction_groups[e.type].count<1&&delete t.reaction_groups[e.type]}t.own_reactions=(c=t.own_reactions)==null?void 0:c.filter(m=>m.type!==a.type);const n=this._channel.getClient().userID;return t.latest_reactions=(u=t.latest_reactions)==null?void 0:u.filter(m=>!(m.user_id===n&&m.type===a.type)),t}_updateQuotedMessageReferences({message:t,remove:a}){const e=s=>{var l,c;return{...s,created_at:s.created_at.toISOString(),pinned_at:(l=s.pinned_at)==null?void 0:l.toISOString(),updated_at:(c=s.updated_at)==null?void 0:c.toISOString()}},n=s=>{const l=s.reduce((c,u)=>(u.quoted_message_id===t.id&&c.push({...e(u),quoted_message:a?{...t,attachments:[]}:t}),c),[]);this.addMessagesSorted(l,!0)};t.parent_id?t.parent_id&&this.threads[t.parent_id]&&n(this.threads[t.parent_id]):this.messageSets.forEach(s=>n(s.messages))}removeQuotedMessageReferences(t){this._updateQuotedMessageReferences({message:t,remove:!0})}_updateMessage(t,a){const{parent_id:e,show_in_channel:n,pinned:s}=t;if(e&&this.threads[e]){const l=this.threads[e],c=l.findIndex(u=>u.id===t.id);c!==-1&&(l[c]=a(l[c]),this.threads[e]=l)}if(!n&&!e||n){const l=this.findMessageSetIndex(t);if(l!==-1){const c=this.messageSets[l].messages.findIndex(u=>u.id===t.id);if(c!==-1){const u=a(this.messageSets[l].messages[c]);this.messageSets[l].messages[c]=u}}}if(s){const l=this.pinnedMessages.findIndex(c=>c.id===t.id);l!==-1&&(this.pinnedMessages[l]=a(this.pinnedMessages[l]))}}_addToMessageList(t,a,e=!1,n="created_at",s=!0){return Rw(t,a,e,n,s)}removeMessage(t){let a=!1;if(t.parent_id&&this.threads[t.parent_id]){const{removed:e,result:n}=this.removeMessageFromArray(this.threads[t.parent_id],t);this.threads[t.parent_id]=n,a=e}else{const e=t.messageSetIndex??this.findMessageSetIndex(t);if(e!==-1){const{removed:n,result:s}=this.removeMessageFromArray(this.messageSets[e].messages,t);this.messageSets[e].messages=s,a=n}}return a}filterErrorMessages(){const t=this.latestMessages.filter(a=>a.type!=="error");this.latestMessages=t}clean(){const t=new Date;for(const[a,e]of Object.entries(this.typing)){const n=typeof e.received_at=="string"?new Date(e.received_at):e.received_at||new Date;t.getTime()-n.getTime()>7e3&&(delete this.typing[a],this._channel.getClient().dispatchEvent({cid:this._channel.cid,type:"typing.stop",user:{id:a}}))}}clearMessages(){this.initMessages(),this.pinnedMessages=[]}initMessages(){this.messageSets=[{messages:[],isLatest:!0,isCurrent:!0,pagination:dg}]}async loadMessageIntoState(t,a,e=25){var u;let n,s=!1,l=!1;const c=a||t;if(t==="latest"){if(this.messages===this.latestMessages)return;n=this.messageSets.findIndex(m=>m.isLatest)}else n=this.findMessageSetIndex({id:c});n!==-1&&(this.switchToMessageSet(n),s=!0),l=!a||!!((u=this.threads[a])!=null&&u.find(m=>m.id===t)),!(s&&l)&&(s||await this._channel.query({messages:{id_around:c,limit:e}},"new"),!l&&a&&await this._channel.getReplies(a,{id_around:t,limit:e}),n=this.findMessageSetIndex({id:c}),n!==-1&&this.switchToMessageSet(n))}findMessage(t,a){if(a){const n=this.threads[a];return n?n.find(s=>s.id===t):void 0}const e=this.findMessageSetIndex({id:t});if(e!==-1)return this.messageSets[e].messages.find(n=>n.id===t)}switchToMessageSet(t){const a=this.messageSets.find(e=>e.isCurrent);a&&(a.isCurrent=!1,this.messageSets[t].isCurrent=!0)}areMessageSetsOverlap(t,a){return t.some(e=>a.find(n=>e.id===n.id))}findMessageSetIndex(t){return this.messageSets.findIndex(a=>!!a.messages.find(e=>e.id===t.id))}findTargetMessageSet(t,a=!0,e="current"){let n=t,s;if(a){const l=this.messageSets.map((m,h)=>h).filter(m=>this.areMessageSetsOverlap(this.messageSets[m].messages,t));switch(e){case"new":l.length>0?s=l[0]:t.some(m=>!m.parent_id)&&(this.messageSets.push({messages:[],isCurrent:!1,isLatest:!1,pagination:dg}),s=this.messageSets.length-1);break;case"current":s=this.messageSets.findIndex(m=>m.isCurrent);break;case"latest":s=this.messageSets.findIndex(m=>m.isLatest);break;default:s=-1}const c=l.splice(0,1)[0],u=[...l];if(c!==void 0&&c!==s&&u.push(s),u.length>0){const m=this.messageSets[c],h=this.messageSets.filter((y,b)=>u.indexOf(b)!==-1);h.forEach(y=>{m.isLatest=m.isLatest||y.isLatest,m.isCurrent=m.isCurrent||y.isCurrent,m.pagination.hasPrev=y.messages[0].created_at<m.messages[0].created_at?y.pagination.hasPrev:m.pagination.hasPrev,m.pagination.hasNext=m.messages.slice(-1)[0].created_at<y.messages.slice(-1)[0].created_at?y.pagination.hasNext:m.pagination.hasNext,n=[...n,...y.messages]}),h.forEach(y=>this.messageSets.splice(this.messageSets.indexOf(y),1)),s=this.messageSets.findIndex(y=>this.areMessageSetsOverlap(y.messages,t))}}else s=this.findMessageSetIndex(t[0]);return{targetMessageSetIndex:s,messagesToAdd:n}}},dR=t=>!!(t!=null&&t.og_scrape_url)||!!(t!=null&&t.title_link),Uw=t=>{var a;return!!((a=t==null?void 0:t.localMetadata)!=null&&a.id)},uR=(t,a=[])=>t.type==="file"||!!(t.mime_type&&a.indexOf(t.mime_type)===-1&&t.type!=="video"),Fw=t=>t.type==="image"&&!dR(t),mR=t=>Fw(t)&&Uw(t),pR=t=>t.type==="audio",fR=t=>t.type==="voiceRecording",hR=(t,a=[])=>t.type==="video"||!!(t.mime_type&&a.indexOf(t.mime_type)!==-1),gR=t=>pR(t)||uR(t)||Fw(t)||hR(t)||fR(t),ym=t=>!!t.lastModified&&!("uri"in t),yR=t=>t==null||typeof t!="object"?!1:typeof FileList<"u"&&t instanceof FileList||"item"in t&&"length"in t&&!Array.isArray(t),bR=t=>t instanceof Blob&&!(t instanceof File),ol=t=>t!==null&&typeof t=="object"&&!ym(t)&&!bR(t)&&typeof t.name=="string"&&typeof t.uri=="string"&&typeof t.size=="number"&&typeof t.type=="string",W2=({blobsArray:t,fileName:a,mimeType:e})=>{const n=new Blob(t,{type:e});return new File([n],a,{type:n.type})},vR=t=>{const a=t.match(/\/([^/;]+)/);return a==null?void 0:a[1]},j2=t=>{const a=vR(t);return`file_${new Date().toISOString()}${a?"."+a:""}`},Uc=t=>{const a=t.type;return a.startsWith("image/")&&!a.endsWith(".photoshop")},xR=t=>t.startsWith("image/")&&!t.endsWith(".photoshop")?"image":t.includes("video/")?"video":t.includes("audio/")?"audio":"file",H2=t=>{if(!t)return null;if(Uw(t))return t;const{localMetadata:a,...e}=t;return{localMetadata:{...a??{},id:(a==null?void 0:a.id)||wr()},...e}},Ww=t=>typeof t=="function",Ia=class{constructor(t){this.value=t,this.handlerSet=new Set,this.next=a=>{const e=Ww(a)?a(this.value):a;if(e===this.value)return;const n=this.value;this.value=e,this.handlerSet.forEach(s=>s(this.value,n))},this.partialNext=a=>this.next(e=>({...e,...a})),this.getLatestValue=()=>this.value,this.subscribe=a=>(a(this.value,void 0),this.handlerSet.add(a),()=>{this.handlerSet.delete(a)}),this.subscribeWithSelector=(a,e)=>{let n;const s=l=>{const c=a(l);let u=typeof n>"u";for(const h in n)if(n[h]!==c[h]){u=!0;break}if(!u)return;const m=n;n=c,e(c,m)};return this.subscribe(s)}}},bo=t=>{if(!t||typeof t!="object"||Array.isArray(t))return!1;const a=Object.getPrototypeOf(t);return a===null||a===Object.prototype?!1:t.constructor&&t.constructor!==Object},n0=(t,a,e=new Set,n=new WeakSet,s=new WeakSet)=>{if(t===a)return!0;if(t==null||a==null)return!1;const l=typeof t;if(l!==typeof a)return!1;if(l!=="object")return t!==t&&a!==a?!0:t===a;const u=t,m=a;if(n.has(u)||s.has(m))return n.has(u)&&s.has(m);if(n.add(u),s.add(m),t instanceof Date&&a instanceof Date)return n.delete(u),s.delete(m),t.getTime()===a.getTime();if(t instanceof RegExp&&a instanceof RegExp)return n.delete(u),s.delete(m),t.toString()===a.toString();if(bo(t)||bo(a))return n.delete(u),s.delete(m),!1;const h=Array.isArray(t),f=Array.isArray(a);if(h!==f)return n.delete(u),s.delete(m),!1;if(h&&f){const C=t,S=a;if(C.length!==S.length)return n.delete(u),s.delete(m),!1;const I=[t,a];if(e.has(I))return n.delete(u),s.delete(m),!0;e.add(I);for(let k=0;k<C.length;k++)if(!n0(C[k],S[k],e,n,s))return e.delete(I),n.delete(u),s.delete(m),!1;return e.delete(I),n.delete(u),s.delete(m),!0}const y=t,b=a,E=Object.keys(y),w=Object.keys(b);if(E.length!==w.length)return n.delete(u),s.delete(m),!1;for(const C of w)if(!Object.prototype.hasOwnProperty.call(y,C))return n.delete(u),s.delete(m),!1;const _=[t,a];if(e.has(_))return n.delete(u),s.delete(m),!0;e.add(_);for(const C of E)if(!n0(y[C],b[C],e,n,s))return e.delete(_),n.delete(u),s.delete(m),!1;return e.delete(_),n.delete(u),s.delete(m),!0};function ER(t,a){const e={children:{}};return jw(t,a,e),Q0(e)}function jw(t,a,e,n,s=new Set,l=new Set){if(n0(t,a,new Set(s)))return;if(t==null){n!==void 0&&(e.children[String(n)]={type:"added",value:a,children:{}});return}if(typeof t=="object"&&t!==null){if(l.has(t)){n!==void 0&&(e.children[String(n)]={type:"circular",value:a,oldValue:t,children:{}});return}l.add(t)}if(typeof t!="object"||typeof a!="object"||t===null||a===null||Array.isArray(t)!==Array.isArray(a)||bo(t)||bo(a)){n!==void 0&&(e.children[String(n)]={type:"updated",value:a,oldValue:t,children:{}}),typeof t=="object"&&t!==null&&l.delete(t);return}const u=t,m=a,h=n!==void 0?{type:"updated",children:{},oldValue:t,value:a}:e;n!==void 0&&(e.children[String(n)]=h);const f=[t,a];if(s.has(f)){typeof t=="object"&&t!==null&&l.delete(t);return}s.add(f);const y=new Set([...Object.keys(u),...Object.getOwnPropertySymbols(u),...Object.keys(m),...Object.getOwnPropertySymbols(m)]);for(const b of y){const E=u[b],w=m[b];if(b in m){if(!(b in u)){h.children[String(b)]={type:"added",value:w,children:{}};continue}jw(E,w,h,b,s,l)}}s.delete(f),typeof t=="object"&&t!==null&&l.delete(t)}function Hw(t={}){const{trackDiff:a=!1}=t;return function({target:n,source:s,customizer:l}){const c=Array.isArray(s)?s:[s],u=a?structuredClone(n):void 0;function m(C,S,I,k,N,M){const R=l==null?void 0:l(C,S,I,k,N,M);return R!==void 0?(Object.defineProperty(k,I,{value:R,enumerable:!0,writable:!0,configurable:!0}),!0):!1}function h(C,S){if(C&&typeof C=="object"){const I=bo(C),k=bo(S);return I||k?k?S:C:Array.isArray(C)?[...C]:{...C}}return Array.isArray(S)?[]:{}}function f(C,S,I,k,N){const M=S[I],R=C[I];if(!m(R,M,I,C,S,k))if(M&&typeof M=="object"){if(!k.has(M)){const $=h(R,M);if(Object.defineProperty(C,I,{value:$,enumerable:!0,writable:!0,configurable:!0}),bo($))return;N.push({target:$,source:M,sourceKey:I,parentTarget:C})}}else M!==void 0&&(C[I]=M)}function y(C,S,I,k){const N=[...Object.keys(S),...Object.getOwnPropertySymbols(S)];for(const M of N)f(C,S,M,I,k)}function b({target:C,source:S,sourceKey:I,parentTarget:k},N,M){if(N.has(S)){a&&I&&k&&Object.defineProperty(k,I,{value:C,enumerable:!0,writable:!0,configurable:!0});return}!N.has(C)&&!N.has(S)&&(N.add(C),N.add(S),y(C,S,N,M),N.delete(S),N.delete(C))}function E(C,S,I=new Set){if(I.has(C)||I.has(S))return{...C};const k={...C},N=[];for(I.add(k),I.add(S),y(k,S,I,N);N.length;)b(N.pop(),I,N);return I.delete(S),I.delete(k),k}const w=c.reduce((C,S)=>E(C,S),{...n}),_=a&&u?ER(u,w):null;return{result:w,diff:_}}}function Q0(t){const a={};let e=!1;for(const n in t.children){const s=Q0(t.children[n]);s&&(a[n]=s,e=!0)}return t.type||e?{...t,children:a}:null}function Fm(t,a,e){return Hw()({target:t,source:a,customizer:e}).result}function Yw(t,a,e){const n=Hw({trackDiff:!0}),{result:s,diff:l}=n({target:t,source:a,customizer:e});return{result:s,diff:Q0(l??{children:{}})||{children:{}}}}var Y2=({message:t})=>{var a;return{attachments:(a=(t==null?void 0:t.attachments)??[])==null?void 0:a.filter(({og_scrape_url:e})=>!e).map(e=>{const n=gR(e)?{id:wr(),uploadState:"finished"}:{id:wr()};return{...e,localMetadata:n}})}},wR=class{constructor({composer:t,message:a}){this.setCustomUploadFn=e=>{this.composer.updateConfig({attachments:{doUploadRequest:e}})},this.initState=({message:e}={})=>{this.state.next(Y2({message:e}))},this.getAttachmentIndex=e=>{const n=this.attachmentsById;return this.attachments.indexOf(n[e])},this.prepareAttachmentUpdate=e=>{const n=this.attachments,s=[...this.attachments],l=this.getAttachmentIndex(e.localMetadata.id);if(l===-1)return null;const c=Yw(n[l],e);if(c.diff&&Object.keys(c.diff.children).length){const m=H2(c.result);if(m)return s.splice(l,1,m),s}return null},this.updateAttachment=e=>{const n=this.prepareAttachmentUpdate(e);n&&this.state.partialNext({attachments:n})},this.upsertAttachments=e=>{if(!e.length)return;let n=[...this.attachments],s=!1;e.forEach(l=>{const c=this.prepareAttachmentUpdate(l);if(c)n=c,s=!0;else{const u=H2(l);u&&(n.push(u),s=!0)}}),s&&this.state.partialNext({attachments:n})},this.removeAttachments=e=>{this.state.partialNext({attachments:this.attachments.filter(n=>{var s;return!e.includes((s=n.localMetadata)==null?void 0:s.id)})})},this.getUploadConfigCheck=async e=>{var E,w;const n=this.channel.getClient();let s;n.appSettingsPromise?s=await n.appSettingsPromise:s=await n.getAppSettings();const l=Uc(e)?(E=s==null?void 0:s.app)==null?void 0:E.image_upload_config:(w=s==null?void 0:s.app)==null?void 0:w.file_upload_config;if(!l)return{uploadBlocked:!1};const{allowed_file_extensions:c,allowed_mime_types:u,blocked_file_extensions:m,blocked_mime_types:h,size_limit:f}=l,y=f||PT,b=e.type;if(ym(e)||ol(e)){if(c!=null&&c.length&&!c.some(_=>e.name.toLowerCase().endsWith(_.toLowerCase())))return{uploadBlocked:!0,reason:"allowed_file_extensions"};if(m!=null&&m.length&&m.some(_=>e.name.toLowerCase().endsWith(_.toLowerCase())))return{uploadBlocked:!0,reason:"blocked_file_extensions"}}return u!=null&&u.length&&!u.some(_=>_.toLowerCase()===(b==null?void 0:b.toLowerCase()))?{uploadBlocked:!0,reason:"allowed_mime_types"}:h!=null&&h.length&&h.some(_=>_.toLowerCase()===(b==null?void 0:b.toLowerCase()))?{uploadBlocked:!0,reason:"blocked_mime_types"}:e.size&&e.size>y?{uploadBlocked:!0,reason:"size_limit"}:{uploadBlocked:!1}},this.fileToLocalUploadAttachment=async e=>{var c;const n=ol(e)||ym(e)?e:W2({blobsArray:[e],fileName:j2(e.type),mimeType:e.type}),s=await this.getUploadConfigCheck(n),l={file_size:n.size,mime_type:n.type,localMetadata:{file:n,id:wr(),uploadPermissionCheck:s,uploadState:s.uploadBlocked?"blocked":"pending"},type:xR(n.type)};return l[Uc(n)?"fallback":"title"]=n.name,Uc(n)&&(l.localMetadata.previewUri=ol(e)?e.uri:(c=URL.createObjectURL)==null?void 0:c.call(URL,e),ol(e)&&e.height&&e.width&&(l.original_height=e.height,l.original_width=e.width)),ol(e)&&e.thumb_url&&(l.thumb_url=e.thumb_url),l},this.ensureLocalUploadAttachment=async e=>{var s;if(!((s=e.localMetadata)!=null&&s.file)||!e.localMetadata.id){this.client.notifications.addError({message:"File is required for upload attachment",origin:{emitter:"AttachmentManager",context:{attachment:e}}});return}if(!this.fileUploadFilter(e))return;const n=await this.fileToLocalUploadAttachment(e.localMetadata.file);return e.localMetadata.id&&(n.localMetadata.id=e.localMetadata.id),n},this.doDefaultUploadRequest=async e=>{if(ol(e))return this.channel[Uc(e)?"sendImage":"sendFile"](e.uri,e.name,e.type);const n=ym(e)?e:W2({blobsArray:[e],fileName:j2(e.type),mimeType:e.type}),{duration:s,...l}=await this.channel[Uc(e)?"sendImage":"sendFile"](n);return l},this.doUploadRequest=async e=>{const n=this.config.doUploadRequest;return n?await n(e):this.doDefaultUploadRequest(e)},this.uploadAttachment=async e=>{if(!this.isUploadEnabled)return;const n=await this.ensureLocalUploadAttachment(e);if(typeof n>"u")return;if(n.localMetadata.uploadState==="blocked")return this.upsertAttachments([n]),this.client.notifications.addError({message:"Error uploading attachment",origin:{emitter:"AttachmentManager",context:{attachment:e}}}),n;this.upsertAttachments([{...e,localMetadata:{...e.localMetadata,uploadState:"uploading"}}]);let s;try{s=await this.doUploadRequest(n.localMetadata.file)}catch(c){let u={message:"Error uploading attachment",name:"Error"};typeof c.message=="string"?u=c:typeof c=="object"&&(u=Object.assign(u,c)),this.client.notifications.addError({message:u.message,origin:{emitter:"AttachmentManager",context:{attachment:e}}});const m={...e,localMetadata:{...e.localMetadata,uploadState:"failed"}};return this.updateAttachment(m),m}if(!s){this.removeAttachments([e.localMetadata.id]);return}const l={...e,localMetadata:{...e.localMetadata,uploadState:"finished"}};return mR(l)?(l.localMetadata.previewUri&&(URL.revokeObjectURL(l.localMetadata.previewUri),delete l.localMetadata.previewUri),l.image_url=s.file):l.asset_url=s.file,s.thumb_url&&(l.thumb_url=s.thumb_url),this.updateAttachment(l),l},this.uploadFiles=async e=>{if(!this.isUploadEnabled)return;const n=yR(e)?Array.from(e):e,s=await Promise.all(n.map(this.fileToLocalUploadAttachment));return Promise.all(s.filter(this.fileUploadFilter).slice(0,this.availableUploadSlots).map(this.uploadAttachment))},this.composer=t,this.state=new Ia(Y2({message:a})),this.attachmentsByIdGetterCache={attachmentsById:{},attachments:[]}}get attachmentsById(){const{attachments:t}=this.state.getLatestValue();return t!==this.attachmentsByIdGetterCache.attachments&&(this.attachmentsByIdGetterCache.attachments=t,this.attachmentsByIdGetterCache.attachmentsById=t.reduce((a,e)=>{var n;return e.localMetadata.id&&(a[n=e.localMetadata.id]??(a[n]=e)),a},{})),this.attachmentsByIdGetterCache.attachmentsById}get client(){return this.composer.client}get channel(){return this.composer.channel}get config(){return this.composer.config.attachments}get acceptedFiles(){return this.config.acceptedFiles}set acceptedFiles(t){this.composer.updateConfig({attachments:{acceptedFiles:t}})}get fileUploadFilter(){return this.config.fileUploadFilter}set fileUploadFilter(t){this.composer.updateConfig({attachments:{fileUploadFilter:t}})}get maxNumberOfFilesPerMessage(){return this.config.maxNumberOfFilesPerMessage}set maxNumberOfFilesPerMessage(t){t!==this.maxNumberOfFilesPerMessage&&this.composer.updateConfig({attachments:{maxNumberOfFilesPerMessage:t}})}get attachments(){return this.state.getLatestValue().attachments}get hasUploadPermission(){var t,a;return!!((a=(t=this.channel.data)==null?void 0:t.own_capabilities)!=null&&a.includes("upload-file"))}get isUploadEnabled(){return this.hasUploadPermission&&this.availableUploadSlots>0}get successfulUploads(){return this.getUploadsByState("finished")}get successfulUploadsCount(){return this.successfulUploads.length}get uploadsInProgressCount(){return this.getUploadsByState("uploading").length}get failedUploadsCount(){return this.getUploadsByState("failed").length}get blockedUploadsCount(){return this.getUploadsByState("blocked").length}get pendingUploadsCount(){return this.getUploadsByState("pending").length}get availableUploadSlots(){return this.config.maxNumberOfFilesPerMessage-this.successfulUploadsCount-this.uploadsInProgressCount}getUploadsByState(t){return Object.values(this.attachments).filter(({localMetadata:a})=>a.uploadState===t)}},SR="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",CR="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Nl=(t,a)=>{for(const e in a)t[e]=a[e];return t},a0="numeric",r0="ascii",s0="alpha",Jc="asciinumeric",Vc="alphanumeric",i0="domain",$w="emoji",_R="scheme",IR="slashscheme",mg="whitespace";function NR(t,a){return t in a||(a[t]=[]),a[t]}function po(t,a,e){a[a0]&&(a[Jc]=!0,a[Vc]=!0),a[r0]&&(a[Jc]=!0,a[s0]=!0),a[Jc]&&(a[Vc]=!0),a[s0]&&(a[Vc]=!0),a[Vc]&&(a[i0]=!0),a[$w]&&(a[i0]=!0);for(const n in a){const s=NR(n,e);s.indexOf(t)<0&&s.push(t)}}function kR(t,a){const e={};for(const n in a)a[n].indexOf(t)>=0&&(e[n]=!0);return e}function Za(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Za.groups={};Za.prototype={accepts(){return!!this.t},go(t){const a=this,e=a.j[t];if(e)return e;for(let n=0;n<a.jr.length;n++){const s=a.jr[n][0],l=a.jr[n][1];if(l&&s.test(t))return l}return a.jd},has(t,a=!1){return a?t in this.j:!!this.go(t)},ta(t,a,e,n){for(let s=0;s<t.length;s++)this.tt(t[s],a,e,n)},tr(t,a,e,n){n=n||Za.groups;let s;return a&&a.j?s=a:(s=new Za(a),e&&n&&po(a,e,n)),this.jr.push([t,s]),s},ts(t,a,e,n){let s=this;const l=t.length;if(!l)return s;for(let c=0;c<l-1;c++)s=s.tt(t[c]);return s.tt(t[l-1],a,e,n)},tt(t,a,e,n){n=n||Za.groups;const s=this;if(a&&a.j)return s.j[t]=a,a;const l=a;let c,u=s.go(t);if(u?(c=new Za,Nl(c.j,u.j),c.jr.push.apply(c.jr,u.jr),c.jd=u.jd,c.t=u.t):c=new Za,l){if(n)if(c.t&&typeof c.t=="string"){const m=Nl(kR(c.t,n),e);po(l,m,n)}else e&&po(l,e,n);c.t=l}return s.j[t]=c,c}};var bt=(t,a,e,n,s)=>t.ta(a,e,n,s),Nn=(t,a,e,n,s)=>t.tr(a,e,n,s),$2=(t,a,e,n,s)=>t.ts(a,e,n,s),Ne=(t,a,e,n,s)=>t.tt(a,e,n,s),Ls="WORD",o0="UWORD",Gw="ASCIINUMERICAL",qw="ALPHANUMERICAL",fd="LOCALHOST",l0="TLD",c0="UTLD",bm="SCHEME",dl="SLASH_SCHEME",J0="NUM",d0="WS",X0="NL",Xc="OPENBRACE",Kc="CLOSEBRACE",Wm="OPENBRACKET",jm="CLOSEBRACKET",Hm="OPENPAREN",Ym="CLOSEPAREN",$m="OPENANGLEBRACKET",Gm="CLOSEANGLEBRACKET",qm="FULLWIDTHLEFTPAREN",Zm="FULLWIDTHRIGHTPAREN",Vm="LEFTCORNERBRACKET",Qm="RIGHTCORNERBRACKET",Jm="LEFTWHITECORNERBRACKET",Xm="RIGHTWHITECORNERBRACKET",Km="FULLWIDTHLESSTHAN",ep="FULLWIDTHGREATERTHAN",tp="AMPERSAND",K0="APOSTROPHE",np="ASTERISK",Di="AT",ap="BACKSLASH",rp="BACKTICK",sp="CARET",Mi="COLON",ey="COMMA",ip="DOLLAR",Gr="DOT",op="EQUALS",ty="EXCLAMATION",fr="HYPHEN",ed="PERCENT",lp="PIPE",cp="PLUS",dp="POUND",td="QUERY",ny="QUOTE",Zw="FULLWIDTHMIDDLEDOT",ay="SEMI",qr="SLASH",nd="TILDE",up="UNDERSCORE",Vw="EMOJI",mp="SYM",Qw=Object.freeze({__proto__:null,WORD:Ls,UWORD:o0,ASCIINUMERICAL:Gw,ALPHANUMERICAL:qw,LOCALHOST:fd,TLD:l0,UTLD:c0,SCHEME:bm,SLASH_SCHEME:dl,NUM:J0,WS:d0,NL:X0,OPENBRACE:Xc,CLOSEBRACE:Kc,OPENBRACKET:Wm,CLOSEBRACKET:jm,OPENPAREN:Hm,CLOSEPAREN:Ym,OPENANGLEBRACKET:$m,CLOSEANGLEBRACKET:Gm,FULLWIDTHLEFTPAREN:qm,FULLWIDTHRIGHTPAREN:Zm,LEFTCORNERBRACKET:Vm,RIGHTCORNERBRACKET:Qm,LEFTWHITECORNERBRACKET:Jm,RIGHTWHITECORNERBRACKET:Xm,FULLWIDTHLESSTHAN:Km,FULLWIDTHGREATERTHAN:ep,AMPERSAND:tp,APOSTROPHE:K0,ASTERISK:np,AT:Di,BACKSLASH:ap,BACKTICK:rp,CARET:sp,COLON:Mi,COMMA:ey,DOLLAR:ip,DOT:Gr,EQUALS:op,EXCLAMATION:ty,HYPHEN:fr,PERCENT:ed,PIPE:lp,PLUS:cp,POUND:dp,QUERY:td,QUOTE:ny,FULLWIDTHMIDDLEDOT:Zw,SEMI:ay,SLASH:qr,TILDE:nd,UNDERSCORE:up,EMOJI:Vw,SYM:mp}),Ms=/[a-z]/,Fc=new RegExp("\\p{L}","u"),pg=new RegExp("\\p{Emoji}","u"),Ts=/\d/,fg=/\s/,G2="\r",hg=`
`,AR="️",DR="‍",gg="￼",Ku=null,em=null;function MR(t=[]){const a={};Za.groups=a;const e=new Za;Ku==null&&(Ku=q2(SR)),em==null&&(em=q2(CR)),Ne(e,"'",K0),Ne(e,"{",Xc),Ne(e,"}",Kc),Ne(e,"[",Wm),Ne(e,"]",jm),Ne(e,"(",Hm),Ne(e,")",Ym),Ne(e,"<",$m),Ne(e,">",Gm),Ne(e,"（",qm),Ne(e,"）",Zm),Ne(e,"「",Vm),Ne(e,"」",Qm),Ne(e,"『",Jm),Ne(e,"』",Xm),Ne(e,"＜",Km),Ne(e,"＞",ep),Ne(e,"&",tp),Ne(e,"*",np),Ne(e,"@",Di),Ne(e,"`",rp),Ne(e,"^",sp),Ne(e,":",Mi),Ne(e,",",ey),Ne(e,"$",ip),Ne(e,".",Gr),Ne(e,"=",op),Ne(e,"!",ty),Ne(e,"-",fr),Ne(e,"%",ed),Ne(e,"|",lp),Ne(e,"+",cp),Ne(e,"#",dp),Ne(e,"?",td),Ne(e,'"',ny),Ne(e,"/",qr),Ne(e,";",ay),Ne(e,"~",nd),Ne(e,"_",up),Ne(e,"\\",ap),Ne(e,"・",Zw);const n=Nn(e,Ts,J0,{[a0]:!0});Nn(n,Ts,n);const s=Nn(n,Ms,Gw,{[Jc]:!0}),l=Nn(n,Fc,qw,{[Vc]:!0}),c=Nn(e,Ms,Ls,{[r0]:!0});Nn(c,Ts,s),Nn(c,Ms,c),Nn(s,Ts,s),Nn(s,Ms,s);const u=Nn(e,Fc,o0,{[s0]:!0});Nn(u,Ms),Nn(u,Ts,l),Nn(u,Fc,u),Nn(l,Ts,l),Nn(l,Ms),Nn(l,Fc,l);const m=Ne(e,hg,X0,{[mg]:!0}),h=Ne(e,G2,d0,{[mg]:!0}),f=Nn(e,fg,d0,{[mg]:!0});Ne(e,gg,f),Ne(h,hg,m),Ne(h,gg,f),Nn(h,fg,f),Ne(f,G2),Ne(f,hg),Nn(f,fg,f),Ne(f,gg,f);const y=Nn(e,pg,Vw,{[$w]:!0});Ne(y,"#"),Nn(y,pg,y),Ne(y,AR,y);const b=Ne(y,DR);Ne(b,"#"),Nn(b,pg,y);const E=[[Ms,c],[Ts,s]],w=[[Ms,null],[Fc,u],[Ts,l]];for(let _=0;_<Ku.length;_++)Ci(e,Ku[_],l0,Ls,E);for(let _=0;_<em.length;_++)Ci(e,em[_],c0,o0,w);po(l0,{tld:!0,ascii:!0},a),po(c0,{utld:!0,alpha:!0},a),Ci(e,"file",bm,Ls,E),Ci(e,"mailto",bm,Ls,E),Ci(e,"http",dl,Ls,E),Ci(e,"https",dl,Ls,E),Ci(e,"ftp",dl,Ls,E),Ci(e,"ftps",dl,Ls,E),po(bm,{scheme:!0,ascii:!0},a),po(dl,{slashscheme:!0,ascii:!0},a),t=t.sort((_,C)=>_[0]>C[0]?1:-1);for(let _=0;_<t.length;_++){const C=t[_][0],I=t[_][1]?{[_R]:!0}:{[IR]:!0};C.indexOf("-")>=0?I[i0]=!0:Ms.test(C)?Ts.test(C)?I[Jc]=!0:I[r0]=!0:I[a0]=!0,$2(e,C,C,I)}return $2(e,"localhost",fd,{ascii:!0}),e.jd=new Za(mp),{start:e,tokens:Nl({groups:a},Qw)}}function Jw(t,a){const e=TR(a.replace(/[A-Z]/g,u=>u.toLowerCase())),n=e.length,s=[];let l=0,c=0;for(;c<n;){let u=t,m=null,h=0,f=null,y=-1,b=-1;for(;c<n&&(m=u.go(e[c]));)u=m,u.accepts()?(y=0,b=0,f=u):y>=0&&(y+=e[c].length,b++),h+=e[c].length,l+=e[c].length,c++;l-=y,c-=b,h-=y,s.push({t:f.t,v:a.slice(l-h,l),s:l-h,e:l})}return s}function TR(t){const a=[],e=t.length;let n=0;for(;n<e;){let s=t.charCodeAt(n),l,c=s<55296||s>56319||n+1===e||(l=t.charCodeAt(n+1))<56320||l>57343?t[n]:t.slice(n,n+2);a.push(c),n+=c.length}return a}function Ci(t,a,e,n,s){let l;const c=a.length;for(let u=0;u<c-1;u++){const m=a[u];t.j[m]?l=t.j[m]:(l=new Za(n),l.jr=s.slice(),t.j[m]=l),t=l}return l=new Za(e),l.jr=s.slice(),t.j[a[c-1]]=l,l}function q2(t){const a=[],e=[];let n=0,s="0123456789";for(;n<t.length;){let l=0;for(;s.indexOf(t[n+l])>=0;)l++;if(l>0){a.push(e.join(""));for(let c=parseInt(t.substring(n,n+l),10);c>0;c--)e.pop();n+=l}else e.push(t[n]),n++}return a}var hd={defaultProtocol:"http",events:null,format:Z2,formatHref:Z2,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ry(t,a=null){let e=Nl({},hd);t&&(e=Nl(e,t instanceof ry?t.o:t));const n=e.ignoreTags,s=[];for(let l=0;l<n.length;l++)s.push(n[l].toUpperCase());this.o=e,a&&(this.defaultRender=a),this.ignoreTags=s}ry.prototype={o:hd,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,a,e){const n=a!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=e.t in s?s[e.t]:hd[t],typeof s=="function"&&n&&(s=s(a,e))):typeof s=="function"&&n&&(s=s(a,e.t,e)),s)},getObj(t,a,e){let n=this.o[t];return typeof n=="function"&&a!=null&&(n=n(a,e.t,e)),n},render(t){const a=t.render(this);return(this.get("render",null,t)||this.defaultRender)(a,t.t,t)}};function Z2(t){return t}function Xw(t,a){this.t="token",this.v=t,this.tk=a}Xw.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const a=this.toString(),e=t.get("truncate",a,this),n=t.get("format",a,this);return e&&n.length>e?n.substring(0,e)+"…":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=hd.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const a=this,e=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",e,this),s=t.get("tagName",e,a),l=this.toFormattedString(t),c={},u=t.get("className",e,a),m=t.get("target",e,a),h=t.get("rel",e,a),f=t.getObj("attributes",e,a),y=t.getObj("events",e,a);return c.href=n,u&&(c.class=u),m&&(c.target=m),h&&(c.rel=h),f&&Nl(c,f),{tagName:s,attributes:c,content:l,eventListeners:y}}};function Fp(t,a){class e extends Xw{constructor(s,l){super(s,l),this.t=t}}for(const n in a)e.prototype[n]=a[n];return e.t=t,e}var V2=Fp("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Q2=Fp("text"),RR=Fp("nl"),tm=Fp("url",{isLink:!0,toHref(t=hd.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==fd&&t[1].t===Mi}}),dr=t=>new Za(t);function LR({groups:t}){const a=t.domain.concat([tp,np,Di,ap,rp,sp,ip,op,fr,J0,ed,lp,cp,dp,qr,mp,nd,up]),e=[Mi,ey,Gr,ty,ed,td,ny,ay,$m,Gm,Xc,Kc,jm,Wm,Hm,Ym,qm,Zm,Vm,Qm,Jm,Xm,Km,ep],n=[tp,K0,np,ap,rp,sp,ip,op,fr,Xc,Kc,ed,lp,cp,dp,td,qr,mp,nd,up],s=dr(),l=Ne(s,nd);bt(l,n,l),bt(l,t.domain,l);const c=dr(),u=dr(),m=dr();bt(s,t.domain,c),bt(s,t.scheme,u),bt(s,t.slashscheme,m),bt(c,n,l),bt(c,t.domain,c);const h=Ne(c,Di);Ne(l,Di,h),Ne(u,Di,h),Ne(m,Di,h);const f=Ne(l,Gr);bt(f,n,l),bt(f,t.domain,l);const y=dr();bt(h,t.domain,y),bt(y,t.domain,y);const b=Ne(y,Gr);bt(b,t.domain,y);const E=dr(V2);bt(b,t.tld,E),bt(b,t.utld,E),Ne(h,fd,E);const w=Ne(y,fr);Ne(w,fr,w),bt(w,t.domain,y),bt(E,t.domain,y),Ne(E,Gr,b),Ne(E,fr,w);const _=Ne(E,Mi);bt(_,t.numeric,V2);const C=Ne(c,fr),S=Ne(c,Gr);Ne(C,fr,C),bt(C,t.domain,c),bt(S,n,l),bt(S,t.domain,c);const I=dr(tm);bt(S,t.tld,I),bt(S,t.utld,I),bt(I,t.domain,c),bt(I,n,l),Ne(I,Gr,S),Ne(I,fr,C),Ne(I,Di,h);const k=Ne(I,Mi),N=dr(tm);bt(k,t.numeric,N);const M=dr(tm),R=dr();bt(M,a,M),bt(M,e,R),bt(R,a,M),bt(R,e,R),Ne(I,qr,M),Ne(N,qr,M);const $=Ne(u,Mi),z=Ne(m,Mi),Y=Ne(z,qr),J=Ne(Y,qr);bt(u,t.domain,c),Ne(u,Gr,S),Ne(u,fr,C),bt(m,t.domain,c),Ne(m,Gr,S),Ne(m,fr,C),bt($,t.domain,M),Ne($,qr,M),Ne($,td,M),bt(J,t.domain,M),bt(J,a,M),Ne(J,qr,M);const ae=[[Xc,Kc],[Wm,jm],[Hm,Ym],[$m,Gm],[qm,Zm],[Vm,Qm],[Jm,Xm],[Km,ep]];for(let H=0;H<ae.length;H++){const[Z,O]=ae[H],L=Ne(M,Z);Ne(R,Z,L),Ne(L,O,M);const A=dr(tm);bt(L,a,A);const U=dr();bt(L,e),bt(A,a,A),bt(A,e,U),bt(U,a,A),bt(U,e,U),Ne(A,O,M),Ne(U,O,M)}return Ne(s,fd,I),Ne(s,X0,RR),{start:s,tokens:Qw}}function PR(t,a,e){let n=e.length,s=0,l=[],c=[];for(;s<n;){let u=t,m=null,h=null,f=0,y=null,b=-1;for(;s<n&&!(m=u.go(e[s].t));)c.push(e[s++]);for(;s<n&&(h=m||u.go(e[s].t));)m=null,u=h,u.accepts()?(b=0,y=u):b>=0&&b++,s++,f++;if(b<0)s-=f,s<n&&(c.push(e[s]),s++);else{c.length>0&&(l.push(yg(Q2,a,c)),c=[]),s-=b,f-=b;const E=y.t,w=e.slice(s-f,s);l.push(yg(E,a,w))}}return c.length>0&&l.push(yg(Q2,a,c)),l}function yg(t,a,e){const n=e[0].s,s=e[e.length-1].e,l=a.slice(n,s);return new t(l,e)}var ya={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function BR(){ya.scanner=MR(ya.customSchemes);for(let t=0;t<ya.tokenQueue.length;t++)ya.tokenQueue[t][1]({scanner:ya.scanner});ya.parser=LR(ya.scanner.tokens);for(let t=0;t<ya.pluginQueue.length;t++)ya.pluginQueue[t][1]({scanner:ya.scanner,parser:ya.parser});return ya.initialized=!0,ya}function Kw(t){return ya.initialized||BR(),PR(ya.parser.start,t,Jw(ya.scanner.start,t))}Kw.scan=Jw;function OR(t,a=null,e=null){if(a&&typeof a=="object"){if(e)throw Error(`linkifyjs: Invalid link type ${a}; must be a string`);e=a,a=null}const n=new ry(e),s=Kw(t),l=[];for(let c=0;c<s.length;c++){const u=s[c];u.isLink&&(!a||u.t===a)&&n.check(u)&&l.push(u.toFormattedObject(n))}return l}var zR={debounceURLEnrichmentMs:1500,enabled:!1,findURLFn:t=>OR(t,"url",{defaultProtocol:"https"}).reduce((a,e)=>{try{const n=new URL(e.href);e.isLink&&/^[a-zA-Z0-9-.]+\.[a-zA-Z]{2,}$/.test(n.hostname)&&a.push(e.href)}catch{}return a},[])},UR={acceptedFiles:[],fileUploadFilter:()=>!0,maxNumberOfFilesPerMessage:BT},FR={enabled:!0,publishTypingEvents:!0},WR={attachments:UR,drafts:{enabled:!1},linkPreviews:zR,text:FR},J2=t=>t?{message:{},custom:{}}:{message:{},custom:{}},jR=class{constructor({composer:t,message:a}){this.isMessageDataEqual=(e,n)=>JSON.stringify(e.message)===JSON.stringify(n==null?void 0:n.message),this.initState=({message:e}={})=>{this.state.next(J2({composer:this.composer}))},this.composer=t,this.state=new Ia(J2({}))}get customMessageData(){return this.state.getLatestValue().message}get customComposerData(){return this.state.getLatestValue().custom}setMessageData(t){this.state.partialNext({message:{...this.state.getLatestValue().message,...t}})}setCustomData(t){this.state.partialNext({custom:{...this.state.getLatestValue().custom,...t}})}},HR=t=>new Map(t.map(a=>[a.og_scrape_url,a])),X2=({message:t})=>{var a;return t?{previews:((a=t.attachments)==null?void 0:a.reduce((e,n)=>(n.og_scrape_url&&e.set(n.og_scrape_url,{...n,status:"loaded"}),e),new Map))??new Map}:{previews:new Map}},_o=class oo{constructor({composer:a,message:e}){this.shouldDiscardEnrichQueries=!1,this.initState=({message:n}={})=>{this.state.next(X2({message:this.enabled?n:void 0}))},this._findAndEnrichUrls=async n=>{if(!this.enabled)return;const s=this.config.findURLFn(n);if(this.shouldDiscardEnrichQueries=!s.length,this.shouldDiscardEnrichQueries){this.state.next({previews:new Map});return}const l=new Map(Array.from(this.previews).filter(([u])=>s.includes(u)||s.includes(u+"/"))),c=s.filter(u=>{const m=this.previews;return!(m.get(u)||m.get(u+"/"))}).map(u=>({og_scrape_url:u.trim(),status:"loading"}));c.length&&(this.state.partialNext({previews:new Map([...l,...HR(c)])}),await Promise.all(c.map(async u=>{try{const{duration:m,...h}=await this.client.enrichURL(u.og_scrape_url);if(this.shouldDiscardEnrichQueries)return;this.previews.has(u.og_scrape_url)&&this.updatePreview(u.og_scrape_url,{status:"loaded",...h})}catch{this.previews.has(u.og_scrape_url)&&this.updatePreview(u.og_scrape_url,{status:"failed"})}return u})))},this.cancelURLEnrichment=()=>{this.findAndEnrichUrls.cancel(),this.findAndEnrichUrls.flush()},this.clearPreviews=()=>{const n=this.previews,s=new Map;n.forEach((l,c)=>{oo.previewIsDismissed(l)&&s.set(c,l)}),this.state.partialNext({previews:s})},this.updatePreview=(n,s)=>{var m;if(!n)return;const l=this.previews.get(n),c=s.status??((m=this.previews.get(n))==null?void 0:m.status)??"pending";let u=s;if(l){const h=Yw(l,s);if(!h.diff||Object.keys(h.diff).length===0)return;u=h.result}this.state.partialNext({previews:new Map(this.previews).set(n,{...u,og_scrape_url:n,status:c})})},this.dismissPreview=n=>{var l;const s=this.previews.get(n);s&&((l=this.onLinkPreviewDismissed)==null||l.call(this,s),this.updatePreview(n,{status:"dismissed"}))},this.composer=a,this.state=new Ia(X2({message:this.enabled?e:void 0})),this.findAndEnrichUrls=e0(this._findAndEnrichUrls.bind(this),this.config.debounceURLEnrichmentMs)}get client(){return this.composer.client}get channel(){return this.composer.channel}get previews(){return this.state.getLatestValue().previews}get loadingPreviews(){return Array.from(this.previews.values()).filter(a=>oo.previewIsLoading(a))}get loadedPreviews(){return Array.from(this.previews.values()).filter(a=>oo.previewIsLoaded(a))}get dismissedPreviews(){return Array.from(this.previews.values()).filter(a=>oo.previewIsDismissed(a))}get failedPreviews(){return Array.from(this.previews.values()).filter(a=>oo.previewIsFailed(a))}get pendingPreviews(){return Array.from(this.previews.values()).filter(a=>oo.previewIsPending(a))}get config(){return this.composer.config.linkPreviews}get debounceURLEnrichmentMs(){return this.config.debounceURLEnrichmentMs}set debounceURLEnrichmentMs(a){this.cancelURLEnrichment(),this.findAndEnrichUrls=e0(this._findAndEnrichUrls.bind(this),this.config.debounceURLEnrichmentMs),this.composer.updateConfig({linkPreviews:{debounceURLEnrichmentMs:a}})}get enabled(){var a;return!!((a=this.channel.getConfig())!=null&&a.url_enrichment)&&this.composer.config.linkPreviews.enabled}set enabled(a){a!==this.enabled&&this.composer.updateConfig({linkPreviews:{enabled:a}})}get findURLFn(){return this.config.findURLFn}set findURLFn(a){this.composer.updateConfig({linkPreviews:{findURLFn:a}})}get onLinkPreviewDismissed(){return this.config.onLinkPreviewDismissed}set onLinkPreviewDismissed(a){this.composer.updateConfig({linkPreviews:{onLinkPreviewDismissed:a}})}};_o.previewIsLoading=t=>t.status==="loading";_o.previewIsLoaded=t=>t.status==="loaded";_o.previewIsDismissed=t=>t.status==="dismissed";_o.previewIsFailed=t=>t.status==="failed";_o.previewIsPending=t=>t.status==="pending";_o.getPreviewData=t=>{const{status:a,...e}=t;return e};var sy=_o,YR=$R(GR),u0=new Map;function $R(t){return function(e,n){const{cb:s,onContinued:l}=t(e,n),c=u0.get(e);c==null||c.onContinued();const u=c?c.promise.then(s,s):s();return u0.set(e,{promise:u,onContinued:l}),u}}function GR(t,a){const e=new AbortController;return{cb:()=>e.signal.aborted?Promise.resolve("canceled"):a(e.signal).finally(()=>{e.signal.aborted||u0.delete(t)}),onContinued:()=>e.abort()}}var Dd=class{constructor(){this.middleware=[],this.id=wr()}use(t){return this.middleware=this.middleware.concat(t),this}replace(t){const a=[...this.middleware];return t.forEach(e=>{const n=this.middleware.findIndex(s=>s.id===e.id);n>=0?a.splice(n,1,e):a.push(e)}),this.middleware=a,this}insert({middleware:t,position:a,unique:e}){e&&t.forEach(c=>{const u=this.middleware.findIndex(m=>m.id===c.id);u>=0&&this.middleware.splice(u,1)});const n=a.after||a.before,s=this.middleware.findIndex(c=>c.id===n),l=a.after?s+1:s;return this.middleware.splice(l,0,...t),this}setOrder(t){this.middleware=t.map(a=>this.middleware.find(e=>e.id===a)).filter(Boolean)}async executeMiddlewareChain({eventName:t,initialValue:a}){let e=-1;const n=async(l,c,u)=>{if(l<=e)throw new Error("next() called multiple times");if(e=l,l===this.middleware.length||u&&["complete","discard"].includes(u))return{state:c,status:u};const f=this.middleware[l].handlers[t];return f?await f({state:c,next:_=>n(l+1,_),complete:_=>n(l+1,_,"complete"),discard:()=>n(l+1,c,"discard"),forward:()=>n(l+1,c)}):n(l+1,c,u)},s=await YR(`middleware-execution-${this.id}-${t}`,async l=>{const c=await n(0,a);return l.aborted?"canceled":c});return s==="canceled"?{state:a,status:"discard"}:s}async execute({eventName:t,initialValue:a}){return await this.executeMiddlewareChain({eventName:t,initialValue:a})}},iy=/^([2-9]|10)$/,qR=100,K2=t=>!t.trim(),ad={enforce_unique_vote:()=>({max_votes_allowed:void 0}),max_votes_allowed:({data:t,value:a})=>t.enforce_unique_vote&&a?{max_votes_allowed:"Enforce unique vote is enabled"}:!a.match(/^[0-9]+$/)&&a?{max_votes_allowed:"Only numbers are allowed"}:(a==null?void 0:a.length)>1&&!a.match(iy)?{max_votes_allowed:"Type a number from 2 to 10"}:{max_votes_allowed:void 0},options:({value:t})=>{const a={},e=new Set;return t.forEach(n=>{const s=n.text.trim();e.has(s)?a[n.id]="Option already exists":e.add(s)}),Object.keys(a).length>0?{options:a}:{options:void 0}}},ZR={name:({currentError:t,value:a})=>a&&t?{name:void 0}:{name:typeof t=="string"?t:void 0}},VR={max_votes_allowed:({value:t})=>t&&!t.match(iy)?{max_votes_allowed:"Type a number from 2 to 10"}:{max_votes_allowed:void 0},name:({value:t})=>K2(t)?{name:"Question is required"}:{name:void 0},options:t=>{var n;const a=(n=ad.options)==null?void 0:n.call(ad,t),e=(a==null?void 0:a.options)??{};return t.value.forEach((s,l)=>{const c=l===t.value.length-1;K2(s.text)&&!c&&(e[s.id]="Option is empty")}),Object.keys(e).length>0?{options:e}:{options:void 0}}},QR=t=>!Array.isArray(t)&&typeof(t==null?void 0:t.index)=="number"&&typeof(t==null?void 0:t.text)=="string",JR={enforce_unique_vote:({value:t})=>({enforce_unique_vote:t,max_votes_allowed:""}),options:({value:t,data:a})=>{if(Array.isArray(t))return{options:t.map(f=>({id:f.id,text:f.text.trim()}))};const{index:e,text:n}=t,s=a.options||[],l=s&&s.slice(e+1).length>0&&!n,c=s.slice(0,e),u=s.slice(e+1),m=[...c,...l?[]:[{...s[e],text:n}],...u];return s.length<qR&&!m.some(f=>!f.text.trim())&&m.push({id:wr(),text:""}),{options:m}}},XR=({processors:t,validators:a}={})=>{const e=({state:n,validators:s,processors:l})=>{const{previousState:c,targetFields:u}=n;let m;if(!l&&QR(u.options)){const f=[...c.data.options],y=c.data.options[u.options.index];y&&(y.text=u.options.text,f.splice(u.options.index,1,y)),m={...u,options:f}}else l?m=Object.entries(u).reduce((f,[y,b])=>{const E=l[y];return f={...f,...E?E({data:c.data,value:b}):{[y]:b}},f},{}):m=u;const h=Object.keys(u).reduce((f,y)=>{const b=s[y];if(b){const E=b({currentError:c.errors[y],data:c.data,value:m[y]});f={...f,...E}}return f},{});return{newData:m,newErrors:h}};return{id:"stream-io/poll-composer-state-processing",handlers:{handleFieldChange:({state:n,next:s,forward:l})=>{if(!n.targetFields)return l();const{previousState:c,injectedFieldErrors:u}=n,{newData:m,newErrors:h}=e({processors:{...JR,...t==null?void 0:t.handleFieldChange},state:n,validators:{...ad,...ZR,...a==null?void 0:a.handleFieldChange}});return s({...n,nextState:{...c,data:{...c.data,...m},errors:{...c.errors,...h,...u}}})},handleFieldBlur:({state:n,next:s,forward:l})=>{if(!n.targetFields)return l();const{previousState:c}=n,{newData:u,newErrors:m}=e({processors:t==null?void 0:t.handleFieldBlur,state:n,validators:{...ad,...VR,...a==null?void 0:a.handleFieldBlur}});return s({...n,nextState:{...c,data:{...c.data,...u},errors:{...c.errors,...m,...n.injectedFieldErrors}}})}}}},KR=t=>({id:"stream-io/poll-composer-composition",handlers:{compose:({discard:a,forward:e})=>t.pollComposer.canCreatePoll?e():a()}}),eL=class extends Dd{constructor({composer:t}){super(),this.use([KR(t)])}},tL=class extends Dd{constructor(){super(),this.use([XR()])}},nL=class extends Error{constructor(t,{code:a,status:e,response:n}){super(t),this.name="ErrorFromResponse",this.code=a,this.response=n,this.status=e}toJSON(){const t=[["status",this.status],["code",this.code]],a=[];for(const[e,n]of t)typeof n<"u"&&n!==null&&a.push(`${e}: ${n}`);return{message:`(${a.join(", ")}) - ${this.message}`,stack:this.stack,name:this.name}}},aL=class{constructor({composer:t}){this.initState=()=>{this.state.next(this.initialState)},this.updateFields=async(a,e)=>{const{state:n,status:s}=await this.stateMiddlewareExecutor.execute({eventName:"handleFieldChange",initialValue:{nextState:{...this.state.getLatestValue()},previousState:{...this.state.getLatestValue()},targetFields:a,injectedFieldErrors:e}});s!=="discard"&&this.state.next(n.nextState)},this.handleFieldBlur=async a=>{const e=await this.stateMiddlewareExecutor.execute({eventName:"handleFieldBlur",initialValue:{nextState:{...this.state.getLatestValue()},previousState:{...this.state.getLatestValue()},targetFields:{[a]:this.state.getLatestValue().data[a]}}});e.status!=="discard"&&this.state.next(e.state.nextState)},this.compose=async()=>{var s;const{data:a,errors:e}=this.state.getLatestValue(),n=await this.compositionMiddlewareExecutor.execute({eventName:"compose",initialValue:{data:{...a,max_votes_allowed:a.max_votes_allowed?parseInt(a.max_votes_allowed):void 0,options:(s=a.options)==null?void 0:s.filter(l=>l.text.trim()).map(l=>({text:l.text}))},errors:e}});if(n.status!=="discard")return n.state},this.composer=t,this.state=new Ia(this.initialState),this.compositionMiddlewareExecutor=new eL({composer:t}),this.stateMiddlewareExecutor=new tL}get initialState(){var t;return{data:{allow_answers:!1,allow_user_suggested_options:!1,description:"",enforce_unique_vote:!0,id:wr(),max_votes_allowed:"",name:"",options:[{id:wr(),text:""}],user_id:(t=this.composer.client.user)==null?void 0:t.id,voting_visibility:"public"},errors:{}}}get allow_answers(){return this.state.getLatestValue().data.allow_answers}get allow_user_suggested_options(){return this.state.getLatestValue().data.allow_user_suggested_options}get description(){return this.state.getLatestValue().data.description}get enforce_unique_vote(){return this.state.getLatestValue().data.enforce_unique_vote}get id(){return this.state.getLatestValue().data.id}get max_votes_allowed(){return this.state.getLatestValue().data.max_votes_allowed}get name(){return this.state.getLatestValue().data.name}get options(){return this.state.getLatestValue().data.options}get user_id(){return this.state.getLatestValue().data.user_id}get voting_visibility(){return this.state.getLatestValue().data.voting_visibility}get canCreatePoll(){var c,u;const{data:t,errors:a}=this.state.getLatestValue(),e=t.options.filter(m=>!!m.text).length>0,n=!!t.name,s=parseInt(((u=(c=t.max_votes_allowed)==null?void 0:c.match(iy))==null?void 0:u[0])||""),l=t.max_votes_allowed===""||!!s&&(2<=s||s<=10);return e&&n&&l&&Object.values(a).filter(m=>!!m).length===0}},e5=t=>{const{localMetadata:a,...e}=t;return e},rL=t=>({id:"stream-io/message-composer-middleware/attachments",handlers:{compose:({state:a,next:e,discard:n,forward:s})=>{const{attachmentManager:l}=t;if(!l)return s();if(l.uploadsInProgressCount>0)return t.client.notifications.addWarning({message:"Wait until all attachments have uploaded",origin:{emitter:"MessageComposer",context:{composer:t}}}),n();const c=(a.message.attachments??[]).concat(l.successfulUploads.map(e5));return c.length?e({...a,localMessage:{...a.localMessage,attachments:c},message:{...a.message,attachments:c}}):s()}}}),sL=t=>({id:"stream-io/message-composer-middleware/draft-attachments",handlers:{compose:({state:a,next:e,forward:n})=>{const{attachmentManager:s}=t;if(!s)return n();const l=s.successfulUploads,c=l.length?(a.draft.attachments??[]).concat(l.map(e5)):void 0;return e({...a,draft:{...a.draft,attachments:c}})}}}),iL=t=>({id:"stream-io/message-composer-middleware/data-cleanup",handlers:{compose:({state:a,next:e})=>{var l,c,u;const n={type:((l=t.editedMessage)==null?void 0:l.type)??"regular"},s=t.editedMessage?Mw(t.editedMessage):void 0;return e({...a,localMessage:qa({...t.editedMessage,...a.localMessage,...n,user:t.client.user}),message:{...s,...a.message,...n},sendOptions:t.editedMessage&&((c=a.sendOptions)!=null&&c.skip_enrich_url)?{skip_enrich_url:(u=a.sendOptions)==null?void 0:u.skip_enrich_url}:a.sendOptions})}}}),oL=t=>({id:"stream-io/message-composer-middleware/custom-data",handlers:{compose:({state:a,next:e,forward:n})=>{const s=t.customDataManager.customMessageData;return s?e({...a,localMessage:{...a.localMessage,...s},message:{...a.message,...s}}):n()}}}),lL=t=>({id:"stream-io/message-composer-middleware/draft-custom-data",handlers:{compose:({state:a,next:e,forward:n})=>{const s=t.customDataManager.customMessageData;return s?e({...a,draft:{...a.draft,...s}}):n()}}}),cL=t=>({id:"stream-io/message-composer-middleware/data-validation",handlers:{compose:async({state:a,discard:e,forward:n})=>{var h;const{maxLengthOnSend:s}=t.config.text??{},l=a.message.text??"",c=oy(l)&&!((h=a.message.attachments)!=null&&h.length)&&!a.message.poll_id,u=typeof s=="number"&&l.length>s,m=t.editedMessage&&!t.lastChangeOriginIsLocal;return c||m||u?await e():await n()}}}),dL=t=>({id:"stream-io/message-composer-middleware/draft-data-validation",handlers:{compose:async({state:a,discard:e,forward:n})=>{var c;const s=!oy(a.draft.text??"")||((c=a.draft.attachments)==null?void 0:c.length)||a.draft.poll_id||a.draft.quoted_message_id;return t.lastChangeOriginIsLocal&&s?await n():await e()}}}),uL=t=>({id:"stream-io/message-composer-middleware/link-previews",handlers:{compose:({state:a,next:e,forward:n})=>{const{linkPreviewsManager:s}=t;if(!s)return n();s.cancelURLEnrichment();const l=s.loadingPreviews.length>0,c=s.dismissedPreviews.length>0,u=s.loadingPreviews.length>0?[]:s.loadedPreviews.map(y=>sy.getPreviewData(y)),m=(a.message.attachments??[]).concat(u);if(!m.length)return n();const h={...a.sendOptions};return(!l&&u.length>0||c)&&(h.skip_enrich_url=!0),e({...a,message:{...a.message,attachments:m},localMessage:{...a.localMessage,attachments:m},sendOptions:h})}}}),mL=t=>({id:"stream-io/message-composer-middleware/draft-link-previews",handlers:{compose:({state:a,next:e,forward:n})=>{const{linkPreviewsManager:s}=t;if(!s)return n();s.cancelURLEnrichment();const l=s.loadedPreviews.map(c=>sy.getPreviewData(c));return l.length?e({...a,draft:{...a.draft,attachments:(a.draft.attachments??[]).concat(l)}}):n()}}}),pL=t=>({id:"stream-io/message-composer-middleware/text-composition",handlers:{compose:({state:a,next:e,forward:n})=>{if(!t.textComposer)return n();const{mentionedUsers:s,text:l}=t.textComposer,c=Array.from(new Set(s.filter(({id:u,name:m})=>l.includes(`@${u}`)||l.includes(`@${m}`))));return!l&&c.length===0?n():e({...a,localMessage:{...a.localMessage,mentioned_users:c,text:l},message:{...a.message,mentioned_users:c.map(u=>u.id),text:l}})}}}),fL=t=>({id:"stream-io/message-composer-middleware/draft-text-composition",handlers:{compose:({state:a,next:e,forward:n})=>{if(!t.textComposer)return n();const{maxLengthOnSend:s}=t.config.text??{},{mentionedUsers:l,text:c}=t.textComposer,u=l.length?Array.from(new Set(l.filter(({id:h,name:f})=>c.includes(`@${h}`)||c.includes(`@${f}`)))):void 0,m=typeof s=="number"&&c.length>s?c.slice(0,s):c;return e({...a,draft:{...a.draft,mentioned_users:u==null?void 0:u.map(h=>h.id),text:m}})}}}),hL=t=>({id:"stream-io/message-composer-middleware/own-state",handlers:{compose:({state:a,next:e})=>{const n={};return t.quotedMessage&&(n.quoted_message_id=t.quotedMessage.id),t.pollId&&(n.poll_id=t.pollId),e({...a,localMessage:{...a.localMessage,...n,quoted_message:t.quotedMessage??void 0},message:{...a.message,...n}})}}}),gL=t=>({id:"stream-io/message-composer-middleware/draft-own-state",handlers:{compose:({state:a,next:e})=>{const n={};return t.quotedMessage&&(n.quoted_message_id=t.quotedMessage.id),t.pollId&&(n.poll_id=t.pollId),e({...a,draft:{...a.draft,...n}})}}}),yL={attachments:[],mentioned_users:[],parent_id:void 0,quoted_message:void 0,text:""},bL=t=>({id:"stream-io/message-composer-middleware/poll-only",handlers:{compose:({state:a,complete:e,forward:n})=>{const s=t.pollId,l=!!t.editedMessage,c=!!t.threadId;return!s||c||l?n():e({...a,localMessage:{...a.localMessage,...yL,poll_id:s},message:{id:a.localMessage.id,poll_id:s}})}}}),vL=class extends Dd{constructor({composer:t}){super(),this.use([bL(t),pL(t),rL(t),uL(t),hL(t),oL(t),cL(t),iL(t)])}},xL=class extends Dd{constructor({composer:t}){super(),this.use([fL(t),sL(t),mL(t),gL(t),lL(t),dL(t)])}},EL={debounceMs:300,pageSize:10},t5=class{constructor(t){this.setDebounceOptions=({debounceMs:n})=>{this.searchDebounced=e0(this.executeQuery.bind(this),n)},this.activate=()=>{this.isActive||this.state.partialNext({isActive:!0})},this.deactivate=()=>{this.isActive&&this.state.partialNext({isActive:!1})},this.canExecuteQuery=n=>{const s=typeof n<"u",l=n??this.searchQuery;return!!(this.isActive&&!this.isLoading&&(this.hasNext||s)&&l)},this.search=n=>this.searchDebounced(n);const{debounceMs:a,pageSize:e}={...EL,...t};this.pageSize=e,this.state=new Ia(this.initialState),this.setDebounceOptions({debounceMs:a})}get lastQueryError(){return this.state.getLatestValue().lastQueryError}get hasNext(){return this.state.getLatestValue().hasNext}get hasResults(){return Array.isArray(this.state.getLatestValue().items)}get isActive(){return this.state.getLatestValue().isActive}get isLoading(){return this.state.getLatestValue().isLoading}get initialState(){return{hasNext:!0,isActive:!1,isLoading:!1,items:void 0,lastQueryError:void 0,next:void 0,offset:0,searchQuery:""}}get items(){return this.state.getLatestValue().items}get next(){return this.state.getLatestValue().next}get offset(){return this.state.getLatestValue().offset}get searchQuery(){return this.state.getLatestValue().searchQuery}getStateBeforeFirstQuery(t){return{...this.initialState,isActive:this.isActive,isLoading:!0,searchQuery:t}}getStateAfterQuery(t,a){return{...this.state.getLatestValue(),lastQueryError:void 0,...t,isLoading:!1,items:a?t.items:[...this.items??[],...t.items||[]]}}async executeQuery(t){if(!this.canExecuteQuery(t))return;const a=typeof t<"u",e=t??this.searchQuery;a?this.state.next(this.getStateBeforeFirstQuery(t??"")):this.state.partialNext({isLoading:!0});const n={};try{const s=await this.query(e);if(!s)return;const{items:l,next:c}=s;c||c===null?(n.next=c,n.hasNext=!!c):(n.offset=(this.offset??0)+l.length,n.hasNext=l.length===this.pageSize),n.items=await this.filterQueryResults(l)}catch(s){n.lastQueryError=s}finally{this.state.next(this.getStateAfterQuery(n,a))}}cancelScheduledQuery(){this.searchDebounced.cancel()}resetState(){this.state.next(this.initialState)}resetStateAndActivate(){this.resetState(),this.activate()}},n5=({trigger:t,text:a,isCommand:e=!1,acceptTrailingSpaces:n=!0})=>{const s=`[^\\s${t}]*`,l=a.match(new RegExp(e?`^[${t}]${s}$`:n?`(?!^|\\W)?[${t}]${s}\\s?${s}$`:`(?!^|\\W)?[${t}]${s}$`,"g"));return l&&l[l.length-1].trim()},a5=({insertText:t,selection:a,text:e,trigger:n})=>{const s=e.slice(0,a.end),l=e.slice(a.end),c=s.lastIndexOf(n);return{text:s.slice(0,c)+t+l,selection:{start:c+t.length,end:c+t.length}}};function wL(t){return t.replace(/[-[\]{}()*+?.,/\\^$|#]/g,"\\$&")}var SL=({displayName:t,searchToken:a})=>({tokenizedDisplayName:{token:a,parts:a?t.split(new RegExp(`(${wL(a)})`,"gi")).filter(Boolean):[t]}}),CL=class extends t5{constructor(t,a){super(a),this.type="commands",this.canExecuteQuery=e=>{const n=typeof e<"u";return this.isActive&&!this.isLoading&&(this.hasNext||n)},this.channel=t}getStateBeforeFirstQuery(t){const a=super.getStateBeforeFirstQuery(t),{items:e}=this.state.getLatestValue();return{...a,items:e}}query(t){const a=this.channel.getConfig(),n=((a==null?void 0:a.commands)||[]).filter(s=>!!(s.name&&s.name.toLowerCase().indexOf(t.toLowerCase())!==-1));return n.sort((s,l)=>{var m,h;let c=(m=s.name)==null?void 0:m.toLowerCase(),u=(h=l.name)==null?void 0:h.toLowerCase();if((c==null?void 0:c.indexOf(t))===0&&(c=`0${c}`),(u==null?void 0:u.indexOf(t))===0&&(u=`0${u}`),c!=null&&u!=null){if(c<u)return-1;if(c>u)return 1}return 0}),Promise.resolve({items:n.map(s=>({...s,id:s.name})),next:null})}filterQueryResults(t){return t}},_L={minChars:1,trigger:"/"},IL=(t,a)=>{const e=Fm(_L,{});let n=new CL(t);return n.activate(),{id:"stream-io/text-composer/commands-middleware",handlers:{onChange:({state:s,next:l,complete:c,forward:u})=>{var y;if(!s.selection)return u();const m=n5({trigger:e.trigger,text:s.text.slice(0,s.selection.end),acceptTrailingSpaces:!1,isCommand:!0});if(m&&m.length===e.minChars&&n.resetStateAndActivate(),!m||m.length<e.minChars){const b=((y=s.suggestions)==null?void 0:y.trigger)===e.trigger,E={...s};return b&&delete E.suggestions,l(E)}return c({...s,suggestions:{query:m.slice(1),searchSource:n,trigger:e.trigger}})},onSuggestionItemSelect:({state:s,complete:l,forward:c})=>{var m;const{selectedSuggestion:u}=s.change??{};return!u||((m=s.suggestions)==null?void 0:m.trigger)!==e.trigger?c():(n.resetStateAndActivate(),l({...s,...a5({insertText:`/${u.name} `,selection:s.selection,text:s.text,trigger:e.trigger}),suggestions:void 0}))}}}},ex={a:"á|à|ã|â|À|Á|Ã|Â",c:"ç|Ç",e:"é|è|ê|É|È|Ê",i:"í|ì|î|Í|Ì|Î",n:"ñ|Ñ",o:"ó|ò|ô|ő|õ|Ó|Ò|Ô|Õ",u:"ú|ù|û|ü|Ú|Ù|Û|Ü"},bg=t=>t?Object.keys(ex).reduce((a,e)=>a.replace(new RegExp(ex[e],"g"),e),t):"",tx=(t,a)=>{if(t.length===0)return a.length;if(a.length===0)return t.length;const e=[];let n;for(n=0;n<=a.length;n++)e[n]=[n];let s;for(s=0;s<=t.length;s++)e[0][s]=s;for(n=1;n<=a.length;n++)for(s=1;s<=t.length;s++)a.charAt(n-1)===t.charAt(s-1)?e[n][s]=e[n-1][s-1]:e[n][s]=Math.min(e[n-1][s-1]+1,Math.min(e[n][s-1]+1,e[n-1][s]+1));return e[a.length][t.length]},NL=class extends t5{constructor(t,a){const{mentionAllAppUsers:e,textComposerText:n,transliterate:s,...l}=a||{};super(l),this.type="mentions",this.canExecuteQuery=c=>{const u=typeof c<"u";return this.isActive&&!this.isLoading&&(u||this.hasNext)},this.transliterate=c=>c,this.getMembersAndWatchers=()=>{const c=Object.values(this.channel.state.members??{}).map(({user:f})=>f),u=Object.values(this.channel.state.watchers??{}),m=[...c,...u],h={};return m.forEach(f=>{f&&!h[f.id]&&(h[f.id]=f)}),Object.values(h)},this.searchMembersLocally=c=>{const{textComposerText:u}=this.config;return u?this.getMembersAndWatchers().filter(m=>{if(m.id===this.client.userID)return!1;if(!c)return!0;const h=this.transliterate(bg(m.id)).toLowerCase(),f=this.transliterate(bg(m.name)).toLowerCase(),y=this.transliterate(bg(c)).toLowerCase(),b=3,E=u.slice(-4).includes("@");if(f){const _=tx(y,f);if(f.includes(y)||_<=b&&E)return!0}const w=tx(y,h);return h.includes(y)||w<=b&&E}).sort((m,h)=>{if(!this.memberSort)return(m.name||"").localeCompare(h.name||"");for(const[f,y]of Object.entries(this.memberSort)){const b=m[f],E=h[f];if(b!==E)return y===1?String(b||"").localeCompare(String(E||"")):String(E||"").localeCompare(String(b||""))}return 0}):[]},this.prepareQueryUsersParams=c=>({filters:{$or:[{id:{$autocomplete:c}},{name:{$autocomplete:c}}],...this.userFilters},sort:this.userSort??[{name:1},{id:1}],options:{...this.searchOptions,limit:this.pageSize,offset:this.offset}}),this.prepareQueryMembersParams=c=>{let m=[{user_id:1}];return this.memberSort?Array.isArray(this.memberSort)?m=this.memberSort[0]:Object.keys(this.memberSort).length===1&&(m=this.memberSort):m=[{user_id:1}],{filters:this.memberFilters??{name:{$autocomplete:c}},sort:m,options:{...this.searchOptions,limit:this.pageSize,offset:this.offset}}},this.queryUsers=async c=>{const{filters:u,sort:m,options:h}=this.prepareQueryUsersParams(c),{users:f}=await this.client.queryUsers(u,m,h);return f},this.queryMembers=async c=>{const{filters:u,sort:m,options:h}=this.prepareQueryMembersParams(c);return(await this.channel.queryMembers(u,m,h)).members.map(y=>y.user)},this.filterMutes=c=>{const{textComposerText:u}=this.config;if(!u)return[];const{mutedUsers:m}=this.client;return u.includes("/unmute")&&!m.length?[]:m.length?u.includes("/unmute")?c.filter(h=>m.some(f=>f.target.id===h.id)):c.filter(h=>m.every(f=>f.target.id!==h.id)):c},this.client=t.getClient(),this.channel=t,this.config={mentionAllAppUsers:e,textComposerText:n},s&&(this.transliterate=s)}get allMembersLoadedWithInitialChannelQuery(){return Object.keys(this.channel.state.members||{}).length<OT}getStateBeforeFirstQuery(t){const a=super.getStateBeforeFirstQuery(t),{items:e}=this.state.getLatestValue();return{...a,items:e}}async query(t){let a;const e=this.allMembersLoadedWithInitialChannelQuery||!t;return this.config.mentionAllAppUsers?a=await this.queryUsers(t):e?a=this.searchMembersLocally(t):a=await this.queryMembers(t),{items:a.map(n=>({...n,...SL({displayName:n.name||n.id,searchToken:this.searchQuery})}))}}filterQueryResults(t){return this.filterMutes(t)}},kL={minChars:1,trigger:"@"},AL=t=>{const{tokenizedDisplayName:a,...e}=t;return e},DL=(t,a)=>{const e=Fm(kL,{});let n;return n=new NL(t),n.activate(),{id:"stream-io/text-composer/mentions-middleware",handlers:{onChange:({state:s,next:l,complete:c,forward:u})=>{var y;if(!s.selection)return u();const m=n5({trigger:e.trigger,text:s.text.slice(0,s.selection.end)});if(m&&m.length===e.minChars&&n.resetStateAndActivate(),!m||m.length<e.minChars){const b=((y=s.suggestions)==null?void 0:y.trigger)===e.trigger,E={...s};return b&&delete E.suggestions,l(E)}return n.config.textComposerText=s.text,c({...s,suggestions:{query:m.slice(1),searchSource:n,trigger:e.trigger}})},onSuggestionItemSelect:({state:s,complete:l,forward:c})=>{var m;const{selectedSuggestion:u}=s.change??{};return!u||((m=s.suggestions)==null?void 0:m.trigger)!==e.trigger?c():(n.resetStateAndActivate(),l({...s,...a5({insertText:`@${u.name||u.id} `,selection:s.selection,text:s.text,trigger:e.trigger}),mentionedUsers:s.mentionedUsers.concat(AL(u)),suggestions:void 0}))}}}},ML=t=>({id:"stream-io/text-composer/pre-validation-middleware",handlers:{onChange:({state:a,next:e,forward:n})=>{const{maxLengthOnEdit:s}=t.config.text??{};return typeof s=="number"&&a.text.length>s?(a.text=a.text.slice(0,s),e({...a,text:a.text})):n()},onSuggestionItemSelect:({forward:a})=>a()}}),TL=class extends Dd{constructor({composer:t}){super(),this.use([ML(t),DL(t.channel),IL(t.channel)])}async execute({eventName:t,initialValue:a}){var l;const e=await this.executeMiddlewareChain({eventName:t,initialValue:a}),{query:n,searchSource:s}=e.state.suggestions??{};return(l=s==null?void 0:s.search(n))==null||l.catch(console.error),e}},oy=t=>{const a=t.trim();return a===""||a===">"||a==="``````"||a==="``"||a==="**"||a==="____"||a==="__"||a==="****"},nx=({composer:t,message:a})=>{if(!a){const n=t.config.text.defaultValue??"";return{mentionedUsers:[],text:n,selection:{start:n.length,end:n.length}}}const e=a.text??"";return{mentionedUsers:(a.mentioned_users??[]).map(n=>typeof n=="string"?{id:n}:n),text:e,selection:{start:e.length,end:e.length}}},RL=class{constructor({composer:t,message:a}){this.initState=({message:e}={})=>{this.state.next(nx({composer:this.composer,message:e}))},this.upsertMentionedUser=e=>{const n=[...this.mentionedUsers],s=n.findIndex(l=>l.id===e.id);s>=0?(n.splice(s,1,e),this.state.partialNext({mentionedUsers:n})):(n.push(e),this.state.partialNext({mentionedUsers:n}))},this.getMentionedUser=e=>this.state.getLatestValue().mentionedUsers.find(n=>n.id===e),this.removeMentionedUser=e=>{const n=this.mentionedUsers.findIndex(l=>l.id===e);if(n===-1)return;const s=[...this.mentionedUsers];s.splice(n,1),this.state.partialNext({mentionedUsers:s})},this.setText=e=>{!this.enabled||e===this.text||this.state.partialNext({text:e})},this.setSelection=e=>{const n=e.start!==this.selection.start||e.end!==this.selection.end;!this.enabled||!n||this.state.partialNext({selection:e})},this.insertText=({text:e,selection:n})=>{if(!this.enabled)return;const s=n??this.selection,{maxLengthOnEdit:l}=this.composer.config.text??{},c=this.text,u=[c.slice(0,s.start),e,c.slice(s.end)].join(""),m=u.slice(0,typeof l=="number"?l:u.length),h=c.slice(0,s.start).length+e.length,f=h>=m.length?m.length:c.slice(0,h).length;this.state.partialNext({text:m,selection:{start:f,end:f}})},this.wrapSelection=({head:e="",selection:n,tail:s=""})=>{if(!this.enabled)return;const l=n??this.selection,c=this.text.slice(0,l.start),u=this.text.slice(l.start,l.end),m=this.text.slice(l.end),h={start:c.length+e.length,end:c.length+e.length+u.length};this.state.partialNext({text:[c,e,u,s,m].join(""),selection:h})},this.setSuggestions=e=>{this.state.partialNext({suggestions:e})},this.closeSuggestions=()=>{const{suggestions:e}=this.state.getLatestValue();e&&this.state.partialNext({suggestions:void 0})},this.handleChange=async({text:e,selection:n})=>{if(!this.enabled)return;const s=await this.middlewareExecutor.execute({eventName:"onChange",initialValue:{...this.state.getLatestValue(),text:e,selection:n}});s.status!=="discard"&&(this.state.next(s.state),this.config.publishTypingEvents&&e&&kw(this.channel.keystroke(this.composer.threadId??void 0),"start typing event"))},this.handleSelect=async e=>{if(!this.enabled)return;const n=await this.middlewareExecutor.execute({eventName:"onSuggestionItemSelect",initialValue:{...this.state.getLatestValue(),change:{selectedSuggestion:e}}});(n==null?void 0:n.status)!=="discard"&&this.state.next(n.state)},this.composer=t,this.state=new Ia(nx({composer:t,message:a})),this.middlewareExecutor=new TL({composer:t})}get channel(){return this.composer.channel}get config(){return this.composer.config.text}get enabled(){return this.composer.config.text.enabled}set enabled(t){t!==this.enabled&&this.composer.updateConfig({text:{enabled:t}})}get defaultValue(){return this.composer.config.text.defaultValue}set defaultValue(t){t!==this.defaultValue&&this.composer.updateConfig({text:{defaultValue:t}})}get maxLengthOnEdit(){return this.composer.config.text.maxLengthOnEdit}set maxLengthOnEdit(t){t!==this.maxLengthOnEdit&&this.composer.updateConfig({text:{maxLengthOnEdit:t}})}get maxLengthOnSend(){return this.composer.config.text.maxLengthOnSend}set maxLengthOnSend(t){t!==this.maxLengthOnSend&&this.composer.updateConfig({text:{maxLengthOnSend:t}})}get publishTypingEvents(){return this.composer.config.text.publishTypingEvents}set publishTypingEvents(t){t!==this.publishTypingEvents&&this.composer.updateConfig({text:{publishTypingEvents:t}})}get mentionedUsers(){return this.state.getLatestValue().mentionedUsers}get selection(){return this.state.getLatestValue().selection}get suggestions(){return this.state.getLatestValue().suggestions}get text(){return this.state.getLatestValue().text}get textIsEmpty(){return oy(this.text)}setMentionedUsers(t){this.state.partialNext({mentionedUsers:t})}},m0=class r5{constructor(){this.unsubscribeFunctions=new Set}get hasSubscriptions(){return this.unsubscribeFunctions.size>0}addUnsubscribeFunction(a){this.unsubscribeFunctions.add(a)}unregisterSubscriptions(){return this.unsubscribeFunctions.forEach(a=>a()),this.unsubscribeFunctions.clear(),r5.symbol}};m0.symbol=Symbol(m0.name);var Md=m0,vg=50,LL=[{created_at:-1}],PL=1e3,BL={active_participant_count:!0,channel:!0,channel_cid:!0,created_at:!0,created_by:!0,created_by_user_id:!0,deleted_at:!0,draft:!0,last_message_at:!0,latest_replies:!0,parent_message:!0,parent_message_id:!0,participant_count:!0,read:!0,reply_count:!0,thread_participants:!0,title:!0,updated_at:!0},ax=t=>{const a={};for(const e in t){if(BL[e])continue;const n=e;a[n]=t[n]}return a},rd=class extends Md{constructor({client:t,threadData:a}){super(),this.failedRepliesMap=new Map,this.activate=()=>{this.state.partialNext({active:!0})},this.deactivate=()=>{this.state.partialNext({active:!1})},this.reload=async()=>{if(!this.state.getLatestValue().isLoading){this.state.partialNext({isLoading:!0});try{const s=await this.client.getThread(this.id,{watch:!0});this.hydrateState(s)}finally{this.state.partialNext({isLoading:!1})}}},this.hydrateState=s=>{if(s===this)return;if(s.id!==this.id)throw new Error("Cannot hydrate thread's state using thread with different threadId");const{createdAt:l,custom:c,title:u,deletedAt:m,parentMessage:h,participants:f,read:y,replyCount:b,replies:E,updatedAt:w}=s.state.getLatestValue(),_=Array.from(this.failedRepliesMap.values());this.state.partialNext({title:u,createdAt:l,custom:c,deletedAt:m,parentMessage:h,participants:f,read:y,replyCount:b,replies:_.length?E.concat(_):E,updatedAt:w,isStateStale:!1})},this.registerSubscriptions=()=>{this.hasSubscriptions||(this.addUnsubscribeFunction(this.subscribeThreadUpdated()),this.addUnsubscribeFunction(this.subscribeMarkActiveThreadRead()),this.addUnsubscribeFunction(this.subscribeReloadActiveStaleThread()),this.addUnsubscribeFunction(this.subscribeMarkThreadStale()),this.addUnsubscribeFunction(this.subscribeNewReplies()),this.addUnsubscribeFunction(this.subscribeRepliesRead()),this.addUnsubscribeFunction(this.subscribeMessageDeleted()),this.addUnsubscribeFunction(this.subscribeMessageUpdated()))},this.subscribeThreadUpdated=()=>this.client.on("thread.updated",s=>{if(!s.thread||s.thread.parent_message_id!==this.id)return;const l=s.thread;this.state.partialNext({title:l.title,updatedAt:new Date(l.updated_at),deletedAt:l.deleted_at?new Date(l.deleted_at):null,custom:ax(l)})}).unsubscribe,this.subscribeMarkActiveThreadRead=()=>this.state.subscribeWithSelector(s=>({active:s.active,unreadMessageCount:rx(this.client.userID)(s)}),({active:s,unreadMessageCount:l})=>{!s||!l||this.throttledMarkAsRead()}),this.subscribeReloadActiveStaleThread=()=>this.state.subscribeWithSelector(s=>({active:s.active,isStateStale:s.isStateStale}),({active:s,isStateStale:l})=>{s&&l&&this.reload()}),this.subscribeMarkThreadStale=()=>this.client.on("user.watching.stop",s=>{var c,u;const{channel:l}=this.state.getLatestValue();!this.client.userID||this.client.userID!==((c=s.user)==null?void 0:c.id)||((u=s.channel)==null?void 0:u.cid)!==l.cid||this.state.partialNext({isStateStale:!0})}).unsubscribe,this.subscribeNewReplies=()=>this.client.on("message.new",s=>{var h,f,y;if(!this.client.userID||((h=s.message)==null?void 0:h.parent_id)!==this.id)return;const l=((f=s.message.user)==null?void 0:f.id)===this.client.userID,{active:c,read:u}=this.state.getLatestValue();this.upsertReplyLocally({message:s.message,timestampChanged:l}),c&&this.throttledMarkAsRead();const m={};for(const b of Object.keys(u)){const E=u[b];if(E){let w=E;b===((y=s.user)==null?void 0:y.id)?w={...w,lastReadAt:s.created_at?new Date(s.created_at):new Date,user:s.user,unreadMessageCount:0}:c&&b===this.client.userID||(w={...w,unreadMessageCount:E.unreadMessageCount+1}),m[b]=w}}this.state.partialNext({read:m})}).unsubscribe,this.subscribeRepliesRead=()=>this.client.on("message.read",s=>{if(!s.user||!s.created_at||!s.thread||s.thread.parent_message_id!==this.id)return;const l=s.user.id,c=s.created_at,u=s.user;this.state.next(m=>({...m,read:{...m.read,[l]:{lastReadAt:new Date(c),user:u,lastReadMessageId:s.last_read_message_id,unreadMessageCount:0}}}))}).unsubscribe,this.subscribeMessageDeleted=()=>this.client.on("message.deleted",s=>{s.message&&(s.message.parent_id===this.id&&(s.hard_delete?this.deleteReplyLocally({message:s.message}):this.upsertReplyLocally({message:s.message})),s.message.id===this.id&&this.updateParentMessageLocally({message:s.message}))}).unsubscribe,this.subscribeMessageUpdated=()=>{const l=["message.updated","reaction.new","reaction.deleted","reaction.updated"].map(c=>this.client.on(c,u=>{u.message&&this.updateParentMessageOrReplyLocally(u.message)}).unsubscribe);return()=>l.forEach(c=>c())},this.unregisterSubscriptions=()=>{const s=super.unregisterSubscriptions();return this.state.partialNext({isStateStale:!0}),s},this.deleteReplyLocally=({message:s})=>{var m;const{replies:l}=this.state.getLatestValue(),c=Tw({needle:qa(s),sortedArray:l,sortDirection:"ascending",selectValueToCompare:h=>h.created_at.getTime(),selectKey:h=>h.id});if(((m=l[c])==null?void 0:m.id)!==s.id)return;const u=[...l];u.splice(c,1),this.state.partialNext({replies:u})},this.upsertReplyLocally=({message:s,timestampChanged:l=!1})=>{if(s.parent_id!==this.id)throw new Error("Reply does not belong to this thread");const c=qa(s);s.status==="failed"?this.failedRepliesMap.set(c.id,c):this.failedRepliesMap.has(s.id)&&this.failedRepliesMap.delete(s.id),this.state.next(u=>({...u,replies:Rw(u.replies,c,l)}))},this.updateParentMessageLocally=({message:s})=>{if(s.id!==this.id)throw new Error("Message does not belong to this thread");this.state.next(l=>{const c=qa(s);return{...l,deletedAt:c.deleted_at,parentMessage:c,replyCount:s.reply_count??l.replyCount}})},this.updateParentMessageOrReplyLocally=s=>{s.parent_id===this.id&&this.upsertReplyLocally({message:s}),!s.parent_id&&s.id===this.id&&this.updateParentMessageLocally({message:s})},this.markAsRead=async({force:s=!1}={})=>this.ownUnreadCount===0&&!s?null:await this.channel.markRead({thread_id:this.id}),this.throttledMarkAsRead=Lw(()=>this.markAsRead(),PL,{trailing:!0}),this.queryReplies=({limit:s=vg,sort:l=LL,...c}={})=>this.channel.getReplies(this.id,{limit:s,...c},l),this.loadNextPage=({limit:s=vg}={})=>this.loadPage(s),this.loadPrevPage=({limit:s=vg}={})=>this.loadPage(-s),this.loadPage=async s=>{var y;const{pagination:l}=this.state.getLatestValue(),[c,u,m]=s>0?["isLoadingNext","nextCursor","push"]:["isLoadingPrev","prevCursor","unshift"];if(l[c]||l[u]===null)return;const h={[s>0?"id_gt":"id_lt"]:l[u]},f=Math.abs(s);this.state.partialNext({pagination:{...l,[c]:!0}});try{const b=await this.queryReplies({...h,limit:f}),E=b.messages.map(qa),w=((y=E.at(s>0?-1:0))==null?void 0:y.id)??null;this.state.next(_=>{let C=_.replies;return E.length>0&&(C=[..._.replies],C[m](...E)),{..._,replies:C,pagination:{..._.pagination,[u]:b.messages.length<f?null:w,[c]:!1}}})}catch(b){this.client.logger("error",b.message),this.state.next(E=>({...E,pagination:{...E.pagination,[c]:!1}}))}};const e=t.channel(a.channel.type,a.channel.id,{name:a.channel.name});e._hydrateMembers({members:a.channel.members??[],overrideCurrentState:!1});const n=t.userID?[{user:{id:t.userID},unread_messages:0,last_read:new Date().toISOString()}]:[];this.state=new Ia({active:!1,isLoading:!1,isStateStale:!1,channel:e,createdAt:new Date(a.created_at),deletedAt:a.deleted_at?new Date(a.deleted_at):null,pagination:zL(a),parentMessage:qa(a.parent_message),participants:a.thread_participants,read:OL(!a.read||a.read.length===0?n:a.read),replies:a.latest_replies.map(qa),replyCount:a.reply_count??0,updatedAt:a.updated_at?new Date(a.updated_at):null,title:a.title,custom:ax(a)}),this.id=a.parent_message_id,this.client=t,this.messageComposer=new pp({client:t,composition:a.draft,compositionContext:this})}get channel(){return this.state.getLatestValue().channel}get hasStaleState(){return this.state.getLatestValue().isStateStale}get ownUnreadCount(){return rx(this.client.userID)(this.state.getLatestValue())}},OL=t=>t.reduce((a,e)=>(a[e.user.id]={user:e.user,lastReadMessageId:e.last_read_message_id,unreadMessageCount:e.unread_messages??0,lastReadAt:new Date(e.last_read)},a),{}),zL=t=>{var e;return{nextCursor:null,prevCursor:t.latest_replies.length===t.reply_count?null:((e=t.latest_replies.at(0))==null?void 0:e.id)??null,isLoadingNext:!1,isLoadingPrev:!1}},rx=t=>a=>{var e;return t&&((e=a.read[t])==null?void 0:e.unreadMessageCount)||0},sd=t=>!!(t!=null&&t.message),UL=t=>{let a=null,e=new Date().getTime();return sd(t)?e=a=new Date(t.created_at).getTime():t&&zw(t)&&(e=new Date(t.updated_at).getTime()),{lastChange:{draftUpdate:a,stateUpdate:e}}},sx=t=>{if(!t)return{id:pp.generateId(),quotedMessage:null,pollId:null,draftId:null};const a=t.quoted_message;let e,n=null,s=pp.generateId();return sd(t)?(e=t.message,n=t.message.id):(e=t,s=t.id),{draftId:n,id:s,quotedMessage:a?qa(a):null,pollId:e.poll_id??null}},FL=()=>{},s5=class p0 extends Md{constructor({composition:a,config:e,compositionContext:n,client:s}){if(super(),this.initState=({composition:c}={})=>{this.editingAuditState.partialNext(this.initEditingAuditState(c));const u=typeof c>"u"?c:sd(c)?c.message:qa(c);this.attachmentManager.initState({message:u}),this.linkPreviewsManager.initState({message:u}),this.textComposer.initState({message:u}),this.pollComposer.initState(),this.customDataManager.initState({message:u}),this.state.next(sx(c)),c&&!sd(c)&&u&&zw(u)&&(this.editedMessage=u)},this.initEditingAuditState=c=>UL(c),this.registerSubscriptions=()=>this.hasSubscriptions?FL:(this.addUnsubscribeFunction(this.subscribeMessageComposerSetupStateChange()),this.addUnsubscribeFunction(this.subscribeMessageUpdated()),this.addUnsubscribeFunction(this.subscribeMessageDeleted()),this.addUnsubscribeFunction(this.subscribeTextComposerStateChanged()),this.addUnsubscribeFunction(this.subscribeAttachmentManagerStateChanged()),this.addUnsubscribeFunction(this.subscribeLinkPreviewsManagerStateChanged()),this.addUnsubscribeFunction(this.subscribePollComposerStateChanged()),this.addUnsubscribeFunction(this.subscribeCustomDataManagerStateChanged()),this.addUnsubscribeFunction(this.subscribeMessageComposerStateChanged()),this.addUnsubscribeFunction(this.subscribeMessageComposerConfigStateChanged()),this.unregisterSubscriptions.bind(this)),this.subscribeMessageUpdated=()=>{const u=["message.updated","reaction.new","reaction.deleted","reaction.updated"].map(m=>this.client.on(m,h=>{var f;h.message&&(h.message.id===this.id&&this.initState({composition:h.message}),(f=this.quotedMessage)!=null&&f.id&&h.message.id===this.quotedMessage.id&&this.setQuotedMessage(qa(h.message)))}).unsubscribe);return()=>u.forEach(m=>m())},this.subscribeMessageComposerSetupStateChange=()=>{let c=null;const u=this.client._messageComposerSetupState.subscribeWithSelector(({setupFunction:m})=>({setup:m}),({setup:m})=>{c==null||c(),c=(m==null?void 0:m({composer:this}))??null});return()=>{c==null||c(),u()}},this.subscribeMessageDeleted=()=>this.client.on("message.deleted",c=>{c.message&&(c.message.id===this.id?this.clear():this.quotedMessage&&c.message.id===this.quotedMessage.id&&this.setQuotedMessage(null))}).unsubscribe,this.subscribeDraftUpdated=()=>this.client.on("draft.updated",c=>{const u=c.draft;!u||!!u.parent_id!=!!this.threadId||u.channel_cid!==this.channel.cid||this.initState({composition:u})}).unsubscribe,this.subscribeDraftDeleted=()=>this.client.on("draft.deleted",c=>{const u=c.draft;!u||!!u.parent_id!=!!this.threadId||u.channel_cid!==this.channel.cid||(this.logDraftUpdateTimestamp(),!this.compositionIsEmpty&&this.clear())}).unsubscribe,this.subscribeTextComposerStateChanged=()=>this.textComposer.state.subscribeWithSelector(({text:c})=>[c],([c],u)=>{if(!(typeof u>"u")){if(this.logStateUpdateTimestamp(),this.compositionIsEmpty){this.deleteDraft();return}this.linkPreviewsManager.enabled&&(c?this.linkPreviewsManager.findAndEnrichUrls(c):this.linkPreviewsManager.clearPreviews())}}),this.subscribeAttachmentManagerStateChanged=()=>this.attachmentManager.state.subscribe((c,u)=>{if(!(typeof u>"u")&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}}),this.subscribeLinkPreviewsManagerStateChanged=()=>this.linkPreviewsManager.state.subscribe((c,u)=>{if(!(typeof u>"u")&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}}),this.subscribePollComposerStateChanged=()=>this.pollComposer.state.subscribe((c,u)=>{if(!(typeof u>"u")&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}}),this.subscribeCustomDataManagerStateChanged=()=>this.customDataManager.state.subscribe((c,u)=>{typeof u<"u"&&!this.customDataManager.isMessageDataEqual(c,u)&&this.logStateUpdateTimestamp()}),this.subscribeMessageComposerStateChanged=()=>this.state.subscribe((c,u)=>{typeof u>"u"||(this.logStateUpdateTimestamp(),this.compositionIsEmpty&&this.deleteDraft())}),this.subscribeMessageComposerConfigStateChanged=()=>{let c;const u=this.configState.subscribeWithSelector(m=>({textDefaultValue:m.text.defaultValue,draftsEnabled:m.drafts.enabled}),({textDefaultValue:m,draftsEnabled:h})=>{this.textComposer.text===""&&m&&this.textComposer.insertText({text:m,selection:{start:0,end:0}}),h&&!c?c=[this.subscribeDraftUpdated(),this.subscribeDraftDeleted()]:!h&&c&&(c.forEach(f=>f()),c=null)});return()=>{c==null||c.forEach(m=>m()),u()}},this.setQuotedMessage=c=>{this.state.partialNext({quotedMessage:c})},this.clear=()=>{this.initState()},this.restore=()=>{const{editedMessage:c}=this;if(c){this.initState({composition:c});return}this.clear()},this.compose=async()=>{var h;const c=((h=this.editedMessage)==null?void 0:h.created_at)??new Date,m=await this.compositionMiddlewareExecutor.execute({eventName:"compose",initialValue:{message:{id:this.id,parent_id:this.threadId??void 0,type:"regular"},localMessage:{attachments:[],created_at:c,deleted_at:null,error:void 0,id:this.id,mentioned_users:[],parent_id:this.threadId??void 0,pinned_at:null,reaction_groups:null,status:this.editedMessage?this.editedMessage.status:"sending",text:"",type:"regular",updated_at:c},sendOptions:{}}});if(m.status!=="discard")return m.state},this.composeDraft=async()=>{const{state:c,status:u}=await this.draftCompositionMiddlewareExecutor.execute({eventName:"compose",initialValue:{draft:{id:this.id,parent_id:this.threadId??void 0,text:""}}});if(u!=="discard")return c},this.createDraft=async()=>{if(this.editedMessage||!this.config.drafts.enabled)return;const c=await this.composeDraft();if(!c)return;const{draft:u}=c;this.state.partialNext({draftId:u.id}),this.logDraftUpdateTimestamp(),await this.channel.createDraft(u)},this.deleteDraft=async()=>{this.editedMessage||!this.config.drafts.enabled||!this.draftId||(this.state.partialNext({draftId:null}),this.logDraftUpdateTimestamp(),await this.channel.deleteDraft({parent_id:this.threadId??void 0}))},this.createPoll=async()=>{const c=await this.pollComposer.compose();if(!(!c||!c.data.id))try{const{poll:u}=await this.client.createPoll(c.data);this.state.partialNext({pollId:u.id}),this.pollComposer.initState()}catch(u){throw this.client.notifications.add({message:"Failed to create the poll",origin:{emitter:"MessageComposer",context:{composer:this}}}),u}},this.compositionContext=n,this.configState=new Ia(Fm(WR,e??{})),n instanceof gl)this.channel=n;else if(n instanceof rd)this.channel=n.channel;else if(n.cid){const[c,u]=n.cid.split(":");this.channel=s.channel(c,u)}else throw new Error("MessageComposer requires composition context pointing to channel (channel or context.cid)");let l;sd(a)?l=a.message:a&&(l=qa(a),this.editedMessage=l),this.attachmentManager=new wR({composer:this,message:l}),this.linkPreviewsManager=new sy({composer:this,message:l}),this.textComposer=new RL({composer:this,message:l}),this.pollComposer=new aL({composer:this}),this.customDataManager=new jR({composer:this,message:l}),this.editingAuditState=new Ia(this.initEditingAuditState(a)),this.state=new Ia(sx(a)),this.compositionMiddlewareExecutor=new vL({composer:this}),this.draftCompositionMiddlewareExecutor=new xL({composer:this})}static evaluateContextType(a){return a instanceof gl?"channel":a instanceof rd?"thread":typeof a.legacyThreadId=="string"?"legacy_thread":"message"}static constructTag(a){return`${this.evaluateContextType(a)}_${a.id}`}get config(){return this.configState.getLatestValue()}updateConfig(a){this.configState.partialNext(Fm(this.config,a))}get contextType(){return p0.evaluateContextType(this.compositionContext)}get tag(){return p0.constructTag(this.compositionContext)}get threadId(){return this.compositionContext instanceof gl?null:this.compositionContext instanceof rd?this.compositionContext.id:typeof this.compositionContext.legacyThreadId=="string"?this.compositionContext.legacyThreadId:typeof this.compositionContext.parent_id=="string"?this.compositionContext.parent_id:null}get client(){return this.channel.getClient()}get id(){return this.state.getLatestValue().id}get draftId(){return this.state.getLatestValue().draftId}get lastChange(){return this.editingAuditState.getLatestValue().lastChange}get quotedMessage(){return this.state.getLatestValue().quotedMessage}get pollId(){return this.state.getLatestValue().pollId}get hasSendableData(){return!!(!this.attachmentManager.uploadsInProgressCount&&(!this.textComposer.textIsEmpty||this.attachmentManager.successfulUploadsCount>0)||this.pollId)}get compositionIsEmpty(){return!this.quotedMessage&&this.textComposer.textIsEmpty&&!this.attachmentManager.attachments.length&&!this.pollId}get lastChangeOriginIsLocal(){var l;const e=this.lastChange.draftUpdate===null&&!this.editedMessage,n=!!((l=this.editedMessage)!=null&&l.updated_at)&&new Date(this.editedMessage.updated_at).getTime()<this.lastChange.stateUpdate,s=!!this.lastChange.draftUpdate&&this.lastChange.draftUpdate<this.lastChange.stateUpdate;return n||s||e}logStateUpdateTimestamp(){this.editingAuditState.partialNext({lastChange:{...this.lastChange,stateUpdate:new Date().getTime()}})}logDraftUpdateTimestamp(){if(!this.config.drafts.enabled)return;const a=new Date().getTime();this.editingAuditState.partialNext({lastChange:{draftUpdate:a,stateUpdate:a}})}};s5.generateId=wr;var pp=s5,gl=class{constructor(t,a,e,n){this.create=async c=>{const u={...c,watch:!1,state:!1,presence:!1};return await this.query(u,"latest")},this._callChannelListeners=c=>{const u=this,m=[];u.listeners.all&&m.push(...u.listeners.all),u.listeners[c.type]&&m.push(...u.listeners[c.type]);for(const h of m)typeof h!="string"&&h(c)},this._channelURL=()=>{if(!this.id)throw new Error("channel id is not defined");return`${this.getClient().baseURL}/channels/${encodeURIComponent(this.type)}/${encodeURIComponent(this.id)}`};const s=/^[\w_-]+$/,l=/^[\w!_-]+$/;if(!s.test(a))throw new Error(`Invalid chat type ${a}, letters, numbers and "_-" are allowed`);if(typeof e=="string"&&!l.test(e))throw new Error(`Invalid chat id ${e}, letters, numbers and "!-_" are allowed`);this._client=t,this.type=a,this.id=e,this.data=n,this._data={...n},this.cid=`${a}:${e}`,this.listeners={},this.state=new cR(this),this.initialized=!1,this.offlineMode=!1,this.lastTypingEvent=null,this.isTyping=!1,this.disconnected=!1,this.messageComposer=new pp({client:this._client,compositionContext:this})}getClient(){if(this.disconnected===!0)throw Error("You can't use a channel after client.disconnect() was called");return this._client}getConfig(){return this.getClient().configs[this.cid]}async _sendMessage(t,a){return await this.getClient().post(this._channelURL()+"/message",{message:t,...a})}async sendMessage(t,a){try{const e=this.getClient().offlineDb;if(e){const n=t.id;if(n)return await e.queueTask({task:{channelId:this.id,channelType:this.type,messageId:n,payload:[t,a],type:"send-message"}})}}catch(e){this._client.logger("error","offlineDb:send-message",{tags:["channel","offlineDb"],error:e})}return await this._sendMessage(t,a)}sendFile(t,a,e,n){return this.getClient().sendFile(`${this._channelURL()}/file`,t,a,e,n)}sendImage(t,a,e,n){return this.getClient().sendFile(`${this._channelURL()}/image`,t,a,e,n)}deleteFile(t){return this.getClient().delete(`${this._channelURL()}/file`,{url:t})}deleteImage(t){return this.getClient().delete(`${this._channelURL()}/image`,{url:t})}async sendEvent(t){return this._checkInitialized(),await this.getClient().post(this._channelURL()+"/event",{event:t})}async search(t,a={}){if(a.offset&&a.next)throw Error("Cannot specify offset with next");const e={filter_conditions:{cid:this.cid},...a,sort:a.sort?ba(a.sort):void 0};if(typeof t=="string")e.query=t;else if(typeof t=="object")e.message_filter_conditions=t;else throw Error(`Invalid type ${typeof t} for query parameter`);return await this.getClient().wsPromise,await this.getClient().get(this.getClient().baseURL+"/search",{payload:e})}async queryMembers(t,a=[],e={}){var c;let n;const s=this.type;let l;return this.id?n=this.id:(c=this.data)!=null&&c.members&&Array.isArray(this.data.members)&&(l=this.data.members),await this.getClient().get(this.getClient().baseURL+"/members",{payload:{type:s,id:n,members:l,sort:ba(a),filter_conditions:t,...e}})}async updateMemberPartial(t,a){const e=new URL(`${this._channelURL()}/member`);return a!=null&&a.userId&&e.searchParams.append("user_id",a.userId),await this.getClient().patch(e.toString(),t)}async partialUpdateMember(t,a){if(!t)throw Error("Please specify the user id");return await this.getClient().patch(this._channelURL()+`/member/${encodeURIComponent(t)}`,a)}async sendReaction(t,a,e){if(!t)throw Error("Message id is missing");if(!a||Object.keys(a).length===0)throw Error("Reaction object is missing");try{const n=this.getClient().offlineDb;if(n)return await n.queueTask({task:{channelId:this.id,channelType:this.type,messageId:t,payload:[t,a,e],type:"send-reaction"}})}catch(n){this._client.logger("error","offlineDb:send-reaction",{tags:["channel","offlineDb"],error:n})}return this._sendReaction(t,a,e)}async _sendReaction(t,a,e){if(!t)throw Error("Message id is missing");if(!a||Object.keys(a).length===0)throw Error("Reaction object is missing");return await this.getClient().post(this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/reaction`,{reaction:a,...e})}async deleteReaction(t,a,e){if(this._checkInitialized(),!a||!t)throw Error("Deleting a reaction requires specifying both the message and reaction type");try{const n=this.getClient().offlineDb;if(n){const s=this.state.messages.find(({id:c})=>c===t),l={created_at:"",updated_at:"",message_id:t,type:a,user_id:this.getClient().userID??e};return s&&await n.deleteReaction({message:s,reaction:l}),await n.queueTask({task:{channelId:this.id,channelType:this.type,messageId:t,payload:[t,a],type:"delete-reaction"}})}}catch(n){this._client.logger("error","offlineDb:delete-reaction",{tags:["channel","offlineDb"],error:n})}return await this._deleteReaction(t,a,e)}async _deleteReaction(t,a,e){if(this._checkInitialized(),!a||!t)throw Error("Deleting a reaction requires specifying both the message and reaction type");const n=this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/reaction/${encodeURIComponent(a)}`;return e?await this.getClient().delete(n,{user_id:e}):await this.getClient().delete(n,{})}async update(t={},a,e){return["config","cid","created_by","id","member_count","type","created_at","updated_at","last_message_at","own_capabilities"].forEach(s=>{delete t[s]}),await this._update({message:a,data:t,...e})}async updatePartial(t){var n,s;const a=await this.getClient().patch(this._channelURL(),t),e=[...a.channel.own_capabilities||[]].sort().join()!==[...Array.isArray((n=this.data)==null?void 0:n.own_capabilities)?(s=this.data)==null?void 0:s.own_capabilities:[]].sort().join();return this.data=a.channel,e&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:a.channel.own_capabilities}),a}async enableSlowMode(t){const a=await this.getClient().post(this._channelURL(),{cooldown:t});return this.data=a.channel,a}async disableSlowMode(){const t=await this.getClient().post(this._channelURL(),{cooldown:0});return this.data=t.channel,t}async delete(t={}){return await this.getClient().delete(this._channelURL(),{...t})}async truncate(t={}){return await this.getClient().post(this._channelURL()+"/truncate",t)}async acceptInvite(t={}){return await this._update({accept_invite:!0,...t})}async rejectInvite(t={}){return await this._update({reject_invite:!0,...t})}async addMembers(t,a,e={}){return await this._update({add_members:t,message:a,...e})}async addModerators(t,a,e={}){return await this._update({add_moderators:t,message:a,...e})}async assignRoles(t,a,e={}){return await this._update({assign_roles:t,message:a,...e})}async inviteMembers(t,a,e={}){return await this._update({invites:t,message:a,...e})}async removeMembers(t,a,e={}){return await this._update({remove_members:t,message:a,...e})}async demoteModerators(t,a,e={}){return await this._update({demote_moderators:t,message:a,...e})}async _update(t){const a=await this.getClient().post(this._channelURL(),t);return this.data=a.channel,a}async mute(t={}){return await this.getClient().post(this.getClient().baseURL+"/moderation/mute/channel",{channel_cid:this.cid,...t})}async unmute(t={}){return await this.getClient().post(this.getClient().baseURL+"/moderation/unmute/channel",{channel_cid:this.cid,...t})}async archive(t={}){const a=this.getClient(),e=t.user_id||a.userID;if(!e)throw Error("A user_id is required for archiving a channel");return(await this.partialUpdateMember(e,{set:{archived:!0}})).channel_member}async unarchive(t={}){const a=this.getClient(),e=t.user_id||a.userID;if(!e)throw Error("A user_id is required for unarchiving a channel");return(await this.partialUpdateMember(e,{set:{archived:!1}})).channel_member}async pin(t={}){const a=this.getClient(),e=t.user_id||a.userID;if(!e)throw new Error("A user_id is required for pinning a channel");return(await this.partialUpdateMember(e,{set:{pinned:!0}})).channel_member}async unpin(t={}){const a=this.getClient(),e=t.user_id||a.userID;if(!e)throw new Error("A user_id is required for unpinning a channel");return(await this.partialUpdateMember(e,{set:{pinned:!1}})).channel_member}muteStatus(){return this._checkInitialized(),this.getClient()._muteStatus(this.cid)}sendAction(t,a){if(this._checkInitialized(),!t)throw Error("Message id is missing");return this.getClient().post(this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/action`,{message_id:t,form_data:a,id:this.id,type:this.type})}async keystroke(t,a){if(!this._isTypingIndicatorsEnabled())return;const e=new Date,n=this.lastTypingEvent&&e.getTime()-this.lastTypingEvent.getTime();this.lastKeyStroke=e,this.isTyping=!0,(n===null||n>2e3)&&(this.lastTypingEvent=new Date,await this.sendEvent({type:"typing.start",parent_id:t,...a||{}}))}async updateAIState(t,a,e={}){await this.sendEvent({...e,type:"ai_indicator.update",message_id:t,ai_state:a})}async clearAIIndicator(){await this.sendEvent({type:"ai_indicator.clear"})}async stopAIResponse(){await this.sendEvent({type:"ai_indicator.stop"})}async stopTyping(t,a){this._isTypingIndicatorsEnabled()&&(this.lastTypingEvent=null,this.isTyping=!1,await this.sendEvent({type:"typing.stop",parent_id:t,...a||{}}))}_isTypingIndicatorsEnabled(){var t,a,e,n,s;return!((t=this.getConfig())!=null&&t.typing_events)||!((a=this.getClient().wsConnection)!=null&&a.isHealthy)?!1:((s=(n=(e=this.getClient().user)==null?void 0:e.privacy_settings)==null?void 0:n.typing_indicators)==null?void 0:s.enabled)??!0}lastMessage(){let t=this.state.latestMessages.length-5;t<0&&(t=0);const a=this.state.latestMessages.length+1,e=this.state.latestMessages.slice(t,a);return e.sort((n,s)=>s.created_at.getTime()-n.created_at.getTime()),e[0]}async markRead(t={}){var a;return this._checkInitialized(),!((a=this.getConfig())!=null&&a.read_events)&&!this.getClient()._isUsingServerAuth()?Promise.resolve(null):await this.getClient().post(this._channelURL()+"/read",{...t})}async markUnread(t){var a;return this._checkInitialized(),!((a=this.getConfig())!=null&&a.read_events)&&!this.getClient()._isUsingServerAuth()?Promise.resolve(null):await this.getClient().post(this._channelURL()+"/unread",{...t})}clean(){this.lastKeyStroke&&new Date().getTime()-this.lastKeyStroke.getTime()>1e3&&this.isTyping&&kw(this.stopTyping(),"stop typing event"),this.state.clean()}async watch(t){const a={state:!0,watch:!0,presence:!1};await this.getClient().wsPromise,this.getClient()._hasConnectionID()||(a.watch=!1);const e={...a,...t},n=await this.query(e,"latest");return this.initialized=!0,this.data=n.channel,this._client.logger("info",`channel:watch() - started watching channel ${this.cid}`,{tags:["channel"],channel:this}),n}async stopWatching(){const t=await this.getClient().post(this._channelURL()+"/stop-watching",{});return this._client.logger("info",`channel:watch() - stopped watching channel ${this.cid}`,{tags:["channel"],channel:this}),t}async getReplies(t,a,e){const n=e?ba(e):void 0,s=await this.getClient().get(this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/replies`,{sort:n,...a});return s.messages&&this.state.addMessagesSorted(s.messages),s}async getPinnedMessages(t,a=[]){return await this.getClient().get(this._channelURL()+"/pinned_messages",{payload:{...t,sort:ba(a)}})}getReactions(t,a){return this.getClient().get(this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/reactions`,{...a})}getMessagesById(t){return this.getClient().get(this._channelURL()+"/messages",{ids:t.join(",")})}lastRead(){const{userID:t}=this.getClient();if(t)return this.state.read[t]?this.state.read[t].last_read:null}_countMessageAsUnread(t){var a,e,n,s;return!(t.shadowed||t.silent||t.parent_id&&!t.show_in_channel||((a=t.user)==null?void 0:a.id)===this.getClient().userID||(e=t.user)!=null&&e.id&&this.getClient().userMuteStatus(t.user.id)||Array.isArray((n=this.data)==null?void 0:n.own_capabilities)&&!((s=this.data)!=null&&s.own_capabilities.includes("read-events"))||this.muteStatus().muted)}countUnread(t){if(!t)return this.state.unreadCount;let a=0;for(let e=0;e<this.state.latestMessages.length;e+=1){const n=this.state.latestMessages[e];n.created_at>t&&this._countMessageAsUnread(n)&&a++}return a}countUnreadMentions(){var n;const t=this.lastRead(),a=this.getClient().userID;let e=0;for(let s=0;s<this.state.latestMessages.length;s+=1){const l=this.state.latestMessages[s];this._countMessageAsUnread(l)&&(!t||l.created_at>t)&&((n=l.mentioned_users)!=null&&n.some(c=>c.id===a))&&e++}return e}async query(t={},a="current"){var u,m,h,f,y,b,E;await this.getClient().wsPromise;const e=((u=t.created_by)==null?void 0:u.id)??t.created_by_id??((h=(m=this._data)==null?void 0:m.created_by)==null?void 0:h.id)??((f=this._data)==null?void 0:f.created_by_id);this.getClient()._isUsingServerAuth()&&typeof e!="string"&&this.getClient().logger("warn","Either `created_by` (with `id` property) or `created_by_id` are missing from both `Channel._data` and `options` parameter");let n=`${this.getClient().baseURL}/channels/${encodeURIComponent(this.type)}`;this.id&&(n+=`/${encodeURIComponent(this.id)}`);const s=await this.getClient().post(n+"/query",{data:this._data,state:!0,...t});if(!this.id){this.id=s.channel.id,this.cid=s.channel.cid;const w=V0(this.type,s.members.map(_=>{var C;return _.user_id||((C=_.user)==null?void 0:C.id)||""}));w&&w in this.getClient().activeChannels&&delete this.getClient().activeChannels[w],!(this.cid in this.getClient().activeChannels)&&this.getClient()._cacheEnabled()&&(this.getClient().activeChannels[this.cid]=this)}this.getClient()._addChannelConfig(s.channel);const{messageSet:l}=this._initializeState(s,a);l.pagination={...l.pagination,...Pw({parentSet:l,messagePaginationOptions:t==null?void 0:t.messages,requestedPageSize:((y=t==null?void 0:t.messages)==null?void 0:y.limit)??LT,returnedPage:s.messages,logger:this.getClient().logger})},this.getClient().polls.hydratePollCache(s.messages,!0),s.draft&&this.messageComposer.initState({composition:s.draft});const c=[...s.channel.own_capabilities||[]].sort().join()!==[...this.data&&Array.isArray((b=this.data)==null?void 0:b.own_capabilities)?this.data.own_capabilities:[]].sort().join();return this.data=s.channel,this.offlineMode=!1,c&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:s.channel.own_capabilities}),this.getClient().dispatchEvent({type:"channels.queried",queriedChannels:{channels:[s],isLatestMessageSet:l.isLatest}}),(E=this.getClient().offlineDb)==null||E.executeQuerySafely(w=>{var _;return(_=w.upsertChannels)==null?void 0:_.call(w,{channels:[s],isLatestMessagesSet:l.isLatest})},{method:"upsertChannels"}),s}async banUser(t,a){return this._checkInitialized(),await this.getClient().banUser(t,{...a,type:this.type,id:this.id})}async hide(t=null,a=!1){return this._checkInitialized(),await this.getClient().post(`${this._channelURL()}/hide`,{user_id:t,clear_history:a})}async show(t=null){return this._checkInitialized(),await this.getClient().post(`${this._channelURL()}/show`,{user_id:t})}async unbanUser(t){return this._checkInitialized(),await this.getClient().unbanUser(t,{type:this.type,id:this.id})}async shadowBan(t,a){return this._checkInitialized(),await this.getClient().shadowBan(t,{...a,type:this.type,id:this.id})}async removeShadowBan(t){return this._checkInitialized(),await this.getClient().removeShadowBan(t,{type:this.type,id:this.id})}async vote(t,a,e){return await this.getClient().castPollVote(t,a,e)}async removeVote(t,a,e){return await this.getClient().removePollVote(t,a,e)}async createDraft(t){return await this.getClient().post(this._channelURL()+"/draft",{message:t})}async deleteDraft({parent_id:t}={}){return await this.getClient().delete(this._channelURL()+"/draft",{parent_id:t})}async getDraft({parent_id:t}={}){return await this.getClient().get(this._channelURL()+"/draft",{parent_id:t})}on(t,a){const e=a?t:"all",n=a||t;return e in this.listeners||(this.listeners[e]=[]),this._client.logger("info",`Attaching listener for ${e} event on channel ${this.cid}`,{tags:["event","channel"],channel:this}),this.listeners[e].push(n),{unsubscribe:()=>{this._client.logger("info",`Removing listener for ${e} event from channel ${this.cid}`,{tags:["event","channel"],channel:this}),this.listeners[e]=this.listeners[e].filter(s=>s!==n)}}}off(t,a){const e=a?t:"all",n=a||t;e in this.listeners||(this.listeners[e]=[]),this._client.logger("info",`Removing listener for ${e} event from channel ${this.cid}`,{tags:["event","channel"],channel:this}),this.listeners[e]=this.listeners[e].filter(s=>s!==n)}_handleChannelEvent(t){var n,s,l,c,u,m,h,f,y,b,E,w,_,C,S,I,k,N,M,R,$,z,Y,J,ae,H,Z,O;const a=this;this._client.logger("info",`channel:_handleChannelEvent - Received event of type { ${t.type} } on ${this.cid}`,{tags:["event","channel"],channel:this});const e=a.state;switch(t.type){case"typing.start":(n=t.user)!=null&&n.id&&(e.typing[t.user.id]=t);break;case"typing.stop":(s=t.user)!=null&&s.id&&delete e.typing[t.user.id];break;case"message.read":(l=t.user)!=null&&l.id&&t.created_at&&(e.read[t.user.id]={last_read:new Date(t.created_at),last_read_message_id:t.last_read_message_id,user:t.user,unread_messages:0},((c=t.user)==null?void 0:c.id)===((u=this.getClient().user)==null?void 0:u.id)&&(e.unreadCount=0));break;case"user.watching.start":case"user.updated":(m=t.user)!=null&&m.id&&(e.watchers[t.user.id]=t.user);break;case"user.watching.stop":(h=t.user)!=null&&h.id&&delete e.watchers[t.user.id];break;case"message.deleted":t.message&&(this._extendEventWithOwnReactions(t),t.hard_delete?e.removeMessage(t.message):e.addMessageSorted(t.message,!1,!1),e.removeQuotedMessageReferences(t.message),t.message.pinned&&e.removePinnedMessage(t.message));break;case"message.new":if(t.message){const L=((f=t.user)==null?void 0:f.id)===((y=this.getClient().user)==null?void 0:y.id),A=t.message.parent_id&&!t.message.show_in_channel;if((this.state.isUpToDate||A)&&e.addMessageSorted(t.message,L),t.message.pinned&&e.addPinnedMessage(t.message),L||A)break;if((b=t.user)!=null&&b.id)for(const q in e.read)q===t.user.id?e.read[t.user.id]={last_read:new Date(t.created_at),user:t.user,unread_messages:0}:e.read[q].unread_messages+=1;this._countMessageAsUnread(t.message)&&(e.unreadCount=e.unreadCount+1)}break;case"message.updated":case"message.undeleted":t.message&&(this._extendEventWithOwnReactions(t),e.addMessageSorted(t.message,!1,!1),e._updateQuotedMessageReferences({message:t.message}),t.message.pinned?e.addPinnedMessage(t.message):e.removePinnedMessage(t.message));break;case"channel.truncated":if((E=t.channel)!=null&&E.truncated_at){const L=+new Date(t.channel.truncated_at);e.messageSets.forEach((A,U)=>{A.messages.forEach(({created_at:q,id:Q})=>{L>+q&&e.removeMessage({id:Q,messageSetIndex:U})})}),e.pinnedMessages.forEach(({id:A,created_at:U})=>{L>+U&&e.removePinnedMessage({id:A})}),e.unreadCount=this.countUnread(new Date(t.channel.truncated_at))}else e.clearMessages(),e.unreadCount=0;t.message&&(e.addMessageSorted(t.message),t.message.pinned&&e.addPinnedMessage(t.message));break;case"member.added":case"member.updated":{const L={...t.member};L.pinned_at===null&&delete L.pinned_at,L.archived_at===null&&delete L.archived_at,L!=null&&L.user&&(e.members={...e.members,[L.user.id]:L},(w=a.data)!=null&&w.member_count&&t.type==="member.added"&&(a.data.member_count+=1));const A=this.getClient().userID;typeof A=="string"&&typeof((_=L==null?void 0:L.user)==null?void 0:_.id)=="string"&&L.user.id===A&&(e.membership=L);break}case"member.removed":if((C=t.user)!=null&&C.id){const L={...e.members};delete L[t.user.id],e.members=L,(S=a.data)!=null&&S.member_count&&(a.data.member_count=Math.max(a.data.member_count-1,0))}break;case"notification.mark_unread":{if(!(((I=t.user)==null?void 0:I.id)===((k=this.getClient().user)==null?void 0:k.id)&&t.user))break;const A=t.unread_messages??0;e.read[t.user.id]={first_unread_message_id:t.first_unread_message_id,last_read:new Date(t.last_read_at),last_read_message_id:t.last_read_message_id,user:t.user,unread_messages:A},e.unreadCount=A;break}case"channel.updated":if(t.channel){((N=t.channel)==null?void 0:N.frozen)!==void 0&&t.channel.frozen!==((M=a.data)==null?void 0:M.frozen)&&this.query({state:!1,messages:{limit:0},watchers:{limit:0}});const A={...t.channel,hidden:((R=t.channel)==null?void 0:R.hidden)??(($=a.data)==null?void 0:$.hidden),own_capabilities:((z=t.channel)==null?void 0:z.own_capabilities)??((Y=a.data)==null?void 0:Y.own_capabilities)};a.data=A}break;case"reaction.new":if(t.message&&t.reaction){const{message:L,reaction:A}=t;t.message=e.addReaction(A,L)}break;case"reaction.deleted":if(t.message&&t.reaction){const{message:L,reaction:A}=t;t.message=e.removeReaction(A,L)}break;case"reaction.updated":if(t.message&&t.reaction){const{message:L,reaction:A}=t;t.message=e.addReaction(A,L,!0)}break;case"channel.hidden":a.data={...a.data,hidden:!0},t.clear_history&&e.clearMessages();break;case"channel.visible":a.data={...a.data,hidden:!1},(J=this.getClient().offlineDb)==null||J.handleChannelVisibilityEvent({event:t});break;case"user.banned":if(!((ae=t.user)!=null&&ae.id))break;e.members[t.user.id]={...e.members[t.user.id]||{},shadow_banned:!!t.shadow,banned:!t.shadow,user:{...((H=e.members[t.user.id])==null?void 0:H.user)||{},...t.user}};break;case"user.unbanned":if(!((Z=t.user)!=null&&Z.id))break;e.members[t.user.id]={...e.members[t.user.id]||{},shadow_banned:!1,banned:!1,user:{...((O=e.members[t.user.id])==null?void 0:O.user)||{},...t.user}};break}t.watcher_count!==void 0&&(a.state.watcher_count=t.watcher_count)}_checkInitialized(){if(!this.initialized&&!this.offlineMode&&!this.getClient()._isUsingServerAuth())throw Error(`Channel ${this.cid} hasn't been initialized yet. Make sure to call .watch() and wait for it to resolve`)}_initializeState(t,a="latest"){const{state:e,user:n,userID:s}=this.getClient();if(t.members){this._hydrateMembers({members:t.members});for(const u of t.members)u.user&&e.updateUserReference(u.user,this.cid)}this.state.membership=t.membership||{};const l=t.messages||[];this.state.messages||this.state.initMessages();const{messageSet:c}=this.state.addMessagesSorted(l,!1,!0,!0,a);if(this.state.pinnedMessages||(this.state.pinnedMessages=[]),this.state.addPinnedMessages(t.pinned_messages||[]),t.pending_messages&&(this.state.pending_messages=t.pending_messages),t.watcher_count!==void 0&&(this.state.watcher_count=t.watcher_count),t.watchers)for(const u of t.watchers)u&&(e.updateUserReference(u,this.cid),this.state.watchers[u.id]=u);if(s!=null){const u=this.state.last_message_at||new Date;n&&(this.state.read[n.id]={user:n,last_read:u,unread_messages:0})}if(t.read)for(const u of t.read)this.state.read[u.user.id]={last_read:new Date(u.last_read),last_read_message_id:u.last_read_message_id,unread_messages:u.unread_messages??0,user:u.user},u.user.id===(n==null?void 0:n.id)&&(this.state.unreadCount=this.state.read[u.user.id].unread_messages);return{messageSet:c}}_extendEventWithOwnReactions(t){if(!t.message)return;const a=this.state.findMessage(t.message.id,t.message.parent_id);a&&(t.message.own_reactions=a.own_reactions)}_hydrateMembers({members:t,overrideCurrentState:a=!0}){const e=t.reduce((n,s)=>(s.user&&(n[s.user.id]=s),n),{});a?this.state.members=e:!a&&t.length&&(this.state.members={...this.state.members,...e})}_disconnect(){this._client.logger("info",`channel:disconnect() - Disconnecting the channel ${this.cid}`,{tags:["connection","channel"],channel:this}),this.disconnected=!0,this.state.setIsUpToDate(!1)}},ix=class{constructor({client:t}){this.client=t,this.users={},this.userChannelReferences={}}updateUsers(t){for(const a of t)this.updateUser(a)}updateUser(t){t!=null&&this.client._cacheEnabled()&&(this.users[t.id]=t)}updateUserReference(t,a){t==null||!this.client._cacheEnabled()||(this.updateUser(t),this.userChannelReferences[t.id]||(this.userChannelReferences[t.id]={}),this.userChannelReferences[t.id][a]=!0)}deleteAllChannelReference(t){for(const a in this.userChannelReferences)delete this.userChannelReferences[a][t]}},ul=null;typeof WebSocket<"u"?ul=WebSocket:typeof MozWebSocket<"u"?ul=MozWebSocket:typeof global<"u"?ul=global.WebSocket||global.MozWebSocket:typeof window<"u"?ul=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ul=self.WebSocket||self.MozWebSocket);var WL=ul,jL=class{constructor(){this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=ml()}},Qc=async(t,a)=>{for(let n=0;n<3;n++){try{await pd.post(`https://chat-insights.getstream.io/insights/${t}`,a)}catch{await Pi((n+1)*3e3);continue}break}};function HL(t,a){return{...a,...i5(t)}}function i5(t){var e;const{client:a}=t;return{ready_state:(e=t.ws)==null?void 0:e.readyState,url:t._buildUrl(),api_key:a.key,start_ts:a.insightMetrics.connectionStartTimestamp,end_ts:new Date().getTime(),auth_type:a.getAuthType(),token:a.tokenManager.token,user_id:a.userID,user_details:a._user,device:a.options.device,client_id:t.connectionID,ws_details:t.ws,ws_consecutive_failures:a.insightMetrics.wsConsecutiveFailures,ws_total_failures:a.insightMetrics.wsTotalFailures,request_id:t.requestID,online:typeof navigator<"u"?navigator==null?void 0:navigator.onLine:null,user_agent:typeof navigator<"u"?navigator==null?void 0:navigator.userAgent:null,instance_client_id:a.insightMetrics.instanceClientId}}function YL(t){return i5(t)}var $L=t=>t.code!==void 0,GL=t=>t.error!==void 0,qL=class{constructor({client:t}){this._buildUrl=()=>{const a=this.client._buildWSPayload(this.requestID),e=this.client.tokenManager.getToken(),n=this.client.options.wsUrlParams,s=new URLSearchParams(n);return s.set("json",a),s.set("api_key",this.client.key),s.set("authorization",`${e}`),s.set("stream-auth-type",this.client.getAuthType()),s.set("X-Stream-Client",this.client.getUserAgent()),`${this.client.wsBaseURL}/connect?${s.toString()}`},this.onlineStatusChanged=a=>{a.type==="offline"?(this._log("onlineStatusChanged() - Status changing to offline"),this._setHealth(!1)):a.type==="online"&&(this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`),this.isHealthy||this._reconnect({interval:10}))},this.onopen=a=>{this.wsID===a&&this._log("onopen() - onopen callback",{wsID:a})},this.onmessage=(a,e)=>{var s,l;if(this.wsID!==a)return;this._log("onmessage() - onmessage callback",{event:e,wsID:a});const n=typeof e.data=="string"?JSON.parse(e.data):null;if(!this.isResolved&&n){if(this.isResolved=!0,n.error){(s=this.rejectPromise)==null||s.call(this,this._errorFromWSEvent(n,!1));return}(l=this.resolvePromise)==null||l.call(this,n),this._setHealth(!0)}this.lastEvent=new Date,n&&n.type==="health.check"&&this.scheduleNextPing(),this.client.handleEvent(e),this.scheduleConnectionCheck()},this.onclose=(a,e)=>{var n,s;if(this.wsID===a)if(this._log("onclose() - onclose callback - "+e.code,{event:e,wsID:a}),e.code===Zc.WS_CLOSED_SUCCESS){const l=new Error(`WS connection reject with error ${e.reason}`);l.reason=e.reason,l.code=e.code,l.wasClean=e.wasClean,l.target=e.target,(n=this.rejectPromise)==null||n.call(this,l),this._log(`onclose() - WS connection reject with error ${e.reason}`,{event:e})}else this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,(s=this.rejectPromise)==null||s.call(this,this._errorFromWSEvent(e)),this._log("onclose() - WS connection closed. Calling reconnect ...",{event:e}),this._reconnect()},this.onerror=(a,e)=>{var n;this.wsID===a&&(this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,(n=this.rejectPromise)==null||n.call(this,this._errorFromWSEvent(e)),this._log("onerror() - WS connection resulted into error",{event:e}),this._reconnect())},this._setHealth=a=>{if(a!==this.isHealthy){if(this.isHealthy=a,this.isHealthy){this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy});return}setTimeout(()=>{this.isHealthy||this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy})},5e3)}},this._errorFromWSEvent=(a,e=!0)=>{let n,s,l;$L(a)&&(n=a.code,s="unknown",l=a.reason),GL(a)&&(n=a.error.code,s=a.error.StatusCode,l=a.error.message),this._log(`_errorFromWSEvent() - WS failed with code ${n}`,{event:a},"warn");const c=new Error(`WS failed with code ${n} and reason - ${l}`);return c.code=n,c.StatusCode=s,c.isWSFailure=e,c},this._setupConnectionPromise=()=>{this.isResolved=!1,this.connectionOpen=new Promise((a,e)=>{this.resolvePromise=a,this.rejectPromise=e})},this.scheduleNextPing=()=>{this.healthCheckTimeoutRef&&clearTimeout(this.healthCheckTimeoutRef),this.healthCheckTimeoutRef=setTimeout(()=>{var e;const a=[{type:"health.check",client_id:this.client.clientID}];try{(e=this.ws)==null||e.send(JSON.stringify(a))}catch{}},this.pingInterval)},this.scheduleConnectionCheck=()=>{this.connectionCheckTimeoutRef&&clearTimeout(this.connectionCheckTimeoutRef),this.connectionCheckTimeoutRef=setTimeout(()=>{const a=new Date;this.lastEvent&&a.getTime()-this.lastEvent.getTime()>this.connectionCheckTimeout&&(this._log("scheduleConnectionCheck - going to reconnect"),this._setHealth(!1),this._reconnect())},this.connectionCheckTimeout)},this.client=t,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.isDisconnected=!1,this.isResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25*1e3,this.connectionCheckTimeout=this.pingInterval+10*1e3,Aw(this.onlineStatusChanged)}_log(t,a={},e="info"){this.client.logger(e,"connection:"+t,{tags:["connection"],...a})}setClient(t){this.client=t}async connect(t=15e3){if(this.isConnecting)throw Error("You've called connect twice, can only attempt 1 connection at the time");this.isDisconnected=!1;try{const a=await this._connect();this.consecutiveFailures=0,this._log(`connect() - Established ws connection with healthcheck: ${a}`)}catch(a){this.isHealthy=!1,this.consecutiveFailures+=1;const e=a;if(e.code===Zc.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});else if(!e.isWSFailure)throw new Error(JSON.stringify({code:e.code,StatusCode:e.StatusCode,message:e.message,isWSFailure:e.isWSFailure}))}return await this._waitForHealthy(t)}_waitForHealthy(t=15e3){return Promise.race([(async()=>{for(let e=0;e<=t;e+=50)try{return await this.connectionOpen}catch(n){if(e===t)throw new Error(JSON.stringify({code:n.code,StatusCode:n.StatusCode,message:n.message,isWSFailure:n.isWSFailure}));await Pi(50)}})(),(async()=>{throw await Pi(t),this.isConnecting=!1,new Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}))})()])}disconnect(t){this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),Dw(this.onlineStatusChanged),this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();let a;const{ws:e}=this;return e&&e.close&&e.readyState===e.OPEN?(a=new Promise(n=>{const s=l=>{this._log(`disconnect() - resolving isClosedPromise ${l?"with":"without"} close frame`,{event:l}),n()};e.onclose=s,setTimeout(s,t??1e3)}),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),e.close(Zc.WS_CLOSED_SUCCESS,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),a=Promise.resolve()),delete this.ws,a}async _connect(){if(this.isConnecting||this.isDisconnected&&this.client.options.enableWSFallback)return;this.isConnecting=!0,this.requestID=ml(),this.client.insightMetrics.connectionStartTimestamp=new Date().getTime();let t=!1;try{this._log("_connect() - waiting for token"),await this.client.tokenManager.tokenReady(),t=!0}catch{}try{t||(this._log("_connect() - tokenProvider failed before, so going to retry"),await this.client.tokenManager.loadToken()),this._setupConnectionPromise();const a=this._buildUrl();this._log(`_connect() - Connecting to ${a}`,{wsURL:a,requestID:this.requestID}),this.ws=new WL(a),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID);const e=await this.connectionOpen;if(this.isConnecting=!1,e)return this.connectionID=e.connection_id,this.client.insightMetrics.wsConsecutiveFailures>0&&this.client.options.enableInsights&&(Qc("ws_success_after_failure",YL(this)),this.client.insightMetrics.wsConsecutiveFailures=0),e}catch(a){if(this.isConnecting=!1,this._log("_connect() - Error - ",a),this.client.options.enableInsights){this.client.insightMetrics.wsConsecutiveFailures++,this.client.insightMetrics.wsTotalFailures++;const e=HL(this,JT(a));Qc==null||Qc("ws_fatal",e)}throw a}}async _reconnect(t={}){if(this._log("_reconnect() - Initiating the reconnect"),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (1) since already connecting or healthy");return}let a=t.interval;if(a||(a=zm(this.consecutiveFailures)),await Pi(a),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (2) since already connecting or healthy");return}if(this.isDisconnected&&this.client.options.enableWSFallback){this._log("_reconnect() - Abort (3) since disconnect() is called");return}this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),t.refreshToken&&await this.client.tokenManager.loadToken();try{await this._connect(),this._log("_reconnect() - Waiting for recoverCallBack"),await this.client.recoverState(),this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0}catch(e){if(this.isHealthy=!1,this.consecutiveFailures+=1,e.code===Zc.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});e.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect())}this._log("_reconnect() - == END ==")}_destroyCurrentWSConnection(){var t,a;this.wsID+=1;try{(t=this==null?void 0:this.ws)==null||t.removeAllListeners(),(a=this==null?void 0:this.ws)==null||a.close()}catch{}}},vm=kd(iM()),ox=kd(oM());function o5(t,a,e={},n={}){if(typeof a!="string")throw new TypeError("userId should be a string");const s={user_id:a,...e};if(vm.default==null||vm.default.sign==null)throw Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.");const l=Object.assign({algorithm:"HS256",noTimestamp:!0},n);return s.iat&&(l.noTimestamp=!1),vm.default.sign(s,t,l)}function lx(t,a={}){const e={server:!0},n=Object.assign({algorithm:"HS256",noTimestamp:!0},a);return vm.default.sign(e,t,n)}function ZL(t){const a=t.split(".");if(a.length!==3)return"";const e=a[1],n=uM(e);return JSON.parse(n).user_id}function VL(t){return["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",dM(JSON.stringify({user_id:t})),"devtoken"].join(".")}function QL(t,a,e){const n=Buffer.from(a,"utf8"),s=ox.default.createHmac("sha256",n).update(t).digest("hex");try{return ox.default.timingSafeEqual(Buffer.from(s),Buffer.from(e))}catch{return!1}}var JL=class{constructor(t){this.setTokenOrProvider=async(a,e)=>{this.validateToken(a,e),this.user=e,Kg(a)&&(this.tokenProvider=a,this.type="provider"),typeof a=="string"&&(this.token=a,this.type="static"),!a&&this.user&&this.secret&&(this.token=o5(this.secret,e.id,{},{}),this.type="static"),await this.loadToken()},this.reset=()=>{this.token=void 0,this.tokenProvider=void 0,this.type="static",this.user=void 0,this.loadTokenPromise=null},this.validateToken=(a,e)=>{if(!(e&&e.anon&&!a)){if(!this.secret&&!a)throw new Error("User token can not be empty");if(a&&typeof a!="string"&&!Kg(a))throw new Error("user token should either be a string or a function");if(typeof a=="string"){if(e.anon&&a==="")return;const n=ZL(a);if(a!=null&&(n==null||n===""||n!==e.id))throw new Error("userToken does not have a user_id or is not matching with user.id")}}},this.tokenReady=()=>this.loadTokenPromise,this.loadToken=()=>(this.loadTokenPromise=new Promise(async(a,e)=>{if(this.type==="static")return a(this.token);if(this.tokenProvider&&typeof this.tokenProvider!="string"){try{this.token=await this.tokenProvider()}catch(n){return e(new Error(`Call to tokenProvider failed with message: ${n}`))}a(this.token)}}),this.loadTokenPromise),this.getToken=()=>{if(this.token)return this.token;if(this.user&&this.user.anon&&!this.token)return this.token;if(this.secret)return lx(this.secret);throw new Error("Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called")},this.isStatic=()=>this.type==="static",this.loadTokenPromise=null,t&&(this.secret=t),this.type="static",this.secret&&(this.token=lx(this.secret))}},XL={"-1":{name:"InternalSystemError",retryable:!0},2:{name:"AccessKeyError",retryable:!1},3:{name:"AuthenticationFailedError",retryable:!0},4:{name:"InputError",retryable:!1},6:{name:"DuplicateUsernameError",retryable:!1},9:{name:"RateLimitError",retryable:!0},16:{name:"DoesNotExistError",retryable:!1},17:{name:"NotAllowedError",retryable:!1},18:{name:"EventNotSupportedError",retryable:!1},19:{name:"ChannelFeatureNotSupportedError",retryable:!1},20:{name:"MessageTooLongError",retryable:!1},21:{name:"MultipleNestingLevelError",retryable:!1},22:{name:"PayloadTooBigError",retryable:!1},23:{name:"RequestTimeoutError",retryable:!0},24:{name:"MaxHeaderSizeExceededError",retryable:!1},40:{name:"AuthErrorTokenExpired",retryable:!1},41:{name:"AuthErrorTokenNotValidYet",retryable:!1},42:{name:"AuthErrorTokenUsedBeforeIssuedAt",retryable:!1},43:{name:"AuthErrorTokenSignatureInvalid",retryable:!1},44:{name:"CustomCommandEndpointMissingError",retryable:!1},45:{name:"CustomCommandEndpointCallError",retryable:!0},46:{name:"ConnectionIDNotFoundError",retryable:!1},60:{name:"CoolDownError",retryable:!0},69:{name:"ErrWrongRegion",retryable:!1},70:{name:"ErrQueryChannelPermissions",retryable:!1},71:{name:"ErrTooManyConnections",retryable:!0},99:{name:"AppSuspendedError",retryable:!1}};function KL(t){return t.code!==void 0}function cx(t){if(!t.code)return!1;const a=XL[`${t.code}`];return a?a.retryable:!1}function eP(t){return t.code===46}function tP(t){if(typeof t.isWSFailure=="boolean")return t.isWSFailure;try{return JSON.parse(t.message).isWSFailure}catch{return!1}}function nP(t){return!t.status||t.status<200||300<=t.status}var aP=class{constructor({client:t}){this._onlineStatusChanged=a=>{var e;if(this._log(`_onlineStatusChanged() - ${a.type}`),a.type==="offline"){this._setState("CLOSED"),(e=this.cancelToken)==null||e.cancel("disconnect() is called"),this.cancelToken=void 0;return}a.type==="online"&&this.state==="CLOSED"&&this.connect(!0)},this._req=async(a,e,n)=>{var s;!this.cancelToken&&!a.close&&(this.cancelToken=pd.CancelToken.source());try{const l=await this.client.doAxiosRequest("get",this.client.baseURL.replace(":3030",":8900")+"/longpoll",void 0,{config:{...e,cancelToken:(s=this.cancelToken)==null?void 0:s.token},params:a});return this.consecutiveFailures=0,l}catch(l){if(this.consecutiveFailures+=1,n&&cx(l))return this._log("_req() - Retryable error, retrying request"),await Pi(zm(this.consecutiveFailures)),this._req(a,e,n);throw l}},this._poll=async()=>{var a;for(;this.state==="CONNECTED";)try{const e=await this._req({},{timeout:3e4},!0);if((a=e.events)!=null&&a.length)for(let n=0;n<e.events.length;n++)this.client.dispatchEvent(e.events[n])}catch(e){if(pd.isCancel(e)){this._log("_poll() - axios canceled request");return}if(eP(e)){this._log("_poll() - ConnectionID error, connecting without ID..."),this._setState("DISCONNECTED"),this.connect(!0);return}if(KL(e)&&!cx(e)){this._setState("CLOSED");return}await Pi(zm(this.consecutiveFailures))}},this.connect=async(a=!1)=>{if(this.state==="CONNECTING"){this._log("connect() - connecting already in progress",{reconnect:a},"warn");return}if(this.state==="CONNECTED"){this._log("connect() - already connected and polling",{reconnect:a},"warn");return}this._setState("CONNECTING"),this.connectionID=void 0;try{const{event:e}=await this._req({json:this.client._buildWSPayload()},{timeout:8e3},a);return this._setState("CONNECTED"),this.connectionID=e.connection_id,this.client.dispatchEvent(e),this._poll(),a&&this.client.recoverState(),e}catch(e){throw this._setState("CLOSED"),e}},this.isHealthy=()=>!!this.connectionID&&this.state==="CONNECTED",this.disconnect=async(a=2e3)=>{var n;Dw(this._onlineStatusChanged),this._setState("DISCONNECTED"),(n=this.cancelToken)==null||n.cancel("disconnect() is called"),this.cancelToken=void 0;const e=this.connectionID;this.connectionID=void 0;try{await this._req({close:!0,connection_id:e},{timeout:a},!1),this._log("disconnect() - Closed connectionID")}catch(s){this._log("disconnect() - Failed",{err:s},"error")}},this.client=t,this.state="INIT",this.consecutiveFailures=0,Aw(this._onlineStatusChanged)}_log(t,a={},e="info"){this.client.logger(e,"WSConnectionFallback:"+t,{tags:["connection_fallback","connection"],...a})}_setState(t){this._log(`_setState() - ${t}`),this.state==="CONNECTING"&&t==="CONNECTED"&&this.client.dispatchEvent({type:"connection.changed",online:!0}),(t==="CLOSED"||t==="DISCONNECTED")&&this.client.dispatchEvent({type:"connection.changed",online:!1}),this.state=t}},dx=class{constructor(t,a,e,n){this.client=t,this.type=a,this.id=e,this.data=n}create(){var a,e,n,s,l;const t={name:(a=this.data)==null?void 0:a.name,filter:(e=this.data)==null?void 0:e.filter,description:(n=this.data)==null?void 0:n.description,all_sender_channels:(s=this.data)==null?void 0:s.all_sender_channels,all_users:(l=this.data)==null?void 0:l.all_users};return this.client.createSegment(this.type,this.id,t)}verifySegmentId(){if(!this.id)throw new Error("Segment id is missing. Either create the segment using segment.create() or set the id during instantiation - const segment = client.segment(id)")}get(){return this.verifySegmentId(),this.client.getSegment(this.id)}update(t){return this.verifySegmentId(),this.client.updateSegment(this.id,t)}addTargets(t){return this.verifySegmentId(),this.client.addSegmentTargets(this.id,t)}removeTargets(t){return this.verifySegmentId(),this.client.removeSegmentTargets(this.id,t)}delete(){return this.verifySegmentId(),this.client.deleteSegment(this.id)}targetExists(t){return this.verifySegmentId(),this.client.segmentTargetExists(this.id,t)}queryTargets(t={},a=[],e={}){return this.verifySegmentId(),this.client.querySegmentTargets(this.id,t,a,e)}},nm={user:"stream:user",message:"stream:chat:v1:message",userprofile:"stream:v1:user_profile"},rP=class{constructor(t){this.client=t}flagUser(t,a,e={}){return this.flag(nm.user,t,"",a,e)}flagMessage(t,a,e={}){return this.flag(nm.message,t,"",a,e)}async flag(t,a,e,n,s={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/flag",{entity_type:t,entity_id:a,entity_creator_id:e,reason:n,...s})}async muteUser(t,a={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/mute",{target_ids:[t],...a})}async unmuteUser(t,a){return await this.client.post(this.client.baseURL+"/api/v2/moderation/unmute",{target_ids:[t],...a})}async getUserModerationReport(t,a={}){return await this.client.get(this.client.baseURL+"/api/v2/moderation/user_report",{user_id:t,...a})}async queryReviewQueue(t={},a=[],e={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/review_queue",{filter:t,sort:ba(a),...e})}async upsertConfig(t){return await this.client.post(this.client.baseURL+"/api/v2/moderation/config",t)}async getConfig(t,a){return await this.client.get(this.client.baseURL+"/api/v2/moderation/config/"+t,a)}async deleteConfig(t,a){return await this.client.delete(this.client.baseURL+"/api/v2/moderation/config/"+t,a)}async queryConfigs(t,a,e={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/configs",{filter:t,sort:a,...e})}async submitAction(t,a,e={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/submit_action",{action_type:t,item_id:a,...e})}async check(t,a,e,n,s,l){return await this.client.post(this.client.baseURL+"/api/v2/moderation/check",{entity_type:t,entity_id:a,entity_creator_id:e,moderation_payload:n,config_key:s,options:l})}async checkUserProfile(t,a){if(!a.username&&!a.image)throw new Error("Either username or image must be provided");const e={};return a.username&&(e.texts=[a.username]),a.image&&(e.images=[a.image]),await this.check(nm.userprofile,t,t,e,"user_profile:default",{force_sync:!0,test_mode:!0})}async addCustomFlags(t,a,e,n,s){return await this.client.post(this.client.baseURL+"/api/v2/moderation/custom_check",{entity_type:t,entity_id:a,entity_creator_id:e,moderation_payload:n,flags:s})}async addCustomMessageFlags(t,a){return await this.addCustomFlags(nm.message,t,"",{},a)}},sP=1e3,ux=25,mx={active:!1,isThreadOrderStale:!1,threads:[],unreadThreadCount:0,unseenThreadIds:[],lastConnectionDropAt:null,pagination:{isLoading:!1,isLoadingNext:!1,nextCursor:null},ready:!1},iP=class extends Md{constructor({client:t}){super(),this.resetState=()=>{this.state.next(mx)},this.activate=()=>{this.state.partialNext({active:!0})},this.deactivate=()=>{this.state.partialNext({active:!1})},this.registerSubscriptions=()=>{this.hasSubscriptions||(this.addUnsubscribeFunction(this.subscribeUnreadThreadsCountChange()),this.addUnsubscribeFunction(this.subscribeManageThreadSubscriptions()),this.addUnsubscribeFunction(this.subscribeReloadOnActivation()),this.addUnsubscribeFunction(this.subscribeNewReplies()),this.addUnsubscribeFunction(this.subscribeRecoverAfterConnectionDrop()),this.addUnsubscribeFunction(this.subscribeChannelDeleted()))},this.subscribeUnreadThreadsCountChange=()=>{const{unread_threads:a=0}=this.client.user??{};this.state.partialNext({unreadThreadCount:a});const e=["health.check","notification.mark_read","notification.thread_message_new","notification.channel_deleted"].map(n=>this.client.on(n,s=>{const{unread_threads:l}=s.me??s;typeof l=="number"&&this.state.partialNext({unreadThreadCount:l})}).unsubscribe);return()=>e.forEach(n=>n())},this.subscribeChannelDeleted=()=>this.client.on("notification.channel_deleted",a=>{const{cid:e}=a,{threads:n}=this.state.getLatestValue(),s=n.filter(l=>l.channel.cid!==e);this.state.partialNext({threads:s})}).unsubscribe,this.subscribeManageThreadSubscriptions=()=>this.state.subscribeWithSelector(a=>({threads:a.threads}),({threads:a},e)=>{const{threads:n=[]}=e??{},s=n.filter(l=>l!==this.threadsById[l.id]);a.forEach(l=>l.registerSubscriptions()),s.forEach(l=>l.unregisterSubscriptions())}),this.subscribeReloadOnActivation=()=>this.state.subscribeWithSelector(a=>({active:a.active}),({active:a})=>{a&&this.reload()}),this.subscribeNewReplies=()=>this.client.on("notification.thread_message_new",a=>{var l;const e=(l=a.message)==null?void 0:l.parent_id;if(!e)return;const{unseenThreadIds:n,ready:s}=this.state.getLatestValue();s&&(this.threadsById[e]?this.state.partialNext({isThreadOrderStale:!0}):n.includes(e)||this.state.partialNext({unseenThreadIds:n.concat(e)}))}).unsubscribe,this.subscribeRecoverAfterConnectionDrop=()=>{const a=this.client.on("connection.changed",s=>{s.online===!1&&this.state.next(l=>l.lastConnectionDropAt?l:{...l,lastConnectionDropAt:new Date})}).unsubscribe,e=Lw(()=>{const{lastConnectionDropAt:s}=this.state.getLatestValue();s&&this.reload({force:!0})},sP,{trailing:!0}),n=this.client.on("connection.recovered",e).unsubscribe;return()=>{a(),n()}},this.unregisterSubscriptions=()=>(this.state.getLatestValue().threads.forEach(a=>a.unregisterSubscriptions()),super.unregisterSubscriptions()),this.reload=async({force:a=!1}={})=>{const{threads:e,unseenThreadIds:n,isThreadOrderStale:s,pagination:l,ready:c}=this.state.getLatestValue();if(l.isLoading||!a&&c&&!n.length&&!s)return;const u=e.length+n.length;try{this.state.next(f=>({...f,pagination:{...f.pagination,isLoading:!0}}));const m=await this.queryThreads({limit:Math.min(u,ux)||ux}),h=[];for(const f of m.threads){const y=this.threadsById[f.id];y?(h.push(y),y.hasStaleState&&y.hydrateState(f)):h.push(f)}this.state.next(f=>({...f,threads:h,unseenThreadIds:[],isThreadOrderStale:!1,pagination:{...f.pagination,isLoading:!1,nextCursor:m.next??null},ready:!0}))}catch(m){this.client.logger("error",m.message),this.state.next(h=>({...h,pagination:{...h.pagination,isLoading:!1}}))}},this.queryThreads=(a={})=>this.client.queryThreads({limit:25,participant_limit:10,reply_limit:10,watch:!0,...a}),this.loadNextPage=async(a={})=>{const{pagination:e}=this.state.getLatestValue();if(!(e.isLoadingNext||!e.nextCursor))try{this.state.partialNext({pagination:{...e,isLoadingNext:!0}});const n=await this.queryThreads({...a,next:e.nextCursor});this.state.next(s=>({...s,threads:n.threads.length?s.threads.concat(n.threads):s.threads,pagination:{...s.pagination,nextCursor:n.next??null,isLoadingNext:!1}}))}catch(n){this.client.logger("error",n.message),this.state.next(s=>({...s,pagination:{...s.pagination,isLoadingNext:!1}}))}},this.client=t,this.state=new Ia(mx),this.threadsByIdGetterCache={threads:[],threadsById:{}}}get threadsById(){const{threads:t}=this.state.getLatestValue();if(t===this.threadsByIdGetterCache.threads)return this.threadsByIdGetterCache.threadsById;const a=t.reduce((e,n)=>(e[n.id]=n,e),{});return this.threadsByIdGetterCache.threads=t,this.threadsByIdGetterCache.threadsById=a,a}},oP=t=>t.type==="poll.updated",lP=t=>t.type==="poll.closed",cP=t=>t.type==="poll.vote_casted",dP=t=>t.type==="poll.vote_changed",uP=t=>t.type==="poll.vote_removed",lo=t=>!!(t!=null&&t.answer_text),px=class{constructor({client:t,poll:a}){this.getInitialStateFromPollResponse=e=>{const{own_votes:n,id:s,...l}=e,{ownAnswer:c,ownVotes:u}=(n==null?void 0:n.reduce((m,h)=>(lo(h)?m.ownAnswer=h:m.ownVotes.push(h),m),{ownVotes:[]}))??{ownVotes:[]};return{...l,lastActivityAt:new Date,maxVotedOptionIds:Wc(l.vote_counts_by_option),ownAnswer:c,ownVotesByOptionId:mP(u)}},this.upsertOfflineDb=()=>{var e;(e=this.client.offlineDb)==null||e.executeQuerySafely(n=>n.upsertPoll({poll:fP(this)}),{method:"upsertPoll"})},this.reinitializeState=e=>{this.state.partialNext(this.getInitialStateFromPollResponse(e))},this.handlePollUpdated=e=>{var l;if((l=e.poll)!=null&&l.id&&e.poll.id!==this.id||!oP(e))return;const{id:n,...s}=pP(e.poll);this.state.partialNext({...s,lastActivityAt:new Date(e.created_at)}),this.upsertOfflineDb()},this.handlePollClosed=e=>{var n;(n=e.poll)!=null&&n.id&&e.poll.id!==this.id||lP(e)&&(this.state.partialNext({is_closed:!0,lastActivityAt:new Date(e.created_at)}),this.upsertOfflineDb())},this.handleVoteCasted=e=>{var f;if((f=e.poll)!=null&&f.id&&e.poll.id!==this.id||!cP(e))return;const n=this.data,s=e.poll_vote.user_id===this.client.userID;let l=[...n.latest_answers],c=n.ownAnswer;const u=n.ownVotesByOptionId;let m=n.maxVotedOptionIds;s&&(lo(e.poll_vote)?c=e.poll_vote:e.poll_vote.option_id&&(u[e.poll_vote.option_id]=e.poll_vote)),lo(e.poll_vote)?l=[e.poll_vote,...l]:m=Wc(e.poll.vote_counts_by_option);const h=xg(e.poll);this.state.partialNext({...h,latest_answers:l,lastActivityAt:new Date(e.created_at),ownAnswer:c,ownVotesByOptionId:u,maxVotedOptionIds:m}),this.upsertOfflineDb()},this.handleVoteChanged=e=>{var f;if((f=e.poll)!=null&&f.id&&e.poll.id!==this.id||!dP(e))return;const n=this.data,s=e.poll_vote.user_id===this.client.userID;let l=[...n.latest_answers],c=n.ownAnswer,u=n.ownVotesByOptionId,m=n.maxVotedOptionIds;s?lo(e.poll_vote)?(l=[e.poll_vote,...l.filter(y=>y.id!==e.poll_vote.id)],c=e.poll_vote):e.poll_vote.option_id&&(e.poll.enforce_unique_vote?u={[e.poll_vote.option_id]:e.poll_vote}:(u=Object.entries(u).reduce((y,[b,E])=>(b!==e.poll_vote.option_id&&E.id===e.poll_vote.id||(y[b]=E),y),{}),u[e.poll_vote.option_id]=e.poll_vote),(c==null?void 0:c.id)===e.poll_vote.id&&(c=void 0),m=Wc(e.poll.vote_counts_by_option)):lo(e.poll_vote)?l=[e.poll_vote,...l]:m=Wc(e.poll.vote_counts_by_option);const h=xg(e.poll);this.state.partialNext({...h,latest_answers:l,lastActivityAt:new Date(e.created_at),ownAnswer:c,ownVotesByOptionId:u,maxVotedOptionIds:m}),this.upsertOfflineDb()},this.handleVoteRemoved=e=>{var f;if((f=e.poll)!=null&&f.id&&e.poll.id!==this.id||!uP(e))return;const n=this.data,s=e.poll_vote.user_id===this.client.userID;let l=[...n.latest_answers],c=n.ownAnswer;const u={...n.ownVotesByOptionId};let m=n.maxVotedOptionIds;lo(e.poll_vote)?(l=l.filter(y=>y.id!==e.poll_vote.id),s&&(c=void 0)):(m=Wc(e.poll.vote_counts_by_option),s&&e.poll_vote.option_id&&delete u[e.poll_vote.option_id]);const h=xg(e.poll);this.state.partialNext({...h,latest_answers:l,lastActivityAt:new Date(e.created_at),ownAnswer:c,ownVotesByOptionId:u,maxVotedOptionIds:m}),this.upsertOfflineDb()},this.query=async e=>{const{poll:n}=await this.client.getPoll(e);return this.state.partialNext({...n,lastActivityAt:new Date}),n},this.update=async e=>await this.client.updatePoll({...e,id:this.id}),this.partialUpdate=async e=>await this.client.partialUpdatePoll(this.id,e),this.close=async()=>await this.client.closePoll(this.id),this.delete=async()=>await this.client.deletePoll(this.id),this.createOption=async e=>await this.client.createPollOption(this.id,e),this.updateOption=async e=>await this.client.updatePollOption(this.id,e),this.deleteOption=async e=>await this.client.deletePollOption(this.id,e),this.castVote=async(e,n)=>{const{max_votes_allowed:s,ownVotesByOptionId:l}=this.data;if(s&&s===Object.keys(l).length){let u=Object.values(l)[0];Object.values(l).slice(1).forEach(m=>{(!(u!=null&&u.created_at)||new Date(m.created_at)<new Date(u.created_at))&&(u=m)}),u!=null&&u.id&&await this.removeVote(u.id,n)}return await this.client.castPollVote(n,this.id,{option_id:e})},this.removeVote=async(e,n)=>await this.client.removePollVote(n,this.id,e),this.addAnswer=async(e,n)=>await this.client.addPollAnswer(n,this.id,e),this.removeAnswer=async(e,n)=>await this.client.removePollVote(n,this.id,e),this.queryAnswers=async e=>await this.client.queryPollAnswers(this.id,e.filter,e.sort,e.options),this.queryOptionVotes=async e=>await this.client.queryPollVotes(this.id,e.filter,e.sort,e.options),this.client=t,this.id=a.id,this.state=new Ia(this.getInitialStateFromPollResponse(a))}get data(){return this.state.getLatestValue()}};function Wc(t){let a=0,e=[];for(const[n,s]of Object.entries(t??{}))s>a?(e=[n],a=s):s===a&&e.push(n);return e}function mP(t){return t?t.reduce((a,e)=>(lo(e)||!e.option_id||(a[e.option_id]=e),a),{}):{}}function pP(t){return{allow_answers:t.allow_answers,allow_user_suggested_options:t.allow_user_suggested_options,description:t.description,enforce_unique_vote:t.enforce_unique_vote,id:t.id,is_closed:t.is_closed,max_votes_allowed:t.max_votes_allowed,name:t.name,options:t.options,voting_visibility:t.voting_visibility}}function fP(t){const{lastActivityAt:a,maxVotedOptionIds:e,ownVotesByOptionId:n,ownAnswer:s,...l}=t.data,c=[...Object.values(n),...s?[s]:[]].sort((u,m)=>Date.parse(u.created_at)-Date.parse(m.created_at));return{...l,own_votes:c,id:t.id}}function xg(t){return{answers_count:t.answers_count,latest_votes_by_option:t.latest_votes_by_option,vote_count:t.vote_count,vote_counts_by_option:t.vote_counts_by_option}}var hP=class extends Md{constructor({client:t}){super(),this.pollCache=new Map,this.fromState=a=>this.pollCache.get(a),this.registerSubscriptions=()=>{this.hasSubscriptions||(this.addUnsubscribeFunction(this.subscribeMessageNew()),this.addUnsubscribeFunction(this.subscribePollUpdated()),this.addUnsubscribeFunction(this.subscribePollClosed()),this.addUnsubscribeFunction(this.subscribeVoteCasted()),this.addUnsubscribeFunction(this.subscribeVoteChanged()),this.addUnsubscribeFunction(this.subscribeVoteRemoved()))},this.createPoll=async a=>{const{poll:e}=await this.client.createPoll(a);return new px({client:this.client,poll:e})},this.getPoll=async a=>{const e=this.fromState(a);if(e)return this.client.getPoll(a).then(({poll:s})=>this.setOrOverwriteInCache(s,!0)),e;const{poll:n}=await this.client.getPoll(a);return this.setOrOverwriteInCache(n),this.fromState(a)},this.queryPolls=async(a,e=[],n={})=>{const{polls:s,next:l}=await this.client.queryPolls(a,e,n);return{polls:s.map(u=>(this.setOrOverwriteInCache(u,!0),this.fromState(u.id))),next:l}},this.hydratePollCache=(a,e)=>{for(const n of a){if(!n.poll)continue;const s=n.poll;this.setOrOverwriteInCache(s,e)}},this.setOrOverwriteInCache=(a,e)=>{if(!this.client._cacheEnabled())return;const n=this.fromState(a.id);if(n)e&&n.reinitializeState(a);else{const s=new px({client:this.client,poll:a});this.pollCache.set(s.id,s)}},this.subscribePollUpdated=()=>this.client.on("poll.updated",a=>{var e,n;(e=a.poll)!=null&&e.id&&((n=this.fromState(a.poll.id))==null||n.handlePollUpdated(a))}).unsubscribe,this.subscribePollClosed=()=>this.client.on("poll.closed",a=>{var e,n;(e=a.poll)!=null&&e.id&&((n=this.fromState(a.poll.id))==null||n.handlePollClosed(a))}).unsubscribe,this.subscribeVoteCasted=()=>this.client.on("poll.vote_casted",a=>{var e,n;(e=a.poll)!=null&&e.id&&((n=this.fromState(a.poll.id))==null||n.handleVoteCasted(a))}).unsubscribe,this.subscribeVoteChanged=()=>this.client.on("poll.vote_changed",a=>{var e,n;(e=a.poll)!=null&&e.id&&((n=this.fromState(a.poll.id))==null||n.handleVoteChanged(a))}).unsubscribe,this.subscribeVoteRemoved=()=>this.client.on("poll.vote_removed",a=>{var e,n;(e=a.poll)!=null&&e.id&&((n=this.fromState(a.poll.id))==null||n.handleVoteRemoved(a))}).unsubscribe,this.subscribeMessageNew=()=>this.client.on("message.new",a=>{const{message:e}=a;if(e){const n=qa(e);this.hydratePollCache([n])}}).unsubscribe,this.client=t}get data(){return this.pollCache}},fx={"channel.deleted":"channelDeletedHandler","channel.hidden":"channelHiddenHandler","channel.truncated":"channelTruncatedHandler","channel.updated":"channelUpdatedHandler","channel.visible":"channelVisibleHandler","message.new":"newMessageHandler","member.updated":"memberUpdatedHandler","notification.added_to_channel":"notificationAddedToChannelHandler","notification.message_new":"notificationNewMessageHandler","notification.removed_from_channel":"notificationRemovedFromChannelHandler"},gP={abortInFlightQuery:!1,allowNotLoadedChannelPromotionForEvent:{"channel.visible":!0,"message.new":!0,"notification.added_to_channel":!0,"notification.message_new":!0},lockChannelOrder:!1},Eg={limit:10,offset:0},yP=class extends Md{constructor({client:t,eventHandlerOverrides:a={},options:e={}}){super(),this.eventHandlers=new Map,this.eventHandlerOverrides=new Map,this.options={},this.stateOptions={},this.setChannels=n=>{var u;this.state.next(m=>{const{channels:h}=m,f=Ww(n)?n(h):n;return h===f?m:{...m,channels:f}});const{channels:s,pagination:{filters:l,sort:c}}=this.state.getLatestValue();(u=this.client.offlineDb)==null||u.executeQuerySafely(m=>m.upsertCidsForQuery({cids:s.map(h=>h.cid),filters:l,sort:c}),{method:"upsertCidsForQuery"})},this.setEventHandlerOverrides=(n={})=>{const s=Object.entries(n).reduce((l,[c,u])=>(u&&(l[c]=u),l),{});this.eventHandlerOverrides=new Map(Object.entries(s))},this.setOptions=(n={})=>{this.options={...gP,...n}},this.executeChannelsQuery=async(n,s=0)=>{var y;const{filters:l,sort:c,options:u,stateOptions:m}=n,{offset:h,limit:f}={...Eg,...u};try{const b=await this.client.queryChannels(l,c,u,m),E=h+((b==null?void 0:b.length)??0),w={...u,offset:E},{pagination:_}=this.state.getLatestValue();this.state.partialNext({channels:b,pagination:{..._,hasNext:((b==null?void 0:b.length)??0)>=f,isLoading:!1,options:w},initialized:!0,error:void 0}),(y=this.client.offlineDb)==null||y.executeQuerySafely(C=>C.upsertCidsForQuery({cids:b.map(S=>S.cid),filters:_.filters,sort:_.sort}),{method:"upsertCidsForQuery"})}catch(b){if(s>=FT){console.warn(b);const E=new Error(`Maximum number of retries reached in queryChannels. Last error message is: ${b}`);this.state.partialNext({error:E});return}return await Pi(WT),this.executeChannelsQuery(n,s+1)}},this.queryChannels=async(n,s=[],l={},c={})=>{var y,b;const{pagination:{isLoading:u,filters:m},initialized:h}=this.state.getLatestValue();if(u&&!this.options.abortInFlightQuery&&JSON.stringify(m)===JSON.stringify(n))return;const f={filters:n,sort:s,options:l,stateOptions:c};try{if(this.stateOptions=c,this.state.next(E=>({...E,pagination:{...E.pagination,isLoading:!0,isLoadingNext:!1,filters:n,sort:s,options:l},error:void 0})),(y=this.client.offlineDb)!=null&&y.getChannelsForQuery&&((b=this.client.user)!=null&&b.id)){if(!h){const E=await this.client.offlineDb.getChannelsForQuery({userId:this.client.user.id,filters:n,sort:s});if(E){const w=this.client.hydrateActiveChannels(E,{offlineMode:!0,skipInitialization:[]});this.state.partialNext({channels:w})}}if(!this.client.offlineDb.syncManager.syncStatus){this.client.offlineDb.syncManager.scheduleSyncStatusChangeCallback(this.id,async()=>{await this.executeChannelsQuery(f)});return}}await this.executeChannelsQuery(f)}catch(E){throw this.client.logger("error",E.message),this.state.next(w=>({...w,pagination:{...w.pagination,isLoading:!1}})),E}},this.loadNext=async()=>{const{pagination:n,initialized:s}=this.state.getLatestValue(),{filters:l,sort:c,options:u,isLoadingNext:m,hasNext:h}=n;if(!(!s||m||!h))try{const{offset:f,limit:y}={...Eg,...u};this.state.partialNext({pagination:{...n,isLoading:!1,isLoadingNext:!0}});const b=await this.client.queryChannels(l,c,u,this.stateOptions),{channels:E}=this.state.getLatestValue(),w=f+((b==null?void 0:b.length)??0),_={...u,offset:w};this.state.partialNext({channels:nR([...E||[],...b],"cid"),pagination:{...n,hasNext:((b==null?void 0:b.length)??0)>=y,isLoading:!1,isLoadingNext:!1,options:_}})}catch(f){throw this.client.logger("error",f.message),this.state.next(y=>({...y,pagination:{...y.pagination,isLoadingNext:!1}})),f}},this.notificationAddedToChannelHandler=async n=>{var y;const{id:s,type:l,members:c}=(n==null?void 0:n.channel)??{};if(!l||!((y=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&y["notification.added_to_channel"]))return;const u=await ug({client:this.client,id:s,members:c==null?void 0:c.reduce((b,{user:E,user_id:w})=>{const _=w||(E==null?void 0:E.id);return _&&b.push(_),b},[]),type:l}),{pagination:m,channels:h}=this.state.getLatestValue();if(!h)return;const{sort:f}=m??{};this.setChannels(Xu({channels:h,channelToMove:u,sort:f}))},this.channelDeletedHandler=n=>{const{channels:s}=this.state.getLatestValue();if(!s)return;const l=[...s],c=l.findIndex(u=>{var m;return u.cid===(n.cid||((m=n.channel)==null?void 0:m.cid))});c<0||(l.splice(c,1),this.setChannels(l))},this.channelHiddenHandler=this.channelDeletedHandler,this.newMessageHandler=n=>{var S;const{pagination:s,channels:l}=this.state.getLatestValue();if(!l)return;const{filters:c,sort:u}=s??{},m=n.channel_type,h=n.channel_id;if(!m||!h)return;const f=this.client.channel(m,h),y=l.indexOf(f),b=y>=0,E=Um(f),w=Qu(f),_=Ju(c),C=t0(u);_&&w&&!c.archived||_&&!w&&c.archived||C&&E||this.options.lockChannelOrder||!b&&!((S=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&S["message.new"])||this.setChannels(Xu({channels:l,channelToMove:f,channelToMoveIndexWithinChannels:y,sort:u}))},this.notificationNewMessageHandler=async n=>{var E;const{id:s,type:l}=(n==null?void 0:n.channel)??{};if(!s||!l)return;const c=await ug({client:this.client,id:s,type:l}),{channels:u,pagination:m}=this.state.getLatestValue(),{filters:h,sort:f}=m??{},y=Ju(h),b=Qu(c);!u||y&&b&&!h.archived||y&&!b&&h.archived||!((E=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&E["notification.message_new"])||this.setChannels(Xu({channels:u,channelToMove:c,sort:f}))},this.channelVisibleHandler=async n=>{var E;const{channel_type:s,channel_id:l}=n;if(!s||!l)return;const c=await ug({client:this.client,id:n.channel_id,type:n.channel_type}),{channels:u,pagination:m}=this.state.getLatestValue(),{sort:h,filters:f}=m??{},y=Ju(f),b=Qu(c);!u||y&&b&&!f.archived||y&&!b&&f.archived||!((E=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&E["channel.visible"])||this.setChannels(Xu({channels:u,channelToMove:c,sort:h}))},this.notificationRemovedFromChannelHandler=this.channelDeletedHandler,this.memberUpdatedHandler=n=>{var M;const{pagination:s,channels:l}=this.state.getLatestValue(),{filters:c,sort:u}=s;if(!((M=n.member)!=null&&M.user)||n.member.user.id!==this.client.userID||!n.channel_type||!n.channel_id)return;const m=n.channel_type,h=n.channel_id,f=t0(u),y=Ju(c),b=Bw({atIndex:0,sort:u,targetKey:"pinned_at"});if(!l||!f&&!y||this.options.lockChannelOrder)return;const E=this.client.channel(m,h),w=l.indexOf(E),_=w>=0,C=Um(E),S=Qu(E),I=[...l];if(_&&I.splice(w,1),y&&!S&&(c!=null&&c.archived)||y&&S&&!(c!=null&&c.archived)){this.setChannels(I);return}let k=null;(b===1||b===-1&&!C)&&(k=Ow({channels:I}));const N=typeof k=="number"?k+1:0;l[N]!==E&&(I.splice(N,0,E),this.setChannels(I))},this.subscriptionOrOverride=n=>{const s=fx[n.type],l=this.eventHandlers.get(s),c=this.eventHandlerOverrides.get(s);if(c&&typeof c=="function"){c(this.setChannels,n);return}l&&typeof l=="function"&&l(n)},this.registerSubscriptions=()=>{if(!this.hasSubscriptions)for(const n of Object.keys(fx))this.addUnsubscribeFunction(this.client.on(n,this.subscriptionOrOverride).unsubscribe)},this.id=`channel-manager-${wr()}`,this.client=t,this.state=new Ia({channels:[],pagination:{isLoading:!1,isLoadingNext:!1,hasNext:!1,filters:{},sort:{},options:Eg},initialized:!1,error:void 0}),this.setEventHandlerOverrides(a),this.setOptions(e),this.eventHandlers=new Map(Object.entries({channelDeletedHandler:this.channelDeletedHandler,channelHiddenHandler:this.channelHiddenHandler,channelVisibleHandler:this.channelVisibleHandler,memberUpdatedHandler:this.memberUpdatedHandler,newMessageHandler:this.newMessageHandler,notificationAddedToChannelHandler:this.notificationAddedToChannelHandler,notificationNewMessageHandler:this.notificationNewMessageHandler,notificationRemovedFromChannelHandler:this.notificationRemovedFromChannelHandler}))}},bP={error:1e4,warning:5e3,info:3e3,success:3e3},vP=class{constructor(t={}){this.timeouts=new Map,this.store=new Ia({notifications:[]}),this.config={...t,durations:t.durations||bP}}get notifications(){return this.store.getLatestValue().notifications}get warning(){return this.notifications.filter(t=>t.severity==="warning")}get error(){return this.notifications.filter(t=>t.severity==="error")}get info(){return this.notifications.filter(t=>t.severity==="info")}get success(){return this.notifications.filter(t=>t.severity==="success")}add({message:t,origin:a,options:e={}}){const n=wr(),s=Date.now(),l={id:n,message:t,origin:a,severity:e.severity||"info",createdAt:s,expiresAt:e.duration?s+e.duration:void 0,autoClose:e.autoClose??!0,actions:e.actions,metadata:e.metadata};if(this.store.partialNext({notifications:[...this.store.getLatestValue().notifications,l]}),l.autoClose&&l.expiresAt){const c=setTimeout(()=>{this.remove(n)},e.duration||this.config.durations[l.severity]);this.timeouts.set(n,c)}return n}addError({message:t,origin:a,options:e}){return this.add({message:t,origin:a,options:{...e,severity:"error"}})}addWarning({message:t,origin:a,options:e}){return this.add({message:t,origin:a,options:{...e,severity:"warning"}})}addInfo({message:t,origin:a,options:e}){return this.add({message:t,origin:a,options:{...e,severity:"info"}})}addSuccess({message:t,origin:a,options:e}){return this.add({message:t,origin:a,options:{...e,severity:"success"}})}remove(t){const a=this.timeouts.get(t);a&&(clearTimeout(a),this.timeouts.delete(t)),this.store.partialNext({notifications:this.store.getLatestValue().notifications.filter(e=>e.id!==t)})}clear(){this.timeouts.forEach(t=>clearTimeout(t)),this.timeouts.clear(),this.store.partialNext({notifications:[]})}};function wg(t){return typeof t=="string"||t instanceof String}var ly=class co{constructor(a,e,n){var l;this.nextRequestAbortController=null,this._messageComposerSetupState=new Ia({setupFunction:null}),this._getConnectionID=()=>{var c,u;return((c=this.wsConnection)==null?void 0:c.connectionID)||((u=this.wsFallback)==null?void 0:u.connectionID)},this._hasConnectionID=()=>!!this._getConnectionID(),this.connectUser=async(c,u)=>{if(!c.id)throw new Error('The "id" field on the user is missing');if(this.userID===c.id&&this.setUserPromise)return console.warn("Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),this.setUserPromise;if(this.userID)throw new Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");(this._isUsingServerAuth()||this.node)&&!this.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),this.userID=c.id,this.anonymous=!1;const m=this._setToken(c,u);this._setUser(c);const h=this.openConnection();this.setUserPromise=Promise.all([m,h]).then(f=>f[1]);try{return await this.setUserPromise}catch(f){throw this.persistUserOnConnectionFailure?this.closeConnection():this.disconnectUser(),f}},this.setUser=this.connectUser,this._setToken=(c,u)=>this.tokenManager.setTokenOrProvider(u,c),this.closeConnection=async c=>{var u,m,h;return this.cleaningIntervalRef!=null&&(clearInterval(this.cleaningIntervalRef),this.cleaningIntervalRef=void 0),await Promise.all([(u=this.wsConnection)==null?void 0:u.disconnect(c),(m=this.wsFallback)==null?void 0:m.disconnect(c)]),(h=this.offlineDb)==null||h.executeQuerySafely(async f=>{this.userID&&await f.upsertUserSyncStatus({userId:this.userID,lastSyncedAt:new Date().toString()})},{method:"upsertUserSyncStatus"}),Promise.resolve()},this.createChannelManager=({eventHandlerOverrides:c={},options:u={}})=>new yP({client:this,eventHandlerOverrides:c,options:u}),this.openConnection=()=>{var c,u,m;if(!this.userID)throw Error("User is not set on client, use client.connectUser or client.connectAnonymousUser instead");if((c=this.wsConnection)!=null&&c.isConnecting&&this.wsPromise)return this.logger("info","client:openConnection() - connection already in progress",{tags:["connection","client"]}),this.wsPromise;if(((u=this.wsConnection)!=null&&u.isHealthy||(m=this.wsFallback)!=null&&m.isHealthy())&&this._hasConnectionID()){this.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists",{tags:["connection","client"]});return}return this.clientID=`${this.userID}--${ml()}`,this.wsPromise=this.connect(),this._startCleaning(),this.wsPromise},this._setupConnection=this.openConnection,this._normalizeDate=c=>{if(c instanceof Date&&(c=c.toISOString()),c==="")throw new Error("Don't pass blank string for since, use null instead if resetting the token revoke");return c},this.disconnectUser=c=>{this.logger("info","client:disconnect() - Disconnecting the client",{tags:["connection","client"]}),delete this.user,delete this._user,delete this.userID,this.anonymous=!1;const u=this.closeConnection(c);for(const m of Object.values(this.activeChannels))m._disconnect();return this.activeChannels={},this.state=new ix({client:this}),this.threads.resetState(),setTimeout(this.tokenManager.reset),u},this.disconnect=this.disconnectUser,this.connectAnonymousUser=()=>{(this._isUsingServerAuth()||this.node)&&!this.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),this.anonymous=!0,this.userID=ml();const c={id:this.userID,anon:!0};return this._setToken(c,""),this._setUser(c),this._setupConnection()},this.setAnonymousUser=this.connectAnonymousUser,this.doAxiosRequest=async(c,u,m,h={})=>{var y;await this.tokenManager.tokenReady();const f=this._enrichAxiosOptions(h);try{let b;switch(this._logApiRequest(c,u,m,f),c){case"get":b=await this.axiosInstance.get(u,f);break;case"delete":b=await this.axiosInstance.delete(u,f);break;case"post":b=await this.axiosInstance.post(u,m,f);break;case"postForm":b=await this.axiosInstance.postForm(u,m,f);break;case"put":b=await this.axiosInstance.put(u,m,f);break;case"patch":b=await this.axiosInstance.patch(u,m,f);break;case"options":b=await this.axiosInstance.options(u,f);break;default:throw new Error("Invalid request type")}return this._logApiResponse(c,u,b),this.consecutiveFailures=0,this.handleResponse(b)}catch(b){if(b.client_request_id=(y=f.headers)==null?void 0:y["x-client-request-id"],this._logApiError(c,u,b),this.consecutiveFailures+=1,b.response)return b.response.data.code===Zc.TOKEN_EXPIRED&&!this.tokenManager.isStatic()?(this.consecutiveFailures>1&&await Pi(zm(this.consecutiveFailures)),this.tokenManager.loadToken(),await this.doAxiosRequest(c,u,m,h)):this.handleResponse(b.response);throw b}},this.dispatchEvent=c=>{var f;c.received_at||(c.received_at=new Date);const u=this._handleClientEvent(c),m=c.cid,h=m?this.activeChannels[m]:void 0;h&&h._handleChannelEvent(c),this._callClientListeners(c),h&&h._callChannelListeners(c),u.forEach(y=>y()),(f=this.offlineDb)==null||f.executeQuerySafely(y=>y.handleEvent({event:c}),{method:`handleEvent;${c.type}`})},this.handleEvent=c=>{const u=c.data,m=JSON.parse(u);this.dispatchEvent(m)},this._updateMemberWatcherReferences=c=>{const u=this.state.userChannelReferences[c.id]||{};for(const m in u){const h=this.activeChannels[m];h!=null&&h.state&&(h.state.members[c.id]&&(h.state.members[c.id].user=c),h.state.watchers[c.id]&&(h.state.watchers[c.id]=c),h.state.read[c.id]&&(h.state.read[c.id].user=c))}},this._updateUserReferences=this._updateMemberWatcherReferences,this._updateUserMessageReferences=c=>{const u=this.state.userChannelReferences[c.id]||{};for(const m in u){const h=this.activeChannels[m];if(!h)continue;const f=h.state;f==null||f.updateUserMessages(c)}},this._deleteUserMessageReference=(c,u=!1)=>{const m=this.state.userChannelReferences[c.id]||{};for(const h in m){const f=this.activeChannels[h];if(f){const y=f.state;y==null||y.deleteUserMessages(c,u)}}},this._handleUserEvent=c=>{if(c.user){if(c.type==="user.presence.changed"||c.type==="user.updated"){if(c.user.id===this.userID){const u={...this.user},m={...this._user};for(const h in this.user){if(h in c.user||GT(h))continue;const f=h;delete u[f],delete m[f]}for(const h in m){const f=h;f in c.user&&(m[f]=c.user[f])}this._user=m,this.user={...u,...c.user}}this.state.updateUser(c.user),this._updateMemberWatcherReferences(c.user)}c.type==="user.updated"&&this._updateUserMessageReferences(c.user),c.type==="user.deleted"&&c.user.deleted_at&&(c.mark_messages_deleted||c.hard_delete)&&this._deleteUserMessageReference(c.user,c.hard_delete)}},this._callClientListeners=c=>{const u=this,m=[];u.listeners.all&&m.push(...u.listeners.all),u.listeners[c.type]&&m.push(...u.listeners[c.type]);for(const h of m)h(c)},this.recoverState=async()=>{this.logger("info",`client:recoverState() - Start of recoverState with connectionID ${this._getConnectionID()}`,{tags:["connection"]});const c=Object.keys(this.activeChannels);c.length&&this.recoverStateOnReconnect?(this.logger("info",`client:recoverState() - Start the querying of ${c.length} channels`,{tags:["connection","client"]}),await this.queryChannels({cid:{$in:c}},{last_message_at:-1},{limit:30}),this.logger("info","client:recoverState() - Querying channels finished",{tags:["connection","client"]}),this.dispatchEvent({type:"connection.recovered"})):this.dispatchEvent({type:"connection.recovered"}),this.wsPromise=Promise.resolve(),this.setUserPromise=Promise.resolve()},this.getChannelByMembers=(c,u)=>{const m=(u.members??[]).map(b=>typeof b=="string"?b:b.user_id??""),h=m.sort().join(","),f=V0(c,m);if(!f)throw Error("Please specify atleast one member when creating unique conversation");for(const b in this.activeChannels){const E=this.activeChannels[b];if(!E.disconnected&&(b===f||b.indexOf(`${c}:!members-`)===0&&Object.keys(E.state.members).sort().join(",")===h))return E}const y=new gl(this,c,void 0,u);return this._cacheEnabled()&&(this.activeChannels[f]=y),y},this.getChannelById=(c,u,m)=>{if(typeof u=="string"&&~u.indexOf(":"))throw Error(`Invalid channel id ${u}, can't contain the : character`);const h=`${c}:${u}`;if(h in this.activeChannels&&this.activeChannels[h]&&!this.activeChannels[h].disconnected){const y=this.activeChannels[h];return Object.keys(m).length>0&&(y.data={...y.data,...m},y._data={...y._data,...m}),y}const f=new gl(this,c,u,m);return this._cacheEnabled()&&(this.activeChannels[f.cid]=f),f},this.updateUsers=this.upsertUsers,this.updateUser=this.upsertUser,this._unblockMessage=this.unblockMessage,this.markAllRead=this.markChannelsRead,this._isUsingServerAuth=()=>!!this.secret,this._cacheEnabled=()=>!this._isUsingServerAuth()||!this.options.disableCache,this._buildWSPayload=c=>JSON.stringify({user_id:this.userID,user_details:this._user,device:this.options.device,client_request_id:c}),this.setMessageComposerSetupFunction=c=>{this._messageComposerSetupState.partialNext({setupFunction:c})},this.key=a,this.listeners={},this.state=new ix({client:this}),this.mutedChannels=[],this.mutedUsers=[],this.moderation=new rP(this),this.notifications=(n==null?void 0:n.notifications)??new vP,e&&wg(e)&&(this.secret=e);const s=n||(e&&!wg(e)?e:{});this.browser=typeof s.browser<"u"?s.browser:typeof window<"u",this.node=!this.browser,this.options={timeout:3e3,withCredentials:!1,warmUp:!1,recoverStateOnReconnect:!0,disableCache:!1,wsUrlParams:new URLSearchParams({}),...s},this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new MT.default.Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.axiosInstance=pd.create(this.options),this.setBaseURL(this.options.baseURL||"https://chat.stream-io-api.com"),typeof process<"u"&&"env"in process&&sg.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030"),typeof process<"u"&&"env"in process&&sg.STREAM_LOCAL_TEST_HOST&&this.setBaseURL("http://"+sg.STREAM_LOCAL_TEST_HOST),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.activeChannels={},this.configs={},this.anonymous=!1,this.persistUserOnConnectionFailure=(l=this.options)==null?void 0:l.persistUserOnConnectionFailure,this.tokenManager=new JL(this.secret),this.consecutiveFailures=0,this.insightMetrics=new jL,this.defaultWSTimeoutWithFallback=6*1e3,this.defaultWSTimeout=15*1e3,this.axiosInstance.defaults.paramsSerializer=KT,this.logger=Kg(s.logger)?s.logger:()=>null,this.recoverStateOnReconnect=this.options.recoverStateOnReconnect,this.threads=new iP({client:this}),this.polls=new hP({client:this})}static getInstance(a,e,n){return co._instance||(typeof e=="string"?co._instance=new co(a,e,n):co._instance=new co(a,e)),co._instance}setOfflineDBApi(a){this.offlineDb||(this.offlineDb=a)}devToken(a){return VL(a)}getAuthType(){return this.anonymous?"anonymous":"jwt"}setBaseURL(a){this.baseURL=a,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")}_setUser(a){this.user=a,this.userID=a.id,this._user={...a}}async updateAppSettings(a){const e=a.apn_config;return e!=null&&e.p12_cert&&(a={...a,apn_config:{...e,p12_cert:Buffer.from(e.p12_cert).toString("base64")}}),await this.patch(this.baseURL+"/app",a)}async revokeTokens(a){return await this.updateAppSettings({revoke_tokens_issued_before:this._normalizeDate(a)})}async revokeUserToken(a,e){return await this.revokeUsersToken([a],e)}async revokeUsersToken(a,e){e===void 0?e=new Date().toISOString():e=this._normalizeDate(e);const n=[];for(const s of a)n.push({id:s,set:{revoke_tokens_issued_before:e}});return await this.partialUpdateUsers(n)}async getAppSettings(){return this.appSettingsPromise=this.get(this.baseURL+"/app"),await this.appSettingsPromise}async testPushSettings(a,e={}){return await this.post(this.baseURL+"/check_push",{user_id:a,...e.messageID?{message_id:e.messageID}:{},...e.apnTemplate?{apn_template:e.apnTemplate}:{},...e.firebaseTemplate?{firebase_template:e.firebaseTemplate}:{},...e.firebaseDataTemplate?{firebase_data_template:e.firebaseDataTemplate}:{},...e.skipDevices?{skip_devices:!0}:{},...e.pushProviderName?{push_provider_name:e.pushProviderName}:{},...e.pushProviderType?{push_provider_type:e.pushProviderType}:{}})}async testSQSSettings(a={}){return await this.post(this.baseURL+"/check_sqs",a)}async testSNSSettings(a={}){return await this.post(this.baseURL+"/check_sns",a)}async setGuestUser(a){let e;this.anonymous=!0;try{e=await this.post(this.baseURL+"/guest",{user:a})}catch(m){throw this.anonymous=!1,m}this.anonymous=!1;const{created_at:n,updated_at:s,last_active:l,online:c,...u}=e.user;return await this.connectUser(u,e.access_token)}createToken(a,e,n){if(this.secret==null)throw Error("tokens can only be created server-side using the API Secret");const s={};return e&&(s.exp=e),n&&(s.iat=n),o5(this.secret,a,s,{})}on(a,e){const n=e?a:"all",s=e||a;return n in this.listeners||(this.listeners[n]=[]),this.logger("info",`Attaching listener for ${n} event`,{tags:["event","client"]}),this.listeners[n].push(s),{unsubscribe:()=>{this.logger("info",`Removing listener for ${n} event`,{tags:["event","client"]}),this.listeners[n]=this.listeners[n].filter(l=>l!==s)}}}off(a,e){const n=e?a:"all",s=e||a;n in this.listeners||(this.listeners[n]=[]),this.logger("info",`Removing listener for ${n} event`,{tags:["event","client"]}),this.listeners[n]=this.listeners[n].filter(l=>l!==s)}_logApiRequest(a,e,n,s){this.logger("info",`client: ${a} - Request - ${e}`,{tags:["api","api_request","client"],url:e,payload:n,config:s})}_logApiResponse(a,e,n){this.logger("info",`client:${a} - Response - url: ${e} > status ${n.status}`,{tags:["api","api_response","client"],url:e,response:n})}_logApiError(a,e,n){this.logger("error",`client:${a} - Error - url: ${e}`,{tags:["api","api_response","client"],url:e,error:n})}get(a,e){return this.doAxiosRequest("get",a,null,{params:e})}put(a,e){return this.doAxiosRequest("put",a,e)}post(a,e){return this.doAxiosRequest("post",a,e)}patch(a,e){return this.doAxiosRequest("patch",a,e)}delete(a,e){return this.doAxiosRequest("delete",a,null,{params:e})}sendFile(a,e,n,s,l){const c=qT(e,n,s||"multipart/form-data");return l!=null&&c.append("user",JSON.stringify(l)),this.doAxiosRequest("postForm",a,c,{headers:c.getHeaders?c.getHeaders():{},config:{timeout:0,maxContentLength:1/0,maxBodyLength:1/0}})}errorFromResponse(a){const e=typeof a.data.code<"u"?`StreamChat error code ${a.data.code}: ${a.data.message}`:`StreamChat error HTTP code: ${a.status}`;return new nL(e,{code:a.data.code??null,response:a,status:a.status})}handleResponse(a){const e=a.data;if(nP(a))throw this.errorFromResponse(a);return e}_handleClientEvent(a){var s,l,c;const e=this,n=[];if(this.logger("info",`client:_handleClientEvent - Received event of type { ${a.type} }`,{tags:["event","client"],event:a}),(a.type==="user.presence.changed"||a.type==="user.updated"||a.type==="user.deleted")&&this._handleUserEvent(a),a.type==="health.check"&&a.me&&(e.user=a.me,e.state.updateUser(a.me),e.mutedChannels=a.me.channel_mutes,e.mutedUsers=a.me.mutes),a.channel&&a.type==="notification.message_new"){const{channel:u}=a;this._addChannelConfig(u)}if(a.type==="notification.channel_mutes_updated"&&((s=a.me)!=null&&s.channel_mutes)&&(this.mutedChannels=a.me.channel_mutes),a.type==="notification.mutes_updated"&&((l=a.me)!=null&&l.mutes)&&(this.mutedUsers=a.me.mutes),a.type==="notification.mark_read"&&a.unread_channels===0&&Object.keys(this.activeChannels).forEach(m=>this.activeChannels[m].state.unreadCount=0),(a.type==="channel.deleted"||a.type==="notification.channel_deleted")&&a.cid){const{cid:u}=a;e.state.deleteAllChannelReference(u),(c=this.activeChannels[a.cid])==null||c._disconnect(),n.push(()=>{u&&delete this.activeChannels[u]})}return n}_muteStatus(a){var n;let e;for(let s=0;s<this.mutedChannels.length;s++){const l=this.mutedChannels[s];if(((n=l.channel)==null?void 0:n.cid)===a){e={muted:l.expires?new Date(l.expires).getTime()>new Date().getTime():!0,createdAt:l.created_at?new Date(l.created_at):new Date,expiresAt:l.expires?new Date(l.expires):null};break}}return e||{muted:!1,createdAt:null,expiresAt:null}}async connect(){if(!this.userID||!this._user)throw Error("Call connectUser or connectAnonymousUser before starting the connection");if(!this.wsBaseURL)throw Error("Websocket base url not set");if(!this.clientID)throw Error("clientID is not set");!this.wsConnection&&(this.options.warmUp||this.options.enableInsights)&&this._sayHi(),this.options.wsConnection&&this.node?(this.options.wsConnection.setClient(this),this.wsConnection=this.options.wsConnection):this.wsConnection=new qL({client:this});try{return this.wsFallback?await this.wsFallback.connect():await this.wsConnection.connect(this.options.enableWSFallback?this.defaultWSTimeoutWithFallback:this.defaultWSTimeout)}catch(a){if(this.options.enableWSFallback&&tP(a)&&XT())return this.logger("info","client:connect() - WS failed, fallback to longpoll",{tags:["connection","client"]}),this.dispatchEvent({type:"transport.changed",mode:"longpoll"}),this.wsConnection._destroyCurrentWSConnection(),this.wsConnection.disconnect().then(),this.wsFallback=new aP({client:this}),await this.wsFallback.connect();throw a}}_sayHi(){const a=ml(),e={headers:{"x-client-request-id":a}};this.doAxiosRequest("get",this.baseURL+"/hi",null,e).catch(n=>{this.options.enableInsights&&Qc("http_hi_failed",{api_key:this.key,err:n,client_request_id:a})})}async queryUsers(a,e=[],n={}){const s={presence:!1};await this.wsPromise,this._hasConnectionID()||(s.presence=!1);const l=await this.get(this.baseURL+"/users",{payload:{filter_conditions:a,sort:ba(e),...s,...n}});return this.state.updateUsers(l.users),l}async queryBannedUsers(a={},e=[],n={}){return await this.get(this.baseURL+"/query_banned_users",{payload:{filter_conditions:a,sort:ba(e),...n}})}async queryMessageFlags(a={},e={}){return await this.get(this.baseURL+"/moderation/flags/message",{payload:{filter_conditions:a,...e}})}async queryChannelsRequest(a,e=[],n={}){const s={state:!0,watch:!0,presence:!1};await this.wsPromise,this._hasConnectionID()||(s.watch=!1);const l={filter_conditions:a,sort:ba(e),...s,...n};return(await this.post(this.baseURL+"/channels",l)).channels}async queryChannels(a,e=[],n={},s={}){var c;const l=await this.queryChannelsRequest(a,e,n);return this.dispatchEvent({type:"channels.queried",queriedChannels:{channels:l,isLatestMessageSet:!0}}),l!=null&&l.length&&((c=this.offlineDb)!=null&&c.upsertChannels)&&await this.offlineDb.upsertChannels({channels:l,isLatestMessagesSet:!0}),this.hydrateActiveChannels(l,s,n)}async queryReactions(a,e,n=[],s={}){var c;const l={filter:e,sort:ba(n),...s};if((c=this.offlineDb)!=null&&c.getReactions&&!s.next)try{const u=await this.offlineDb.getReactions({messageId:a,filters:e,sort:n,limit:s.limit});u&&this.dispatchEvent({type:"offline_reactions.queried",offlineReactions:u})}catch(u){this.logger("warn","An error has occurred while querying offline reactions",{error:u})}return await this.wsPromise,await this.post(this.baseURL+"/messages/"+encodeURIComponent(a)+"/reactions",l)}hydrateActiveChannels(a=[],e={},n){const{skipInitialization:s,offlineMode:l=!1}=e,c=[];for(const u of a){this._addChannelConfig(u.channel);const m=this.channel(u.channel.type,u.channel.id);m.data=u.channel,m.offlineMode=l,m.initialized=!l,m.push_preferences=u.push_preferences;let h;if(s===void 0){const{messageSet:f}=m._initializeState(u,"latest");h=f}else if(!s.includes(u.channel.id)){m.state.clearMessages();const{messageSet:f}=m._initializeState(u,"latest");h=f}h&&(h.pagination={...h.pagination,...Pw({parentSet:h,requestedPageSize:(n==null?void 0:n.message_limit)||RT,returnedPage:u.messages,logger:this.logger})},this.polls.hydratePollCache(u.messages,!0)),u.draft&&m.messageComposer.initState({composition:u.draft}),c.push(m)}return c}async search(a,e,n={}){if(n.offset&&n.next)throw Error("Cannot specify offset with next");const s={filter_conditions:a,...n,sort:n.sort?ba(n.sort):void 0};if(typeof e=="string")s.query=e;else if(typeof e=="object")s.message_filter_conditions=e;else throw Error(`Invalid type ${typeof e} for query parameter`);return await this.wsPromise,await this.get(this.baseURL+"/search",{payload:s})}setLocalDevice(a){var e,n,s;if((e=this.wsConnection)!=null&&e.isConnecting&&this.wsPromise||((n=this.wsConnection)!=null&&n.isHealthy||(s=this.wsFallback)!=null&&s.isHealthy())&&this._hasConnectionID())throw new Error("you can only set device before opening a websocket connection");this.options.device=a}async addDevice(a,e,n,s){return await this.post(this.baseURL+"/devices",{id:a,push_provider:e,...n!=null?{user_id:n}:{},...s!=null?{push_provider_name:s}:{}})}async getDevices(a){return await this.get(this.baseURL+"/devices",a?{user_id:a}:{})}async getUnreadCount(a){return await this.get(this.baseURL+"/unread",a?{user_id:a}:{})}async getUnreadCountBatch(a){return await this.post(this.baseURL+"/unread_batch",{user_ids:a})}async setPushPreferences(a){return await this.post(this.baseURL+"/push_preferences",{preferences:a})}async removeDevice(a,e){return await this.delete(this.baseURL+"/devices",{id:a,...e?{user_id:e}:{}})}getRateLimits(a){const{serverSide:e,web:n,android:s,ios:l,endpoints:c}=a||{};return this.get(this.baseURL+"/rate_limits",{server_side:e,web:n,android:s,ios:l,endpoints:c?c.join(","):void 0})}_addChannelConfig({cid:a,config:e}){this._cacheEnabled()&&(this.configs[a]=e)}channel(a,e,n={}){var s;if(!this.userID&&!this._isUsingServerAuth())throw Error("Call connectUser or connectAnonymousUser before creating a channel");if(~a.indexOf(":"))throw new Error(`Invalid channel group ${a}, can't contain the : character`);return e&&typeof e=="object"?this.getChannelByMembers(a,e):!e&&typeof n=="object"&&((s=n.members)!=null&&s.length)?this.getChannelByMembers(a,n):e?this.getChannelById(a,e,n):new gl(this,a,void 0,n)}async partialUpdateUser(a){return await this.partialUpdateUsers([a])}async upsertUsers(a){const e={};for(const n of a){if(!n.id)throw Error("User ID is required when updating a user");e[n.id]=n}return await this.post(this.baseURL+"/users",{users:e})}upsertUser(a){return this.upsertUsers([a])}async partialUpdateUsers(a){for(const e of a)if(!e.id)throw Error("User ID is required when updating a user");return await this.patch(this.baseURL+"/users",{users:a})}async deleteUser(a,e){return await this.delete(this.baseURL+`/users/${encodeURIComponent(a)}`,e)}async restoreUsers(a){return await this.post(this.baseURL+"/users/restore",{user_ids:a})}async reactivateUser(a,e){return await this.post(this.baseURL+`/users/${encodeURIComponent(a)}/reactivate`,{...e})}async reactivateUsers(a,e){return await this.post(this.baseURL+"/users/reactivate",{user_ids:a,...e})}async deactivateUser(a,e){return await this.post(this.baseURL+`/users/${encodeURIComponent(a)}/deactivate`,{...e})}async deactivateUsers(a,e){return await this.post(this.baseURL+"/users/deactivate",{user_ids:a,...e})}async exportUser(a,e){return await this.get(this.baseURL+`/users/${encodeURIComponent(a)}/export`,{...e})}async banUser(a,e){return await this.post(this.baseURL+"/moderation/ban",{target_user_id:a,...e})}async unbanUser(a,e){return await this.delete(this.baseURL+"/moderation/ban",{target_user_id:a,...e})}async shadowBan(a,e){return await this.banUser(a,{shadow:!0,...e})}async removeShadowBan(a,e){return await this.unbanUser(a,{shadow:!0,...e})}async blockUser(a,e){return await this.post(this.baseURL+"/users/block",{blocked_user_id:a,...e?{user_id:e}:{}})}async getBlockedUsers(a){return await this.get(this.baseURL+"/users/block",{...a?{user_id:a}:{}})}async unBlockUser(a,e){return await this.post(this.baseURL+"/users/unblock",{blocked_user_id:a,...e?{user_id:e}:{}})}async muteUser(a,e,n={}){return await this.post(this.baseURL+"/moderation/mute",{target_id:a,...e?{user_id:e}:{},...n})}async unmuteUser(a,e){return await this.post(this.baseURL+"/moderation/unmute",{target_id:a,...e?{user_id:e}:{}})}userMuteStatus(a){if(!this.user||!this.wsPromise)throw new Error("Make sure to await connectUser() first.");for(let e=0;e<this.mutedUsers.length;e+=1)if(this.mutedUsers[e].target.id===a)return!0;return!1}async flagMessage(a,e={}){return await this.post(this.baseURL+"/moderation/flag",{target_message_id:a,...e})}async flagUser(a,e={}){return await this.post(this.baseURL+"/moderation/flag",{target_user_id:a,...e})}async unflagMessage(a,e={}){return await this.post(this.baseURL+"/moderation/unflag",{target_message_id:a,...e})}async unflagUser(a,e={}){return await this.post(this.baseURL+"/moderation/unflag",{target_user_id:a,...e})}async _queryFlags(a={},e={}){return await this.post(this.baseURL+"/moderation/flags",{filter_conditions:a,...e})}async _queryFlagReports(a={},e={}){return await this.post(this.baseURL+"/moderation/reports",{filter_conditions:a,...e})}async _reviewFlagReport(a,e,n={}){return await this.patch(this.baseURL+`/moderation/reports/${encodeURIComponent(a)}`,{review_result:e,...n})}async unblockMessage(a,e={}){return await this.post(this.baseURL+"/moderation/unblock_message",{target_message_id:a,...e})}async markChannelsRead(a={}){await this.post(this.baseURL+"/channels/read",{...a})}createCommand(a){return this.post(this.baseURL+"/commands",a)}getCommand(a){return this.get(this.baseURL+`/commands/${encodeURIComponent(a)}`)}updateCommand(a,e){return this.put(this.baseURL+`/commands/${encodeURIComponent(a)}`,e)}deleteCommand(a){return this.delete(this.baseURL+`/commands/${encodeURIComponent(a)}`)}listCommands(){return this.get(this.baseURL+"/commands")}createChannelType(a){const e=Object.assign({},{commands:["all"]},a);return this.post(this.baseURL+"/channeltypes",e)}getChannelType(a){return this.get(this.baseURL+`/channeltypes/${encodeURIComponent(a)}`)}updateChannelType(a,e){return this.put(this.baseURL+`/channeltypes/${encodeURIComponent(a)}`,e)}DBDeleteChannelType(a){return this.delete(this.baseURL+`/channeltypes/${encodeURIComponent(a)}`)}listChannelTypes(){return this.get(this.baseURL+"/channeltypes")}async translateMessage(a,e){return await this.post(this.baseURL+`/messages/${encodeURIComponent(a)}/translate`,{language:e})}async translate(a,e,n){return await this.post(this.baseURL+"/translate",{text:a,source_language:n,destination_language:e})}_normalizeExpiration(a){let e=null;if(typeof a=="number"){const n=new Date;n.setSeconds(n.getSeconds()+a),e=n.toISOString()}else wg(a)?e=a:a instanceof Date&&(e=a.toISOString());return e}_validateAndGetMessageId(a,e){let n;if(typeof a=="string")n=a;else{if(!a.id)throw Error(e);n=a.id}return n}pinMessage(a,e,n,s){const l=this._validateAndGetMessageId(a,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(l,{set:{pinned:!0,pin_expires:this._normalizeExpiration(e),pinned_at:this._normalizeExpiration(s)}},n)}unpinMessage(a,e){const n=this._validateAndGetMessageId(a,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(n,{set:{pinned:!1}},e)}async updateMessage(a,e,n){if(!a.id)throw Error("Please specify the message.id when calling updateMessage");const s=Mw(a);return typeof e=="string"?s.user_id=e:typeof(e==null?void 0:e.id)=="string"&&(s.user_id=e.id),await this.post(this.baseURL+`/messages/${encodeURIComponent(a.id)}`,{message:s,...n})}async partialUpdateMessage(a,e,n,s){if(!a)throw Error("Please specify the message.id when calling partialUpdateMessage");let l;return typeof n=="string"?l={id:n}:typeof(n==null?void 0:n.id)=="string"&&(l={id:n.id}),await this.put(this.baseURL+`/messages/${encodeURIComponent(a)}`,{...e,...s,user:l})}async deleteMessage(a,e){try{if(this.offlineDb)return e?await this.offlineDb.hardDeleteMessage({id:a}):await this.offlineDb.softDeleteMessage({id:a}),await this.offlineDb.queueTask({task:{messageId:a,payload:[a,e],type:"delete-message"}})}catch(n){this.logger("error","offlineDb:deleteMessage",{tags:["channel","offlineDb"],error:n})}return this._deleteMessage(a,e)}async _deleteMessage(a,e){let n={};return e&&(n={hard:!0}),await this.delete(this.baseURL+`/messages/${encodeURIComponent(a)}`,n)}async undeleteMessage(a,e){return await this.post(this.baseURL+`/messages/${encodeURIComponent(a)}/undelete`,{undeleted_by:e})}async getMessage(a,e){return await this.get(this.baseURL+`/messages/${encodeURIComponent(a)}`,{...e})}async queryThreads(a={}){const e={limit:10,participant_limit:10,reply_limit:3,watch:!0,...a},n={...e};e.filter&&Object.keys(e.filter).length>0&&(n.filter=e.filter),e.sort&&(Array.isArray(e.sort)?e.sort.length>0:Object.keys(e.sort).length>0)&&(n.sort=ba(e.sort));const s=await this.post(`${this.baseURL}/threads`,n);return{threads:s.threads.map(l=>new rd({client:this,threadData:l})),next:s.next}}async getThread(a,e={}){if(!a)throw new Error("Please specify the messageId when calling getThread");const n={participant_limit:100,reply_limit:3,watch:!0,...e},s=await this.get(`${this.baseURL}/threads/${encodeURIComponent(a)}`,n);return new rd({client:this,threadData:s.thread})}async partialUpdateThread(a,e){if(!a)throw Error("Please specify the message id when calling partialUpdateThread");const n=["created_at","id","last_message_at","type","updated_at","user","reply_count","participants","channel","custom"];for(const s in{...e.set,...e.unset})if(n.includes(s))throw Error(`You cannot set ${s} field on Thread object. ${s} is reserved for server-side use. Please omit ${s} from your set object.`);return await this.patch(`${this.baseURL}/threads/${encodeURIComponent(a)}`,e)}getUserAgent(){if(this.userAgent)return this.userAgent;const a="9.2.0",e="browser-esm";let n="";this.sdkIdentifier?n=`stream-chat-${this.sdkIdentifier.name}-v${this.sdkIdentifier.version}-llc-v${a}`:n=`stream-chat-js-v${a}-${this.node?"node":"browser"}`;const{os:s,model:l}=this.deviceIdentifier??{};return[["os",s],["device_model",l],["client_bundle",e]].reduce((c,[u,m])=>m&&m.length>0?c.concat(`|${u}=${m}`):c,n)}setUserAgent(a){this.userAgent=a}_enrichAxiosOptions(a={params:{},headers:{},config:{}}){var m;const e=this._getToken(),n=e?{Authorization:e}:void 0;let s=null;this.nextRequestAbortController!==null&&(s=this.nextRequestAbortController.signal,this.nextRequestAbortController=null),(m=a.headers)!=null&&m["x-client-request-id"]||(a.headers={...a.headers,"x-client-request-id":ml()});const{params:l,headers:c,...u}=this.options.axiosRequestConfig||{};return{params:{user_id:this.userID,connection_id:this._getConnectionID(),api_key:this.key,...a.params,...l||{}},headers:{...n,"stream-auth-type":this.getAuthType(),"X-Stream-Client":this.getUserAgent(),...a.headers,...c||{}},...s?{signal:s}:{},...a.config,...u||{}}}_getToken(){return!this.tokenManager||this.anonymous?null:this.tokenManager.getToken()}_startCleaning(){const a=this;this.cleaningIntervalRef==null&&(this.cleaningIntervalRef=setInterval(()=>{for(const e of Object.values(a.activeChannels))e.clean()},500))}verifyWebhook(a,e){return!!this.secret&&QL(a,this.secret,e)}getPermission(a){return this.get(`${this.baseURL}/permissions/${encodeURIComponent(a)}`)}createPermission(a){return this.post(`${this.baseURL}/permissions`,{...a})}updatePermission(a,e){return this.put(`${this.baseURL}/permissions/${encodeURIComponent(a)}`,{...e})}deletePermission(a){return this.delete(`${this.baseURL}/permissions/${encodeURIComponent(a)}`)}listPermissions(){return this.get(`${this.baseURL}/permissions`)}createRole(a){return this.post(`${this.baseURL}/roles`,{name:a})}listRoles(){return this.get(`${this.baseURL}/roles`)}deleteRole(a){return this.delete(`${this.baseURL}/roles/${encodeURIComponent(a)}`)}sync(a,e,n={}){return this.post(`${this.baseURL}/sync`,{channel_cids:a,last_sync_at:e,...n})}async sendUserCustomEvent(a,e){return await this.post(`${this.baseURL}/users/${encodeURIComponent(a)}/event`,{event:e})}createBlockList(a){return this.post(`${this.baseURL}/blocklists`,a)}listBlockLists(a){return this.get(`${this.baseURL}/blocklists`,a)}getBlockList(a,e){return this.get(`${this.baseURL}/blocklists/${encodeURIComponent(a)}`,e)}updateBlockList(a,e){return this.put(`${this.baseURL}/blocklists/${encodeURIComponent(a)}`,e)}deleteBlockList(a,e){return this.delete(`${this.baseURL}/blocklists/${encodeURIComponent(a)}`,e)}exportChannels(a,e={}){const n={channels:a,...e};return this.post(`${this.baseURL}/export_channels`,n)}exportUsers(a){return this.post(`${this.baseURL}/export/users`,a)}exportChannel(a,e){return this.exportChannels([a],e)}getExportChannelStatus(a){return this.get(`${this.baseURL}/export_channels/${encodeURIComponent(a)}`)}campaign(a,e){return a&&typeof a=="object"?new A2(this,null,a):new A2(this,a,e)}segment(a,e,n){return typeof e=="string"?new dx(this,a,e,n):new dx(this,a,null,e)}validateServerSideAuth(){if(!this.secret)throw new Error("Campaigns is a server-side only feature. Please initialize the client with a secret to use this feature.")}createSegment(a,e,n){this.validateServerSideAuth();const s={id:e,type:a,...n};return this.post(this.baseURL+"/segments",s)}createUserSegment(a,e){return this.validateServerSideAuth(),this.createSegment("user",a,e)}createChannelSegment(a,e){return this.validateServerSideAuth(),this.createSegment("channel",a,e)}getSegment(a){return this.validateServerSideAuth(),this.get(this.baseURL+`/segments/${encodeURIComponent(a)}`)}updateSegment(a,e){return this.validateServerSideAuth(),this.put(this.baseURL+`/segments/${encodeURIComponent(a)}`,e)}addSegmentTargets(a,e){this.validateServerSideAuth();const n={target_ids:e};return this.post(this.baseURL+`/segments/${encodeURIComponent(a)}/addtargets`,n)}querySegmentTargets(a,e={},n=[],s={}){return this.validateServerSideAuth(),this.post(this.baseURL+`/segments/${encodeURIComponent(a)}/targets/query`,{filter:e||{},sort:n||[],...s})}removeSegmentTargets(a,e){this.validateServerSideAuth();const n={target_ids:e};return this.post(this.baseURL+`/segments/${encodeURIComponent(a)}/deletetargets`,n)}querySegments(a,e,n={}){return this.validateServerSideAuth(),this.post(this.baseURL+"/segments/query",{filter:a,sort:e,...n})}deleteSegment(a){return this.validateServerSideAuth(),this.delete(this.baseURL+`/segments/${encodeURIComponent(a)}`)}segmentTargetExists(a,e){return this.validateServerSideAuth(),this.get(this.baseURL+`/segments/${encodeURIComponent(a)}/target/${encodeURIComponent(e)}`)}createCampaign(a){return this.validateServerSideAuth(),this.post(this.baseURL+"/campaigns",{...a})}getCampaign(a,e){return this.validateServerSideAuth(),this.get(this.baseURL+`/campaigns/${encodeURIComponent(a)}`,{...e==null?void 0:e.users})}startCampaign(a,e){return this.validateServerSideAuth(),this.post(this.baseURL+`/campaigns/${encodeURIComponent(a)}/start`,{scheduled_for:e==null?void 0:e.scheduledFor,stop_at:e==null?void 0:e.stopAt})}async queryCampaigns(a,e,n){return this.validateServerSideAuth(),await this.post(this.baseURL+"/campaigns/query",{filter:a,sort:e,...n||{}})}updateCampaign(a,e){return this.validateServerSideAuth(),this.put(this.baseURL+`/campaigns/${encodeURIComponent(a)}`,e)}deleteCampaign(a){return this.validateServerSideAuth(),this.delete(this.baseURL+`/campaigns/${encodeURIComponent(a)}`)}stopCampaign(a){return this.validateServerSideAuth(),this.post(this.baseURL+`/campaigns/${encodeURIComponent(a)}/stop`)}enrichURL(a){return this.get(this.baseURL+"/og",{url:a})}getTask(a){return this.get(`${this.baseURL}/tasks/${encodeURIComponent(a)}`)}async deleteChannels(a,e={}){return await this.post(this.baseURL+"/channels/delete",{cids:a,...e})}async deleteUsers(a,e={}){if(typeof e.user<"u"&&!["soft","hard","pruning"].includes(e.user))throw new Error("Invalid delete user options. user must be one of [soft hard pruning]");if(typeof e.conversations<"u"&&!["soft","hard"].includes(e.conversations))throw new Error("Invalid delete user options. conversations must be one of [soft hard]");if(typeof e.messages<"u"&&!["soft","hard","pruning"].includes(e.messages))throw new Error("Invalid delete user options. messages must be one of [soft hard pruning]");return await this.post(this.baseURL+"/users/delete",{user_ids:a,...e})}async _createImportURL(a){return await this.post(this.baseURL+"/import_urls",{filename:a})}async _createImport(a,e={mode:"upsert"}){return await this.post(this.baseURL+"/imports",{path:a,...e})}async _getImport(a){return await this.get(this.baseURL+`/imports/${encodeURIComponent(a)}`)}async _listImports(a){return await this.get(this.baseURL+"/imports",a)}async upsertPushProvider(a){return await this.post(this.baseURL+"/push_providers",{push_provider:a})}async deletePushProvider({type:a,name:e}){return await this.delete(this.baseURL+`/push_providers/${encodeURIComponent(a)}/${encodeURIComponent(e)}`)}async listPushProviders(){return await this.get(this.baseURL+"/push_providers")}createAbortControllerForNextRequest(){return this.nextRequestAbortController=new AbortController}async commitMessage(a){return await this.post(this.baseURL+`/messages/${encodeURIComponent(a)}/commit`)}async createPoll(a,e){return await this.post(this.baseURL+"/polls",{...a,...e?{user_id:e}:{}})}async getPoll(a,e){return await this.get(this.baseURL+`/polls/${encodeURIComponent(a)}`,e?{user_id:e}:{})}async updatePoll(a,e){return await this.put(this.baseURL+"/polls",{...a,...e?{user_id:e}:{}})}async partialUpdatePoll(a,e,n){return await this.patch(this.baseURL+`/polls/${encodeURIComponent(a)}`,{...e,...n?{user_id:n}:{}})}async deletePoll(a,e){return await this.delete(this.baseURL+`/polls/${encodeURIComponent(a)}`,{...e?{user_id:e}:{}})}closePoll(a,e){return this.partialUpdatePoll(a,{set:{is_closed:!0}},e)}async createPollOption(a,e,n){return await this.post(this.baseURL+`/polls/${encodeURIComponent(a)}/options`,{...e,...n?{user_id:n}:{}})}async getPollOption(a,e,n){return await this.get(this.baseURL+`/polls/${encodeURIComponent(a)}/options/${encodeURIComponent(e)}`,n?{user_id:n}:{})}async updatePollOption(a,e,n){return await this.put(this.baseURL+`/polls/${encodeURIComponent(a)}/options`,{...e,...n?{user_id:n}:{}})}async deletePollOption(a,e,n){return await this.delete(this.baseURL+`/polls/${encodeURIComponent(a)}/options/${encodeURIComponent(e)}`,n?{user_id:n}:{})}async castPollVote(a,e,n,s){return await this.post(this.baseURL+`/messages/${encodeURIComponent(a)}/polls/${encodeURIComponent(e)}/vote`,{vote:n,...s?{user_id:s}:{}})}addPollAnswer(a,e,n,s){return this.castPollVote(a,e,{answer_text:n},s)}async removePollVote(a,e,n,s){return await this.delete(this.baseURL+`/messages/${encodeURIComponent(a)}/polls/${encodeURIComponent(e)}/vote/${encodeURIComponent(n)}`,{...s?{user_id:s}:{}})}async queryPolls(a={},e=[],n={},s){const l=s?`?user_id=${s}`:"";return await this.post(this.baseURL+`/polls/query${l}`,{filter:a,sort:ba(e),...n})}async queryPollVotes(a,e={},n=[],s={},l){const c=l?`?user_id=${l}`:"";return await this.post(this.baseURL+`/polls/${encodeURIComponent(a)}/votes${c}`,{filter:e,sort:ba(n),...s})}async queryPollAnswers(a,e={},n=[],s={},l){const c=l?`?user_id=${l}`:"";return await this.post(this.baseURL+`/polls/${encodeURIComponent(a)}/votes${c}`,{filter:{...e,is_answer:!0},sort:ba(n),...s})}async queryMessageHistory(a={},e=[],n={}){return await this.post(this.baseURL+"/messages/history",{filter:a,sort:ba(e),...n})}async updateFlags(a,e,n={}){return await this.post(this.baseURL+"/automod/v1/moderation/update_flags",{message_ids:a,reviewed_by:e,...n})}async queryDrafts(a={}){const e={...a,sort:a.sort?ba(a.sort):void 0};return await this.post(this.baseURL+"/drafts/query",e)}};const l5=(t,a)=>{const[e,n]=v.useState([]),[s,l]=v.useState([]),[c,u]=v.useState(!0),[m,h]=v.useState(null),[f,y]=v.useState(null),b=v.useRef(null),E=v.useRef(null),w=v.useCallback(async(S=!1)=>{E.current&&E.current.abort(),E.current=new AbortController;try{S||u(!0);const[I,k]=await Promise.all([Ga.getPendingProposals(t,a),Ga.getSentProposals(t,a)]);E.current.signal.aborted||(n(I.filter(N=>N.status==="pending")),l(k.filter(N=>["pending","countered"].includes(N.status))),h(null),y(new Date))}catch(I){if(I.name==="AbortError")return;h(I.message),S||(n([]),l([]))}finally{E.current.signal.aborted||u(!1)}},[t,a]);v.useEffect(()=>{if(t&&a)return w(),b.current=setInterval(()=>{w(!0)},3e4),()=>{b.current&&clearInterval(b.current),E.current&&E.current.abort()}},[t,a,w]);const _=v.useCallback(()=>{w()},[w]),C=v.useCallback((S,I="add")=>{I==="add"?l(k=>[S,...k]):I==="update"?(n(k=>k.map(N=>N._id===S._id?S:N)),l(k=>k.map(N=>N._id===S._id?S:N))):I==="remove"&&(n(k=>k.filter(N=>N._id!==S._id)),l(k=>k.filter(N=>N._id!==S._id))),y(new Date)},[]);return{pendingProposals:e,sentProposals:s,loading:c,error:m,lastUpdate:f,refetch:_,updateProposalLocally:C}},xP=void 0,EP="frbcaplgmailcom";function wP(t){if(!t)return"";const a=new Date(t),e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function jc(t){if(!t)return"";const a=new Date(t),e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");return`${a.getFullYear()}-${e}-${n}`}function SP(t){let a=t.trim();a=a.replace(/(\d{1,2}):(\d{2})\s*(am|pm)/i,(n,s,l,c)=>`${parseInt(s,10)}:${l} ${c.toUpperCase()}`),a=a.replace(/^(\d{1,2})(\d{2})(am|pm)$/i,(n,s,l,c)=>`${parseInt(s,10)}:${l} ${c.toUpperCase()}`),a=a.replace(/^(\d{1,2})(am|pm)$/i,(n,s,l)=>`${parseInt(s,10)}:00 ${l.toUpperCase()}`),a=a.replace(/(am|pm)$/i," $1"),a=a.replace(/(am|pm)$/i,n=>n.toUpperCase());const e=a.match(/^(\d{1,2}):(\d{2}) (AM|PM)$/i);if(e){const n=e[1],s=e[2],l=e[3].toUpperCase(),c=`${n}:${s} ${l}`;return console.log("normalizeTimeString final:",c),c}return console.log("normalizeTimeString fallback:",a),a}function am(t){return t.replace(/[^a-zA-Z0-9]/g,"")}async function CP({senderEmail:t,senderName:a,receiverEmail:e,receiverName:n,matchName:s}){try{const l=ly.getInstance(xP),c=await fetch(`${Ce}/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:am(t)})}),{token:u}=await c.json();if(!u)throw new Error("Could not get chat token");l.userID||await l.connectUser({id:am(t),name:a},u);const m=Array.from(new Set([am(t),am(e),EP])),h=l.channel("messaging",{members:m,name:s});await h.create(),await h.sendMessage({text:"Chat created for your match proposal!"})}catch(l){console.error("Failed to create chat channel:",l),alert("Failed to create chat channel: "+l.message)}}const Sg=`This is a BETA test match. Matches that are created, scheduled, and confirmed will NOT be played.

`,_P=t=>t.replace(/[–—−]/g,"-").replace(/\s*-\s*/g," - ").trim();function Wp({player:t,day:a,slot:e,onClose:n,senderName:s,senderEmail:l,onProposalComplete:c,selectedDivision:u,phase:m}){console.log("MatchProposalModal player prop:",t),console.log("MatchProposalModal phase prop:",m),console.log("MatchProposalModal slot prop:",e,JSON.stringify(e));const[h,f]=v.useState(e),[y,b]=v.useState(""),[E,w]=v.useState(""),[_,C]=v.useState(""),[S,I]=v.useState(!1),[k,N]=v.useState("8 Ball"),[M,R]=v.useState(m==="scheduled"||m==="challenge"?5:7),$=t.locations?t.locations.split(/\r?\n/).map(Q=>Q.trim()).filter(Boolean):[],z=fk(a),[Y,J]=v.useState(z),ae=t.availability[a]||[],Z=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][Y.getDay()],O=v.useMemo(()=>{if(!e)return[];const Q=_P(e);if(console.log("DEBUG: normalized slot:",Q),!Q.includes(" - "))return[];let[T,F]=Q.split(" - ").map(j=>SP(j.trim()));if(console.log("DEBUG: blockStart:",T,"blockEnd:",F),!T||!F)return[];const V=W0(T,F,30);return console.log("DEBUG: generated times:",V),V},[e]);v.useEffect(()=>{b("")},[e]);const{sentProposals:L}=l5(s,u);function A(Q){return L.some(T=>T.receiverName===(Q.player?`${Q.player.firstName} ${Q.player.lastName}`:Q.opponentName)&&T.date===jc(Y)&&T.time===y&&T.location===E&&T.phase===m&&T.divisions&&T.divisions.includes(u)&&["pending","countered"].includes(T.status))}t.opponents&&t.opponents.filter(Q=>!A(Q));const U=()=>{if(!l||!t.email||!y||!E||!Y){alert("Please fill in all required fields.");return}if(m==="scheduled"){const T=new Date,F=new Date(Y),V=Math.ceil((F-T)/(1e3*60*60*24));if(V<0){alert("⚠️ You cannot schedule a match in the past.");return}if(V<=2&&!window.confirm(`⚠️ WARNING: This match is scheduled for ${V} day(s) from now.

Phase 1 matches must be completed by the end of week 6. Scheduling this close to the deadline may not give enough time to complete the match.

Do you want to continue with this schedule?`))return}const Q={senderEmail:l,senderName:s,receiverEmail:t.email,receiverName:t.firstName?`${t.firstName} ${t.lastName}`:t.name,date:jc(Y),time:y,location:E,message:_,gameType:k,raceLength:M,phase:m,divisions:[u]};console.log("Proposal data to send:",Q),fetch(`${Ce}/api/proposals`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)}).then(T=>T.json()).then(T=>{if(console.log("Backend response:",T),T.error)throw new Error(T.error);if(CP({senderEmail:l,senderName:s,receiverEmail:t.email,receiverName:t.firstName?`${t.firstName} ${t.lastName}`:t.name,matchName:`${s} vs ${t.firstName?`${t.firstName} ${t.lastName}`:t.name} - ${wP(Y)}`}),vk({to_email:t.email,to_name:t.firstName?`${t.firstName} ${t.lastName}`:t.name,from_name:s,from_email:l,day:Z,date:jc(Y),time:y,location:E,note:_,gameType:k,raceLength:M,proposalId:T.proposalId}),I(!0),c){const F={_id:T.proposalId,senderEmail:l,senderName:s,receiverEmail:t.email,receiverName:t.firstName?`${t.firstName} ${t.lastName}`:t.name,date:jc(Y),time:y,location:E,message:_,gameType:k,raceLength:M,phase:m,divisions:[u],status:"pending",createdAt:new Date};c(F)}}).catch(T=>{console.error("Failed to send proposal:",T),alert("Failed to send proposal: "+T.message)})},q=()=>{I(!1),n(),c&&c()};return r.createElement(r.Fragment,null,r.createElement(Xt,{open:!0,onClose:n,title:r.createElement("span",{className:mn["match-proposal-title"]},"Propose a Match - BETA"),maxWidth:"500px",className:"proposal-modal"},r.createElement("div",{className:mn["match-proposal-content"]},r.createElement("div",{style:{display:"flex",justifyContent:"center",gap:12,marginBottom:12}},r.createElement("div",{className:mn["match-proposal-phase"]},r.createElement("b",null,r.createElement("span",{style:{color:"#fff"}},m==="scheduled"?"Phase 1:":m==="challenge"?"Phase 2:":""),r.createElement("span",{className:mn["match-proposal-label-red"],style:{marginLeft:4}},m==="scheduled"?"Scheduled Match Phase":m==="challenge"?"Challenge Phase":""))),r.createElement("div",{className:mn["match-proposal-division"]},r.createElement("b",null,r.createElement("span",{style:{color:"#fff"}},"Division:"))," ",r.createElement("span",{className:mn["match-proposal-label-red"]},u))),r.createElement("div",{className:mn["match-proposal-row"],style:{marginBottom:10}},r.createElement("b",null,"To Opponent:"),r.createElement("div",{className:mn.opponentName,style:{fontWeight:"bold",fontSize:"1.25rem",margin:"2px 0"}},t.firstName?`${t.firstName} ${t.lastName}`:t.name),r.createElement("span",{style:{color:"#fff",fontSize:"1rem"}},"Day: "),r.createElement("span",{className:mn["match-proposal-day-value"],style:{color:"#e53e3e",fontWeight:600}},Z)),r.createElement("div",{className:mn["match-proposal-row"],style:{marginBottom:10}},r.createElement("b",null,"Date:"),r.createElement(GE,{selected:Y,onChange:Q=>J(Q),dateFormat:"MM-dd-yyyy",className:mn["match-proposal-date-input"],required:!0})),r.createElement("div",{className:mn["match-proposal-row"],style:{marginBottom:10}},r.createElement("b",null,"Time Block:"),r.createElement("select",{className:mn["match-proposal-select"],value:h,onChange:Q=>f(Q.target.value)},r.createElement("option",{value:""},"Select time block"),ae.map((Q,T)=>r.createElement("option",{key:T,value:Q},Q)))),r.createElement("div",{className:mn["match-proposal-row"],style:{marginBottom:10}},r.createElement("b",null,"Start Time:"),r.createElement("select",{className:mn["match-proposal-select"],value:y,onChange:Q=>b(Q.target.value)},r.createElement("option",{value:""},"Select..."),O.map((Q,T)=>r.createElement("option",{key:T,value:Q},Q)))),r.createElement("div",{className:mn["match-proposal-row"],style:{marginBottom:10}},r.createElement("b",null,"Game Type:"),r.createElement("select",{className:mn["match-proposal-select"],value:k,onChange:Q=>N(Q.target.value)},r.createElement("option",{value:"8 Ball"},"8 Ball"),r.createElement("option",{value:"9 Ball"},"9 Ball"),r.createElement("option",{value:"10 Ball"},"10 Ball"),r.createElement("option",{value:"Mixed"},"Mixed"))),r.createElement("div",{className:mn["match-proposal-row"],style:{marginBottom:10}},r.createElement("b",null,"Race Length:"),r.createElement("select",{className:mn["match-proposal-select"],value:M,onChange:Q=>R(Number(Q.target.value))},m==="scheduled"||m==="challenge"?r.createElement("option",{value:5},"5"):[...Array(13)].map((Q,T)=>{const F=T+3;return r.createElement("option",{key:F,value:F},F)}))),r.createElement("div",{className:mn["match-proposal-row"],style:{marginBottom:10}},r.createElement("b",null,"Location:"),r.createElement("select",{className:mn["match-proposal-location-select"],value:E,onChange:Q=>w(Q.target.value)},r.createElement("option",{value:""},"Select..."),$.map((Q,T)=>r.createElement("option",{key:T,value:Q},Q)))),r.createElement("div",{className:mn["match-proposal-row"],style:{marginBottom:10}},r.createElement("b",null,"Message to Opponent:"),r.createElement("textarea",{className:mn["match-proposal-textarea"],value:Sg+_,onChange:Q=>{const T=Q.target.value;T.startsWith(Sg)?C(T.slice(Sg.length)):C("")},placeholder:"Add a comment to your opponent...",rows:5})),r.createElement("button",{className:mn["match-proposal-send-btn"],onClick:U,disabled:!y||!E},"Send Proposal"))),S&&r.createElement(iE,{open:S,onClose:q,message:`Your match proposal has been sent to ${t.firstName?`${t.firstName} ${t.lastName}`:t.name}.
          They will receive an email notification and can respond through the app.`,phase:m,gameType:k,raceLength:M,day:Z,date:jc(Y),time:y,location:E,proposalNote:_}))}async function IP(t){try{if(!t)return console.warn("No division selected for standings"),[];const a=t.replace(/[^A-Za-z0-9]/g,"_"),e=`${Ce}/static/standings_${a}.json`,n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch standings: ${n.status}`);const s=await n.json();if(!Array.isArray(s))return console.error("Standings data is not an array:",s),[];const l=s.filter(c=>{if(!c||typeof c!="object")return console.warn("Invalid standings entry:",c),!1;if(!c.name||!c.rank)return console.warn("Standings entry missing name or rank:",c),!1;const u=parseInt(c.rank);return isNaN(u)||u<=0?(console.warn("Invalid rank in standings entry:",c),!1):!0});return console.log(`Loaded ${l.length} valid standings entries for division: ${t}`),l}catch(a){return console.error("Failed to load standings:",a),[]}}function kl(t,a){if(!a||typeof a!="string")return console.warn("getPlayerPosition: playerName is undefined or not a string:",a),null;const e=a.toLowerCase().trim(),n=t.find(s=>s.name&&s.name.toLowerCase().trim()===e);return n?parseInt(n.rank):null}function NP(t,a){return t.sort((e,n)=>{const s=e&&e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:"",l=n&&n.firstName&&n.lastName?`${n.firstName} ${n.lastName}`:"",c=kl(a,s),u=kl(a,l);return c!==null&&u!==null?c-u:c!==null&&u===null?-1:c===null&&u!==null?1:s.localeCompare(l)})}function kP(t,a,e){if(!a||a.length===0)return console.warn("No standings data available for Phase 2 filtering"),t;console.log("=== PHASE 2 FILTERING DEBUG ==="),console.log("Current player name:",e),console.log("Standings data:",a),console.log("All players from sheet:",t.map(l=>`${l.firstName} ${l.lastName}`));const n=kl(a,e);if(n===null)return console.warn(`Player ${e} not found in standings`),console.log("Available standings names:",a.map(l=>l.name)),t;console.log(`Phase 2 filtering: ${e} is at position ${n}`);const s=t.filter(l=>{if(!l||!l.firstName||!l.lastName)return console.warn("Player data incomplete, excluding from Phase 2 filtering:",l),!1;const c=`${l.firstName} ${l.lastName}`,u=kl(a,c);if(u===null)return console.warn(`Opponent ${c} not found in standings - excluding from Phase 2`),!1;const m=u-n,h=m<0&&m>=-4;return console.log(`${c} (${u}) - difference: ${m}, eligible: ${h}`),h});return console.log(`Phase 2 filtering complete: ${s.length} eligible opponents out of ${t.length} total players`),console.log("Eligible players:",s.map(l=>`${l.firstName} ${l.lastName}`)),console.log("=== END PHASE 2 DEBUG ==="),s}function f0({onClose:t,excludeName:a,senderName:e,senderEmail:n,onProposalComplete:s,selectedDivision:l,phase:c}){const[u,m]=v.useState([]),[h,f]=v.useState(""),[y,b]=v.useState(!0),[E,w]=v.useState([]),[_,C]=v.useState("search"),[S,I]=v.useState(null),[k,N]=v.useState(null);v.useEffect(()=>{},[u]),v.useEffect(()=>{let z=!0;async function Y(){try{const J=await IP(l);z&&w(J);const ae=await fetch(`${Ce}/api/users/search?approved=true`);if(!ae.ok)throw new Error("Failed to fetch players from database");const H=await ae.json();if(!H.users||H.users.length===0){z&&m([]),b(!1);return}let Z=H.users.map(O=>({firstName:O.firstName||"",lastName:O.lastName||"",email:O.email||"",phone:O.phone||"",locations:O.locations||"",availability:O.availability||{Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[],Sun:[]},pin:O.pin||"",preferredContacts:O.preferredContacts||[],division:O.division||"",divisions:O.divisions||[]})).filter(O=>O.email&&O.firstName&&O.lastName&&O.isApproved&&`${O.firstName} ${O.lastName}`.toLowerCase()!==(a==null?void 0:a.toLowerCase()));c==="challenge"&&J.length>0?(console.log("🔄 Phase value:",c),console.log("🔄 Standings data length:",J.length),console.log("🔄 Sender name:",e),Z=kP(Z,J,e),Z=NP(Z,J)):(console.log("🔄   - phase === 'challenge':",c==="challenge"),console.log("🔄   - standingsData.length > 0:",J.length>0),console.log("🔄   - phase value:",c),console.log("🔄   - standingsData length:",J.length)),z&&(m(Z),setTimeout(()=>{},2e3))}catch(J){console.error("Error loading data:",J),z&&m([])}finally{z&&b(!1)}}return Y(),()=>{z=!1}},[a,c,e,l]);const M=h.length>=3?u.filter(z=>`${z.firstName} ${z.lastName}`.toLowerCase().includes(h.toLowerCase())&&`${z.firstName} ${z.lastName}`.toLowerCase()!==(a==null?void 0:a.toLowerCase())):[],R=kl(E,e),$=r.createElement(r.Fragment,null,_==="search"&&r.createElement(Xt,{open:!0,onClose:t,title:"🔍 Player Search",maxWidth:"500px"},c==="challenge"?r.createElement(r.Fragment,null,r.createElement("div",{style:{background:"rgba(229, 62, 62, 0.1)",border:"1px solid #e53e3e",borderRadius:"6px",padding:"1rem",marginBottom:"1.5rem",color:"#fff"}},r.createElement("strong",null,"Phase 2 (Challenge):")," You can only challenge players ranked 4 spots above in the standings.",r.createElement("br",null),r.createElement("span",{style:{fontSize:"1rem",color:"#fff",marginTop:8,display:"block"}},r.createElement("b",null,"Your Position:")," #",R??"N/A"),u.length>0&&r.createElement("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",opacity:.9}},u.length," eligible opponent",u.length!==1?"s":""," available")),y?r.createElement("p",{style:{color:"#fff",textAlign:"center"}},"Loading players..."):r.createElement("div",{style:{maxHeight:"60vh",overflowY:"auto"}},u.length===0?r.createElement("p",{style:{color:"#888",textAlign:"center",fontStyle:"italic"}},"No eligible opponents found within 4 spots above you in the standings."):r.createElement("div",{style:{display:"grid",gap:"8px"}},u.map((z,Y)=>{const J=`${z.firstName} ${z.lastName}`,ae=kl(E,J);return r.createElement("button",{key:Y,onClick:()=>{I(z),C("availability")},style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"1rem",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:H=>{H.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",H.target.style.transform="translateY(-2px)",H.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:H=>{H.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",H.target.style.transform="translateY(0)",H.target.style.boxShadow="none"}},r.createElement("span",{style:{fontWeight:"bold",color:"#fff"}},"#",ae??"N/A"," ",J))})))):r.createElement(r.Fragment,null,h.length>=3&&M.length>0&&r.createElement("div",{style:{color:"#e53e3e",fontSize:"0.9rem",marginBottom:"1rem",textAlign:"center"}},"Click opponent's name to see availability."),r.createElement("input",{type:"text",placeholder:"Type at least 3 letters to search...",value:h,onChange:z=>f(z.target.value),autoFocus:!0,"aria-label":"Search for player",style:{width:"100%",padding:"0.75rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"6px",fontSize:"1rem",marginBottom:"1rem"}}),y?r.createElement("p",{style:{color:"#fff",textAlign:"center"}},"Loading players..."):r.createElement(r.Fragment,null,h.length<3?r.createElement("p",{style:{color:"#888",textAlign:"center",fontStyle:"italic"}},"Please enter at least 3 letters to search for a player."):r.createElement("div",{style:{maxHeight:"60vh",overflowY:"auto"}},M.length===0?r.createElement("p",{style:{color:"#888",textAlign:"center",fontStyle:"italic"}},"No players found."):r.createElement("div",{style:{display:"grid",gap:"8px"}},M.map((z,Y)=>r.createElement("button",{key:Y,onClick:()=>{I(z),C("availability")},style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"1rem",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:J=>{J.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",J.target.style.transform="translateY(-2px)",J.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:J=>{J.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",J.target.style.transform="translateY(0)",J.target.style.boxShadow="none"}},r.createElement(Ak,{text:`${z.firstName} ${z.lastName}`,query:h})))))))),_==="availability"&&S&&r.createElement(Rp,{player:S,onClose:t,onProposeMatch:(z,Y,J,ae)=>{N({player:S,day:z,slot:Y,phase:J,selectedDivision:ae||l}),C("proposal")},phase:c,selectedDivision:l}),_==="proposal"&&k&&r.createElement(r.Fragment,null,r.createElement(Wp,{player:k.player,day:k.day,slot:k.slot,onClose:t,senderName:e,senderEmail:n,onProposalComplete:()=>{C("search"),N(null),I(null),s&&s(),t()},phase:k.phase,selectedDivision:k.selectedDivision||l})));return xd.createPortal($,document.body)}function c5({size:t="medium",color:a="#e53e3e",text:e="Loading...",showText:n=!0,variant:s="default"}){const l={small:"16px",medium:"24px",large:"32px",xlarge:"48px"},c=l[t]||l.medium,u=()=>{switch(s){case"pulse":return r.createElement("div",{style:{width:c,height:c,borderRadius:"50%",background:a,animation:"pulse 1.5s ease-in-out infinite"}});case"dots":return r.createElement("div",{style:{display:"flex",gap:"4px"}},[0,1,2].map(m=>r.createElement("div",{key:m,style:{width:"8px",height:"8px",borderRadius:"50%",background:a,animation:"bounce 1.4s ease-in-out infinite both",animationDelay:`${m*.16}s`}})));case"bars":return r.createElement("div",{style:{display:"flex",gap:"2px"}},[0,1,2,3,4].map(m=>r.createElement("div",{key:m,style:{width:"4px",height:"20px",background:a,animation:"bars 1.2s ease-in-out infinite",animationDelay:`${m*.1}s`}})));default:return r.createElement("div",{style:{width:c,height:c,border:"3px solid rgba(229, 62, 62, 0.2)",borderTop:`3px solid ${a}`,borderRadius:"50%",animation:"spin 1s linear infinite"}})}};return r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",padding:"20px"}},u(),n&&e&&r.createElement("div",{style:{color:a,fontSize:"0.9rem",fontWeight:"500",textAlign:"center",maxWidth:"200px"}},e),r.createElement("style",null,`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
          0%, 100% { 
            transform: scale(0.8);
            opacity: 0.5;
          }
          50% { 
            transform: scale(1);
            opacity: 1;
          }
        }
        
        @keyframes bounce {
          0%, 80%, 100% { 
            transform: scale(0);
          }
          40% { 
            transform: scale(1);
          }
        }
        
        @keyframes bars {
          0%, 40%, 100% { 
            transform: scaleY(0.4);
          }
          20% { 
            transform: scaleY(1);
          }
        }
      `))}function d5({loading:t,children:a,loadingText:e="Loading...",disabled:n=!1,variant:s="default",size:l="medium",...c}){const u={small:{padding:"8px 16px",fontSize:"0.875rem",minHeight:"36px"},medium:{padding:"12px 20px",fontSize:"1rem",minHeight:"48px"},large:{padding:"16px 24px",fontSize:"1.125rem",minHeight:"56px"}},m=u[l]||u.medium;return r.createElement("button",{...c,disabled:t||n,style:{...c.style,...m,position:"relative",opacity:t?.8:1,cursor:t?"not-allowed":"pointer",transition:"all 0.3s ease"}},t?r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}},r.createElement(c5,{size:"small",variant:s,showText:!1,color:"#fff"}),e):a)}function AP({lines:t=3,height:a="20px",width:e="100%",gap:n="8px",variant:s="default"}){const l=c=>{const m=c===t-1?"60%":e;switch(s){case"pulse":return r.createElement("div",{key:c,style:{height:a,width:m,background:"#444",borderRadius:"4px",animation:"pulse 1.5s ease-in-out infinite"}});case"shimmer":return r.createElement("div",{key:c,style:{height:a,width:m,background:"linear-gradient(90deg, #333 25%, #444 50%, #333 75%)",backgroundSize:"200% 100%",borderRadius:"4px",animation:"shimmer 1.5s infinite"}});default:return r.createElement("div",{key:c,style:{height:a,width:m,background:"#333",borderRadius:"4px",opacity:.7}})}};return r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:n,padding:"16px"}},Array.from({length:t}).map((c,u)=>l(u)),r.createElement("style",null,`
        @keyframes pulse {
          0%, 100% { 
            opacity: 0.7;
          }
          50% { 
            opacity: 1;
          }
        }
        
        @keyframes shimmer {
          0% { background-position: -200% 0; }
          100% { background-position: 200% 0; }
        }
      `))}function DP(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-"),m=new Date(parseInt(l),parseInt(c)-1,parseInt(u)),h=String(m.getMonth()+1).padStart(2,"0"),f=String(m.getDate()).padStart(2,"0"),y=m.getFullYear();return`${h}-${f}-${y}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function MP({proposal:t,open:a,onClose:e,onEdit:n,onMessage:s}){if(v.useEffect(()=>{a&&setTimeout(()=>{window.dispatchEvent(new Event("resize"))},50)},[a]),!a||!t)return null;const{senderName:l,receiverName:c,day:u,date:m,time:h,location:f,gameType:y,raceLength:b,message:E,proposalNote:w}=t,_=window.innerWidth<=500,[C,S]=v.useState(!1),[I,k]=v.useState("");async function N(){S(!0),k("");try{if(!(await fetch(`${Ce}/api/proposals/${t._id}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"confirmed"})})).ok)throw new Error("Failed to confirm proposal");e&&e()}catch(R){k(R.message||"Failed to confirm proposal")}finally{S(!1)}}const M=r.createElement(Xt,{open:a,onClose:e,title:"🎱 Proposal Details",maxWidth:_?"99vw":"480px"},t.isCounter&&r.createElement("div",{style:{color:"#ff9800",fontWeight:"bold",marginBottom:8,fontSize:"1.05em",textAlign:"center"}},"This is a counter proposal from ",t.counteredBy||"your opponent"),r.createElement("div",{style:{textAlign:"left",marginBottom:_?"0.7rem":"1.5rem",fontSize:_?"0.95rem":"1.05rem",padding:_?"0.2rem 0.2rem":void 0}},r.createElement("div",{className:ge.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},r.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"You:"),r.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},l||"N/A")),r.createElement("div",{className:ge.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},r.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Opponent:"),r.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},c||"N/A")),u&&r.createElement("div",{className:ge.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},r.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Day:"),r.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},u)),r.createElement("div",{className:ge.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},r.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Date:"),r.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},DP(m))),r.createElement("div",{className:ge.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},r.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Time:"),r.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},h||"N/A")),r.createElement("div",{className:ge.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},r.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Location:"),r.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},f||"N/A")),y&&r.createElement("div",{className:ge.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},r.createElement(Sp,{gameType:y,size:_?12:16}),r.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Game:"),r.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},y)),b&&r.createElement("div",{className:ge.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},r.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Race:"),r.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},b)),w&&r.createElement("div",{style:{margin:_?"8px 0 0 0":"16px 0 0 0",padding:_?"0.4rem 0.5rem":"0.8rem 1rem",background:"rgba(255, 193, 7, 0.1)",borderLeft:"3px solid #ffc107",borderRadius:"6px",color:"#ffc107",fontSize:_?"0.9rem":"0.95rem",textAlign:"left"}},r.createElement("span",{role:"img","aria-label":"note"},"📝")," ",r.createElement("strong",null,"Note:"),r.createElement("br",null),w)),r.createElement("div",{style:{display:"flex",gap:_?6:12,justifyContent:"center",marginTop:_?10:24,flexDirection:_?"column":"row",alignItems:_?"stretch":"center"}},n&&r.createElement("button",{className:ge.dashboardBtn,onClick:n,style:{background:"#e53e3e",color:"#fff",minWidth:_?"90px":"120px",fontSize:_?"0.95em":void 0,padding:_?"0.5em 0.7em":void 0}},"Edit"),s&&r.createElement("button",{className:ge.dashboardBtn,onClick:s,style:{background:"#007bff",color:"#fff",minWidth:_?"90px":"120px",fontSize:_?"0.95em":void 0,padding:_?"0.5em 0.7em":void 0}},"Msg"),t.isCounter&&t.status==="countered"&&r.createElement(d5,{className:ge.dashboardBtn,onClick:N,loading:C,loadingText:"Confirming...",disabled:C,style:{background:"#43a047",color:"#fff",minWidth:_?"90px":"120px",fontSize:_?"0.95em":void 0,padding:_?"0.5em 0.7em":void 0}},"Confirm"),r.createElement("button",{className:ge.dashboardBtn,onClick:e,style:{background:"#6c757d",color:"#fff",minWidth:_?"90px":"120px",fontSize:_?"0.95em":void 0,padding:_?"0.5em 0.7em":void 0}},"Close")),I&&r.createElement("div",{style:{color:"red",marginTop:8}},I));return xd.createPortal(M,document.body)}function Cg(t){const a=t.getFullYear(),e=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return`${a}-${e}-${n}`}function TP(t){const e=t.trim().replace(/\s+/g,"").toLowerCase().match(/^(\d{1,2})(:\d{2})?(am|pm)$/);if(e){const s=e[1],l=e[2]?e[2]:":00",c=e[3].toUpperCase();return`${s}${l} ${c}`}const n=t.trim().match(/^(\d{1,2})(:\d{2})?\s?(am|pm)$/i);if(n){const s=n[1],l=n[2]?n[2]:":00",c=n[3].toUpperCase();return`${s}${l} ${c}`}return t.trim()}const RP=t=>t.replace(/[–—−]/g,"-").replace(/\s*-\s*/g," - ").trim();function LP({proposal:t,open:a,onClose:e,onSave:n,selectedDivision:s,phase:l,receiverPlayer:c}){var T;const[u,m]=v.useState(new Date),[h,f]=v.useState(""),[y,b]=v.useState(""),[E,w]=v.useState(""),[_,C]=v.useState(""),[S,I]=v.useState(""),[k,N]=v.useState(""),[M,R]=v.useState(""),[$,z]=v.useState(!1);v.useEffect(()=>{if(t&&a){if(t.date){const[F,V,j]=t.date.split("-");m(new Date(parseInt(F),parseInt(V)-1,parseInt(j)))}f(t.time||""),w(t.location||""),C(t.message||""),I(t.gameType||""),N(t.raceLength||"")}},[t,a]);const J=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][u.getDay()],H=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][u.getDay()],Z=((T=c==null?void 0:c.availability)==null?void 0:T[H])||[];console.log("EditProposalModal - Receiver player:",c),console.log("EditProposalModal - Selected day short:",H),console.log("EditProposalModal - Opponent time blocks:",Z);const O=["6:00 PM - 8:00 PM","8:00 PM - 10:00 PM","10:00 PM - 12:00 AM"],L=Z.length>0?Z:O;console.log("EditProposalModal - Available time blocks:",L);const A=!c&&a,U=r.useMemo(()=>{if(!h)return console.log("EditProposalModal - No time selected:",h),[];console.log("EditProposalModal - Selected time block:",h);const F=RP(h);if(console.log("EditProposalModal - Normalized slot:",F),!F.includes(" - "))return console.log("EditProposalModal - No dash found in normalized slot"),[];let[V,j]=F.split(" - ").map(K=>TP(K.trim()));if(console.log("EditProposalModal - Normalized times:",{blockStart:V,blockEnd:j}),!V||!j)return console.log("EditProposalModal - Failed to normalize times"),[];const re=W0(V,j,30);return console.log("EditProposalModal - Generated start times:",re),console.log("EditProposalModal - Times array length:",re.length),re},[h]);v.useEffect(()=>{b("")},[h]);const q=async()=>{if(!y||!E){R("Please fill in all required fields.");return}z(!0),R("");try{const F=await fetch(`${Ce}/api/proposals/${t._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:Cg(u),time:y,location:E,message:_,gameType:S,raceLength:k,phase:l,divisions:[s]})}),V=await F.json();if(!F.ok)throw new Error(V.error||"Failed to update proposal");n&&n({...t,date:Cg(u),time:y,location:E,message:_,gameType:S,raceLength:k}),e()}catch(F){R(F.message||"Failed to update proposal")}finally{z(!1)}};if(!a||!t)return null;const Q=r.createElement(Xt,{open:a,onClose:e,title:"✏️ Edit Proposal",maxWidth:"400px"},r.createElement("div",{className:ge.proposalModalContent,style:{width:"100%",maxWidth:400,margin:"0 auto"}},r.createElement("div",{className:ge.proposalModalHeaderBar},r.createElement("span",{className:ge.phasePill},"Phase 1: Scheduled Match Phase"),r.createElement("span",{className:ge.divisionPill},"Division: ",s||"N/A")),r.createElement("div",{className:ge.proposalModalToRow},r.createElement("span",{className:ge.toOpponentLabel},"To Opponent:"),r.createElement("span",{className:ge.toOpponentName},t.receiverName)),r.createElement("div",{className:ge.proposalModalDayRow},r.createElement("span",{className:ge.dayLabel},"Day:"),r.createElement("span",{className:ge.dayValue},J)),r.createElement("div",{className:ge.formGroup,style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement("label",{htmlFor:"proposal-date",style:{marginBottom:4,textAlign:"center"}},"Date"),r.createElement("input",{id:"proposal-date",type:"date",value:Cg(u),onChange:F=>{const[V,j,re]=F.target.value.split("-");m(new Date(parseInt(V),parseInt(j)-1,parseInt(re)))},className:ge.input,required:!0,style:{textAlign:"center"}})),r.createElement("div",{className:ge.proposalModalFieldRow},r.createElement("span",{className:ge.fieldLabel},"Time Block:"),A&&r.createElement("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginBottom:"0.5rem"}},"⚠️ Opponent availability data not available. Using default time blocks."),c&&Z.length===0&&r.createElement("div",{style:{color:"#ffa500",fontSize:"0.9rem",marginBottom:"0.5rem"}},"ℹ️ No availability for ",J,". Using default time blocks."),r.createElement("select",{value:h,onChange:F=>f(F.target.value),className:ge.inputField},r.createElement("option",{value:""},"Select time block"),L.map(F=>r.createElement("option",{key:F,value:F},F)))),r.createElement("div",{className:ge.proposalModalFieldRow},r.createElement("span",{className:ge.fieldLabel},"Start Time:"),r.createElement("select",{value:y,onChange:F=>b(F.target.value),className:ge.inputField},r.createElement("option",{value:""},"Select start time"),U.map(F=>r.createElement("option",{key:F,value:F},F)))),r.createElement("div",{className:ge.proposalModalFieldRow},r.createElement("span",{className:ge.fieldLabel},"Game Type:"),r.createElement("select",{value:S,onChange:F=>I(F.target.value),className:ge.inputField},r.createElement("option",{value:""},"Select game type"),r.createElement("option",{value:"8 Ball"},"8 Ball"),r.createElement("option",{value:"9 Ball"},"9 Ball"),r.createElement("option",{value:"10 Ball"},"10 Ball"),r.createElement("option",{value:"Mixed"},"Mixed"))),r.createElement("div",{className:ge.proposalModalFieldRow},r.createElement("span",{className:ge.fieldLabel},"Race Length:"),r.createElement("select",{value:k,onChange:F=>N(F.target.value),className:ge.inputField},r.createElement("option",{value:""},"Select race length"),r.createElement("option",{value:"3"},"3"),r.createElement("option",{value:"5"},"5"),r.createElement("option",{value:"7"},"7"),r.createElement("option",{value:"9"},"9"))),r.createElement("div",{className:ge.proposalModalFieldRow},r.createElement("span",{className:ge.fieldLabel},"Location:"),r.createElement("input",{type:"text",value:E,onChange:F=>w(F.target.value),placeholder:"Enter location",className:ge.inputField})),r.createElement("div",{className:ge.proposalModalFieldRow},r.createElement("span",{className:ge.fieldLabel},"Message to Opponent:"),r.createElement("textarea",{value:_,onChange:F=>C(F.target.value),placeholder:"Message to opponent",rows:3,className:ge.inputField})),M&&r.createElement("div",{className:ge.errorBox},M),r.createElement("div",{className:ge.proposalModalButtonRow},r.createElement("button",{className:ge.dashboardBtn,onClick:q,disabled:$,style:{width:"48%"}},$?"Saving...":"Save Changes"),r.createElement("button",{className:ge.dashboardBtn,onClick:e,disabled:$,style:{width:"48%"}},"Cancel"))));return xd.createPortal(Q,document.body)}const PP="_container_qqpwh_3",BP="_header_qqpwh_23",OP="_headerButtons_qqpwh_57",zP="_newChatButton_qqpwh_69",UP="_closeButton_qqpwh_101",FP="_content_qqpwh_133",WP="_conversationsList_qqpwh_147",jP="_loading_qqpwh_181",HP="_emptyState_qqpwh_193",YP="_startChatButton_qqpwh_215",$P="_conversationItems_qqpwh_245",GP="_conversationItem_qqpwh_245",qP="_active_qqpwh_283",ZP="_conversationInfo_qqpwh_293",VP="_conversationName_qqpwh_303",QP="_lastMessage_qqpwh_321",JP="_conversationMeta_qqpwh_345",XP="_timestamp_qqpwh_361",KP="_unreadBadge_qqpwh_379",e9="_messagesArea_qqpwh_407",t9="_messagesHeader_qqpwh_421",n9="_messagesList_qqpwh_447",a9="_messageItem_qqpwh_465",r9="_myMessage_qqpwh_475",s9="_theirMessage_qqpwh_483",i9="_messageBubble_qqpwh_491",o9="_messageContent_qqpwh_527",l9="_messageTime_qqpwh_539",c9="_readStatus_qqpwh_563",d9="_noConversation_qqpwh_571",u9="_messageInput_qqpwh_591",m9="_sendButton_qqpwh_647",p9="_playerList_qqpwh_769",f9="_playerItem_qqpwh_781",h9="_selected_qqpwh_807",g9="_playerName_qqpwh_817",y9="_modalActions_qqpwh_847",b9="_cancelButton_qqpwh_861",v9="_startButton_qqpwh_893",x9="_error_qqpwh_939",vt={container:PP,header:BP,headerButtons:OP,newChatButton:zP,closeButton:UP,content:FP,conversationsList:WP,loading:jP,emptyState:HP,startChatButton:YP,conversationItems:$P,conversationItem:GP,active:qP,conversationInfo:ZP,conversationName:VP,lastMessage:QP,conversationMeta:JP,timestamp:XP,unreadBadge:KP,messagesArea:e9,messagesHeader:t9,messagesList:n9,messageItem:a9,myMessage:r9,theirMessage:s9,messageBubble:i9,messageContent:o9,messageTime:l9,readStatus:c9,noConversation:d9,messageInput:u9,sendButton:m9,playerList:p9,playerItem:f9,selected:h9,playerName:g9,modalActions:y9,cancelButton:b9,startButton:v9,error:x9};console.log("DirectMessagingModal BACKEND_URL in use:",Ce);function E9({userName:t,userEmail:a,userPin:e,selectedDivision:n,opponentEmails:s=[],onClose:l}){console.log("Opponent Emails:",s);const[c,u]=v.useState([]),[m,h]=v.useState(null),[f,y]=v.useState([]),[b,E]=v.useState(""),[w,_]=v.useState(!1),[C,S]=v.useState(!1),[I,k]=v.useState(""),[N,M]=v.useState([]),[R,$]=v.useState(!1),[z,Y]=v.useState(null),J=v.useRef(null);v.useEffect(()=>{async function A(){try{const q=await(await fetch(`${Ce}/api/users`)).json();Array.isArray(q)&&M(q.filter(Q=>Q.email!==a))}catch(U){console.error("Failed to load players:",U)}}A()},[a]),v.useEffect(()=>{async function A(){_(!0);try{const q=await(await fetch(`${Ce}/api/messages/conversations?user=${encodeURIComponent(a)}`)).json();console.log("Conversations fetch data:",q),Array.isArray(q)&&u(q)}catch(U){console.error("Failed to load conversations:",U),k("Failed to load conversations")}finally{_(!1)}}A()},[a]),v.useEffect(()=>{if(!m){y([]);return}async function A(){try{const q=await(await fetch(`${Ce}/api/messages?user1=${encodeURIComponent(a)}&user2=${encodeURIComponent(m.email)}`)).json();Array.isArray(q)&&(y(q),q.forEach(Q=>{Q.receiverEmail===a&&!Q.read&&fetch(`${Ce}/api/messages/${Q._id}/read`,{method:"PUT"})}))}catch(U){console.error("Failed to load messages:",U),k("Failed to load messages")}}A()},[m,a]),v.useEffect(()=>{J.current&&J.current.scrollIntoView({behavior:"smooth"})},[f]);const ae=async()=>{if(!b.trim()||!m)return;S(!0),k("");let A=m.email;if(!A){const U=N.find(q=>q.name===m.name&&q.email);U&&(A=U.email)}if(console.log("Sending message to:",A),!A){k("No email found for selected opponent."),S(!1);return}try{const U=await fetch(`${Ce}/api/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({senderEmail:a,receiverEmail:A,content:b})});if(console.log("Send response:",U),!U.ok)throw new Error("Failed to send message");E("");const Q=await(await fetch(`${Ce}/api/messages?user1=${encodeURIComponent(a)}&user2=${encodeURIComponent(A)}`)).json();Array.isArray(Q)&&y(Q)}catch(U){k(U.message||"Failed to send message")}finally{S(!1)}},H=async()=>{z&&(h(z),$(!1),Y(null))},Z=A=>A.unreadCount||0,O=A=>{const U=new Date(A),Q=(new Date-U)/(1e3*60*60);return Q<24?U.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):Q<48?"Yesterday":U.toLocaleDateString()},L=N.filter(A=>s.length>0?s.includes(A.name):n?Array.isArray(A.divisions)?A.divisions.includes(n):typeof A.divisions=="string"?A.divisions.split(",").map(U=>U.trim()).includes(n):!1:!0).sort((A,U)=>{const q=`${A.name||""}`.trim().toLowerCase(),Q=`${U.name||""}`.trim().toLowerCase();return q.localeCompare(Q)});return r.createElement("div",{className:vt.container},r.createElement("div",{className:vt.header},r.createElement("h2",null,"Direct Messages"),r.createElement("div",{className:vt.headerButtons},r.createElement("button",{className:vt.newChatButton,onClick:()=>$(!0),type:"button"},"💬 New Chat"),r.createElement("button",{className:vt.closeButton,onClick:l,type:"button"},"×"))),r.createElement("div",{className:vt.content},r.createElement("div",{className:vt.conversationsList},r.createElement("h3",null,"Conversations"),w?r.createElement("div",{className:vt.loading},"Loading conversations..."):c.length===0?r.createElement("div",{className:vt.emptyState},r.createElement("p",null,"No conversations yet"),r.createElement("button",{className:vt.startChatButton,onClick:()=>$(!0),type:"button"},"Start a conversation")):r.createElement("div",{className:vt.conversationItems},c.map(A=>r.createElement("div",{key:A.email,className:`${vt.conversationItem} ${(m==null?void 0:m.email)===A.email?vt.active:""}`,onClick:()=>h(A)},r.createElement("div",{className:vt.conversationInfo},r.createElement("div",{className:vt.conversationName},A.name||A.email),r.createElement("div",{className:vt.lastMessage},A.lastMessage||"No messages yet")),r.createElement("div",{className:vt.conversationMeta},r.createElement("div",{className:vt.timestamp},A.lastMessageTime?O(A.lastMessageTime):""),Z(A)>0&&r.createElement("div",{className:vt.unreadBadge},Z(A))))))),r.createElement("div",{className:vt.messagesArea},m?r.createElement(r.Fragment,null,r.createElement("div",{className:vt.messagesHeader},r.createElement("h3",null,"Chat with ",m.name||m.email)),r.createElement("div",{className:vt.messagesList},f.map(A=>r.createElement("div",{key:A._id,className:`${vt.messageItem} ${A.senderEmail===a?vt.myMessage:vt.theirMessage}`},r.createElement("div",{className:vt.messageBubble},r.createElement("div",{className:vt.messageContent},A.content),r.createElement("div",{className:vt.messageTime},O(A.timestamp),A.senderEmail===a&&r.createElement("span",{className:vt.readStatus},A.read?"✓✓":"✓"))))),r.createElement("div",{ref:J})),r.createElement("div",{className:vt.messageInput},r.createElement("input",{type:"text",value:b,onChange:A=>E(A.target.value),onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),ae())},placeholder:"Type a message...",disabled:C}),r.createElement("button",{onClick:ae,disabled:C||!b.trim(),className:vt.sendButton,type:"button"},"Send"))):r.createElement("div",{className:vt.noConversation},r.createElement("p",null,"Select a conversation to start messaging")))),R&&r.createElement(Xt,{open:R,onClose:()=>{$(!1),Y(null)},title:"Start New Conversation",maxWidth:"400px"},r.createElement("button",{style:{position:"absolute",top:10,right:10,background:"none",border:"none",color:"#fff",fontSize:24,cursor:"pointer",zIndex:10001},onClick:()=>{$(!1),Y(null)},"aria-label":"Close",type:"button"},"×"),r.createElement("div",{className:vt.playerList},L.map(A=>r.createElement("div",{key:A._id||A.email,className:`${vt.playerItem} ${(z==null?void 0:z.email)===A.email?vt.selected:""}`,onClick:()=>Y(A)},r.createElement("div",{className:vt.playerName},A.name?A.name:A.email)))),r.createElement("div",{className:vt.modalActions},r.createElement("button",{onClick:()=>{$(!1),Y(null)},className:vt.cancelButton,type:"button"},"Cancel"),r.createElement("button",{onClick:H,disabled:!z,className:vt.startButton,type:"button"},"Start Chat"))),I&&r.createElement("div",{className:vt.error},I))}const w9="_customChannelHeader_1kvzt_1",S9="_customChannelHeaderIcon_1kvzt_51",C9="_customChannelHeaderTitle_1kvzt_61",_9="_customChannelHeaderDate_1kvzt_71",I9="_customChannelHeaderOnline_1kvzt_83",N9="_customChannelHeaderOnlineLabel_1kvzt_97",k9="_customChannelHeaderNone_1kvzt_109",A9="_customChannelHeaderAvatar_1kvzt_119",_i={customChannelHeader:w9,customChannelHeaderIcon:S9,customChannelHeaderTitle:C9,customChannelHeaderDate:_9,customChannelHeaderOnline:I9,customChannelHeaderOnlineLabel:N9,customChannelHeaderNone:k9,customChannelHeaderAvatar:A9};function D9(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-"),m=new Date(parseInt(l),parseInt(c)-1,parseInt(u)),h=String(m.getMonth()+1).padStart(2,"0"),f=String(m.getDate()).padStart(2,"0"),y=m.getFullYear();return`${h}-${f}-${y}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function M9(t){if(!t)return"";const a=t.trim().split(" ");if(a.length===1){const e=a[0].split(/[^a-zA-Z0-9]/).filter(Boolean);return e.length>1?(e[0][0]+e[1][0]).toUpperCase():a[0].slice(0,2).toUpperCase()}return(a[0][0]+a[a.length-1][0]).toUpperCase()}function T9({channel:t,currentUser:a}){var c,u,m;const e=((c=t==null?void 0:t.data)==null?void 0:c.name)||(t==null?void 0:t.id)||"General Chat",n=(u=t==null?void 0:t.data)==null?void 0:u.matchDate,s=a==null?void 0:a.id,l=(m=t==null?void 0:t.state)!=null&&m.members?Object.values(t.state.members).filter(h=>{var f,y;return((f=h.user)==null?void 0:f.online)||((y=h.user)==null?void 0:y.id)===s}).map(h=>{var f,y;return((f=h.user)==null?void 0:f.name)||((y=h.user)==null?void 0:y.id)}).filter(Boolean):[(a==null?void 0:a.name)||(a==null?void 0:a.id)].filter(Boolean);return r.createElement("div",{className:_i.customChannelHeader,style:{width:"100%",margin:"0",borderRadius:"0",marginTop:"0",marginBottom:"0"}},r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",width:"100%"}},r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.8em",fontSize:"1.1em",textAlign:"center",width:"100%"}},r.createElement("span",{className:_i.customChannelHeaderIcon},"💬"),r.createElement("span",{style:{textAlign:"center"}},"You're in the"," ",r.createElement("span",{className:_i.customChannelHeaderTitle},'"',e,'"')," ","channel."),n&&r.createElement("span",{className:_i.customChannelHeaderDate},"Match Date: ",D9(n))),r.createElement("div",{className:_i.customChannelHeaderOnline},r.createElement("span",{className:_i.customChannelHeaderOnlineLabel},"Online:"),l.length===0&&r.createElement("span",{className:_i.customChannelHeaderNone},"No one online"),l.map(h=>r.createElement("span",{key:h,className:_i.customChannelHeaderAvatar,title:h},M9(h))))))}var _g={exports:{}},Ig,hx;function R9(){if(hx)return Ig;hx=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ig=t,Ig}var Ng,gx;function L9(){if(gx)return Ng;gx=1;var t=R9();function a(){}function e(){}return e.resetWarningCache=a,Ng=function(){function n(c,u,m,h,f,y){if(y!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}n.isRequired=n;function s(){return n}var l={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:e,resetWarningCache:a};return l.PropTypes=l,l},Ng}var yx;function P9(){return yx||(yx=1,_g.exports=L9()()),_g.exports}var B9=P9();const W=xp(B9),u5={async getUser(t){return Bn.get(`/api/users/${encodeURIComponent(t)}`)},async syncUsers(){return Bn.post("/admin/sync-users")}};class O9{async getCurrentSeason(a){try{const e=await fetch(`${Ce}/api/seasons/current/${encodeURIComponent(a)}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){return console.error("Error fetching current season:",e),null}}async getCurrentPhaseAndWeek(a){try{const e=await fetch(`${Ce}/api/seasons/phase/${encodeURIComponent(a)}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){return console.error("Error fetching current phase and week:",e),{currentWeek:null,phase:"offseason",isActive:!1,season:null}}}async getAllSeasons(a){try{const e=await fetch(`${Ce}/api/seasons/${encodeURIComponent(a)}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){return console.error("Error fetching all seasons:",e),[]}}isMatchWithinPhase1Deadline(a,e){if(!e||!e.phase1End)return!0;const n=new Date(a),s=new Date(e.phase1End);return n<=s}getDaysUntilPhase1Deadline(a){if(!a||!a.phase1End)return null;const e=new Date,s=new Date(a.phase1End)-e;return Math.ceil(s/(1e3*60*60*24))}hasPhase1DeadlinePassed(a){if(!a||!a.phase1End)return!1;const e=new Date,n=new Date(a.phase1End);return e>n}hasPhase2Started(a){if(!a||!a.phase2Start)return!1;const e=new Date,n=new Date(a.phase2Start);return e>=n}getDaysUntilPhase2Deadline(a){if(!a||!a.phase2End)return null;const e=new Date,s=new Date(a.phase2End)-e;return Math.ceil(s/(1e3*60*60*24))}hasPhase2DeadlinePassed(a){if(!a||!a.phase2End)return!1;const e=new Date,n=new Date(a.phase2End);return e>n}getCurrentPhaseFromDates(a){if(!a)return"offseason";const e=new Date,n=new Date(a.phase1Start),s=new Date(a.phase1End),l=new Date(a.phase2Start),c=new Date(a.phase2End);return e<n?"offseason":e>=n&&e<=s?"scheduled":e>=l&&e<=c?"challenge":e>c?"completed":"transition"}}const Ps=new O9;function z9({userName:t,userEmail:a,userPin:e,onClose:n,fromChat:s=!1}){const[l,c]=v.useState([]),[u,m]=v.useState(!0),[h,f]=v.useState(""),[y,b]=v.useState("scheduled"),[E,w]=v.useState(!1),[_,C]=v.useState(!1),[S,I]=v.useState(!1),[k,N]=v.useState(!1),[M,R]=v.useState(null),[$,z]=v.useState(null),[Y,J]=v.useState([]),[ae,H]=v.useState([]),[Z,O]=v.useState(!1);v.useEffect(()=>{a&&u5.getUser(a).then(F=>{let V=[];Array.isArray(F.divisions)?V=F.divisions.map(j=>j.trim()).filter(Boolean):typeof F.divisions=="string"?V=F.divisions.split(",").map(j=>j.trim()).filter(Boolean):V=[],c(V),m(!1)}).catch(()=>{c([]),m(!1)})},[a]);const L=async F=>{O(!0);try{const V=`schedule_${F.replace(/[^A-Za-z0-9]/g,"_")}.json`,j=Date.now(),re=`${Ce}/static/${V}?t=${j}`,K=await fetch(re,{method:"GET",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(!K.ok)throw new Error("Schedule not found");const ce=await K.json();J(ce);const xe=await fetch(`${Ce}/api/users/search?approved=true&division=${encodeURIComponent(F)}`,{method:"GET",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(!xe.ok)throw new Error("Players not found");const Se=await xe.json();H(Se.users||[])}catch(V){console.error("Failed to load schedule data:",V),J([]),H([])}finally{O(!1)}},A=async F=>{f(F);try{const V=await Ps.getCurrentPhaseAndWeek(F),j=(V==null?void 0:V.phase)||"scheduled";b(j),j==="scheduled"||j==="offseason"?(await L(F),w(!0)):C(!0)}catch(V){console.error("Error fetching phase data:",V),C(!0)}},U=()=>{if(!Y.length||!ae.length||!h)return[];const F=`${t}`,V=[];for(const K of Y)if(K.player1&&K.player2&&!K.scheduled){const ce=K.player1.trim(),xe=K.player2.trim();(ce.toLowerCase()===F.toLowerCase()||xe.toLowerCase()===F.toLowerCase())&&V.push(K)}const j=ae.filter(K=>K.divisions&&K.divisions.includes(h));return V.map(K=>{var Se,Ke;const ce=K.player1&&K.player1.trim().toLowerCase()===F.toLowerCase()?(Se=K.player2)==null?void 0:Se.trim():(Ke=K.player1)==null?void 0:Ke.trim();if(!ce)return null;const xe=j.find(pe=>pe.name&&pe.name.trim().toLowerCase()===ce.toLowerCase());return{match:K,player:xe,opponentName:ce}}).filter(Boolean)},q=async F=>{const j=ae.filter(re=>re.divisions&&re.divisions.includes(h)).find(re=>re.name&&re.name.trim().toLowerCase()===F.trim().toLowerCase());if(!j){alert("Player data not found for: "+F);return}if(!j.email){alert("This opponent does not have an email on file and cannot be proposed a match.");return}if(s){try{const re=await fetch(`${Ce}/api/users/search?approved=true`);if(!re.ok)throw new Error("Failed to fetch players from database");const ce=(await re.json()).users.find(xe=>`${xe.firstName} ${xe.lastName}`.trim().toLowerCase()===F.trim().toLowerCase());if(ce){const xe=typeof ce.availability=="string"?Gg(ce.availability):ce.availability,Se={...ce,availability:xe};R(Se)}else R(j)}catch(re){console.error("Error fetching detailed player data:",re),R(j)}w(!1),I(!0)}else w(!1),C(!0)},Q=(F,V,j,re)=>{z({day:F,slot:V,phase:j,division:re,opponent:M}),I(!1),N(!0)},T=()=>{w(!1),C(!1),I(!1),N(!1),R(null),z(null),f(""),n()};return u?r.createElement(Xt,{open:!0,onClose:n,title:"Loading Divisions...",maxWidth:"500px"},r.createElement("div",{style:{textAlign:"center",padding:"2rem"}},r.createElement("p",null,"Please wait while we load your divisions..."))):l.length===0?r.createElement(Xt,{open:!0,onClose:n,title:"No Divisions Found",maxWidth:"500px"},r.createElement("div",{style:{textAlign:"center",padding:"2rem"}},r.createElement("p",null,"You are not registered for any divisions. Please contact an administrator."),r.createElement("button",{onClick:n,style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"0.8rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",marginTop:"1rem"},onMouseEnter:F=>{F.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",F.target.style.transform="translateY(-2px)",F.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:F=>{F.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",F.target.style.transform="translateY(0)",F.target.style.boxShadow="none"}},"Close"))):r.createElement(r.Fragment,null,!E&&!_&&r.createElement(Xt,{open:!0,onClose:n,title:"Select Division",maxWidth:"500px"},r.createElement("div",{style:{maxHeight:"60vh",overflowY:"auto"}},r.createElement("p",{style:{color:"#fff",textAlign:"center",marginBottom:"1.5rem",fontSize:"1rem"}},"Choose a division to schedule a match:"),r.createElement("div",{style:{display:"grid",gap:"12px"}},l.map(F=>r.createElement("button",{key:F,onClick:()=>A(F),style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"1rem 1.5rem",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:V=>{V.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",V.target.style.transform="translateY(-2px)",V.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:V=>{V.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",V.target.style.transform="translateY(0)",V.target.style.boxShadow="none"}},"🏆 ",F))))),E&&(Z?r.createElement(Xt,{open:!0,onClose:T,title:"Loading Opponents...",maxWidth:"500px"},r.createElement("div",{style:{textAlign:"center",padding:"2rem"}},r.createElement("p",null,"Please wait while we load your scheduled opponents..."))):r.createElement(tw,{open:E,onClose:T,opponents:U(),onOpponentClick:q,phase:y})),_&&r.createElement(f0,{onClose:T,excludeName:t,senderName:t,senderEmail:a,onProposalComplete:()=>{T()},selectedDivision:h,phase:y}),S&&M&&r.createElement(Rp,{open:S,onClose:T,player:M,senderName:t,senderEmail:a,selectedDivision:h,onProposeMatch:Q,phase:y}),k&&$&&r.createElement(Wp,{open:k,onClose:T,player:$.opponent,day:$.day,slot:$.slot,senderName:t,senderEmail:a,selectedDivision:$.division,phase:$.phase,onProposalComplete:()=>{T()}}))}const U9="_outerChatBg_whq3p_29",F9="_chatContainer_whq3p_85",W9="_topNavBar_whq3p_125",j9="_chatGreeting_whq3p_169",H9="_buttonRow_whq3p_193",Y9="_topChatButton_whq3p_207",$9="_logoutWithTimer_whq3p_297",G9="_timerBox_whq3p_311",q9="_sectionHeader_whq3p_339",Z9="_collapsed_whq3p_421",V9="_sectionContent_whq3p_455",Q9="_expanded_whq3p_485",J9="_channelListRow_whq3p_499",X9="_announcements_whq3p_499",K9="_divisions_whq3p_509",eB="_gameButton_whq3p_561",tB="_mainChatArea_whq3p_597",nB="_mainChatWindow_whq3p_615",aB="_poolBackground_whq3p_675",rB="_chatContent_whq3p_749",sB="_sidebar_whq3p_763",iB="_hamburgerButton_whq3p_817",oB="_hamburgerIcon_whq3p_865",lB="_sidebarBackdrop_whq3p_875",cB="_closeSidebarButton_whq3p_901",dB="_mobileNavButtons_whq3p_949",uB="_mobileNavButton_whq3p_949",mB="_mobileTimerBox_whq3p_1011",pB="_generalChannelRow_whq3p_1037",fB="_active_whq3p_1129",hB="_pulse_whq3p_1",gB="_channelListName_whq3p_1183",yB="_pinIcon_whq3p_1225",bB="_channelIcon_whq3p_1247",vB="_pinned_whq3p_1273",xB="_noPinnedChannels_whq3p_1283",EB="_noChannelsFound_whq3p_1285",wB="_sidebarSearch_whq3p_1307",SB="_channelListWrapper_whq3p_1387",CB="_customMessageUi_whq3p_1431",_B="_onlineDot_whq3p_1469",IB="_online_whq3p_1469",NB="_messageContent_whq3p_1525",kB="_messageUsername_whq3p_1543",AB="_messageText_whq3p_1563",DB="_loadingContainer_whq3p_1583",MB="_spinner_whq3p_1597",TB="_spin_whq3p_1597",RB="_open_whq3p_1739",LB="_messagesArea_whq3p_1981",PB="_messageInputContainer_whq3p_1989",BB="_messageInput_whq3p_1989",OB="_sendButton_whq3p_2011",zB="_messageItem_whq3p_2151",UB="_messageItemLeft_whq3p_2797",FB="_messageItemRight_whq3p_2807",WB="_messageListBackground_whq3p_2821",jB="_poolTableImg_whq3p_2851",HB="_poolTableSvg_whq3p_2853",YB="_channelNamePreview_whq3p_2881",$B="_messageHeader_whq3p_3825",GB="_messageAuthor_whq3p_3839",qB="_messageTime_whq3p_3853",ZB="_chatHeader_whq3p_4091",VB="_chatMessages_whq3p_4101",QB="_message_whq3p_1525",JB="_sent_whq3p_4207",XB="_received_whq3p_4219",KB="_messageSender_whq3p_4273",e7="_sending_whq3p_4797",t7="_error_whq3p_4813",n7="_typingIndicator_whq3p_4825",a7="_messageGroup_whq3p_4847",r7="_scrollToBottom_whq3p_4925",ct={outerChatBg:U9,chatContainer:F9,topNavBar:W9,chatGreeting:j9,buttonRow:H9,topChatButton:Y9,logoutWithTimer:$9,timerBox:G9,sectionHeader:q9,collapsed:Z9,sectionContent:V9,expanded:Q9,channelListRow:J9,announcements:X9,divisions:K9,"game-rooms":"_game-rooms_whq3p_519",gameButton:eB,mainChatArea:tB,mainChatWindow:nB,poolBackground:aB,chatContent:rB,sidebar:sB,hamburgerButton:iB,hamburgerIcon:oB,sidebarBackdrop:lB,closeSidebarButton:cB,mobileNavButtons:dB,mobileNavButton:uB,mobileTimerBox:mB,generalChannelRow:pB,active:fB,pulse:hB,channelListName:gB,pinIcon:yB,channelIcon:bB,pinned:vB,noPinnedChannels:xB,noChannelsFound:EB,sidebarSearch:wB,channelListWrapper:SB,customMessageUi:CB,onlineDot:_B,online:IB,messageContent:NB,messageUsername:kB,messageText:AB,loadingContainer:DB,spinner:MB,spin:TB,"str-chat__send-button":"_str-chat__send-button_whq3p_1629",open:RB,messagesArea:LB,messageInputContainer:PB,messageInput:BB,sendButton:OB,messageItem:zB,messageItemLeft:UB,messageItemRight:FB,messageListBackground:WB,poolTableImg:jB,poolTableSvg:HB,"str-chat__main-panel":"_str-chat__main-panel_whq3p_2869",channelNamePreview:YB,"str-chat":"_str-chat_whq3p_1629","str-chat__container":"_str-chat__container_whq3p_2933","str-chat__messenger":"_str-chat__messenger_whq3p_2943","str-chat__messenger--main":"_str-chat__messenger--main_whq3p_2953","str-chat__messenger--main-panel":"_str-chat__messenger--main-panel_whq3p_2963","str-chat__messenger--main-panel-inner":"_str-chat__messenger--main-panel-inner_whq3p_2973","str-chat__messenger--main-panel-inner-content":"_str-chat__messenger--main-panel-inner-content_whq3p_2983","str-chat__messenger--main-panel-inner-content-inner":"_str-chat__messenger--main-panel-inner-content-inner_whq3p_2993","str-chat__messenger--main-panel-inner-content-inner-inner":"_str-chat__messenger--main-panel-inner-content-inner-inner_whq3p_3003","str-chat__message-list":"_str-chat__message-list_whq3p_3015","str-chat__input-flat--wrapper":"_str-chat__input-flat--wrapper_whq3p_3025","str-chat__input-flat":"_str-chat__input-flat_whq3p_3025","str-chat__channel-header":"_str-chat__channel-header_whq3p_3047","str-chat__thread":"_str-chat__thread_whq3p_3059","str-chat__window":"_str-chat__window_whq3p_3071","str-chat__channel":"_str-chat__channel_whq3p_3047","str-chat__message":"_str-chat__message_whq3p_3015","str-chat__message-text":"_str-chat__message-text_whq3p_3145","str-chat__message-author":"_str-chat__message-author_whq3p_3159","str-chat__message-timestamp":"_str-chat__message-timestamp_whq3p_3175","str-chat__channel-header-title":"_str-chat__channel-header-title_whq3p_3323","str-chat__channel-header-info":"_str-chat__channel-header-info_whq3p_3345","str-chat__thread-header":"_str-chat__thread-header_whq3p_3365","str-chat__thread-start":"_str-chat__thread-start_whq3p_3377","str-chat__typing-indicator":"_str-chat__typing-indicator_whq3p_3397","str-chat__avatar":"_str-chat__avatar_whq3p_3415","str-chat__avatar-fallback":"_str-chat__avatar-fallback_whq3p_3425","str-chat__channel-list":"_str-chat__channel-list_whq3p_3459","str-chat__channel-list-messenger":"_str-chat__channel-list-messenger_whq3p_3469","str-chat__channel-preview-messenger":"_str-chat__channel-preview-messenger_whq3p_3477","str-chat__channel-preview-messenger--active":"_str-chat__channel-preview-messenger--active_whq3p_3505","str-chat__channel-preview-messenger--title":"_str-chat__channel-preview-messenger--title_whq3p_3517","str-chat__channel-preview-messenger--subtitle":"_str-chat__channel-preview-messenger--subtitle_whq3p_3529",messageHeader:$B,messageAuthor:GB,messageTime:qB,chatHeader:ZB,chatMessages:VB,message:QB,sent:JB,received:XB,messageSender:KB,sending:e7,error:t7,typingIndicator:n7,messageGroup:a7,scrollToBottom:r7},s7={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},fp="nbvut8j4y6se";console.log("🔑 Stream Chat API Key:",fp);console.log("🔑 Environment variables:",s7);console.log("✅ VITE_STREAM_API_KEY is set:",fp);const i7=Ce,bx="general",o7="announcements";let rm=!1;const l7=["FRBCAPL TEST","Singles Test"],vx={GENERAL:"general",DIVISIONS:"divisions",ANNOUNCEMENTS:"announcements",GAME_ROOMS:"game-rooms"};function xx(t){return t.toLowerCase().replace(/[^a-z0-9_-]/g,"")}const c7=({channel:t})=>{var a;return r.createElement("div",{className:ct.channelNamePreview},((a=t.data)==null?void 0:a.name)||t.id)};function d7(){return JSON.parse(localStorage.getItem("pinnedChannels")||"[]")}function u7(t){localStorage.setItem("pinnedChannels",JSON.stringify(t))}const m7=({pinned:t,onClick:a})=>r.createElement("span",{onClick:a,className:`${ct.pinIcon}${t?" "+ct.pinned:""}`,title:t?"Unpin channel":"Pin channel"},t?"📌":"📍"),kg=({children:t,icon:a,sectionKey:e,isCollapsed:n,onToggle:s})=>r.createElement("div",{className:`${ct.sectionHeader} ${n?ct.collapsed:""}`,onClick:()=>s(e)},a&&r.createElement("span",{style:{marginRight:"8px"}},a),t);function m5({userName:t,userEmail:a,userPin:e,channelId:n,onClose:s}){var Ke;const l=Xa(),[c,u]=v.useState(!1),[m,h]=v.useState(null),[f,y]=v.useState(null),[b,E]=v.useState(null),[w,_]=v.useState({}),[C,S]=v.useState([]),[I,k]=v.useState(null),[N,M]=v.useState(d7()),[R,$]=v.useState(!1),[z,Y]=v.useState(!1),[J,ae]=v.useState(1800),[H,Z]=v.useState(""),[O,L]=v.useState([]),[A,U]=v.useState(""),[q,Q]=v.useState(!0),[T,F]=v.useState({announcements:!1,divisions:!1,gameRooms:!1});v.useEffect(()=>{if(J<=0){V();return}const pe=setInterval(()=>{ae(Ue=>Ue-1)},1e3);return()=>clearInterval(pe)},[J]),v.useEffect(()=>{if(rm)return;rm=!0;let pe=ly.getInstance(fp);console.log("🔑 Using API key for Stream Chat client:",fp);let Ue=!1,je=!0;async function it(){var Ve,Lt,gn,Pt;try{if(pe.userID)try{await pe.disconnectUser()}catch{}await new Promise(Ae=>setTimeout(Ae,300));const ln=xx(a),Zn=await fetch(`${i7}/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:ln})}),{token:rn,userId:me}=await Zn.json();if(await pe.connectUser({id:me,name:t,email:a},rn),Ue=!0,!je)return;h(pe);const et=pe.channel("messaging",bx,{name:"General Chat",description:"General discussion for all players"});let Ge=0,wt=!1;for(;Ge<3&&!wt;)try{await et.watch({limit:100}),wt=!0,console.log("Successfully loaded general channel with",((Ve=et.state.messages)==null?void 0:Ve.length)||0,"messages")}catch(Ae){Ge++,console.log(`Retry ${Ge} for general channel:`,Ae.message),Ge>=3?(console.error("Failed to load general channel after 3 retries, but continuing..."),wt=!0):await new Promise(tt=>setTimeout(tt,1e3))}const te=pe.channel("messaging",o7,{name:"📢 Announcements",description:"Important announcements and updates"});try{await te.watch({limit:100}),console.log("Successfully loaded announcements channel with",((Lt=te.state.messages)==null?void 0:Lt.length)||0,"messages")}catch(Ae){console.error("Error loading announcements channel:",Ae)}const Le={};for(const Ae of l7){const tt=xx(Ae),dt=pe.channel("messaging",`division-${tt}`,{name:`🏆 ${Ae}`,description:`Discussion for ${Ae} players`,category:vx.DIVISIONS});try{await dt.watch({limit:100}),Le[Ae]=dt,console.log(`Successfully loaded division channel ${Ae} with`,((gn=dt.state.messages)==null?void 0:gn.length)||0,"messages")}catch(Kt){console.error(`Error loading division channel ${Ae}:`,Kt),Le[Ae]=dt}}const He=[];for(let Ae=1;Ae<=5;Ae++){const tt=`game-room-${Ae}`,dt=pe.channel("messaging",tt,{name:`🎮 Game Room ${Ae}`,description:`Multiplayer game room ${Ae} - for future online play`,category:vx.GAME_ROOMS});try{await dt.watch({limit:100}),He.push(dt),console.log(`Successfully loaded game room ${Ae} with`,((Pt=dt.state.messages)==null?void 0:Pt.length)||0,"messages")}catch(Kt){console.error(`Error loading game room ${Ae}:`,Kt),He.push(dt)}}je&&(console.log("Setting channels:",{general:et,announcements:te,divisions:Object.keys(Le),gameRooms:He.length}),y(et),E(te),_(Le),S(He),setTimeout(()=>{je&&(console.log("Setting general channel as active"),k(et),Q(!1))},100))}catch(ln){console.error("Error initializing chat:",ln),je&&Q(!1)}finally{rm=!1}}return it(),()=>{if(je=!1,pe&&Ue)try{pe.disconnectUser()}catch{}rm=!1}},[a,t]),v.useEffect(()=>{u7(N)},[N]),v.useEffect(()=>{var pe;if(I){console.log("Channel changed to:",I.id,((pe=I.state.messages)==null?void 0:pe.length)||0,"messages");const Ue=I.state.messages||[];L(Ue);const je=Ve=>{console.log("New message received in channel:",I.id);const Lt=I.state.messages||[];L([...Lt])},it=()=>{console.log("Channel state updated:",I.id);const Ve=I.state.messages||[];L([...Ve])};return I.on("message.new",je),I.on("message.updated",it),I.on("message.deleted",it),()=>{I.off("message.new",je),I.off("message.updated",it),I.off("message.deleted",it)}}else f&&!I?(console.log("Fallback: setting general channel"),k(f)):L([])},[I,f]);function V(){m&&m.disconnectUser(),localStorage.clear(),s?s():(l("/"),window.location.reload())}function j(){Y(!0)}const re=async()=>{if(A.trim()&&I)try{const pe=await I.sendMessage({text:A});U("")}catch(pe){console.error("Error sending message:",pe)}},K=pe=>{pe.key==="Enter"&&!pe.shiftKey&&(pe.preventDefault(),re())};if(q)return r.createElement("div",{className:ct.loadingContainer},r.createElement("div",{className:ct.spinner}),r.createElement("div",null,"Loading chat...Please wait"));(Ke=m==null?void 0:m.user)==null||Ke.id;const ce=Math.floor(J/60),xe=J%60,Se=(pe,Ue=null)=>!pe||!pe.cid?null:r.createElement("div",{key:pe.cid,className:`${ct.channelListRow} ${Ue?ct[Ue]:""} ${(I==null?void 0:I.id)===pe.id?ct.active:""}`,onClick:()=>{k(pe),u(!1)}},r.createElement("div",{className:ct.channelListName},r.createElement(c7,{channel:pe})),r.createElement(m7,{pinned:N.includes(pe.id),onClick:je=>{je.stopPropagation();let it;N.includes(pe.id)?it=N.filter(Ve=>Ve!==pe.id):it=[...N,pe.id],M(it)}}));return r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},r.createElement("div",{style:{background:"linear-gradient(120deg, #232323 80%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"1rem",boxShadow:"0 0 32px #e53e3e, 0 0 40px rgba(0,0,0,0.85)",width:"90vw",maxWidth:"1000px",height:"80vh",maxHeight:"600px",display:"flex",flexDirection:"column",position:"relative"}},r.createElement("button",{className:ct.hamburgerButton,onClick:()=>u(!0),"aria-label":"Open channel list"},r.createElement("span",{className:ct.hamburgerIcon},"☰")),c&&r.createElement("div",{className:ct.sidebarBackdrop,onClick:()=>u(!1)}),r.createElement("div",{style:{padding:"1rem",borderBottom:"2px solid #e53e3e",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"}},r.createElement("h2",{style:{margin:0,color:"#fff",fontSize:"1.5rem",fontWeight:"bold"}},"League Chat - ",t),r.createElement("button",{onClick:s||(()=>l("/")),style:{position:"absolute",right:"1rem",background:"none",border:"none",color:"#fff",fontSize:"2rem",cursor:"pointer",padding:"0.5rem"}},"×")),r.createElement("div",{style:{flex:1,display:"flex",minHeight:0}},r.createElement("div",{style:{width:"250px",backgroundColor:"linear-gradient(180deg, #1a1a1a 0%, #2a2a2a 100%)",borderRight:"2px solid #e53e3e",overflowY:"auto",padding:"1rem",boxShadow:"inset -2px 0 8px rgba(0,0,0,0.3)"}},r.createElement("button",{className:ct.closeSidebarButton,onClick:()=>u(!1),"aria-label":"Close channel list"},"×"),r.createElement("div",{className:ct.mobileNavButtons},r.createElement("button",{className:ct.mobileNavButton,onClick:()=>{s?s():(l("/"),window.location.reload()),u(!1)}},"🏠 Dashboard"),r.createElement("button",{className:ct.mobileNavButton,onClick:()=>{j(),u(!1)}},"📅 Schedule a Match"),r.createElement("button",{className:ct.mobileNavButton,onClick:()=>{V(),u(!1)}},"🚪 Logout"),r.createElement("div",{className:ct.mobileTimerBox},"Auto Logout: ",ce,":",xe.toString().padStart(2,"0"))),r.createElement("div",{className:`${ct.generalChannelRow}${(I==null?void 0:I.id)===bx||I===f?" "+ct.active:""}`,onClick:()=>{k(f),u(!1)}},r.createElement("span",{style:{marginRight:8}},"#")," General Chat"),r.createElement("div",{className:ct.sidebarSearch},r.createElement("input",{type:"text",placeholder:"Search channels...",value:H,onChange:pe=>Z(pe.target.value)})),r.createElement("div",{className:ct.channelListWrapper},r.createElement(kg,{icon:"📢",sectionKey:"announcements",isCollapsed:T.announcements,onToggle:pe=>F(Ue=>({...Ue,[pe]:!Ue[pe]}))},"Announcements"),r.createElement("div",{className:`${ct.sectionContent} ${T.announcements?ct.collapsed:ct.expanded}`},b?Se(b,"announcements"):r.createElement("div",{style:{padding:"8px",color:"#888",fontStyle:"italic"}},"No announcements channel available")),r.createElement(kg,{icon:"🏆",sectionKey:"divisions",isCollapsed:T.divisions,onToggle:pe=>F(Ue=>({...Ue,[pe]:!Ue[pe]}))},"Division Channels"),r.createElement("div",{className:`${ct.sectionContent} ${T.divisions?ct.collapsed:ct.expanded}`},Object.values(w).length>0?Object.values(w).map(pe=>Se(pe,"divisions")):r.createElement("div",{style:{padding:"8px",color:"#888",fontStyle:"italic"}},"No division channels available")),r.createElement(kg,{icon:"🎮",sectionKey:"gameRooms",isCollapsed:T.gameRooms,onToggle:pe=>F(Ue=>({...Ue,[pe]:!Ue[pe]}))},"Game Rooms"),r.createElement("div",{className:`${ct.sectionContent} ${T.gameRooms?ct.collapsed:ct.expanded}`},C.length>0?C.map(pe=>Se(pe,"game-rooms")):r.createElement("div",{style:{padding:"8px",color:"#888",fontStyle:"italic"}},"No game room channels available")),r.createElement("div",{className:`${ct.channelListRow} ${ct.gameButton}`,onClick:()=>{l("/tenball"),u(!1)}},r.createElement("span",{style:{marginRight:8}},"🎯"),"Play Pool Game"))),r.createElement("div",{className:ct.mainChatWindow,style:{flex:1,display:"flex",flexDirection:"column",position:"relative"}},r.createElement("div",{className:ct.poolBackground},r.createElement(ud,null)),r.createElement(T9,{channel:I,currentUser:m==null?void 0:m.user}),r.createElement("div",{className:ct.messagesArea,style:{flex:1,overflowY:"auto",paddingBottom:"80px"}},O.map(pe=>{var Ve,Lt,gn,Pt;const Ue=(Ve=pe.user)==null?void 0:Ve.id,je=(Lt=m==null?void 0:m.user)==null?void 0:Lt.id;let it=Ue===je;if(!it&&Ue&&je){const ln=Ue.split("_")[0];it=je.startsWith(ln)}return r.createElement("div",{key:pe.id,className:`${ct.messageItem} ${it?ct.messageItemRight:ct.messageItemLeft}`},r.createElement("div",{className:ct.messageHeader},r.createElement("span",{className:ct.messageAuthor},((gn=pe.user)==null?void 0:gn.name)||((Pt=pe.user)==null?void 0:Pt.id)),r.createElement("span",{className:ct.messageTime},new Date(pe.created_at).toLocaleTimeString())),r.createElement("div",{className:ct.messageText},pe.text))})),r.createElement("div",{className:ct.messageInputContainer,style:{position:"absolute",bottom:0,left:0,right:0,zIndex:10}},r.createElement("input",{type:"text",value:A,onChange:pe=>U(pe.target.value),onKeyPress:K,placeholder:"Type your message...",className:ct.messageInput}),r.createElement("button",{onClick:re,className:ct.sendButton,disabled:!A.trim()},"🚀 Send"))))),z&&r.createElement(z9,{userName:t,userEmail:a,userPin:e,onClose:()=>Y(!1),fromChat:!0}))}const p7=({isMobile:t})=>r.createElement("div",{style:{background:"rgba(0, 0, 0, 0.75)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:t?"12px":"16px",padding:t?"8px":"16px",margin:t?"-15px 0 0 0":"13px auto",width:t?"100%":"90%",maxWidth:t?"none":"1200px",boxShadow:"0 4px 16px rgba(0,0,0,0.3)",backdropFilter:"blur(4px)",height:t?"350px":"400px",position:"relative",overflow:"hidden"}},r.createElement("div",{style:{position:"relative",textAlign:"center",marginBottom:t?"0px":"4px",padding:t?"2px":"4px",borderRadius:"8px",background:"rgba(0, 0, 0, 0.6)",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",minHeight:t?"2.5rem":"3rem"}},r.createElement("div",{style:{display:"inline-block",width:t?"80px":"100px",height:t?"24px":"32px",background:"linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)",borderRadius:"6px",animation:"shimmer 1.5s infinite",margin:"8px"}}),r.createElement("div",{style:{display:"inline-block",width:t?"60px":"80px",height:t?"20px":"28px",background:"linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)",borderRadius:"6px",animation:"shimmer 1.5s infinite",margin:"8px"}})),r.createElement("div",{style:{width:t?"200px":"300px",height:t?"16px":"20px",background:"linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)",borderRadius:"4px",animation:"shimmer 1.5s infinite",margin:"8px auto"}}),r.createElement("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",marginTop:t?"20px":"30px",gap:t?"10px":"20px"}},r.createElement("div",{style:{width:t?"100px":"140px",height:t?"80px":"120px",background:"linear-gradient(90deg, rgba(0,255,0,0.1) 25%, rgba(0,255,0,0.2) 50%, rgba(0,255,0,0.1) 75%)",borderRadius:"12px",animation:"shimmer 1.5s infinite",border:"2px solid rgba(0,255,0,0.3)"}}),r.createElement("div",{style:{width:t?"80px":"140px",height:t?"60px":"100px",background:"linear-gradient(90deg, rgba(52,152,219,0.1) 25%, rgba(52,152,219,0.2) 50%, rgba(52,152,219,0.1) 75%)",borderRadius:"12px",animation:"shimmer 1.5s infinite",border:"2px solid rgba(52,152,219,0.3)"}})),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"stretch",marginTop:t?"20px":"30px",gap:t?"6px":"12px",padding:t?"6px":"8px",borderRadius:"8px",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255,255,255,0.15)"}},r.createElement("div",{style:{flex:1,height:t?"70px":"80px",background:"linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)",borderRadius:"8px",animation:"shimmer 1.5s infinite"}}),r.createElement("div",{style:{flex:1,height:t?"70px":"80px",background:"linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)",borderRadius:"8px",animation:"shimmer 1.5s infinite"}}),r.createElement("div",{style:{flex:1,height:t?"70px":"80px",background:"linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)",borderRadius:"8px",animation:"shimmer 1.5s infinite"}})),r.createElement("div",{style:{display:"flex",gap:t?"8px":"12px",marginTop:t?"10px":"15px"}},r.createElement("div",{style:{flex:t?"0 0 140px":"0 0 200px",height:t?"80px":"100px",background:"linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)",borderRadius:"8px",animation:"shimmer 1.5s infinite"}}),r.createElement("div",{style:{flex:1,height:t?"80px":"100px",background:"linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)",borderRadius:"8px",animation:"shimmer 1.5s infinite"}})),r.createElement("style",null,`
        @keyframes shimmer {
          0% {
            background-position: -200px 0;
          }
          100% {
            background-position: calc(200px + 100%) 0;
          }
        }
      `));function Ag(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-");return`${c}-${u}-${l}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}const f7=({currentPhase:t,seasonData:a,completedMatches:e,totalRequiredMatches:n,playerName:s,playerLastName:l,selectedDivision:c,onOpenOpponentsModal:u,onOpenCompletedMatchesModal:m,onOpenStandingsModal:h,onOpenAllMatchesModal:f,pendingCount:y,sentCount:b,onOpenProposalListModal:E,onOpenSentProposalListModal:w,upcomingMatches:_,onMatchClick:C,isMobile:S,onOpenMessageCenter:I,currentUser:k,allPlayers:N,onSmartMatchClick:M,showPhase1Rules:R,setShowPhase1Rules:$,showPhase1Overview:z,setShowPhase1Overview:Y,setPlayerStats:J,setTimeLeft:ae,setDeadlineStatus:H,setPhase1EndDate:Z,onOpenCalendar:O})=>{const L=()=>!s||!l?(console.warn("Phase1Tracker: Missing player name information"),!1):c?!e||!Array.isArray(e)?(console.warn("Phase1Tracker: Invalid completedMatches prop"),!1):typeof n!="number"||n<=0?(console.warn("Phase1Tracker: Invalid totalRequiredMatches prop"),!1):!0:(console.warn("Phase1Tracker: Missing selected division"),!1);v.useEffect(()=>{L()},[s,l,c,e,n]);const[A,U]=v.useState(null),[q,Q]=v.useState([]),[T,F]=v.useState(!1),[V,j]=v.useState(!0),[re,K]=v.useState(new Date),[ce,xe]=v.useState(null),[Se,Ke]=v.useState(null),[pe,Ue]=v.useState("normal"),[je,it]=v.useState(null),[Ve,Lt]=v.useState(null);v.useEffect(()=>{if(!c||t!=="scheduled"){Ke(null),ae(null);return}const te=async()=>{try{const He=c.replace(/[^A-Za-z0-9]/g,"_"),Ae=Date.now(),tt=`${Ce}/static/schedule_${He}.json?t=${Ae}`,dt=await fetch(tt,{method:"GET",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(!dt.ok){console.warn(`Failed to fetch schedule: ${dt.status} - ${dt.statusText}`);return}const Kt=await dt.json();if(!Array.isArray(Kt)||Kt.length===0){console.warn("No schedule data available");return}const Vn=Kt.filter(Qe=>Qe.date).sort((Qe,ut)=>new Date(Qe.date)-new Date(ut.date));if(Vn.length===0){console.warn("No valid matches found in schedule");return}const Hn=Math.min(47,Vn.length-1),Dn=Vn[Hn];if(!Dn||!Dn.date){console.warn("Could not determine Phase 1 end date from schedule");return}const Yn=new Date(Dn.date);Yn.setHours(23,59,59,999),it(Yn),Z(Yn);const Na=new Date;if($s(Na,Yn)){const Qe={days:0,hours:0,passed:!0};Ke(Qe),ae(Qe),Ue("passed"),H("passed")}else{const Qe=uE(Yn,Na),ut=X_(Yn,Na)%24,sn={days:Qe,hours:ut,passed:!1};Ke(sn),ae(sn),Qe<=0&&ut<=24?(Ue("critical"),H("critical")):Qe<=2?(Ue("urgent"),H("urgent")):Qe<=7?(Ue("warning"),H("warning")):(Ue("normal"),H("normal"))}}catch(He){console.error("Error calculating Phase 1 deadline from schedule:",He)}};te();const Le=setInterval(te,6e4);return()=>clearInterval(Le)},[c,t]),v.useEffect(()=>{t==="scheduled"&&c&&e&&(ln(),Zn())},[t,c,e,n,q]),v.useEffect(()=>{c&&t==="scheduled"&&gn()},[c,t]);const gn=async()=>{try{if(F(!0),!c){console.warn("No division selected for standings");return}const te=c.replace(/[^A-Za-z0-9]/g,"_"),Le=`${Ce}/static/standings_${te}.json`,He=await fetch(Le);if(!He.ok){console.warn(`Failed to fetch standings: ${He.status} - ${He.statusText}`);return}const Ae=await He.json();if(!Array.isArray(Ae)){console.error("Standings data is not an array:",Ae);return}const tt=Ae.filter(dt=>{if(!dt||typeof dt!="object")return console.warn("Invalid standings entry:",dt),!1;if(!dt.name||!dt.rank)return console.warn("Standings entry missing name or rank:",dt),!1;const Kt=parseInt(dt.rank);return isNaN(Kt)||Kt<=0?(console.warn("Invalid rank in standings entry:",dt),!1):!0});Q(tt)}catch(te){console.error("Failed to load standings:",te)}finally{F(!1)}},Pt=(te,Le)=>{if(!te||te.length===0)return null;const He=Le.toLowerCase().trim(),Ae=te.find(tt=>tt.name.toLowerCase().trim()===He);return Ae?parseInt(Ae.rank):null},ln=()=>{const te=e.length,Le=n-te,He={completedCount:te,remainingCount:Le,deadlinePassed:Ps.hasPhase1DeadlinePassed(a)};U(He)},Zn=()=>{let te=0,Le=0;const He=`${s} ${l}`;e&&e.length>0&&e.forEach(Vn=>{Vn.winner===He?te++:Le++});const Ae=e&&e.length>0?Math.round(te/(te+Le)*100):0,tt=Pt(q,He);let dt="N/A";tt!==null?dt=`${tt}${rn(tt)}`:e&&e.length>=1&&(Ae>=80?dt="1st-3rd":Ae>=60?dt="4th-6th":Ae>=40?dt="7th-9th":dt="10th+");const Kt={wins:te,losses:Le,winRate:Ae,position:dt,actualPosition:tt};Lt(Kt),J(Kt)},rn=te=>{const Le=te%10,He=te%100;return Le===1&&He!==11?"st":Le===2&&He!==12?"nd":Le===3&&He!==13?"rd":"th"};if(T||!Se||!A||t!=="scheduled")return r.createElement(p7,{isMobile:S});const me=()=>pe==="passed"?"#e74c3c":pe==="critical"?"#ff6b6b":pe==="urgent"?"#ff8800":pe==="warning"?"#ffaa00":"#4CAF50",et=()=>{if(pe==="passed")return"⚠️ DEADLINE PASSED!";if(pe==="critical"){const te=je?Ca(je,S?"MMM d":"MMM d, yyyy"):"";return`🚨 CRITICAL: ENDS in ${Se.hours} hours! (${te})`}else if(pe==="urgent"){const te=je?Ca(je,S?"MMM d":"MMM d, yyyy"):"";return`⚠️ URGENT: ENDS in ${Se.days} days! (${te})`}else if(pe==="warning"){const te=je?Ca(je,S?"MMM d":"MMM d, yyyy"):"";return`⚠️ WARNING: ENDS in ${Se.days} days. (${te})`}else{const te=je?Ca(je,S?"MMM d":"MMM d, yyyy"):"";return`ENDS in ${Se.days} days. (${te})`}},Ge=()=>Math.round(e.length/n*100),wt=me();return r.createElement("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.85), rgba(20, 20, 20, 0.9), rgba(0, 0, 0, 0.85))",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:S?"16px":"20px",padding:S?"8px 12px 12px 12px":"12px 20px 20px 20px",margin:S?"-15px 0 0 0":"13px auto",width:S?"100%":"98%",maxWidth:S?"none":"1600px",boxShadow:"0 8px 32px rgba(0,0,0,0.4), 0 4px 16px rgba(255,255,255,0.1), inset 0 1px 0 rgba(255,255,255,0.1)",display:"flex",flexDirection:"column",justifyContent:"flex-start",backdropFilter:"blur(8px)",overflow:S?"auto":"hidden",maxHeight:S?"none":"35vh",height:S?V?"350px":"60px":V?"400px":"160px",transition:"height 0.4s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",transform:"none",touchAction:"none"},role:"presentation",tabIndex:"-1"},r.createElement("div",{style:{position:"relative",textAlign:"center",marginBottom:S?"0px":"4px",padding:S?"2px":"4px",borderRadius:"12px",background:"linear-gradient(135deg, rgba(0, 0, 0, 0.7), rgba(20, 20, 20, 0.8))",border:"1px solid rgba(255,255,255,0.15)",boxShadow:"0 4px 16px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1)"}},r.createElement("h3",{style:{margin:0,color:"#ffffff",fontSize:S?"0.8rem":"1.1rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:S?"4px":"6px",flexWrap:"wrap",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",letterSpacing:"0.5px",minHeight:S?"2.5rem":"3rem"}},r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:S?"2px":"6px"}},pe==="critical"&&"🚨",pe==="urgent"&&"⚠️",pe==="warning"&&"⚠️",pe==="passed"&&"⏰",pe==="normal"&&""),r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:S?"4px":"8px"}},r.createElement("button",{onClick:te=>{te.stopPropagation(),console.log("Smart match button clicked in Phase1Tracker"),console.log("onSmartMatchClick function:",M),M?(console.log("Calling onSmartMatchClick"),M()):console.log("onSmartMatchClick is not defined")},"aria-label":"Open smart match making",role:"button",tabIndex:"0",style:{background:"linear-gradient(135deg, rgba(255, 193, 7, 0.3), rgba(255, 193, 7, 0.2), rgba(255, 193, 7, 0.1))",border:"1px solid rgba(255, 193, 7, 0.4)",color:"#ffffff",fontSize:S?"0.5rem":"0.8rem",fontWeight:"bold",padding:S?"8px 12px":"10px 16px",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",boxShadow:"0 2px 8px rgba(255, 193, 7, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)",zIndex:10},onMouseEnter:te=>{te.target.style.background="linear-gradient(135deg, rgba(255, 193, 7, 0.4), rgba(255, 193, 7, 0.3), rgba(255, 193, 7, 0.2))",te.target.style.transform="scale(1.02) translateY(-1px)",te.target.style.boxShadow="0 4px 12px rgba(255, 193, 7, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)"},onMouseLeave:te=>{te.target.style.background="linear-gradient(135deg, rgba(255, 193, 7, 0.3), rgba(255, 193, 7, 0.2), rgba(255, 193, 7, 0.1))",te.target.style.transform="scale(1) translateY(0)",te.target.style.boxShadow="0 2px 8px rgba(255, 193, 7, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)"}},"🧠 SMART MATCH"),r.createElement("span",{onClick:te=>{te.stopPropagation(),Y(!0)},style:{fontSize:S?"0.5rem":"0.8rem",background:`linear-gradient(135deg, ${wt}, ${wt}dd, ${wt})`,padding:S?"8px 12px":"10px 16px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.2), 0 0 10px rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.3)",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:te=>{te.target.style.transform="scale(1.02) translateY(-1px)",te.target.style.boxShadow="0 6px 16px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.3), 0 0 15px rgba(255,255,255,0.2)"},onMouseLeave:te=>{te.target.style.transform="scale(1) translateY(0)",te.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.2), 0 0 10px rgba(255,255,255,0.1)"},title:"Click to view Phase 1 overview",role:"button",tabIndex:"0","aria-label":"Open Phase 1 overview"},"PHASE 1"),r.createElement("button",{onClick:te=>{te.stopPropagation(),$(!0)},"aria-label":"Open Phase 1 rules and information",role:"button",tabIndex:"0",style:{background:"linear-gradient(135deg, rgba(255, 68, 68, 0.3), rgba(255, 68, 68, 0.2), rgba(255, 68, 68, 0.1))",border:"1px solid rgba(255, 68, 68, 0.4)",color:"#ffffff",fontSize:S?"0.5rem":"0.8rem",fontWeight:"bold",padding:S?"8px 12px":"10px 16px",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",boxShadow:"0 2px 8px rgba(255, 68, 68, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)",zIndex:10},onMouseEnter:te=>{te.target.style.background="linear-gradient(135deg, rgba(255, 68, 68, 0.4), rgba(255, 68, 68, 0.3), rgba(255, 68, 68, 0.2))",te.target.style.transform="scale(1.02) translateY(-1px)",te.target.style.boxShadow="0 4px 12px rgba(255, 68, 68, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)"},onMouseLeave:te=>{te.target.style.background="linear-gradient(135deg, rgba(255, 68, 68, 0.3), rgba(255, 68, 68, 0.2), rgba(255, 68, 68, 0.1))",te.target.style.transform="scale(1) translateY(0)",te.target.style.boxShadow="0 2px 8px rgba(255, 68, 68, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)"}},"⚔️ RULES"))),r.createElement("div",{style:{color:"#ffffff",fontSize:S?"0.7rem":"0.95rem",lineHeight:"1.1",marginTop:"2px",marginBottom:S?"2px":"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center"}},et()),r.createElement("div",{style:{position:S?"relative":"absolute",left:S?"auto":"15%",top:S?"auto":"50%",transform:S?"none":"translate(-50%, -50%)",cursor:"pointer",fontSize:S?"2.5rem":"3.2rem",transition:"all 0.3s ease",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",minHeight:S?"90px":"140px",lineHeight:1,background:"linear-gradient(135deg, rgba(76, 175, 80, 0.35), rgba(76, 175, 80, 0.3), rgba(76, 175, 80, 0.25))",border:"1px solid rgba(76, 175, 80, 0.7)",padding:S?"4px":"6px",borderRadius:S?"12px":"18px",zIndex:1,boxShadow:"0 2px 8px rgba(76, 175, 80, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)",minWidth:S?"70px":"100px",minHeight:S?"90px":"140px",backdropFilter:"blur(8px)",margin:S?"8px auto":"0"},onClick:()=>{j(!0),O&&O()},"aria-label":"Open calendar to schedule matches by date",role:"button",tabIndex:"0"},r.createElement("div",{style:{fontSize:S?"0.5rem":"0.7rem",color:"#ffffff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:S?"10px":"14px",textAlign:"center"}},"Today's Date"),r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1}},r.createElement("div",{style:{fontSize:S?"0.8rem":"1.2rem"}},["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date().getDay()]),r.createElement("div",{style:{fontSize:S?"1.2rem":"2rem"}},(()=>{const te=new Date,Le=String(te.getMonth()+1).padStart(2,"0"),He=String(te.getDate()).padStart(2,"0"),Ae=String(te.getFullYear()).slice(-2);return`${Le}/${He}/${Ae}`})())),r.createElement("div",{style:{fontSize:S?"0.3rem":"0.65rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.9)",marginTop:"auto",textAlign:"center",whiteSpace:"nowrap",background:"rgba(0, 0, 0, 0.7)",padding:S?"1px 2px":"2px 4px",borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.3)"}},S?"Schedule":"Click to Schedule Match by Date")),r.createElement("div",{style:{position:S?"relative":"absolute",right:S?"auto":"15%",top:S?"auto":"50%",transform:S?"none":"translate(50%, -50%)",transition:"all 0.3s ease",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",lineHeight:1,background:"linear-gradient(135deg, rgba(52, 152, 219, 0.15), rgba(52, 152, 219, 0.1), rgba(52, 152, 219, 0.05))",border:"1px solid rgba(52, 152, 219, 0.3)",padding:S?"3px":"5px",borderRadius:S?"10px":"16px",zIndex:1,boxShadow:"0 2px 8px rgba(52, 152, 219, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)",minWidth:S?"70px":"100px",minHeight:S?"90px":"140px",backdropFilter:"blur(8px)",margin:S?"8px auto":"0"},title:"Proposal management - view pending and sent proposals",onMouseEnter:te=>{te.currentTarget.style.background="linear-gradient(135deg, rgba(52, 152, 219, 0.25), rgba(52, 152, 219, 0.2), rgba(52, 152, 219, 0.15))",te.currentTarget.style.boxShadow="0 4px 12px rgba(52, 152, 219, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)",te.currentTarget.style.border="1px solid rgba(52, 152, 219, 0.5)",te.currentTarget.style.transform="translate(50%, -50%) scale(1.02)"},onMouseLeave:te=>{te.currentTarget.style.background="linear-gradient(135deg, rgba(52, 152, 219, 0.15), rgba(52, 152, 219, 0.1), rgba(52, 152, 219, 0.05))",te.currentTarget.style.boxShadow="0 2px 8px rgba(52, 152, 219, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)",te.currentTarget.style.border="1px solid rgba(52, 152, 219, 0.3)",te.currentTarget.style.transform="translate(50%, -50%) scale(1)"}},r.createElement("div",{style:{fontSize:S?"0.6rem":"0.85rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.9)",marginBottom:S?"4px":"8px",textAlign:"center",whiteSpace:"nowrap"}},"📋 Proposals"),r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:S?"3px":"6px",justifyContent:"center",width:"100%"}},r.createElement("button",{onClick:te=>{te.stopPropagation(),E&&E()},style:{background:"rgba(255, 255, 255, 0.1)",color:"#ffffff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:S?"3px 4px":"6px 8px",fontSize:S?"0.5rem":"0.75rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 6px rgba(0,0,0,0.3)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",textShadow:"1px 1px 2px rgba(0,0,0,0.5)",position:"relative",overflow:"hidden"},onMouseEnter:te=>{te.target.style.background="linear-gradient(135deg, rgba(52, 152, 219, 0.3), rgba(52, 152, 219, 0.25), rgba(52, 152, 219, 0.2))",te.target.style.transform="translateY(-1px) scale(1.01)",te.target.style.boxShadow="0 4px 12px rgba(52, 152, 219, 0.4), inset 0 1px 0 rgba(255,255,255,0.2)"},onMouseLeave:te=>{te.target.style.background="rgba(255, 255, 255, 0.1)",te.target.style.transform="translateY(0) scale(1)",te.target.style.boxShadow="0 2px 6px rgba(0,0,0,0.3)"}},"📥 ",y," waiting for you"),r.createElement("button",{onClick:te=>{te.stopPropagation(),w&&w()},style:{background:"rgba(255, 255, 255, 0.1)",color:"#ffffff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:S?"3px 4px":"6px 8px",fontSize:S?"0.5rem":"0.75rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 6px rgba(0,0,0,0.3)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",textShadow:"1px 1px 2px rgba(0,0,0,0.5)",position:"relative",overflow:"hidden"},onMouseEnter:te=>{te.target.style.background="linear-gradient(135deg, rgba(52, 152, 219, 0.3), rgba(52, 152, 219, 0.25), rgba(52, 152, 219, 0.2))",te.target.style.transform="translateY(-1px) scale(1.01)",te.target.style.boxShadow="0 4px 12px rgba(52, 152, 219, 0.4), inset 0 1px 0 rgba(255,255,255,0.2)"},onMouseLeave:te=>{te.target.style.background="rgba(255, 255, 255, 0.1)",te.target.style.transform="translateY(0) scale(1)",te.target.style.boxShadow="0 2px 6px rgba(0,0,0,0.3)"}},"📤 ",b," waiting for opponents"))),r.createElement("div",{style:{color:"#ffffff",fontSize:S?"0.75rem":"0.95rem",fontWeight:"bold",marginTop:S?"4px":"2px",marginBottom:S?"2px":"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",lineHeight:"1.1",textAlign:"center"}},e.length,"/",n," Matches Complete"),r.createElement("div",{style:{color:"#ffffff",fontSize:S?"0.75rem":"0.95rem",fontWeight:"bold",marginTop:"2px",marginBottom:S?"4px":"2px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",lineHeight:"1.1",textAlign:"center"}},n-e.length," to Schedule"),r.createElement("div",{style:{textAlign:"center",marginTop:S?"2px":"4px"}},r.createElement("button",{onClick:te=>{te.stopPropagation(),j(!V)},style:{fontSize:S?"0.5rem":"0.9rem",color:"#ffffff",fontWeight:"bold",cursor:"pointer",padding:S?"1px 3px":"4px 8px",borderRadius:"6px",display:"inline-block",transition:"background-color 0.2s ease",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",background:"transparent",border:"none"}},V?"Hide Stats ▲":"Show Stats ▼"))),V&&r.createElement(r.Fragment,null,r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"stretch",marginBottom:S?"8px":"4px",gap:S?"6px":"12px",padding:S?"6px":"8px",borderRadius:"8px",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255,255,255,0.15)",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"}},r.createElement("div",{onClick:te=>{te.stopPropagation(),u&&u()},style:{background:"rgba(0, 0, 0, 0.4)",padding:S?"6px":"8px",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",flex:1,textAlign:"center",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:S?"70px":"80px"},onMouseEnter:te=>{te.currentTarget.style.background="linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(76, 175, 80, 0.3))",te.currentTarget.style.transform="translateY(-2px) scale(1.02)",te.currentTarget.style.boxShadow="0 4px 16px rgba(76, 175, 80, 0.3), 0 2px 8px rgba(0,0,0,0.2)",te.currentTarget.style.border="1px solid rgba(76, 175, 80, 0.5)"},onMouseLeave:te=>{te.currentTarget.style.background="rgba(255,255,255,0.08)",te.currentTarget.style.transform="translateY(0) scale(1)",te.currentTarget.style.boxShadow="none",te.currentTarget.style.border="1px solid rgba(255,255,255,0.15)"}},r.createElement("div",{style:{fontSize:S?"0.6rem":"0.8rem",fontWeight:"bold",color:"#e0e0e0",marginBottom:S?"4px":"2px"}},"Progress"),r.createElement("div",{style:{fontSize:S?"0.7rem":"0.9rem",color:"#ffffff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:S?"3px":"1px"}},e.length,"/",n),r.createElement("div",{style:{width:"100%",height:S?"3px":"6px",background:"rgba(255,255,255,0.15)",borderRadius:"3px",overflow:"hidden",marginBottom:"1px",boxShadow:"inset 0 1px 2px rgba(0,0,0,0.3)"}},r.createElement("div",{style:{width:`${Ge()}%`,height:"100%",background:"linear-gradient(90deg, #4CAF50, #45a049, #4CAF50)",borderRadius:"3px",transition:"width 0.4s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 0 8px rgba(76, 175, 80, 0.5)",position:"relative"}},r.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent)",animation:"shimmer 2s infinite"}}))),r.createElement("div",{style:{fontSize:S?"0.55rem":"0.75rem",color:"#e0e0e0",fontStyle:"italic",textAlign:"center",fontWeight:"500"}},"click to see opponents")),r.createElement("div",{onClick:te=>{te.stopPropagation(),m&&m()},style:{background:"rgba(0, 0, 0, 0.4)",padding:S?"4px":"8px",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",flex:1,textAlign:"center",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"80px"},onMouseEnter:te=>{te.currentTarget.style.background="linear-gradient(135deg, rgba(33, 150, 243, 0.2), rgba(33, 150, 243, 0.3))",te.currentTarget.style.transform="translateY(-2px) scale(1.02)",te.currentTarget.style.boxShadow="0 4px 16px rgba(33, 150, 243, 0.3), 0 2px 8px rgba(0,0,0,0.2)",te.currentTarget.style.border="1px solid rgba(33, 150, 243, 0.5)"},onMouseLeave:te=>{te.currentTarget.style.background="rgba(255,255,255,0.08)",te.currentTarget.style.transform="translateY(0) scale(1)",te.currentTarget.style.boxShadow="none",te.currentTarget.style.border="1px solid rgba(255,255,255,0.15)"}},r.createElement("div",{style:{fontSize:S?"0.35rem":"0.8rem",fontWeight:"bold",color:"#e0e0e0",marginBottom:"1px"}},"Record"),r.createElement("div",{style:{fontSize:S?"0.5rem":"0.9rem",color:"#ffffff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:"1px"}},(Ve==null?void 0:Ve.wins)||0,"-",(Ve==null?void 0:Ve.losses)||0," (",(Ve==null?void 0:Ve.winRate)||0,"%)"),r.createElement("div",{style:{fontSize:S?"0.4rem":"0.75rem",color:"#e0e0e0",fontStyle:"italic",textAlign:"center",fontWeight:"500"}},"click to see results")),r.createElement("div",{onClick:te=>{te.stopPropagation(),h&&h()},style:{background:"rgba(0, 0, 0, 0.4)",padding:S?"4px":"8px",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",flex:1,textAlign:"center",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"80px"},onMouseEnter:te=>{te.currentTarget.style.background="linear-gradient(135deg, rgba(156, 39, 176, 0.2), rgba(156, 39, 176, 0.3))",te.currentTarget.style.transform="translateY(-2px) scale(1.02)",te.currentTarget.style.boxShadow="0 4px 16px rgba(156, 39, 176, 0.3), 0 2px 8px rgba(0,0,0,0.2)",te.currentTarget.style.border="1px solid rgba(156, 39, 176, 0.5)"},onMouseLeave:te=>{te.currentTarget.style.background="rgba(0, 0, 0, 0.4)",te.currentTarget.style.transform="translateY(0) scale(1)",te.currentTarget.style.boxShadow="none",te.currentTarget.style.border="1px solid rgba(255,255,255,0.15)"}},r.createElement("div",{style:{fontSize:S?"0.35rem":"0.8rem",fontWeight:"bold",color:"#e0e0e0",marginBottom:"1px"}},"Position"),r.createElement("div",{style:{fontSize:S?"0.4rem":"0.9rem",color:"#ffffff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:"1px"}},T?"...":(Ve==null?void 0:Ve.position)||"N/A"),r.createElement("div",{style:{fontSize:S?"0.4rem":"0.75rem",color:"#e0e0e0",fontStyle:"italic",textAlign:"center",fontWeight:"500"}},"click to view standings"))),r.createElement("div",{style:{display:"flex",gap:S?"8px":"12px",marginBottom:"4px"}},r.createElement("div",{style:{flex:S?"0 0 140px":"0 0 200px",background:"rgba(0, 0, 0, 0.4)",borderRadius:"8px",padding:"4px",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column",gap:"4px"}},r.createElement("div",{style:{fontSize:S?"0.5rem":"0.9rem",color:"#ffffff",fontWeight:"bold",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:"2px"}},"📨 ",S?"Messages":"Message Center"),r.createElement("button",{onClick:te=>{te.stopPropagation(),I&&I("direct")},style:{background:"linear-gradient(135deg, #ff4444 0%, #cc3333 50%, #aa2222 100%)",color:"#ffffff",border:"none",borderRadius:"6px",padding:"4px 6px",fontSize:S?"0.6rem":"0.7rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 6px rgba(255, 68, 68, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",textShadow:"1px 1px 2px rgba(0,0,0,0.5)",position:"relative",overflow:"hidden"},onMouseEnter:te=>{te.target.style.background="linear-gradient(135deg, #cc3333 0%, #aa2222 50%, #881111 100%)",te.target.style.transform="translateY(-2px) scale(1.02)",te.target.style.boxShadow="0 4px 12px rgba(255, 68, 68, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.6), inset 0 -1px 0 rgba(0, 0, 0, 0.3)"},onMouseLeave:te=>{te.target.style.background="linear-gradient(135deg, #ff4444 0%, #cc3333 50%, #aa2222 100%)",te.target.style.transform="translateY(0) scale(1)",te.target.style.boxShadow="0 2px 6px rgba(255, 68, 68, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.2)"}},"💬 ",S?"DM":"Direct Messages"),r.createElement("button",{onClick:te=>{te.stopPropagation(),I&&I("league")},style:{background:"linear-gradient(135deg, #00bcd4 0%, #0097a7 50%, #00695c 100%)",color:"#ffffff",border:"none",borderRadius:"6px",padding:"4px 6px",fontSize:S?"0.6rem":"0.7rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 6px rgba(0, 188, 212, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",textShadow:"1px 1px 2px rgba(0,0,0,0.5)",position:"relative",overflow:"hidden"},onMouseEnter:te=>{te.target.style.background="linear-gradient(135deg, #0097a7 0%, #00695c 50%, #004d40 100%)",te.target.style.transform="translateY(-2px) scale(1.02)",te.target.style.boxShadow="0 4px 12px rgba(0, 188, 212, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.6), inset 0 -1px 0 rgba(0, 0, 0, 0.3)"},onMouseLeave:te=>{te.target.style.background="linear-gradient(135deg, #00bcd4 0%, #0097a7 50%, #00695c 100%)",te.target.style.transform="translateY(0) scale(1)",te.target.style.boxShadow="0 2px 6px rgba(0, 188, 212, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.2)"}},"🚀 ",S?"Chat":"League Chat")),r.createElement("div",{onClick:te=>{te.stopPropagation(),f&&f()},style:{flex:"1",background:"rgba(0, 0, 0, 0.4)",borderRadius:"8px",padding:"4px",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},onMouseEnter:te=>{te.currentTarget.style.background="linear-gradient(135deg, rgba(255, 68, 68, 0.15), rgba(255, 68, 68, 0.1), rgba(255, 68, 68, 0.05))",te.currentTarget.style.border="1px solid rgba(255, 68, 68, 0.4)",te.currentTarget.style.transform="translateY(-1px) scale(1.01)",te.currentTarget.style.boxShadow="0 4px 12px rgba(255, 68, 68, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)"},onMouseLeave:te=>{te.currentTarget.style.background="rgba(0, 0, 0, 0.4)",te.currentTarget.style.border="1px solid rgba(255,255,255,0.15)",te.currentTarget.style.transform="translateY(0) scale(1)",te.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)"}},r.createElement("div",{style:{fontSize:S?"0.6rem":"1.1rem",color:"#ff4444",fontWeight:"bold",marginBottom:"0px",textAlign:"center",cursor:"pointer",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",letterSpacing:"0.5px"}},"🎯 Upcoming Matches"),r.createElement("div",{style:{fontSize:S?"0.45rem":"0.75rem",color:"#e0e0e0",textAlign:"center",fontStyle:"italic",fontWeight:"500",marginTop:"0px",marginBottom:"0px",padding:"0px"}},"click for match details"),(()=>{const te=_;return te&&te.length>0?r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"1px",marginTop:S?"1px":"2px"}},te.slice(0,3).map((Le,He)=>r.createElement("div",{key:He,onClick:Ae=>{Ae.stopPropagation(),C&&Le&&C(Le)},style:{fontSize:S?"0.5rem":"0.8rem",color:"#ccc",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer",padding:S?"1px 2px":"2px 3px",borderRadius:"2px",transition:"all 0.2s ease"},onMouseEnter:Ae=>{Ae.target.style.color="#ffffff",Ae.target.style.background="rgba(255,255,255,0.1)"},onMouseLeave:Ae=>{Ae.target.style.color="#ccc",Ae.target.style.background="transparent"}},(()=>{let Ae="",tt="";if(Le.type==="proposal"||Le.status==="confirmed")Le.senderName&&Le.receiverName&&(Ae=Le.senderName.trim().toLowerCase()===`${s} ${l}`.trim().toLowerCase()?Le.receiverName:Le.senderName),Le.date&&(tt=Ag(Le.date));else if(Le.player1Id&&Le.player2Id&&(Ae=Le.player1Id.trim().toLowerCase()===`${s} ${l}`.trim().toLowerCase()?Le.player2Id:Le.player1Id),Le.scheduledDate){const dt=new Date(Le.scheduledDate);isNaN(dt.getTime())||(tt=Ag(dt.toISOString().split("T")[0]))}else Le.date&&(tt=Ag(Le.date));return Ae?tt?`vs ${Ae} (${tt})`:`vs ${Ae}`:"No matches"})())),te.length>3&&r.createElement("div",{style:{fontSize:S?"0.25rem":"0.55rem",color:"#888",textAlign:"center",fontStyle:"italic",padding:S?"0px":"1px"}},"+",te.length-3," more")):r.createElement("div",{style:{fontSize:S?"0.4rem":"0.7rem",color:"#999",textAlign:"center"}},"No matches")})()))))},Ex={async validateChallenge(t,a,e,n=!1,s=null){return Bn.post("/api/challenges/validate",{senderName:t,receiverName:a,division:e,isRematch:n,originalChallengeId:s})},async validateDefenseAcceptance(t,a,e){return Bn.post("/api/challenges/validate-defense",{defenderName:t,challengerName:a,division:e})},async getChallengeStats(t,a){return Bn.get(`/api/challenges/stats/${encodeURIComponent(t)}/${encodeURIComponent(a)}`)},async getChallengeLimits(t,a){return Bn.get(`/api/challenges/limits/${encodeURIComponent(t)}/${encodeURIComponent(a)}`)},async getEligibleOpponents(t,a){return Bn.get(`/api/challenges/eligible-opponents/${encodeURIComponent(t)}/${encodeURIComponent(a)}`)},async getDivisionChallengeStats(t){return Bn.get(`/api/challenges/division-stats/${encodeURIComponent(t)}`)},async updateChallengeStats(t,a,e){return Bn.put(`/api/challenges/stats/${encodeURIComponent(t)}/${encodeURIComponent(a)}`,e)},async resetDivisionChallengeStats(t){return Bn.delete(`/api/challenges/division-stats/${encodeURIComponent(t)}`)}};function h7({isOpen:t,onClose:a,isMobile:e}){return t?r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"10px"}},r.createElement("div",{style:{background:"linear-gradient(135deg, rgba(42, 42, 42, 0.95), rgba(26, 26, 26, 0.98))",border:"2px solid #ff4444",borderRadius:"12px",width:e?"98%":"90%",maxWidth:"800px",height:e?"98%":"95%",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.5)",color:"#ffffff"}},r.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",borderBottom:"2px solid #ff4444",flexShrink:0}},r.createElement("h2",{style:{margin:0,fontSize:e?"1.2rem":"1.5rem",color:"#ffffff",fontWeight:"bold",display:"flex",alignItems:"center",gap:"10px",textAlign:"center"}},"⚔️ Phase 2 Challenge Rules"),r.createElement("button",{onClick:a,style:{position:"absolute",right:"20px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ffffff",fontSize:"2rem",cursor:"pointer",padding:"5px",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s ease"},onMouseEnter:n=>n.target.style.backgroundColor="rgba(255,255,255,0.1)",onMouseLeave:n=>n.target.style.backgroundColor="transparent"},"×")),r.createElement("div",{style:{flex:1,overflowY:"auto",padding:"25px",fontSize:e?"1rem":"1.1rem",lineHeight:"1.6"}},r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#ff4444",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},"🎯 Overview"),r.createElement("p",{style:{margin:"0 0 15px 0",color:"#e0e0e0"}},"Phase 2 is the challenge phase where players compete against each other based on standings from Phase 1."),r.createElement("p",null,"You must complete 2-4 total matches during this phase, as either a challenger or defender.")),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#ff4444",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},"📊 Match Requirements"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Total Matches:")," 2-4 matches (minimum 2, maximum 4)"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("p",null,r.createElement("strong",null,"Defenses:")," If challenged, at least 2 defensive matches are required(you may accept more voluntarily). "),r.createElement("li",null,r.createElement("p",null,"If not challenged no defensive matches are required."))),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Weekly Limit:")," Only 1 match per week (as challenger or defender)"))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#ff4444",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},"⚔️ Dynamic Challenge Limits"),r.createElement("div",{style:{background:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)",borderRadius:"8px",padding:"15px",marginBottom:"15px"}},r.createElement("p",{style:{margin:"0 0 10px 0",color:"#ffc107",fontWeight:"bold"}},"Your challenge limit depends on how many times you've been challenged:"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"0 times challenged:")," You can issue 4 challenges"),r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"1 time challenged:")," You can issue 3 challenges"),r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"2 times challenged:")," You can issue 2 challenges")))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#ff4444",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},"🎯 Challenge Rules"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Standings Limit:")," You can challenge players ranked up to 4 spots higher than you."),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"One Challenge:")," You may challenge the same opponent only once."),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Rematch Rule:")," If you lose a challenge as a defender, you may issue a rematch (if both remain eligible). Opponent is not required to accept the rematch if they have played the required 2 defensive matches."),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Defense Priority:")," If you receive multiple challenges in the same week, the lowest-ranked challenger has priority."))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#ff4444",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},"🛡️ Defense Rules"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Required Defenses:")," You must accept challenges until you've played at least 2 matches as a defender."),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Defense Limit:")," No player may be required to defend more than 2 times."),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Voluntary Defenses:")," You may accept additional defenses beyond the required 2."),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Declining Challenges:")," After 2 defenses, declining further challenges is not a forfeit"))),r.createElement("div",{style:{background:"rgba(255, 68, 68, 0.1)",border:"1px solid rgba(255, 68, 68, 0.3)",borderRadius:"8px",padding:"15px",marginTop:"20px"}},r.createElement("h4",{style:{color:"#ff4444",fontSize:e?"1rem":"1.1rem",margin:"0 0 10px 0",display:"flex",alignItems:"center",gap:"8px"}},"⚠️ Important Notes"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0",fontSize:e?"0.85rem":"0.9rem"}},r.createElement("li",{style:{marginBottom:"5px"}},"All challenges and responses must be recorded in the League Scheduling Hub"),r.createElement("li",{style:{marginBottom:"5px"}},"Any attempt to exploit rules or collude will be treated as a sportsmanship violation"),r.createElement("li",{style:{marginBottom:"5px"}},"Once you complete 4 matches, you may not accept or issue further challenges")))),r.createElement("div",{style:{textAlign:"center",padding:"20px",borderTop:"1px solid rgba(255,255,255,0.2)",flexShrink:0}},r.createElement("button",{onClick:a,style:{background:"linear-gradient(135deg, #ff4444, #cc3333)",border:"none",color:"#ffffff",fontSize:e?"0.9rem":"1rem",fontWeight:"bold",padding:e?"10px 20px":"12px 25px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 8px rgba(0,0,0,0.3)"},onMouseEnter:n=>{n.target.style.transform="translateY(-2px)",n.target.style.boxShadow="0 6px 12px rgba(0,0,0,0.4)"},onMouseLeave:n=>{n.target.style.transform="translateY(0)",n.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.3)"}},"Got It! ✓")))):null}function g7({isOpen:t,onClose:a,phase1Stats:e,playerName:n,playerLastName:s,isMobile:l}){if(!t||!e)return null;const c=`${n} ${s}`;return r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"flex-start",justifyContent:"center",zIndex:1e3,padding:l?"10px":"20px",overflowY:"auto"},onClick:a},r.createElement("div",{style:{background:"linear-gradient(135deg, rgba(42, 42, 42, 0.95), rgba(26, 26, 26, 0.98))",border:"3px solid #ff4444",borderRadius:l?"12px":"16px",padding:l?"20px":"30px",maxWidth:l?"90vw":"500px",width:"100%",maxHeight:l?"80vh":"70vh",overflowY:"auto",boxShadow:"0 10px 30px rgba(0,0,0,0.5)",backdropFilter:"blur(5px)",position:"relative",marginTop:l?"20px":"40px",marginBottom:l?"20px":"40px"},onClick:u=>u.stopPropagation()},r.createElement("button",{onClick:a,style:{position:"absolute",top:l?"10px":"15px",right:l?"10px":"15px",background:"linear-gradient(135deg, #ff4444, #cc3333)",border:"3px solid #ffffff",color:"#ffffff",fontSize:l?"1.2rem":"1.5rem",fontWeight:"bold",width:l?"35px":"40px",height:l?"35px":"40px",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",zIndex:1e3,boxShadow:"0 4px 8px rgba(0,0,0,0.5)",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},onMouseEnter:u=>{u.target.style.background="linear-gradient(135deg, #ff6666, #dd4444)",u.target.style.transform="scale(1.1)",u.target.style.boxShadow="0 6px 12px rgba(0,0,0,0.7)"},onMouseLeave:u=>{u.target.style.background="linear-gradient(135deg, #ff4444, #cc3333)",u.target.style.transform="scale(1)",u.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.5)"}},"✕"),r.createElement("div",{style:{textAlign:"center",marginBottom:l?"20px":"25px"}},r.createElement("h2",{style:{color:"#ffffff",fontSize:l?"1.2rem":"1.5rem",fontWeight:"bold",margin:"0 0 5px 0",textShadow:"2px 2px 4px rgba(0,0,0,0.8)"}},"📊 Phase 1 Results"),r.createElement("div",{style:{color:"#e0e0e0",fontSize:l?"0.9rem":"1rem",fontStyle:"italic"}},c)),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:l?"12px":"16px",marginBottom:l?"20px":"25px"}},r.createElement("div",{style:{padding:l?"15px":"20px",background:"rgba(255,255,255,0.1)",borderRadius:"8px",border:"2px solid rgba(255,255,255,0.2)",textAlign:"center"}},r.createElement("div",{style:{fontSize:l?"0.8rem":"1rem",color:"#e0e0e0",marginBottom:"8px",fontWeight:"bold"}},"Record"),r.createElement("div",{style:{fontSize:l?"1.5rem":"2rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",marginBottom:"5px"}},e.wins,"-",e.losses),r.createElement("div",{style:{fontSize:l?"0.9rem":"1.1rem",color:"#e0e0e0",fontStyle:"italic"}},e.winRate,"% Win Rate")),r.createElement("div",{style:{padding:l?"15px":"20px",background:"rgba(255,255,255,0.1)",borderRadius:"8px",border:"2px solid rgba(255,255,255,0.2)",textAlign:"center"}},r.createElement("div",{style:{fontSize:l?"0.8rem":"1rem",color:"#e0e0e0",marginBottom:"8px",fontWeight:"bold"}},"Final Position"),r.createElement("div",{style:{fontSize:l?"1.5rem":"2rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",marginBottom:"5px"}},e.position),r.createElement("div",{style:{fontSize:l?"0.9rem":"1.1rem",color:"#e0e0e0",fontStyle:"italic"}},"in Division")),r.createElement("div",{style:{padding:l?"15px":"20px",background:"rgba(255,255,255,0.1)",borderRadius:"8px",border:"2px solid rgba(255,255,255,0.2)",textAlign:"center"}},r.createElement("div",{style:{fontSize:l?"0.8rem":"1rem",color:"#e0e0e0",marginBottom:"8px",fontWeight:"bold"}},"Matches Played"),r.createElement("div",{style:{fontSize:l?"1.5rem":"2rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",marginBottom:"5px"}},e.totalMatches),r.createElement("div",{style:{fontSize:l?"0.9rem":"1.1rem",color:"#e0e0e0",fontStyle:"italic"}},"Total Games"))),r.createElement("div",{style:{background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:l?"15px":"20px",border:"1px solid rgba(255,255,255,0.1)",marginBottom:l?"15px":"20px"}},r.createElement("h3",{style:{color:"#ffffff",fontSize:l?"1rem":"1.2rem",margin:"0 0 10px 0",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},"Performance Summary"),r.createElement("div",{style:{color:"#e0e0e0",fontSize:l?"0.85rem":"1rem",lineHeight:"1.5",textAlign:"center"}},e.totalMatches===0?r.createElement("div",null,"No matches completed in Phase 1"):r.createElement("div",null,r.createElement("div",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Win Rate:")," ",e.winRate,"% (",e.wins," wins, ",e.losses," losses)"),r.createElement("div",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Final Standing:")," ",e.position," place"),r.createElement("div",null,r.createElement("strong",null,"Total Matches:")," ",e.totalMatches," games played")))),r.createElement("div",{style:{background:"rgba(255, 68, 68, 0.1)",borderRadius:"8px",padding:l?"15px":"20px",border:"2px solid rgba(255, 68, 68, 0.3)",textAlign:"center"}},r.createElement("div",{style:{color:"#ff4444",fontSize:l?"0.9rem":"1rem",fontWeight:"bold",marginBottom:"5px"}},"🏆 Phase 2 Qualified"),r.createElement("div",{style:{color:"#e0e0e0",fontSize:l?"0.8rem":"0.9rem"}},"Ready for challenge matches and defenses"))))}function y7({playerName:t,playerLastName:a,selectedDivision:e,phase:n,isMobile:s,onOpenOpponentsModal:l,onOpenCompletedMatchesModal:c,onOpenStandingsModal:u,onOpenDefenseChallengersModal:m,onOpenAllMatchesModal:h,onOpenProposalListModal:f,onOpenSentProposalListModal:y,onOpenPlayerSearch:b,pendingCount:E=0,sentCount:w=0,upcomingMatches:_=[],onMatchClick:C,seasonData:S,completedMatches:I=[],standings:k=[]}){var Zn,rn;const[N,M]=v.useState(null),[R,$]=v.useState(null),[z,Y]=v.useState(!0),[J,ae]=v.useState(null),[H,Z]=v.useState(!0),[O,L]=v.useState(!1),[A,U]=v.useState(!1),[q,Q]=v.useState(null),T=`${t} ${a}`,F=()=>{let me=0,et=0;I&&I.length>0&&I.forEach(tt=>{tt.winner===T?me++:et++});const Ge=I&&I.length>0?Math.round(me/(me+et)*100):0,wt=(tt,dt)=>{if(!tt||tt.length===0)return null;const Kt=dt.toLowerCase().trim(),Vn=tt.find(Hn=>Hn.name.toLowerCase().trim()===Kt);return Vn?parseInt(Vn.rank):null},te=tt=>{const dt=tt%10,Kt=tt%100;return dt===1&&Kt!==11?"st":dt===2&&Kt!==12?"nd":dt===3&&Kt!==13?"rd":"th"},Le=wt(k,T);let He="N/A";Le!==null?He=`${Le}${te(Le)}`:I&&I.length>=1&&(Ge>=80?He="1st-3rd":Ge>=60?He="4th-6th":Ge>=40?He="7th-9th":He="10th+");const Ae={wins:me,losses:et,winRate:Ge,position:He,totalMatches:I?I.length:0};console.log("Phase2Tracker - Calculated Phase 1 stats:",Ae),Q(Ae)};v.useEffect(()=>{console.log("Phase2Tracker - Calculating Phase 1 stats:"),console.log("  completedMatches:",I),console.log("  standings:",k),console.log("  fullPlayerName:",T),F()},[I,k,T]);const j=(()=>{if(console.log("Phase2Tracker - Received seasonData:",S),console.log("Phase2Tracker - seasonData.phase1End:",S==null?void 0:S.phase1End),!S||!S.phase1End)return console.log("Phase2Tracker - No seasonData or phase1End found"),{days:null,status:"no_deadline"};const me=new Date,et=new Date(S.phase1End);if(console.log("Phase2Tracker - Date comparison:"),console.log("  now:",me.toISOString()),console.log("  phase1End:",et.toISOString()),console.log("  nowTime:",me.getTime()),console.log("  phase1EndTime:",et.getTime()),console.log("  isPhase1Active:",me<=et),console.log("  currentDate:",me.toLocaleDateString()),console.log("  phase1EndDate:",et.toLocaleDateString()),me<=et)return console.log("Phase2Tracker - Phase 1 is still active, returning phase1_active status"),{days:null,status:"phase1_active"};const Ge=new Date(et);Ge.setDate(Ge.getDate()+28);const wt=Ge-me,te=Math.ceil(wt/(1e3*60*60*24));return console.log("Phase2Tracker - Phase 2 calculation:"),console.log("  phase2End:",Ge.toISOString()),console.log("  diffTime:",wt),console.log("  diffDays:",te),console.log("  status:",te<0?"passed":te<=1?"critical":te<=3?"urgent":te<=7?"warning":"normal"),te<0?{days:Math.abs(te),status:"passed"}:te<=1?{days:te,status:"critical"}:te<=3?{days:te,status:"urgent"}:te<=7?{days:te,status:"warning"}:{days:te,status:"normal"}})();if(console.log("Phase2Tracker - Final deadlineStatus:",j),console.log("Phase2Tracker - Final deadlineStatus.status:",j==null?void 0:j.status),console.log("Phase2Tracker - Final deadlineStatus.days:",j==null?void 0:j.days),v.useEffect(()=>{if(!t||!a||!e||n!=="challenge"){Y(!1);return}async function me(){try{Y(!0),ae(null);const[et,Ge]=await Promise.all([Ex.getChallengeStats(T,e),Ex.getChallengeLimits(T,e)]);M(et),$(Ge)}catch(et){console.error("Error loading challenge data:",et),ae("Failed to load challenge statistics")}finally{Y(!1)}}me()},[t,a,e,n,T]),n!=="challenge")return null;if(z)return r.createElement("div",{style:{background:"linear-gradient(135deg, rgba(42, 42, 42, 0.7), rgba(26, 26, 26, 0.8))",border:"2px solid #ff4444",borderRadius:s?"8px":"12px",padding:s?"1px":"18px",margin:s?"-15px 0 0 0":"16px 0",boxShadow:"0 6px 20px rgba(0,0,0,0.3), 0 2px 8px rgba(0,0,0,0.2)",backdropFilter:"blur(2px)",textAlign:"center",color:"#888"}},"Loading Phase 2 challenge statistics...");if(J)return r.createElement("div",{style:{background:"linear-gradient(135deg, rgba(42, 42, 42, 0.7), rgba(26, 26, 26, 0.8))",border:"2px solid #e53e3e",borderRadius:s?"8px":"12px",padding:s?"1px":"18px",margin:s?"-15px 0 0 0":"16px 0",boxShadow:"0 6px 20px rgba(0,0,0,0.3), 0 2px 8px rgba(0,0,0,0.2)",backdropFilter:"blur(2px)",textAlign:"center",color:"#e53e3e"}},J);if(!N||!R)return null;const re=N.matchesAsChallenger+N.requiredDefenses,K=2,ce=4,xe=re>=K,Se=re>=ce,pe=(()=>{var et;const me=((et=R.dynamicLimits)==null?void 0:et.timesChallenged)||0;return me===0?4:me===1?3:me===2?2:0})(),Ue=((Zn=R.dynamicLimits)==null?void 0:Zn.challengesIssued)||0,je=pe-Ue,it=N.requiredDefenses||0,Ve=()=>Se?"completed":xe?"active":re>=1?"progressing":"ready",Lt=(me,et)=>{const Ge=me/et*100;return Ge>=90?"#e53e3e":Ge>=75?"#ffc107":"#28a745"},gn=()=>{if(j.status==="phase1_active")return"#ffaa00";switch(Ve()){case"completed":return"#00aa00";case"active":return"#ff4444";case"progressing":return"#ff4444";case"ready":return"#ff4444";default:return"#ff4444"}},Pt=()=>{const me=Ve();if(j.status==="phase1_active")return`⏳ Phase 1 still active until ${S&&S.phase1End?Ca(new Date(S.phase1End),s?"MMM d":"MMM d, yyyy"):""}`;if(j.status==="passed")return"⚠️ DEADLINE PASSED!";if(j.status==="critical"){const et=new Date(S.phase1End),Ge=new Date(et);Ge.setDate(Ge.getDate()+28);const wt=Ca(Ge,s?"MMM d":"MMM d, yyyy");return`🚨 CRITICAL: ENDS in ${j.days} hours! (${wt})`}else if(j.status==="urgent"){const et=new Date(S.phase1End),Ge=new Date(et);Ge.setDate(Ge.getDate()+28);const wt=Ca(Ge,s?"MMM d":"MMM d, yyyy");return`⚠️ URGENT: ENDS in ${j.days} days! (${wt})`}else if(j.status==="warning"){const et=new Date(S.phase1End),Ge=new Date(et);Ge.setDate(Ge.getDate()+28);const wt=Ca(Ge,s?"MMM d":"MMM d, yyyy");return`⚠️ WARNING: ENDS in ${j.days} days. (${wt})`}else if(j.status==="normal"){const et=new Date(S.phase1End),Ge=new Date(et);Ge.setDate(Ge.getDate()+28);const wt=Ca(Ge,s?"MMM d":"MMM d, yyyy");return`ENDS in ${j.days} days. (${wt})`}switch(me){case"completed":return"🎉 Phase 2 Complete! (4/4 matches)";case"active":return`🏆 Active in Phase 2! ${re}/4 matches (min met)`;case"progressing":return`📈 Phase 2 in progress! ${re}/4 matches (need ${K-re} more)`;case"ready":return"⚔️ Ready for Phase 2! Need 2-4 challenge matches.";default:return"Phase 2 Challenge Status"}},ln=gn();return r.createElement("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.85), rgba(20, 20, 20, 0.9), rgba(0, 0, 0, 0.85))",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:s?"16px":"20px",padding:s?"6px":"12px",margin:s?"-15px 0 0 0":"13px auto",width:s?"100%":"98%",maxWidth:s?"none":"1600px",boxShadow:"0 8px 32px rgba(0,0,0,0.4), 0 4px 16px rgba(255,255,255,0.1), inset 0 1px 0 rgba(255,255,255,0.1)",cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"flex-start",backdropFilter:"blur(8px)",overflow:"auto",maxHeight:"none",height:s?H?"auto":"60px":H?"380px":"160px",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative"},onClick:()=>Z(!H),onKeyDown:me=>{(me.key==="Enter"||me.key===" ")&&(me.preventDefault(),Z(!H))},role:"button",tabIndex:"0","aria-label":H?"Collapse Phase 2 tracker":"Expand Phase 2 tracker"},r.createElement("div",{style:{position:"relative",textAlign:"center",marginBottom:s?"0px":"4px",padding:s?"6px":"8px",borderRadius:"12px",background:"linear-gradient(135deg, rgba(0, 0, 0, 0.7), rgba(20, 20, 20, 0.8))",border:"1px solid rgba(255,255,255,0.15)",boxShadow:"0 4px 16px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1)"}},r.createElement("h3",{style:{margin:0,color:"#ffffff",fontSize:s?"0.8rem":"1.1rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:s?"4px":"6px",flexWrap:"wrap",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",letterSpacing:"0.5px",minHeight:s?"2.5rem":"3rem"}},r.createElement("button",{onClick:me=>{me.stopPropagation(),U(!0)},"aria-label":"View Phase 1 results",role:"button",tabIndex:"0",style:{background:"linear-gradient(135deg, #22c55e, #16a34a, #15803d)",border:"2px solid rgba(255,255,255,0.8)",color:"#ffffff",fontSize:s?"0.5rem":"0.8rem",fontWeight:"bold",padding:s?"6px 10px":"8px 14px",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",boxShadow:"0 4px 12px rgba(34, 197, 94, 0.4), inset 0 1px 0 rgba(255,255,255,0.3), 0 0 10px rgba(34, 197, 94, 0.2)",zIndex:10},onMouseEnter:me=>{me.target.style.background="linear-gradient(135deg, #4ade80, #22c55e, #16a34a)",me.target.style.transform="scale(1.05) translateY(-2px)",me.target.style.boxShadow="0 6px 16px rgba(34, 197, 94, 0.6), inset 0 1px 0 rgba(255,255,255,0.4), 0 0 15px rgba(34, 197, 94, 0.3)"},onMouseLeave:me=>{me.target.style.background="linear-gradient(135deg, #22c55e, #16a34a, #15803d)",me.target.style.transform="scale(1) translateY(0)",me.target.style.boxShadow="0 4px 12px rgba(34, 197, 94, 0.4), inset 0 1px 0 rgba(255,255,255,0.3), 0 0 10px rgba(34, 197, 94, 0.2)"}},"📊 PHASE 1 RESULTS"),r.createElement("span",{style:{fontSize:s?"0.9rem":"1.1rem",background:`linear-gradient(135deg, ${ln}, ${ln}dd, ${ln})`,padding:s?"4px 8px":"6px 12px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.2), 0 0 10px rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.3)",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",fontWeight:"bold"}},"Phase 2"),r.createElement("button",{onClick:me=>{me.stopPropagation(),L(!0)},"aria-label":"Open Phase 2 rules and information",role:"button",tabIndex:"0",style:{background:"linear-gradient(135deg, #ff4444, #cc3333, #aa2222)",border:"2px solid rgba(255,255,255,0.8)",color:"#ffffff",fontSize:s?"0.5rem":"0.8rem",fontWeight:"bold",padding:s?"6px 10px":"8px 14px",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",boxShadow:"0 4px 12px rgba(255, 68, 68, 0.4), inset 0 1px 0 rgba(255,255,255,0.3), 0 0 10px rgba(255, 68, 68, 0.2)",zIndex:10},onMouseEnter:me=>{me.target.style.background="linear-gradient(135deg, #ff6666, #dd4444, #cc3333)",me.target.style.transform="scale(1.05) translateY(-2px)",me.target.style.boxShadow="0 6px 16px rgba(255, 68, 68, 0.6), inset 0 1px 0 rgba(255,255,255,0.4), 0 0 15px rgba(255, 68, 68, 0.3)"},onMouseLeave:me=>{me.target.style.background="linear-gradient(135deg, #ff4444, #cc3333, #aa2222)",me.target.style.transform="scale(1) translateY(0)",me.target.style.boxShadow="0 4px 12px rgba(255, 68, 68, 0.4), inset 0 1px 0 rgba(255,255,255,0.3), 0 0 10px rgba(255, 68, 68, 0.2)"}},"⚔️ RULES")),r.createElement("div",{style:{color:"#ffffff",fontSize:s?"0.7rem":"0.95rem",lineHeight:"1.1",marginTop:"2px",marginBottom:s?"2px":"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center"}},Pt()),r.createElement("div",{style:{position:s?"relative":"absolute",left:s?"auto":"8%",top:s?"auto":"50%",transform:s?"none":"translate(-50%, -50%)",cursor:"pointer",fontSize:s?"2.5rem":"3.2rem",transition:"all 0.3s ease",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:s?"90px":"120px",lineHeight:1,background:"linear-gradient(135deg, rgba(255, 68, 68, 0.25), rgba(220, 53, 69, 0.2), rgba(200, 35, 51, 0.15))",border:"2px solid rgba(255, 68, 68, 0.6)",padding:s?"4px":"6px",borderRadius:s?"12px":"18px",zIndex:1,boxShadow:"0 6px 20px rgba(255, 68, 68, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 0 20px rgba(255, 68, 68, 0.2)",minWidth:s?"60px":"80px",minHeight:s?"75px":"90px",backdropFilter:"blur(8px)",margin:s?"8px auto":"0"},onClick:me=>{me.stopPropagation(),Z(!0),b&&b()},"aria-label":"Open player search to schedule Phase 2 matches",role:"button",tabIndex:"0",onMouseEnter:me=>{me.currentTarget.style.transform="translate(-50%, -50%) scale(1.1)",me.currentTarget.style.background="rgba(255, 68, 68, 0.25)",me.currentTarget.style.boxShadow="0 4px 16px rgba(255, 68, 68, 0.5)",me.currentTarget.style.border="2px solid rgba(255, 68, 68, 0.6)"},onMouseLeave:me=>{me.currentTarget.style.transform="translate(-50%, -50%) scale(1)",me.currentTarget.style.background="rgba(255, 68, 68, 0.15)",me.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",me.currentTarget.style.border="1px solid rgba(255, 68, 68, 0.4)"}},r.createElement("div",{style:{fontSize:s?"0.35rem":"0.5rem",color:"#ffffff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:s?"6px":"8px",textAlign:"center"}},"Today's Date"),r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1}},r.createElement("div",{style:{fontSize:s?"0.6rem":"0.85rem"}},["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date().getDay()]),r.createElement("div",{style:{fontSize:s?"0.85rem":"1.4rem"}},(()=>{const me=new Date,et=String(me.getMonth()+1).padStart(2,"0"),Ge=String(me.getDate()).padStart(2,"0"),wt=String(me.getFullYear()).slice(-2);return`${et}/${Ge}/${wt}`})())),r.createElement("div",{style:{fontSize:s?"0.2rem":"0.45rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.9)",marginTop:"auto",textAlign:"center",whiteSpace:"nowrap",background:"rgba(0, 0, 0, 0.7)",padding:s?"1px 2px":"2px 3px",borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.3)"}},s?"Schedule":"Click to Schedule Match by Date")),r.createElement("div",{style:{position:s?"relative":"absolute",right:s?"auto":"8%",top:s?"auto":"50%",transform:s?"none":"translate(50%, -50%)",transition:"all 0.3s ease",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",lineHeight:1,background:"linear-gradient(135deg, rgba(52, 152, 219, 0.25), rgba(41, 128, 185, 0.2), rgba(30, 100, 150, 0.15))",border:"2px solid rgba(52, 152, 219, 0.6)",padding:s?"3px":"5px",borderRadius:s?"10px":"16px",zIndex:1,boxShadow:"0 6px 20px rgba(52, 152, 219, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 0 20px rgba(52, 152, 219, 0.2)",minWidth:s?"60px":"80px",minHeight:s?"75px":"90px",backdropFilter:"blur(8px)",margin:s?"8px auto":"0"},title:"Proposal management - view pending and sent proposals",onMouseEnter:me=>{me.currentTarget.style.background="linear-gradient(135deg, rgba(52, 152, 219, 0.3), rgba(41, 128, 185, 0.25))",me.currentTarget.style.boxShadow="0 6px 20px rgba(52, 152, 219, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.2)",me.currentTarget.style.border="2px solid rgba(52, 152, 219, 0.7)",me.currentTarget.style.transform="translate(50%, -50%) scale(1.02)"},onMouseLeave:me=>{me.currentTarget.style.background="linear-gradient(135deg, rgba(52, 152, 219, 0.2), rgba(41, 128, 185, 0.15))",me.currentTarget.style.boxShadow="0 4px 16px rgba(52, 152, 219, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",me.currentTarget.style.border="2px solid rgba(52, 152, 219, 0.5)",me.currentTarget.style.transform="translate(50%, -50%) scale(1)"}},r.createElement("div",{style:{fontSize:s?"0.45rem":"0.65rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.9)",marginBottom:s?"2px":"4px",textAlign:"center",whiteSpace:"nowrap"}},"📋 Proposals"),r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:s?"2px":"4px",justifyContent:"center",width:"100%"}},r.createElement("button",{onClick:me=>{me.stopPropagation(),f&&f()},style:{background:"linear-gradient(135deg, #d35400 0%, #e67e22 50%, #f39c12 100%)",color:"#ffffff",border:"none",borderRadius:"6px",padding:s?"1px 2px":"3px 4px",fontSize:s?"0.35rem":"0.55rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 6px rgba(211, 84, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",textShadow:"1px 1px 2px rgba(0,0,0,0.5)",position:"relative",overflow:"hidden"},onMouseEnter:me=>{me.target.style.background="linear-gradient(135deg, #e67e22 0%, #f39c12 50%, #f1c40f 100%)",me.target.style.transform="translateY(-2px) scale(1.02)",me.target.style.boxShadow="0 4px 12px rgba(211, 84, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.6), inset 0 -1px 0 rgba(0, 0, 0, 0.3)"},onMouseLeave:me=>{me.target.style.background="linear-gradient(135deg, #d35400 0%, #e67e22 50%, #f39c12 100%)",me.target.style.transform="translateY(0) scale(1)",me.target.style.boxShadow="0 2px 6px rgba(211, 84, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.2)"}},"📥 ",E," waiting for you"),r.createElement("button",{onClick:me=>{me.stopPropagation(),y&&y()},style:{background:"linear-gradient(135deg, #1e8449 0%, #27ae60 50%, #2ecc71 100%)",color:"#ffffff",border:"none",borderRadius:"6px",padding:s?"1px 2px":"3px 4px",fontSize:s?"0.35rem":"0.55rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 6px rgba(30, 132, 73, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",textShadow:"1px 1px 2px rgba(0,0,0,0.5)",position:"relative",overflow:"hidden"},onMouseEnter:me=>{me.target.style.background="linear-gradient(135deg, #27ae60 0%, #2ecc71 50%, #58d68d 100%)",me.target.style.transform="translateY(-2px) scale(1.02)",me.target.style.boxShadow="0 4px 12px rgba(30, 132, 73, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.6), inset 0 -1px 0 rgba(0, 0, 0, 0.3)"},onMouseLeave:me=>{me.target.style.background="linear-gradient(135deg, #1e8449 0%, #27ae60 50%, #2ecc71 100%)",me.target.style.transform="translateY(0) scale(1)",me.target.style.boxShadow="0 2px 6px rgba(30, 132, 73, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.2)"}},"📤 ",w," waiting for opponents"))),r.createElement("div",{style:{color:"#ffffff",fontSize:s?"0.7rem":"0.9rem",fontWeight:"bold",marginTop:s?"4px":"2px",marginBottom:s?"2px":"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",lineHeight:"1.1",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",gap:s?"8px":"12px",flexWrap:"wrap"}},r.createElement("span",null,"⚔️ ",re,"/4 Matches"),r.createElement("span",null,"•"),r.createElement("span",{style:{color:je>0?"#4ade80":"#ef4444"}},je," Challenges Left"),r.createElement("span",null,"•"),r.createElement("span",{style:{color:xe?"#4ade80":"#fbbf24"}},xe?"Min ✅":`${K-re} to min`))),r.createElement("div",{style:{textAlign:"center",marginBottom:s?"0px":"4px"}},r.createElement("div",{style:{fontSize:s?"0.5rem":"0.9rem",color:"#ffffff",fontWeight:"bold",cursor:"pointer",padding:s?"1px 3px":"4px 8px",borderRadius:"6px",display:"inline-block",transition:"background-color 0.2s ease",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},onMouseEnter:me=>me.target.style.backgroundColor=`${ln}20`,onMouseLeave:me=>me.target.style.backgroundColor="transparent"},H?"Hide Stats ▲":"Show Stats ▼")),H&&r.createElement(r.Fragment,null,r.createElement("div",{style:{marginBottom:s?"0.3rem":"0.5rem"}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:s?"0.4rem":"0.6rem",marginBottom:s?"0.3rem":"0.5rem"}},r.createElement("div",{onClick:me=>{me.stopPropagation(),b&&b()},style:{padding:s?"0.4rem":"0.6rem",background:"linear-gradient(135deg, rgba(255, 68, 68, 0.15), rgba(59, 130, 246, 0.1))",borderRadius:"8px",border:"1px solid rgba(255, 68, 68, 0.3)",textAlign:"center",cursor:"pointer",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},onMouseEnter:me=>{me.target.style.background="linear-gradient(135deg, rgba(255, 68, 68, 0.25), rgba(59, 130, 246, 0.2))",me.target.style.transform="translateY(-2px)",me.target.style.boxShadow="0 4px 12px rgba(255, 68, 68, 0.3)"},onMouseLeave:me=>{me.target.style.background="linear-gradient(135deg, rgba(255, 68, 68, 0.15), rgba(59, 130, 246, 0.1))",me.target.style.transform="translateY(0)",me.target.style.boxShadow="none"}},r.createElement("div",{style:{fontSize:s?"0.5rem":"0.85rem",fontWeight:"bold",color:"#ff4444",marginBottom:s?"3px":"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},"⚔️ Phase 2 Progress"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:s?"4px":"6px",fontSize:s?"0.4rem":"0.7rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.9)",marginBottom:s?"3px":"4px"}},r.createElement("div",null,r.createElement("div",{style:{color:"#ff4444",fontSize:s?"0.35rem":"0.6rem"}},"Challenges"),r.createElement("div",null,re,"/4")),r.createElement("div",null,r.createElement("div",{style:{color:"#3b82f6",fontSize:s?"0.35rem":"0.6rem"}},"Defenses"),r.createElement("div",null,it,"/2"))),r.createElement("div",{style:{width:"100%",height:s?"3px":"4px",background:"rgba(255,255,255,0.2)",borderRadius:"3px",overflow:"hidden",marginBottom:s?"2px":"3px",boxShadow:"inset 0 1px 2px rgba(0,0,0,0.3)"}},r.createElement("div",{style:{width:`${re/ce*100}%`,height:"100%",background:`linear-gradient(90deg, ${Lt(re,ce)}, ${Lt(re,ce)}dd)`,borderRadius:"3px",transition:"width 0.4s ease",boxShadow:"0 0 4px rgba(255,255,255,0.3)"}})),r.createElement("div",{style:{fontSize:s?"0.35rem":"0.7rem",color:xe?"#4ade80":"#fbbf24",fontWeight:"bold",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},xe?"✅ Min met":`${K-re} to min`)),r.createElement("div",{style:{padding:s?"0.4rem":"0.6rem",background:"linear-gradient(135deg, rgba(168, 85, 247, 0.15), rgba(255, 193, 7, 0.1))",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.3)",textAlign:"center",position:"relative",overflow:"hidden"}},r.createElement("div",{style:{fontSize:s?"0.5rem":"0.85rem",fontWeight:"bold",color:"#a855f7",marginBottom:s?"3px":"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},"🎯 Challenge Limits"),r.createElement("div",{style:{fontSize:s?"0.45rem":"1rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.9)",marginBottom:s?"3px":"4px"}},je," remaining"),r.createElement("div",{style:{fontSize:s?"0.35rem":"0.6rem",color:"#fbbf24",marginBottom:s?"2px":"3px"}},((rn=R.dynamicLimits)==null?void 0:rn.timesChallenged)||0," times challenged"),r.createElement("div",{style:{fontSize:s?"0.35rem":"0.7rem",color:je>0?"#4ade80":"#ef4444",fontWeight:"bold",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},Ue," issued")))),r.createElement("div",{style:{padding:s?"0.5rem":"0.8rem",background:"linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(22, 163, 74, 0.1))",border:"1px solid rgba(34, 197, 94, 0.4)",borderRadius:"8px",marginBottom:s?"0.4rem":"0.6rem",color:"#ffffff",boxShadow:"0 2px 8px rgba(34, 197, 94, 0.2)"}},r.createElement("div",{style:{fontSize:s?"0.45rem":"0.8rem",fontWeight:"bold",color:"#22c55e",marginBottom:s?"0.3rem":"0.5rem",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},"📊 Current Record & Standings"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:s?"0.4rem":"0.6rem",fontSize:s?"0.4rem":"0.7rem",color:"#ffffff",textAlign:"center",lineHeight:s?"1.3":"1.4"}},r.createElement("div",{style:{background:"rgba(255,255,255,0.1)",padding:s?"0.2rem":"0.3rem",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.2)"}},r.createElement("div",{style:{fontWeight:"bold",color:"#22c55e",marginBottom:"2px"}},"Wins"),r.createElement("div",{style:{fontSize:s?"0.35rem":"0.6rem",fontWeight:"bold"}},(q==null?void 0:q.wins)||0)),r.createElement("div",{style:{background:"rgba(255,255,255,0.1)",padding:s?"0.2rem":"0.3rem",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.2)"}},r.createElement("div",{style:{fontWeight:"bold",color:"#ef4444",marginBottom:"2px"}},"Losses"),r.createElement("div",{style:{fontSize:s?"0.35rem":"0.6rem",fontWeight:"bold"}},(q==null?void 0:q.losses)||0)),r.createElement("div",{style:{background:"rgba(255,255,255,0.1)",padding:s?"0.2rem":"0.3rem",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.2)"}},r.createElement("div",{style:{fontWeight:"bold",color:"#3b82f6",marginBottom:"2px"}},"Win Rate"),r.createElement("div",{style:{fontSize:s?"0.35rem":"0.6rem",fontWeight:"bold"}},(q==null?void 0:q.winRate)||0,"%"))),r.createElement("div",{style:{marginTop:s?"0.3rem":"0.5rem",padding:s?"0.2rem":"0.3rem",background:"rgba(168, 85, 247, 0.2)",borderRadius:"4px",border:"1px solid rgba(168, 85, 247, 0.4)",textAlign:"center"}},r.createElement("div",{style:{fontWeight:"bold",color:"#a855f7",marginBottom:"2px",fontSize:s?"0.35rem":"0.6rem"}},"Current Standings Position"),r.createElement("div",{style:{fontSize:s?"0.4rem":"0.7rem",fontWeight:"bold"}},(q==null?void 0:q.position)||"N/A"))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:s?"0.4rem":"0.6rem",marginBottom:s?"0.3rem":"0.5rem"}},r.createElement("div",{style:{padding:s?"0.4rem":"0.6rem",background:"rgba(255,255,255,0.1)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.1)",textAlign:"center",cursor:"pointer",transition:"background-color 0.2s ease"},onClick:me=>{me.stopPropagation(),b&&b()},onMouseEnter:me=>me.target.style.backgroundColor="rgba(255,255,255,0.15)",onMouseLeave:me=>me.target.style.backgroundColor="rgba(255,255,255,0.1)"},r.createElement("div",{style:{fontSize:s?"0.4rem":"0.7rem",fontWeight:"bold",color:"#e0e0e0",marginBottom:s?"1px":"2px"}},"📅 Schedule Match"),r.createElement("div",{style:{fontSize:s?"0.35rem":"0.8rem",color:"#ffffff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:s?"1px":"2px"}},N.eligibleOpponentsCount," available"),r.createElement("div",{style:{fontSize:s?"0.35rem":"0.65rem",color:"#e0e0e0",fontStyle:"italic",textAlign:"center",fontWeight:"500"}},"click to schedule")),r.createElement("div",{style:{padding:s?"0.4rem":"0.6rem",background:"rgba(255,255,255,0.1)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.1)",textAlign:"center",cursor:"pointer",transition:"background-color 0.2s ease"},onClick:me=>{me.stopPropagation(),h&&h()},onMouseEnter:me=>me.target.style.backgroundColor="rgba(255,255,255,0.15)",onMouseLeave:me=>me.target.style.backgroundColor="rgba(255,255,255,0.1)"},r.createElement("div",{style:{fontSize:s?"0.4rem":"0.7rem",fontWeight:"bold",color:"#e0e0e0",marginBottom:s?"1px":"2px"}},"🏆 View Matches"),r.createElement("div",{style:{fontSize:s?"0.35rem":"0.8rem",color:"#ffffff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:s?"1px":"2px"}},_.length," upcoming"),r.createElement("div",{style:{fontSize:s?"0.35rem":"0.65rem",color:"#e0e0e0",fontStyle:"italic",textAlign:"center",fontWeight:"500"}},"click for details"))),_.length>0&&r.createElement("div",{style:{marginBottom:s?"0.3rem":"0.5rem"}},r.createElement("div",{style:{fontSize:s?"0.4rem":"0.7rem",fontWeight:"bold",color:"#ffffff",marginBottom:s?"0.2rem":"0.4rem",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},"Upcoming Matches"),r.createElement("div",{style:{maxHeight:s?"50px":"60px",overflowY:"auto",background:"rgba(0,0,0,0.3)",borderRadius:"4px",padding:s?"0.2rem":"0.4rem"}},_.slice(0,2).map((me,et)=>{let Ge="";return me.senderName&&me.receiverName&&(Ge=me.senderName.trim().toLowerCase()===T.toLowerCase()?me.receiverName:me.senderName),r.createElement("div",{key:me._id||et,style:{fontSize:s?"0.3rem":"0.6rem",color:"#ffffff",padding:s?"0.15rem 0.25rem":"0.25rem 0.4rem",marginBottom:s?"0.1rem":"0.15rem",background:"rgba(255,255,255,0.1)",borderRadius:"3px",cursor:"pointer",transition:"background-color 0.2s ease",textAlign:"center"},onClick:wt=>{wt.stopPropagation(),C&&C(me)},onMouseEnter:wt=>wt.target.style.backgroundColor="rgba(255,255,255,0.2)",onMouseLeave:wt=>wt.target.style.backgroundColor="rgba(255,255,255,0.1)"},"VS ",Ge||"Unknown"," - ",me.date||"No Date")}),_.length>2&&r.createElement("div",{style:{fontSize:s?"0.3rem":"0.6rem",color:"#e0e0e0",textAlign:"center",fontStyle:"italic",padding:s?"0.15rem":"0.25rem"}},"+",_.length-2," more..."))),r.createElement("div",{style:{padding:s?"0.4rem":"0.6rem",background:"linear-gradient(135deg, rgba(255, 193, 7, 0.1), rgba(0,0,0,0.2))",borderRadius:"6px",border:"1px solid rgba(255, 193, 7, 0.3)",fontSize:s?"0.35rem":"0.65rem",color:"#ffffff",textAlign:"center",marginBottom:s?"0.3rem":"0.5rem"}},r.createElement("div",{style:{fontWeight:"bold",color:"#ffc107",marginBottom:"3px"}},"💡 Phase 2 Status"),r.createElement("div",{style:{fontSize:s?"0.3rem":"0.55rem",lineHeight:"1.3"}},xe?r.createElement("span",{style:{color:"#4ade80"}},"✅ Minimum met (",re,"/4 matches)"):r.createElement("span",{style:{color:"#fbbf24"}},"📈 Need ",K-re," more to minimum"),je>0&&r.createElement("span",{style:{color:"#3b82f6"}}," • Can challenge ",je," more (max 4 spots higher)")))),r.createElement(h7,{isOpen:O,onClose:()=>L(!1),isMobile:s}),r.createElement(g7,{isOpen:A,onClose:()=>U(!1),phase1Stats:q,playerName:t,playerLastName:a,isMobile:s}))}const b7=({phase1EndDate:t,isMobile:a,currentMonth:e,onMonthChange:n,onOpenOpponentsModal:s,upcomingMatches:l,playerName:c,playerLastName:u,onDateSelect:m,onMatchClick:h})=>{const f=new Date,y=e.getMonth(),b=e.getFullYear(),E=new Date(b,y,1),_=new Date(b,y+1,0).getDate(),C=E.getDay(),S=[];for(let O=0;O<C;O++)S.push(null);for(let O=1;O<=_;O++)S.push(O);const I=S.length,k=7-I%7;for(let O=0;O<k;O++)S.push(null);const N=k>=3;console.log(`Calendar debug: totalCells=${I}, emptyCellsInLastRow=${k}, needsMoreMargin=${N}`);const M=O=>!t||!O?!1:O===t.getDate()&&y===t.getMonth()&&b===t.getFullYear(),R=O=>O===f.getDate()&&y===f.getMonth()&&b===f.getFullYear(),$=O=>O&&O<f.getDate()&&y===f.getMonth()&&b===f.getFullYear(),z=["January","February","March","April","May","June","July","August","September","October","November","December"],Y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],J=()=>{const O=new Date(b,y-1,1);n(O)},ae=()=>{const O=new Date(b,y+1,1);n(O)},H=O=>{if(!O||!l)return[];const A=new Date(b,y,O).toISOString().split("T")[0];return l.filter(U=>{let q=null;if(U.scheduledDate){const Q=new Date(U.scheduledDate);isNaN(Q.getTime())||(q=Q.toISOString().split("T")[0])}else if(U.date){const Q=U.date.split("-");if(Q.length===3){const[T,F,V]=Q;q=`${V}-${T.padStart(2,"0")}-${F.padStart(2,"0")}`}}return q===A})},Z=O=>H(O).length>0;return r.createElement("div",{style:{color:"#ffffff"}},r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:a?"2px":"4px"}},r.createElement("button",{onClick:J,style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"#ffffff",fontSize:a?"0.9rem":"1rem",cursor:"pointer",padding:a?"4px 6px":"6px 8px",borderRadius:"4px",transition:"all 0.2s ease"},onMouseEnter:O=>O.target.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:O=>O.target.style.background="rgba(255, 255, 255, 0.1)"},"←"),r.createElement("div",{style:{textAlign:"center",fontSize:a?"1rem":"1.2rem",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",width:"100%"}},z[y]," ",b),r.createElement("button",{onClick:ae,style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"#ffffff",fontSize:a?"0.9rem":"1rem",cursor:"pointer",padding:a?"4px 6px":"6px 8px",borderRadius:"4px",transition:"all 0.2s ease"},onMouseEnter:O=>O.target.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:O=>O.target.style.background="rgba(255, 255, 255, 0.1)"},"→")),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"0px",marginBottom:a?"2px":"3px"}},Y.map(O=>r.createElement("div",{key:O,style:{textAlign:"center",fontSize:a?"0.8rem":"0.9rem",fontWeight:"bold",color:"#cccccc",padding:a?"2px 1px":"3px 1px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},O))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"0px",width:a?"450px":"800px",height:a?"280px":"400px",margin:"0 auto"}},S.map((O,L)=>r.createElement("div",{key:L,onClick:()=>{if(O&&!Z(O)&&m){const A=new Date(b,y,O);m(A)}},title:Z(O)?H(O).map(A=>{let U="";return A.player1Id&&A.player2Id?U=A.player1Id.trim().toLowerCase()===`${c} ${u}`.trim().toLowerCase()?A.player2Id:A.player1Id:A.senderName&&A.receiverName&&(U=A.senderName.trim().toLowerCase()===`${c} ${u}`.trim().toLowerCase()?A.receiverName:A.senderName),`Click to view match details vs ${U}`}).join(", "):"Click to schedule match",style:{aspectRatio:"1.2",display:"flex",alignItems:"flex-start",justifyContent:"flex-end",fontSize:a?"0.9rem":"1rem",fontWeight:"bold",borderRadius:"2px",cursor:O?"pointer":"default",background:O?M(O)?"#e74c3c":$(O)?"rgba(255,255,255,0.1)":"transparent":"transparent",border:O?M(O)?"1px solid #c0392b":R(O)?"2px solid #4CAF50":"1px solid rgba(255,255,255,0.1)":"none",color:O?M(O)||R(O)?"#ffffff":$(O)?"#888888":"#ffffff":"transparent",transition:"all 0.2s ease",padding:"2px"},onMouseEnter:A=>{O&&(A.target.style.transform="scale(1.05)",A.target.style.boxShadow="0 2px 8px rgba(255,255,255,0.2)")},onMouseLeave:A=>{O&&(A.target.style.transform="scale(1)",A.target.style.boxShadow="none")}},r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"space-between",width:"100%",height:"100%"}},r.createElement("span",{style:{fontSize:a?"0.8rem":"0.9rem",fontWeight:"bold",color:"inherit",textAlign:"right",padding:"1px"}},O||""),Z(O)&&r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"1px",padding:"1px",flex:1,justifyContent:"flex-end"}},H(O).slice(0,a?2:3).map((U,q)=>{let Q="";U.player1Id&&U.player2Id?Q=U.player1Id.trim().toLowerCase()===`${c} ${u}`.trim().toLowerCase()?U.player2Id:U.player1Id:U.senderName&&U.receiverName&&(Q=U.senderName.trim().toLowerCase()===`${c} ${u}`.trim().toLowerCase()?U.receiverName:U.senderName);const T=Q.length>(a?8:10)?Q.substring(0,a?8:10)+"...":Q;return r.createElement("div",{key:U._id||q,style:{fontSize:a?"0.5rem":"0.6rem",color:"#4CAF50",fontWeight:"bold",textAlign:"center",cursor:"pointer",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",padding:"1px",borderRadius:"1px",background:"rgba(76, 175, 80, 0.1)",border:"1px solid rgba(76, 175, 80, 0.3)",transition:"all 0.2s ease",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onMouseEnter:F=>{F.target.style.background="rgba(76, 175, 80, 0.3)",F.target.style.transform="scale(1.05)"},onMouseLeave:F=>{F.target.style.background="rgba(76, 175, 80, 0.1)",F.target.style.transform="scale(1)"},onClick:F=>{F.stopPropagation(),h&&h(U)},title:`Click to view match details vs ${Q}`},T)}),(()=>{const A=H(O);return A.length>(a?2:3)?r.createElement("div",{style:{fontSize:a?"0.4rem":"0.5rem",color:"#4CAF50",textAlign:"center",padding:"1px",fontStyle:"italic"}},"+",A.length-(a?2:3)," more"):null})()))))),r.createElement("div",{style:{marginTop:(()=>{const O=N?a?"60px":"80px":a?"20px":"24px";return console.log(`Legend margin: needsMoreMargin=${N}, isMobile=${a}, margin=${O}`),O})(),fontSize:a?"0.7rem":"0.8rem",display:"flex",flexDirection:"column",gap:"6px",padding:a?"12px":"16px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:a?"3px":"4px"}},r.createElement("div",{style:{width:a?"6px":"8px",height:a?"6px":"8px",background:"transparent",border:"1px solid #4CAF50",borderRadius:"1px"}}),r.createElement("span",null,"Today (outline)")),t&&r.createElement("div",{style:{display:"flex",alignItems:"center",gap:a?"3px":"4px"}},r.createElement("div",{style:{width:a?"6px":"8px",height:a?"6px":"8px",background:"#e74c3c",border:"1px solid #c0392b",borderRadius:"1px"}}),r.createElement("span",null,"Phase 1 Deadline (",Ca(t,"MMM d, yyyy"),")")),r.createElement("div",{style:{display:"flex",alignItems:"center",gap:a?"3px":"4px"}},r.createElement("div",{style:{width:a?"6px":"8px",height:a?"6px":"8px",background:"transparent",border:"1px solid #4CAF50",borderRadius:"50%",position:"relative"}},r.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"2px",height:"2px",background:"#4CAF50",borderRadius:"50%"}})),r.createElement("span",null,"Click scheduled opponent for match details"))))},v7=({isOpen:t,onClose:a,isMobile:e,phase1EndDate:n,upcomingMatches:s,playerName:l,playerLastName:c,onOpenOpponentsModal:u,onMatchClick:m,onSmartMatchClick:h})=>{const[f,y]=v.useState(new Date);return t?r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,backdropFilter:"blur(3px)",WebkitBackdropFilter:"blur(3px)",padding:"60px"},onClick:a},r.createElement("div",{style:{background:e?"rgba(0, 0, 0, 0.9)":"linear-gradient(120deg, #232323 80%, #2a0909 100%)",border:e?"2px solid rgba(255, 255, 255, 0.3)":"2px solid #e53e3e",borderRadius:e?"16px":"1.2rem",padding:e?"12px":"0",width:e?"95%":"auto",maxWidth:e?"none":"700px",minWidth:e?"auto":"400px",boxShadow:e?"0 8px 32px rgba(0,0,0,0.6)":"0 0 32px #e53e3e, 0 0 40px rgba(0,0,0,0.85)",backdropFilter:e?"blur(12px)":"none",maxHeight:e?"80%":"65vh",overflow:"auto",margin:e?"0":"0 auto",animation:"modalBounceIn 0.5s cubic-bezier(.21,1.02,.73,1.01)",display:"flex",flexDirection:"column"},onClick:b=>b.stopPropagation()},r.createElement("div",{style:{position:"relative",textAlign:"center",marginBottom:e?"12px":"0",padding:e?"8px":"1.1rem 1.5rem 0.7rem 1.5rem",borderRadius:e?"12px":"1.2rem 1.2rem 0 0",background:e?"rgba(0, 0, 0, 0.6)":"#e53e3e",border:e?"1px solid rgba(255,255,255,0.2)":"none",boxShadow:e?"0 4px 16px rgba(0,0,0,0.3)":"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:e?"default":"grab",userSelect:"none"}},!e&&r.createElement("span",{style:{position:"absolute",left:0,top:0,width:"100%",height:"5px",background:"linear-gradient(90deg, #fff0 0%, #e53e3e 60%, #fff0 100%)",borderTopLeftRadius:"1.2rem",borderTopRightRadius:"1.2rem",pointerEvents:"none"}}),r.createElement("h3",{style:{margin:0,color:"#ffffff",fontSize:e?"1.2rem":"1.3rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",textShadow:e?"2px 2px 4px rgba(0,0,0,0.8)":"0 1px 12px #000a",letterSpacing:e?"0.5px":"0.02em",wordBreak:"break-word",minWidth:0}},r.createElement("span",{style:{fontSize:e?"1rem":"1.3rem",background:e?"linear-gradient(45deg, #4CAF50, #4CAF50dd)":"none",padding:e?"8px 16px":"0",borderRadius:e?"8px":"0",boxShadow:e?"0 4px 16px rgba(0,0,0,0.4)":"none"}},"📅 Phase 1 Calendar")),r.createElement("button",{onClick:a,style:{position:"absolute",right:e?"8px":"1.5rem",top:"50%",transform:"translateY(-50%)",background:e?"rgba(255, 255, 255, 0.1)":"none",border:e?"1px solid rgba(255, 255, 255, 0.3)":"none",color:"#ffffff",fontSize:e?"1.2rem":"2em",cursor:"pointer",padding:"0",width:e?"32px":"auto",height:e?"32px":"auto",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:e?"50%":"0",transition:"all 0.2s ease",fontWeight:"bold",lineHeight:1,zIndex:10},onMouseEnter:b=>{e?(b.target.style.background="rgba(255, 255, 255, 0.2)",b.target.style.transform="scale(1.1)"):b.target.style.color="#ffd6d6"},onMouseLeave:b=>{e?(b.target.style.background="rgba(255, 255, 255, 0.1)",b.target.style.transform="scale(1)"):b.target.style.color="#ffffff"}},"×")),r.createElement("div",{style:{padding:e?"0":"0.8rem",flex:1,overflow:"auto",maxHeight:"calc(100vh - 200px)"}},r.createElement("div",{style:{background:"rgba(76, 175, 80, 0.15)",border:"1px solid rgba(76, 175, 80, 0.4)",borderRadius:"12px",padding:e?"6px":"10px",marginBottom:e?"6px":"10px",textAlign:"center"}},r.createElement("div",{style:{fontSize:e?"0.8rem":"1rem",color:"#ffffff",fontWeight:"bold",marginBottom:e?"3px":"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},"📅 Click any date to see opponents available for that day"),r.createElement("div",{style:{fontSize:e?"0.7rem":"0.9rem",color:"#cccccc",fontStyle:"italic",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},"💡 Or click the Progress meter on the home screen to see all available opponents"),r.createElement("div",{style:{fontSize:e?"0.7rem":"0.9rem",color:"#cccccc",fontStyle:"italic",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginTop:e?"2px":"3px",marginBottom:e?"4px":"6px"}},"🤖 Smart Match pairs you with assigned opponents based on matching availability"),r.createElement("button",{onClick:()=>{console.log("🎯 Calendar Modal: Smart Match button clicked"),h?(console.log("🎯 Calendar Modal: Calling onSmartMatchClick"),h()):(console.log("❌ Calendar Modal: onSmartMatchClick is not defined"),alert("Smart Match functionality is not available. Please try again."))},style:{background:"linear-gradient(135deg, rgba(255, 193, 7, 0.3), rgba(255, 193, 7, 0.2), rgba(255, 193, 7, 0.1))",border:"1px solid rgba(255, 193, 7, 0.4)",color:"#ffffff",fontSize:e?"0.7rem":"0.8rem",fontWeight:"bold",cursor:"pointer",padding:e?"8px 12px":"10px 16px",borderRadius:"8px",transition:"all 0.3s ease",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",boxShadow:"0 2px 8px rgba(255, 193, 7, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",margin:"0 auto",zIndex:10},onMouseEnter:b=>{b.target.style.background="linear-gradient(135deg, rgba(255, 193, 7, 0.4), rgba(255, 193, 7, 0.3), rgba(255, 193, 7, 0.2))",b.target.style.transform="scale(1.02) translateY(-1px)",b.target.style.boxShadow="0 4px 12px rgba(255, 193, 7, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)"},onMouseLeave:b=>{b.target.style.background="linear-gradient(135deg, rgba(255, 193, 7, 0.3), rgba(255, 193, 7, 0.2), rgba(255, 193, 7, 0.1))",b.target.style.transform="scale(1)",b.target.style.boxShadow="0 2px 8px rgba(255, 193, 7, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)"}},"🤖 Smart Match")),r.createElement(b7,{phase1EndDate:n,isMobile:e,currentMonth:f,onMonthChange:y,onOpenOpponentsModal:u,upcomingMatches:s,playerName:l,playerLastName:c,onMatchClick:m,onDateSelect:b=>{console.log("🎯 Calendar Modal: Date selected:",b),u?(console.log("🎯 Calendar Modal: Calling onOpenOpponentsModal"),u(b)):console.log("❌ Calendar Modal: onOpenOpponentsModal is not defined")}})))):null},x7=({isOpen:t,onClose:a,match:e,onValidate:n,onReject:s})=>{const[l,c]=v.useState({actualDate:"",actualTime:"",actualLocation:"",winner:"",score:"",notes:"",witnesses:"",photos:null}),[u,m]=v.useState(!1);if(!t||!e)return null;const h=async y=>{y.preventDefault(),m(!0);try{if(!l.actualDate||!l.winner||!l.score){alert("Please fill in all required fields: Date, Winner, and Score");return}await n({matchId:e._id,...l}),a()}catch(b){console.error("Error validating match:",b),alert("Error validating match. Please try again.")}finally{m(!1)}},f=async()=>{if(window.confirm("Are you sure you want to reject this match completion? This will require the match to be replayed.")){m(!0);try{await s(e._id),a()}catch(y){console.error("Error rejecting match:",y),alert("Error rejecting match. Please try again.")}finally{m(!1)}}};return r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},r.createElement("div",{style:{background:"#222",border:"2px solid #444",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}},r.createElement("h2",{style:{margin:0,color:"#fff"}},"🎯 Match Validation"),r.createElement("button",{onClick:a,style:{background:"none",border:"none",color:"#aaa",fontSize:"24px",cursor:"pointer"}},"×")),r.createElement("div",{style:{background:"#333",padding:"16px",borderRadius:"8px",marginBottom:"20px"}},r.createElement("h3",{style:{margin:"0 0 12px 0",color:"#fff"}},"Match Details"),r.createElement("div",{style:{color:"#ccc",fontSize:"0.9rem"}},r.createElement("div",null,r.createElement("strong",null,"Players:")," ",e.player1," vs ",e.player2),r.createElement("div",null,r.createElement("strong",null,"Scheduled Date:")," ",e.date),r.createElement("div",null,r.createElement("strong",null,"Location:")," ",e.location))),r.createElement("form",{onSubmit:h},r.createElement("div",{style:{marginBottom:"16px"}},r.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Actual Date Played * ",r.createElement("span",{style:{color:"#ff4444"}},"Required")),r.createElement("input",{type:"date",value:l.actualDate,onChange:y=>c({...l,actualDate:y.target.value}),style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"},required:!0})),r.createElement("div",{style:{marginBottom:"16px"}},r.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Actual Time Played"),r.createElement("input",{type:"time",value:l.actualTime,onChange:y=>c({...l,actualTime:y.target.value}),style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"}})),r.createElement("div",{style:{marginBottom:"16px"}},r.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Actual Location"),r.createElement("input",{type:"text",value:l.actualLocation,onChange:y=>c({...l,actualLocation:y.target.value}),placeholder:"Where was the match actually played?",style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"}})),r.createElement("div",{style:{marginBottom:"16px"}},r.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Winner * ",r.createElement("span",{style:{color:"#ff4444"}},"Required")),r.createElement("select",{value:l.winner,onChange:y=>c({...l,winner:y.target.value}),style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"},required:!0},r.createElement("option",{value:""},"Select winner..."),r.createElement("option",{value:e.player1},e.player1),r.createElement("option",{value:e.player2},e.player2))),r.createElement("div",{style:{marginBottom:"16px"}},r.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Final Score * ",r.createElement("span",{style:{color:"#ff4444"}},"Required")),r.createElement("input",{type:"text",value:l.score,onChange:y=>c({...l,score:y.target.value}),placeholder:"e.g., 7-3, 8-2, etc.",style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"},required:!0})),r.createElement("div",{style:{marginBottom:"16px"}},r.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Witnesses (optional)"),r.createElement("input",{type:"text",value:l.witnesses,onChange:y=>c({...l,witnesses:y.target.value}),placeholder:"Names of people who witnessed the match",style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"}})),r.createElement("div",{style:{marginBottom:"20px"}},r.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Additional Notes"),r.createElement("textarea",{value:l.notes,onChange:y=>c({...l,notes:y.target.value}),placeholder:"Any additional details about the match...",rows:"3",style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff",resize:"vertical"}})),r.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"}},r.createElement("button",{type:"button",onClick:f,disabled:u,style:{padding:"10px 16px",background:"#ff4444",border:"none",borderRadius:"6px",color:"#fff",cursor:u?"not-allowed":"pointer",opacity:u?.6:1}},u?"Rejecting...":"Reject Match"),r.createElement("button",{type:"submit",disabled:u,style:{padding:"10px 16px",background:"#00aa00",border:"none",borderRadius:"6px",color:"#fff",cursor:u?"not-allowed":"pointer",opacity:u?.6:1}},u?"Validating...":"Validate Match")))))};class E7 extends r.Component{constructor(a){super(a),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0}}componentDidCatch(a,e){this.setState({error:a,errorInfo:e}),console.error("ErrorBoundary caught an error:",a,e)}render(){return this.state.hasError?r.createElement("div",{style:{padding:"20px",margin:"10px",border:"1px solid #ff6b6b",borderRadius:"8px",backgroundColor:"#fff5f5",color:"#d63031"}},r.createElement("h3",null,"Something went wrong."),r.createElement("details",{style:{whiteSpace:"pre-wrap"}},this.state.error&&this.state.error.toString(),r.createElement("br",null),this.state.errorInfo&&this.state.errorInfo.componentStack),r.createElement("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"#ff6b6b",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Try again")):this.props.children}}function w7({isOpen:t,onClose:a,isMobile:e}){return t?r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"10px"}},r.createElement("div",{style:{background:"linear-gradient(135deg, rgba(42, 42, 42, 0.95), rgba(26, 26, 26, 0.98))",border:"2px solid #4CAF50",borderRadius:"12px",width:e?"98%":"90%",maxWidth:"800px",height:e?"98%":"95%",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.5)",color:"#ffffff"}},r.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",borderBottom:"2px solid #4CAF50",flexShrink:0}},r.createElement("h2",{style:{margin:0,fontSize:e?"1.2rem":"1.5rem",color:"#ffffff",fontWeight:"bold",display:"flex",alignItems:"center",gap:"10px",textAlign:"center"}},"🎯 Phase 1 Scheduled Opponents Rules"),r.createElement("button",{onClick:a,style:{position:"absolute",right:"20px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ffffff",fontSize:"2rem",cursor:"pointer",padding:"5px",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s ease"},onMouseEnter:n=>n.target.style.backgroundColor="rgba(255,255,255,0.1)",onMouseLeave:n=>n.target.style.backgroundColor="transparent"},"×")),r.createElement("div",{style:{flex:1,overflowY:"auto",padding:"25px",fontSize:e?"1rem":"1.1rem",lineHeight:"1.6"}},r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#4CAF50",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},"📅 Overview"),r.createElement("p",{style:{margin:"0 0 15px 0",color:"#e0e0e0"}},"Phase 1 covers Weeks 1-6 where each player is assigned specific opponents to schedule and complete matches with."),r.createElement("p",{style:{margin:"0 0 15px 0",color:"#e0e0e0"}},"This phase focuses on completing your assigned matches with maximum scheduling flexibility.")),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#4CAF50",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},"👥 Opponent Assignment"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Assigned Opponents:")," Each player is assigned 6 opponents at the start of the session"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Match Requirements:")," You must complete 1 match against each of your 6 assigned opponents"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Total Matches:")," 6 matches total during Phase 1"))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#4CAF50",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},"⏰ Scheduling Flexibility"),r.createElement("div",{style:{background:"rgba(76, 175, 80, 0.1)",border:"1px solid rgba(76, 175, 80, 0.3)",borderRadius:"8px",padding:"15px",marginBottom:"15px"}},r.createElement("p",{style:{margin:"0 0 10px 0",color:"#4CAF50",fontWeight:"bold"}},"Maximum scheduling flexibility for your convenience:"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"Any Day:")," Matches may be played on any day of the week"),r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"Any Time:")," Matches may be played at any time that works for both players"),r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"Any Location:")," Matches may be played at any safe, mutually agreed location")))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#4CAF50",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},"⏳ Completion Deadline"),r.createElement("div",{style:{background:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)",borderRadius:"8px",padding:"15px",marginBottom:"15px"}},r.createElement("p",{style:{margin:"0 0 10px 0",color:"#ffc107",fontWeight:"bold"}},"All Phase 1 matches must be completed by the end of Week 6"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"Deadline:")," End of Week 6 (Sunday at 11:59 PM)"),r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"No Extensions:")," Phase 1 deadline is firm and cannot be extended"),r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"Impact:")," Incomplete matches may affect your standings and Phase 2 eligibility")))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#4CAF50",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},"🎱 Match Rules"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Standard Rules:")," All matches use the official CSI rule book"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Scoring:")," All scoring must be done with the BCAPL scoring app"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Payment:")," Standard match payment and fees apply"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"FargoRate:")," All matches are integrated with FargoRate for ratings"))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#4CAF50",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},"📋 Scheduling Process"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Contact Opponents:")," Reach out to your assigned opponents to schedule matches"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Mutual Agreement:")," Both players must agree on date, time, and location"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Record Matches:")," All scheduled matches must be recorded in the League Scheduling Hub"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Communication:")," Use the message center to coordinate with opponents"))),r.createElement("div",{style:{background:"rgba(255, 68, 68, 0.1)",border:"1px solid rgba(255, 68, 68, 0.3)",borderRadius:"8px",padding:"15px",marginTop:"20px"}},r.createElement("h4",{style:{color:"#ff4444",fontSize:e?"1rem":"1.1rem",margin:"0 0 10px 0",display:"flex",alignItems:"center",gap:"8px"}},"⚠️ Important Notes"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0",fontSize:e?"0.85rem":"0.9rem"}},r.createElement("li",{style:{marginBottom:"5px"}},"Phase 1 results determine your standings position for Phase 2 challenges"),r.createElement("li",{style:{marginBottom:"5px"}},"Incomplete matches may result in forfeits and affect your overall standings"),r.createElement("li",{style:{marginBottom:"5px"}},"All matches must be completed and recorded before Phase 2 begins"),r.createElement("li",{style:{marginBottom:"5px"}},"Use the calendar feature to track your scheduled matches and deadlines")))),r.createElement("div",{style:{textAlign:"center",padding:"20px",borderTop:"1px solid rgba(255,255,255,0.2)",flexShrink:0}},r.createElement("button",{onClick:a,style:{background:"linear-gradient(135deg, #4CAF50, #45a049)",border:"none",color:"#ffffff",fontSize:e?"0.9rem":"1rem",fontWeight:"bold",padding:e?"10px 20px":"12px 25px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 8px rgba(0,0,0,0.3)"},onMouseEnter:n=>{n.target.style.transform="translateY(-2px)",n.target.style.boxShadow="0 6px 12px rgba(0,0,0,0.4)"},onMouseLeave:n=>{n.target.style.transform="translateY(0)",n.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.3)"}},"Got It! ✓")))):null}const S7=({isOpen:t,onClose:a,isMobile:e,playerName:n,playerLastName:s,completedMatches:l,totalRequiredMatches:c,playerStats:u,standings:m,timeLeft:h,deadlineStatus:f,phase1EndDate:y,allPlayers:b,selectedDivision:E})=>{const[w,_]=v.useState(null);v.useEffect(()=>{t&&b&&m&&C()},[t,b,m]);const C=()=>{if(!b||!m)return;const k=b.length,N=m.filter(J=>J.matchesCompleted&&J.matchesCompleted>0).length,M=m.reduce((J,ae)=>J+(ae.matchesCompleted||0),0),R=k*c,$=Math.round(M/R*100),z=Math.round(M/k/c*100),Y=m.filter(J=>J.matchesCompleted>0).sort((J,ae)=>{const H=(J.matchesCompleted||0)/c;return(ae.matchesCompleted||0)/c-H}).slice(0,5);_({totalPlayers:k,playersWithMatches:N,totalMatchesCompleted:M,totalMatchesRequired:R,leagueProgress:$,avgCompletion:z,topPerformers:Y})},S=()=>f==="passed"?"#e74c3c":f==="critical"?"#ff6b6b":f==="urgent"?"#ff8800":f==="warning"?"#ffaa00":"#4CAF50",I=()=>f==="passed"?"⏰":f==="critical"?"🚨":f==="urgent"||f==="warning"?"⚠️":"✅";return t?r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(8px)"},onClick:a},r.createElement("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.9), rgba(20, 20, 20, 0.95))",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:e?"8px":"12px",padding:e?"8px":"12px",width:e?"88%":"75%",maxWidth:e?"none":"800px",maxHeight:e?"75vh":"70vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.5), 0 4px 16px rgba(255,255,255,0.1)",backdropFilter:"blur(12px)"},onClick:k=>k.stopPropagation()},r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e?"8px":"12px",paddingBottom:e?"6px":"8px",borderBottom:"1px solid rgba(255,255,255,0.2)"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:e?"4px":"8px"}},r.createElement("div",{style:{fontSize:e?"1rem":"1.2rem",color:S()}},I()),r.createElement("h2",{style:{margin:0,color:"#ffffff",fontSize:e?"0.8rem":"1.1rem",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.8)"}},"Phase 1 Overview")),r.createElement("button",{onClick:a,style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.3)",color:"#ffffff",fontSize:e?"0.9rem":"1.1rem",cursor:"pointer",padding:e?"4px 8px":"6px 10px",borderRadius:"4px",transition:"all 0.2s ease",fontWeight:"bold"},onMouseEnter:k=>k.target.style.background="rgba(255,255,255,0.2)",onMouseLeave:k=>k.target.style.background="rgba(255,255,255,0.1)"},"Close")),r.createElement("div",{style:{display:"grid",gridTemplateColumns:e?"1fr":"1fr 1fr",gap:e?"8px":"12px"}},r.createElement("div",{style:{background:"rgba(0, 0, 0, 0.4)",borderRadius:"8px",padding:e?"8px":"12px",border:"1px solid rgba(255,255,255,0.15)"}},r.createElement("h3",{style:{margin:"0 0 8px 0",color:"#ffffff",fontSize:e?"0.7rem":"0.9rem",fontWeight:"bold",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},"Your Status"),r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"4px",padding:e?"6px":"8px",marginBottom:e?"6px":"8px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"}},r.createElement("span",{style:{color:"#ffffff",fontSize:e?"0.7rem":"0.9rem",fontWeight:"600"}},"Progress"),r.createElement("span",{style:{color:"#4CAF50",fontSize:e?"0.7rem":"0.9rem",fontWeight:"bold"}},l.length,"/",c)),r.createElement("div",{style:{width:"100%",height:e?"6px":"8px",background:"rgba(255,255,255,0.1)",borderRadius:"4px",overflow:"hidden"}},r.createElement("div",{style:{width:`${Math.round(l.length/c*100)}%`,height:"100%",background:`linear-gradient(90deg, ${S()}, ${S()}dd)`,borderRadius:"4px",transition:"width 0.4s ease"}}))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:e?"6px":"8px"}},r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"6px",padding:e?"6px":"8px",textAlign:"center"}},r.createElement("div",{style:{color:"#cccccc",fontSize:e?"0.6rem":"0.8rem",marginBottom:"3px"}},"Record"),r.createElement("div",{style:{color:"#ffffff",fontSize:e?"0.8rem":"1rem",fontWeight:"bold"}},(u==null?void 0:u.wins)||0,"-",(u==null?void 0:u.losses)||0),r.createElement("div",{style:{color:"#4CAF50",fontSize:e?"0.6rem":"0.8rem",fontWeight:"600"}},(u==null?void 0:u.winRate)||0,"%")),r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"6px",padding:e?"6px":"8px",textAlign:"center"}},r.createElement("div",{style:{color:"#cccccc",fontSize:e?"0.6rem":"0.8rem",marginBottom:"3px"}},"Position"),r.createElement("div",{style:{color:"#ffffff",fontSize:e?"0.8rem":"1rem",fontWeight:"bold"}},(u==null?void 0:u.position)||"N/A"))),r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"4px",padding:e?"6px":"8px",marginTop:e?"6px":"8px",textAlign:"center"}},r.createElement("div",{style:{color:"#cccccc",fontSize:e?"0.6rem":"0.8rem",marginBottom:"4px"}},"Time Remaining"),r.createElement("div",{style:{color:S(),fontSize:e?"0.8rem":"1rem",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},h!=null&&h.passed?"DEADLINE PASSED":(h==null?void 0:h.days)>0?`${h.days} days`:(h==null?void 0:h.hours)>0?`${h.hours} hours`:"Less than 1 hour"),y&&r.createElement("div",{style:{color:"#cccccc",fontSize:e?"0.5rem":"0.7rem",marginTop:"2px"}},"Ends: ",Ca(y,"MMM d, yyyy")))),r.createElement("div",{style:{background:"rgba(0, 0, 0, 0.4)",borderRadius:"8px",padding:e?"8px":"12px",border:"1px solid rgba(255,255,255,0.15)"}},r.createElement("h3",{style:{margin:"0 0 8px 0",color:"#ffffff",fontSize:e?"0.7rem":"0.9rem",fontWeight:"bold",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},"League Status"),w?r.createElement(r.Fragment,null,r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"4px",padding:e?"6px":"8px",marginBottom:e?"6px":"8px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"}},r.createElement("span",{style:{color:"#ffffff",fontSize:e?"0.7rem":"0.9rem",fontWeight:"600"}},"League Progress"),r.createElement("span",{style:{color:"#4CAF50",fontSize:e?"0.7rem":"0.9rem",fontWeight:"bold"}},w.leagueProgress,"%")),r.createElement("div",{style:{width:"100%",height:e?"6px":"8px",background:"rgba(255,255,255,0.1)",borderRadius:"4px",overflow:"hidden"}},r.createElement("div",{style:{width:`${w.leagueProgress}%`,height:"100%",background:"linear-gradient(90deg, #4CAF50, #45a049)",borderRadius:"4px",transition:"width 0.4s ease"}}))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:e?"4px":"6px",marginBottom:e?"6px":"8px"}},r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"4px",padding:e?"4px":"6px",textAlign:"center"}},r.createElement("div",{style:{color:"#cccccc",fontSize:e?"0.5rem":"0.7rem",marginBottom:"2px"}},"Active Players"),r.createElement("div",{style:{color:"#ffffff",fontSize:e?"0.7rem":"0.9rem",fontWeight:"bold"}},w.playersWithMatches,"/",w.totalPlayers)),r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"4px",padding:e?"4px":"6px",textAlign:"center"}},r.createElement("div",{style:{color:"#cccccc",fontSize:e?"0.5rem":"0.7rem",marginBottom:"2px"}},"Avg Completion"),r.createElement("div",{style:{color:"#ffffff",fontSize:e?"0.7rem":"0.9rem",fontWeight:"bold"}},w.avgCompletion,"%"))),r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"4px",padding:e?"6px":"8px"}},r.createElement("div",{style:{color:"#ffffff",fontSize:e?"0.7rem":"0.9rem",fontWeight:"600",marginBottom:"4px",textAlign:"center"}},"Top Performers"),r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"4px"}},w.topPerformers.map((k,N)=>r.createElement("div",{key:N,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 8px",background:"rgba(255,255,255,0.03)",borderRadius:"4px"}},r.createElement("span",{style:{color:"#ffffff",fontSize:e?"0.5rem":"0.7rem",fontWeight:N===0?"bold":"normal"}},N+1,". ",k.name),r.createElement("span",{style:{color:"#4CAF50",fontSize:e?"0.5rem":"0.7rem",fontWeight:"600"}},Math.round(k.matchesCompleted/c*100),"%")))))):r.createElement("div",{style:{color:"#cccccc",textAlign:"center",fontSize:e?"0.9rem":"1.1rem",padding:"20px"}},"Loading league statistics..."))),r.createElement("div",{style:{marginTop:e?"8px":"12px",paddingTop:e?"6px":"8px",borderTop:"1px solid rgba(255,255,255,0.2)",textAlign:"center"}},r.createElement("div",{style:{color:"#cccccc",fontSize:e?"0.5rem":"0.7rem",fontStyle:"italic",marginBottom:e?"8px":"12px"}},"Phase 1 ends when all players complete ",c," matches or the deadline passes"),r.createElement("button",{onClick:a,style:{background:"linear-gradient(135deg, #4CAF50, #45a049)",border:"none",color:"#ffffff",fontSize:e?"0.8rem":"1rem",cursor:"pointer",padding:e?"8px 16px":"10px 20px",borderRadius:"6px",transition:"all 0.2s ease",fontWeight:"bold",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",minWidth:e?"100px":"120px"},onMouseEnter:k=>k.target.style.transform="translateY(-2px)",onMouseLeave:k=>k.target.style.transform="translateY(0)"},"Close Overview")))):null},C7=({isOpen:t,onClose:a,currentUser:e,isMobile:n,onUserUpdate:s,availableLocations:l=[]})=>{const[c,u]=v.useState(null),[m,h]=v.useState({}),[f,y]=v.useState(e);v.useEffect(()=>{y(e)},[e]);const b=(R,$)=>{u(R),h($)},E=()=>{u(null),h({})},w=async R=>{var $;try{console.log("Saving section:",R),console.log("Edit data:",m),console.log("Current user:",e),console.log("User ID:",e==null?void 0:e._id),console.log("User email:",e==null?void 0:e.email),console.log("All user fields:",Object.keys(e||{})),console.log("Environment VITE_BACKEND_URL:",void 0);const z=e==null?void 0:e.email;if(!z){console.error("No valid user email found"),alert("Error: No valid user email found. Please refresh the page and try again.");return}console.log("Using user email:",z);const Y="http://localhost:8080";console.log("Using backend URL:",Y);const J=await fetch(`${Y}/api/users/${encodeURIComponent(z)}`);if(!J.ok){console.error("Failed to fetch user by email"),alert("Error: Failed to fetch user data. Please refresh the page and try again.");return}const ae=await J.json(),H=(($=ae.user)==null?void 0:$._id)||ae._id;if(!H){console.error("No user ID found in response"),alert("Error: No user ID found. Please refresh the page and try again.");return}if(console.log("Found user ID:",H),R==="basic"){const A={firstName:m.firstName,lastName:m.lastName,email:m.email,phone:m.phone};console.log("Sending basic info update:",A);const U=await fetch(`${Y}/api/users/${H}/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(U.ok){const q=await U.json();console.log("Basic info updated successfully:",q),y(q.user),s(q.user),u(null),h({}),alert("✅ Profile updated successfully!")}else{const q=await U.json();console.error("Basic info update failed:",q),alert(`Failed to update profile: ${q.error||"Unknown error"}`)}return}let Z;R==="locations"?Z=m.locations:R==="preferredContacts"?Z=m.preferredContacts:Z=m[R];const O={[R]:Z};console.log("Sending section update:",O);const L=await fetch(`${Y}/api/users/${H}/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(L.ok){const A=await L.json();console.log("Section updated successfully:",A),y(A.user),s(A.user),u(null),h({}),alert("✅ Profile updated successfully!")}else{const A=await L.json();console.error("Section update failed:",A),alert(`Failed to update profile: ${A.error||"Unknown error"}`)}}catch(z){console.error("Error updating profile:",z),alert("Error updating profile. Please try again.")}},_=(R,$)=>{h(z=>({...z,[R]:$}))},C=(R,$)=>{const z=m.preferredContacts||f.preferredContacts||[],Y=$?[...z,R]:z.filter(J=>J!==R);h(J=>({...J,preferredContacts:Y}))},S=(R,$)=>{const Y=(m.locations||f.locations||"").split(`
`).filter(Boolean),J=$?[...Y,R]:Y.filter(ae=>ae!==R);h(ae=>({...ae,locations:J.join(`
`)}))},I=R=>{if(!R.trim())return;const z=(m.locations||f.locations||"").split(`
`).filter(Boolean);if(z.some(J=>J.trim().toLowerCase()===R.trim().toLowerCase())){alert("This location is already in your list!");return}const Y=[...z,R.trim()];h(J=>({...J,locations:Y.join(`
`)}))},k=()=>(m.locations||f.locations||"").split(`
`).filter(Boolean),N=()=>{const R=k();return l.filter($=>!R.some(z=>z.trim().toLowerCase()===$.trim().toLowerCase()))};if(!t||!f)return null;const M=f.divisions||[];return r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(3px)",WebkitBackdropFilter:"blur(3px)",padding:n?"10px":"20px"},onClick:a},r.createElement("div",{style:{transform:"translate(0px, 0px)",cursor:"default",background:"linear-gradient(120deg, #232323 80%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:n?"0":"1rem",boxShadow:"0 0 32px #e53e3e, 0 0 40px rgba(0,0,0,0.85)",width:n?"95vw":"auto",maxWidth:n?"95vw":"600px",minWidth:n?"auto":"400px",margin:n?"0":"0 auto",left:0,right:0,animation:"modalBounceIn 0.5s cubic-bezier(.21,1.02,.73,1.01)",padding:0,position:"relative",fontFamily:"inherit",boxSizing:"border-box",textAlign:"center",maxHeight:n?"85vh":"90vh",overflowY:"auto"},onClick:R=>R.stopPropagation()},r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"#e53e3e",padding:"0.8rem 1rem 0.6rem 1rem",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",position:"relative",cursor:"grab",userSelect:"none",gap:"0.8rem"}},r.createElement("span",{style:{position:"absolute",left:0,top:0,width:"100%",height:"4px",background:"linear-gradient(90deg, #fff0 0%, #e53e3e 60%, #fff0 100%)",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",pointerEvents:"none"}}),r.createElement("h2",{style:{margin:0,fontSize:n?"0.9rem":"1rem",fontWeight:"bold",textAlign:"center",letterSpacing:"0.02em",color:"#fff",textShadow:"0 1px 12px #000a",zIndex:2,flex:1,wordBreak:"break-word",minWidth:0}},"👤 Profile Information"),r.createElement("button",{onClick:a,style:{background:"none",border:"none",color:"#fff",fontSize:"1.5rem",cursor:"pointer",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s",display:"flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",minWidth:"24px",zIndex:3},onMouseEnter:R=>R.target.style.backgroundColor="rgba(255, 255, 255, 0.1)",onMouseLeave:R=>R.target.style.backgroundColor="transparent"},"×")),r.createElement("div",{style:{padding:n?"1rem":"1.5rem",overflowY:"auto",maxHeight:n?"calc(85vh - 80px)":"calc(90vh - 80px)"}},r.createElement("div",{style:{display:"grid",gap:n?"12px":"16px"}},r.createElement("div",{style:{background:"rgba(255, 255, 255, 0.05)",padding:n?"12px":"16px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},r.createElement("div",{style:{fontWeight:"bold",color:"#ffffff",fontSize:n?"1rem":"1.1rem"}},"👤 Basic Information"),c!=="basic"&&r.createElement("button",{onClick:()=>b("basic",{firstName:f.firstName||"",lastName:f.lastName||"",email:f.email||"",phone:f.phone||""}),style:{background:"rgba(76, 175, 80, 0.2)",border:"1px solid rgba(76, 175, 80, 0.4)",color:"#4CAF50",padding:"4px 8px",borderRadius:"4px",fontSize:n?"0.7rem":"0.8rem",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:R=>R.target.style.background="rgba(76, 175, 80, 0.3)",onMouseLeave:R=>R.target.style.background="rgba(76, 175, 80, 0.2)"},"✏️ Edit")),c==="basic"?r.createElement("div",{style:{display:"grid",gap:"8px"}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"}},r.createElement("input",{type:"text",value:m.firstName||"",onChange:R=>_("firstName",R.target.value),placeholder:"First Name",style:{padding:"8px",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(0, 0, 0, 0.3)",color:"#ffffff",fontSize:"0.9rem"}}),r.createElement("input",{type:"text",value:m.lastName||"",onChange:R=>_("lastName",R.target.value),placeholder:"Last Name",style:{padding:"8px",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(0, 0, 0, 0.3)",color:"#ffffff",fontSize:"0.9rem"}})),r.createElement("input",{type:"email",value:m.email||"",onChange:R=>_("email",R.target.value),placeholder:"Email",style:{padding:"8px",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(0, 0, 0, 0.3)",color:"#ffffff",fontSize:"0.9rem"}}),r.createElement("input",{type:"tel",value:m.phone||"",onChange:R=>_("phone",R.target.value),placeholder:"Phone",style:{padding:"8px",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(0, 0, 0, 0.3)",color:"#ffffff",fontSize:"0.9rem"}}),r.createElement("div",{style:{display:"flex",gap:"8px",justifyContent:"center"}},r.createElement("button",{onClick:()=>w("basic"),style:{background:"#4CAF50",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"}},"💾 Save"),r.createElement("button",{onClick:E,style:{background:"#6c757d",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"}},"❌ Cancel"))):r.createElement("div",{style:{color:"#cccccc",lineHeight:"1.5",fontSize:n?"0.9rem":"0.95rem"}},r.createElement("div",null,r.createElement("strong",null,"Name:")," ",f.firstName," ",f.lastName),r.createElement("div",null,r.createElement("strong",null,"Email:")," ",f.email),r.createElement("div",null,r.createElement("strong",null,"Phone:")," ",f.phone||"Not provided"))),r.createElement("div",{style:{background:"rgba(255, 255, 255, 0.05)",padding:n?"12px":"16px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},r.createElement("div",{style:{fontWeight:"bold",color:"#ffffff",fontSize:n?"1rem":"1.1rem"}},"📞 Preferred Contact Methods"),c!=="contacts"&&r.createElement("button",{onClick:()=>b("contacts",{preferredContacts:f.preferredContacts||[]}),style:{background:"rgba(76, 175, 80, 0.2)",border:"1px solid rgba(76, 175, 80, 0.4)",color:"#4CAF50",padding:"4px 8px",borderRadius:"4px",fontSize:n?"0.7rem":"0.8rem",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:R=>R.target.style.background="rgba(76, 175, 80, 0.3)",onMouseLeave:R=>R.target.style.background="rgba(76, 175, 80, 0.2)"},"✏️ Edit")),c==="contacts"?r.createElement("div",{style:{display:"grid",gap:"8px"}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"6px"}},["email","phone","text"].map(R=>r.createElement("label",{key:R,style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"6px",borderRadius:"4px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)"}},r.createElement("input",{type:"checkbox",checked:(m.preferredContacts||[]).includes(R),onChange:$=>C(R,$.target.checked),style:{cursor:"pointer",accentColor:"#e53e3e"}}),r.createElement("span",{style:{color:"#ffffff",fontSize:"0.8rem"}},R.charAt(0).toUpperCase()+R.slice(1))))),r.createElement("div",{style:{display:"flex",gap:"8px",justifyContent:"center"}},r.createElement("button",{onClick:()=>w("preferredContacts"),style:{background:"#4CAF50",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"}},"💾 Save"),r.createElement("button",{onClick:E,style:{background:"#6c757d",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"}},"❌ Cancel"))):r.createElement("div",{style:{color:"#cccccc",lineHeight:"1.5",fontSize:n?"0.9rem":"0.95rem"}},f.preferredContacts&&f.preferredContacts.length>0?f.preferredContacts.map(R=>R.charAt(0).toUpperCase()+R.slice(1)).join(", "):"No preferred methods set")),r.createElement("div",{style:{background:"rgba(255, 255, 255, 0.05)",padding:n?"12px":"16px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},r.createElement("div",{style:{fontWeight:"bold",color:"#ffffff",fontSize:n?"1rem":"1.1rem"}},"📍 Preferred Locations"),c!=="locations"&&r.createElement("button",{onClick:()=>b("locations",{locations:f.locations||""}),style:{background:"rgba(76, 175, 80, 0.2)",border:"1px solid rgba(76, 175, 80, 0.4)",color:"#4CAF50",padding:"4px 8px",borderRadius:"4px",fontSize:n?"0.7rem":"0.8rem",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:R=>R.target.style.background="rgba(76, 175, 80, 0.3)",onMouseLeave:R=>R.target.style.background="rgba(76, 175, 80, 0.2)"},"✏️ Edit")),c==="locations"?r.createElement("div",{style:{display:"grid",gap:"8px"}},k().length>0&&r.createElement("div",null,r.createElement("div",{style:{color:"#4CAF50",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"4px"}},"📍 Your Selected Locations:"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"4px"}},k().map((R,$)=>r.createElement("label",{key:$,style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer",padding:"4px 6px",borderRadius:"4px",background:"rgba(76, 175, 80, 0.1)",border:"1px solid rgba(76, 175, 80, 0.3)"}},r.createElement("input",{type:"checkbox",checked:k().includes(R),onChange:z=>S(R,z.target.checked),style:{cursor:"pointer",accentColor:"#4CAF50"}}),r.createElement("span",{style:{color:"#4CAF50",fontSize:"0.75rem"}},R))))),N().length>0&&r.createElement("div",null,r.createElement("div",{style:{color:"#ffc107",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"4px"}},"➕ Available Locations to Add:"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"4px"}},N().map((R,$)=>r.createElement("label",{key:$,style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer",padding:"4px 6px",borderRadius:"4px",background:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)"}},r.createElement("button",{type:"button",onClick:()=>I(R),style:{cursor:"pointer",background:"none",border:"none",color:"#ffc107",fontSize:"0.75rem",padding:"0",margin:"0"}},"➕ Add"),r.createElement("span",{style:{color:"#ffc107",fontSize:"0.75rem"}},R))))),N().length===0&&k().length===0&&r.createElement("div",{style:{color:"#888",fontSize:"0.8rem",textAlign:"center",fontStyle:"italic"}},"No locations available. Contact admin to add more locations."),r.createElement("div",{style:{display:"flex",gap:"8px",justifyContent:"center"}},r.createElement("button",{onClick:()=>w("locations"),style:{background:"#4CAF50",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"}},"💾 Save"),r.createElement("button",{onClick:E,style:{background:"#6c757d",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"}},"❌ Cancel"))):r.createElement("div",{style:{display:"grid",gridTemplateColumns:n?"repeat(2, 1fr)":"repeat(3, 1fr)",gap:"6px"}},f.locations&&f.locations.split(`
`).filter(Boolean).map((R,$)=>r.createElement("span",{key:$,style:{background:"rgba(255, 255, 255, 0.1)",color:"#ffffff",padding:"4px 6px",borderRadius:"8px",fontSize:n?"0.65rem":"0.7rem",display:"flex",justifyContent:"center",alignItems:"center",gap:"3px",width:"100%",minHeight:"24px",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:R},"📍 ",R)))),r.createElement("div",{style:{background:"rgba(255, 255, 255, 0.05)",padding:n?"12px":"16px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)"}},r.createElement("div",{style:{fontWeight:"bold",color:"#ffffff",marginBottom:"6px",fontSize:n?"1rem":"1.1rem"}},"🏆 Divisions"),r.createElement("div",{style:{color:"#cccccc",lineHeight:"1.5",fontSize:n?"0.9rem":"0.95rem"}},M.length>0?M.join(", "):"No divisions assigned"))),r.createElement("div",{style:{marginTop:"20px",textAlign:"center"}},r.createElement("button",{style:{background:"linear-gradient(135deg, #6c757d, #5a6268)",color:"#fff",border:"none",borderRadius:"8px",padding:n?"10px 20px":"12px 24px",fontSize:n?"0.9rem":"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(108, 117, 125, 0.3)",minWidth:n?"100px":"120px"},onMouseEnter:R=>{R.target.style.background="linear-gradient(135deg, #5a6268, #495057)",R.target.style.transform="translateY(-1px)",R.target.style.boxShadow="0 4px 12px rgba(108, 117, 125, 0.4)"},onMouseLeave:R=>{R.target.style.background="linear-gradient(135deg, #6c757d, #5a6268)",R.target.style.transform="translateY(0)",R.target.style.boxShadow="0 2px 8px rgba(108, 117, 125, 0.3)"},onClick:a},"❌ Close")))))},wx={findOverlappingAvailability(t,a){try{console.log("Smart Match Debug - Parsing P1 availability:",t);let e;typeof t=="string"?e=Gg(t):typeof t=="object"&&t!==null?e=t:e={Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[],Sun:[]},console.log("Smart Match Debug - Parsed P1 availability:",e),console.log("Smart Match Debug - Parsing P2 availability:",a);let n;typeof a=="string"?n=Gg(a):typeof a=="object"&&a!==null?n=a:n={Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[],Sun:[]},console.log("Smart Match Debug - Parsed P2 availability:",n);const s={};return["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].forEach(l=>{s[l]=[],e[l]&&n[l]&&(console.log(`Smart Match Debug - Checking ${l}: P1 slots:`,e[l],"P2 slots:",n[l]),e[l].forEach(c=>{n[l].forEach(u=>{const m=this.findTimeOverlap(c,u);m&&(s[l].push(m),console.log(`Smart Match Debug - Found overlap on ${l}:`,m))})}))}),console.log("Smart Match Debug - Final overlapping slots:",s),s}catch(e){return console.error("Error parsing availability:",e),{Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[],Sun:[]}}},findTimeOverlap(t,a){console.log("Smart Match Debug - Finding overlap between:",t,"and",a);const[e,n]=t.split(" - "),[s,l]=a.split(" - ");console.log("Smart Match Debug - Parsed times:",{start1:e,end1:n,start2:s,end2:l});const c=this.parseTime(e),u=this.parseTime(n),m=this.parseTime(s),h=this.parseTime(l);console.log("Smart Match Debug - Parsed minutes:",{start1Time:c,end1Time:u,start2Time:m,end2Time:h});const f=Math.max(c,m),y=Math.min(u,h);if(console.log("Smart Match Debug - Overlap calculation:",{overlapStart:f,overlapEnd:y}),f<y){const b=`${this.formatTime(f)} - ${this.formatTime(y)}`;return console.log("Smart Match Debug - Found overlap:",b),b}return console.log("Smart Match Debug - No overlap found"),null},parseTime(t){console.log("Smart Match Debug - Parsing time:",t);let a=t.trim().toLowerCase(),e="am";a.includes("pm")?(e="pm",a=a.replace("pm","")):a.includes("am")&&(e="am",a=a.replace("am",""));let n,s=0;a.includes(":")?[n,s]=a.split(":").map(Number):a.length<=2?(n=parseInt(a),s=0):(n=parseInt(a.slice(0,-2)),s=parseInt(a.slice(-2)));let l=n;e==="pm"&&n!==12&&(l+=12),e==="am"&&n===12&&(l=0);const c=l*60+s;return console.log("Smart Match Debug - Parsed time result:",{timeStr:t,hours:n,minutes:s,period:e,hour24:l,result:c}),c},formatTime(t){const a=Math.floor(t/60),e=t%60;let n="AM",s=a;return a>=12&&(n="PM",a>12&&(s=a-12)),s===0&&(s=12),`${s}:${e.toString().padStart(2,"0")} ${n}`},calculateConfidenceScore(t,a,e){let n=0;const s=Object.values(e).flat().length;n+=s*10;const l=Object.keys(e).filter(c=>e[c].length>0).length;if(n+=l*5,Object.values(e).flat().forEach(c=>{const[u,m]=c.split(" - "),h=this.parseTime(m)-this.parseTime(u);h>=120&&(n+=5),h>=180&&(n+=5)}),t.locations&&a.locations){const c=typeof t.locations=="string"?t.locations.split(`
`).map(h=>h.trim()).filter(Boolean):Array.isArray(t.locations)?t.locations:[],u=typeof a.locations=="string"?a.locations.split(`
`).map(h=>h.trim()).filter(Boolean):Array.isArray(a.locations)?a.locations:[],m=c.filter(h=>u.includes(h));n+=m.length*10}return Math.min(n,100)},findOptimalLocation(t,a){if(!t.locations||!a.locations)return null;const e=typeof t.locations=="string"?t.locations.split(`
`).map(l=>l.trim()).filter(Boolean):Array.isArray(t.locations)?t.locations:[],n=typeof a.locations=="string"?a.locations.split(`
`).map(l=>l.trim()).filter(Boolean):Array.isArray(a.locations)?a.locations:[],s=e.filter(l=>n.includes(l));return s.length>0?s[0]:null},checkForConflicts(t,a,e){const n=[];return e.forEach(s=>{(s.player1===t.firstName||s.player2===t.firstName||s.player1===a.firstName||s.player2===a.firstName)&&n.push(s)}),n},generateSuggestions(t,a,e=[]){console.log("Smart Match Debug - Player 1:",t),console.log("Smart Match Debug - Player 2:",a);const n=`Day: Monday, Available From: 6:00 PM, Available Until: 10:00 PM
Day: Tuesday, Available From: 6:00 PM, Available Until: 10:00 PM
Day: Wednesday, Available From: 6:00 PM, Available Until: 10:00 PM
Day: Thursday, Available From: 6:00 PM, Available Until: 10:00 PM
Day: Friday, Available From: 6:00 PM, Available Until: 10:00 PM
Day: Saturday, Available From: 2:00 PM, Available Until: 8:00 PM`,s=t.availability||n,l=a.availability||n;console.log("Smart Match Debug - P1 Availability:",s),console.log("Smart Match Debug - P2 Availability:",l);const c=this.findOverlappingAvailability(s,l);console.log("Smart Match Debug - Overlapping Slots:",c);const u=this.calculateConfidenceScore(t,a,c),m=this.findOptimalLocation(t,a),h=this.checkForConflicts(t,a,e),f=[];Object.entries(c).forEach(([E,w])=>{w.forEach(_=>{f.push({day:E,timeSlot:_,location:m,confidence:Math.min(u+w.length*2,100),player1:t.firstName,player2:a.firstName})})}),f.sort((E,w)=>w.confidence-E.confidence);const y=f.slice(0,3),b=!t.availability||!a.availability;return{suggestions:y,confidence:u,conflicts:h,message:y.length>0?`Found ${f.length} potential match times, showing top ${y.length}${b?" (using default availability)":""}`:"No overlapping availability found"}},generateQuickProposal(t,a,e){const n={Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thu:"Thursday",Fri:"Friday",Sat:"Saturday",Sun:"Sunday"};return{player1:a.firstName,player2:e.firstName,proposedDate:n[t.day],proposedTime:t.timeSlot,proposedLocation:t.location||"TBD",confidence:t.confidence,message:`Smart Match Suggestion: ${n[t.day]} at ${t.timeSlot}${t.location?` at ${t.location}`:""}`}}},_7=({isOpen:t,onClose:a,player1:e,player2:n,upcomingMatches:s=[],isMobile:l=!1,selectedDivision:c,phase:u,senderName:m,senderEmail:h,onProposalComplete:f})=>{const[y,b]=v.useState([]),[E,w]=v.useState(!1),[_,C]=v.useState(null),[S,I]=v.useState(!1),[k,N]=v.useState(!1),[M,R]=v.useState(null);v.useEffect(()=>{t&&e&&n&&$()},[t,e,n]);const $=async()=>{w(!0),b([]),C(null);try{await new Promise(Z=>setTimeout(Z,1e3));const H=wx.generateSuggestions(e,n,s);b(H.suggestions),w(!1)}catch(H){console.error("Error generating suggestions:",H),w(!1)}},z=H=>{C(H);const Z=wx.generateQuickProposal(H,e,n);R({player:n,day:{Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat",Sunday:"Sun"}[Z.proposedDate]||Z.proposedDate,slot:Z.proposedTime,selectedDivision:c,phase:u,prefilledData:Z}),N(!0)},Y=()=>{b([]),C(null),a()},J=H=>H>=80?"#dc2626":H>=60?"#f59e0b":"#6b7280",ae=H=>H>=80?"High":H>=60?"Medium":"Low";return t?r.createElement(Xt,{open:t,onClose:Y,title:`Smart Match: ${e==null?void 0:e.firstName} vs ${n==null?void 0:n.firstName}`,isMobile:l},r.createElement("div",{style:{padding:"20px",maxHeight:"70vh",overflowY:"auto",backgroundColor:"#1f2937",color:"#f9fafb"}},E&&r.createElement("div",{style:{textAlign:"center",padding:"40px"}},r.createElement(c5,null),r.createElement("p",{style:{marginTop:"16px",color:"#9ca3af"}},"Analyzing availability and generating suggestions...")),!E&&y.length===0&&r.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#9ca3af"}},r.createElement("h3",{style:{color:"#f9fafb"}},"No Match Suggestions Found"),r.createElement("p",null,"No overlapping availability was found between the two players."),r.createElement("p",{style:{fontSize:"14px",marginTop:"8px"}},"Make sure both players have availability data in the system."),r.createElement("button",{onClick:()=>I(!0),style:{marginTop:"16px",padding:"10px 20px",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"6px",fontWeight:"500",cursor:"pointer",fontSize:"14px",transition:"all 0.3s ease"},onMouseEnter:H=>H.target.style.backgroundColor="#b91c1c",onMouseLeave:H=>H.target.style.backgroundColor="#dc2626"},"📅 View ",n==null?void 0:n.firstName,"'s Availability & Send Proposal")),!E&&y.length>0&&r.createElement(r.Fragment,null,r.createElement("div",{style:{marginBottom:"20px",textAlign:"center"}},r.createElement("h3",{style:{margin:"0 0 8px 0",color:"#f9fafb"}},"Found ",y.length," potential match times"),r.createElement("p",{style:{margin:0,color:"#9ca3af",fontSize:"14px"}},"Select a suggestion below to create a match proposal")),r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},y.map((H,Z)=>r.createElement("div",{key:Z,style:{border:`2px solid ${_===H?"#dc2626":"#374151"}`,borderRadius:"8px",padding:"16px",cursor:"pointer",backgroundColor:"#374151",transition:"all 0.3s ease",boxShadow:_===H?"0 4px 12px rgba(220, 38, 38, 0.3)":"0 2px 4px rgba(0, 0, 0, 0.1)"},onClick:()=>z(H)},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"}},r.createElement("div",{style:{flex:1}},r.createElement("h4",{style:{margin:"0 0 8px 0",color:"#f9fafb",fontWeight:"600"}},H.day==="Mon"?"Monday":H.day==="Tue"?"Tuesday":H.day==="Wed"?"Wednesday":H.day==="Thu"?"Thursday":H.day==="Fri"?"Friday":"Saturday"),r.createElement("p",{style:{margin:"0 0 4px 0",fontSize:"16px",fontWeight:"500",color:"#e5e7eb"}},H.timeSlot),H.location&&r.createElement("p",{style:{margin:0,color:"#9ca3af",fontSize:"14px"}},"📍 ",H.location)),r.createElement("div",{style:{padding:"6px 12px",borderRadius:"6px",backgroundColor:J(H.confidence),color:"white",fontSize:"12px",fontWeight:"600",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"}},ae(H.confidence)," (",H.confidence,"%)")))))),r.createElement("div",{style:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #374151",display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("button",{onClick:()=>I(!0),style:{padding:"10px 20px",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"6px",fontWeight:"500",cursor:"pointer",fontSize:"14px",transition:"all 0.3s ease"},onMouseEnter:H=>H.target.style.backgroundColor="#b91c1c",onMouseLeave:H=>H.target.style.backgroundColor="#dc2626"},"📅 View ",n==null?void 0:n.firstName,"'s Availability & Send Proposal"),r.createElement("button",{onClick:Y,style:{padding:"10px 20px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"6px",fontWeight:"500",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:H=>H.target.style.backgroundColor="#4b5563",onMouseLeave:H=>H.target.style.backgroundColor="#6b7280"},"Close")),S&&n&&r.createElement(Rp,{onClose:()=>{I(!1)},player:n,onProposeMatch:(H,Z)=>{R({player:n,day:H,slot:Z,selectedDivision:c,phase:u}),N(!0),I(!1)},selectedDivision:c,phase:u}),k&&M&&r.createElement(Wp,{player:M.player,day:M.day,slot:M.slot,selectedDivision:M.selectedDivision,phase:M.phase||u,onClose:()=>N(!1),senderName:m,senderEmail:h,onProposalComplete:()=>{N(!1),R(null),f&&f()}}))):null};function I7({isOpen:t,onClose:a,onSuccess:e,isMobile:n=!1,existingPlayer:s=null,isAdmin:l=!1}){const[c,u]=v.useState({firstName:"",lastName:"",email:"",phone:"",textNumber:"",preferredContacts:[],emergencyContactName:"",emergencyContactPhone:"",availability:{Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[],Sun:[]},locations:"",pin:"",paymentStatus:"pending",division:""}),[m,h]=v.useState(1),[f,y]=v.useState(!1),[b,E]=v.useState(""),[w,_]=v.useState(""),[C,S]=v.useState({}),[I,k]=v.useState([]),[N,M]=v.useState([]),[R,$]=v.useState(""),z=["10:00 AM - 12:00 PM","12:00 PM - 2:00 PM","2:00 PM - 4:00 PM","4:00 PM - 6:00 PM","6:00 PM - 8:00 PM","8:00 PM - 10:00 PM","10:00 PM - 12:00 AM","Other (specify)"],Y=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],J=[{value:"email",label:"Email"},{value:"phone",label:"Phone Call"},{value:"text",label:"Text Message"}],ae=async()=>{let K=0;const ce=100;for(;K<ce;){const xe=Math.floor(1e3+Math.random()*9e3).toString();try{const Se=await fetch(`${Ce}/api/users/check-pin/${xe}`);if(Se.ok&&!(await Se.json()).exists)return xe}catch(Se){return console.error("Error checking PIN uniqueness:",Se),xe}K++}return Math.floor(1e3+Math.random()*9e3).toString()+Date.now().toString().slice(-1)};v.useEffect(()=>{H()},[]),v.useEffect(()=>{if(s&&(u({firstName:s.firstName||"",lastName:s.lastName||"",email:s.email||"",phone:s.phone||"",textNumber:s.textNumber||"",preferredContacts:s.preferredContacts||[],emergencyContactName:s.emergencyContactName||"",emergencyContactPhone:s.emergencyContactPhone||"",availability:s.availability||{Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[],Sun:[]},locations:s.locations||"",pin:s.pin||"",confirmPin:s.pin||"",division:s.division||""}),s.locations)){const K=s.locations.split(`
`).map(Se=>Se.trim()).filter(Se=>Se),ce=[],xe=[];K.forEach(Se=>{I.some(pe=>pe.name===Se)?ce.push(Se):xe.push(Se)}),M(ce),$(xe.join(`
`))}},[s,I]);const H=async()=>{try{const K=await fetch(`${Ce}/api/locations`);if(K.ok){const ce=await K.json();k(ce.locations||[])}}catch(K){console.error("Failed to load locations:",K)}},Z=(K,ce)=>{u(xe=>({...xe,[K]:ce})),E("")},O=(K,ce,xe)=>{u(Se=>({...Se,availability:{...Se.availability,[K]:xe?[...Se.availability[K],ce]:Se.availability[K].filter(Ke=>Ke!==ce)}}))},L=(K,ce,xe)=>{u(Se=>{const Ke=Se.availability[K];if(Ke.includes("Other (specify)")&&ce&&xe){const Ue=`${ce} - ${xe}`,je=Ke.map(it=>it==="Other (specify)"?Ue:it);return{...Se,availability:{...Se.availability,[K]:je}}}return Se})},A=(K,ce)=>{u(xe=>({...xe,preferredContacts:ce?[...xe.preferredContacts,K]:xe.preferredContacts.filter(Se=>Se!==K)}))},U=(K,ce)=>{M(xe=>ce?[...xe,K]:xe.filter(Se=>Se!==K))},q=K=>{$(K)},Q=()=>{const K=[...N];if(R.trim()){const ce=R.split(`
`).map(xe=>xe.trim()).filter(xe=>xe.length>0);K.push(...ce)}return K.join(`
`)},T=K=>{if(l)return null;switch(K){case 1:return c.firstName.trim()?c.lastName.trim()?c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)?c.phone.trim()?null:"Phone number is required":"Valid email is required":"Email is required":"Last name is required":"First name is required";case 2:return Object.values(c.availability).some(Se=>Se.length>0)?null:"Please select at least one time slot";case 3:return Q().trim()?null:"At least one location is required";case 4:return c.preferredContacts.length===0?"Please select at least one contact preference":null;case 5:return null;default:return null}},F=()=>{const K=T(m);if(K){E(K);return}E(""),m<5?h(m+1):j()},V=()=>{E(""),m>1&&h(m-1)},j=async()=>{var ce;const K=T(m);if(K){E(K);return}y(!0),E("");try{const xe=await ae(),Ke={...l?{firstName:c.firstName.trim()||"Test",lastName:c.lastName.trim()||"Player",email:c.email.trim()||`test${Date.now()}@example.com`,phone:c.phone.trim()||"555-1234",textNumber:c.textNumber||"",emergencyContactName:c.emergencyContactName||"",emergencyContactPhone:c.emergencyContactPhone||"",preferredContacts:c.preferredContacts.length>0?c.preferredContacts:["email"],availability:c.availability,locations:Q()||"Test Location",pin:xe,paymentStatus:"pending",division:"",notes:c.notes||"Created by admin for testing"}:{...c,pin:xe,paymentStatus:"pending",division:""},confirmPin:void 0},pe=s?`${Ce}/api/users/${s.id}/profile`:`${Ce}/api/users/register`,je=await fetch(pe,{method:s?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ke)});if(!je.ok){const Ve=await je.json();throw new Error(Ve.message||"Registration failed")}const it=await je.json();if(!s&&!l)try{const Ve=await fetch(`${Ce}/api/payment-config/enabled-methods`);let Lt={enabledMethods:[],registrationFee:30,additionalInstructions:"",contactInfo:{}};Ve.ok&&(Lt=await Ve.json()),await wk({to_email:c.email,to_name:`${c.firstName} ${c.lastName}`,registrationId:((ce=it.user)==null?void 0:ce.id)||it.id||`REG-${Date.now()}`,registrationDate:new Date().toLocaleDateString(),registrationFee:Lt.registrationFee||30,paymentMethods:Lt.enabledMethods||[],additionalInstructions:Lt.additionalInstructions||"",contactInfo:Lt.contactInfo||{}}),console.log("Payment instructions email sent successfully")}catch(Ve){console.error("Failed to send payment instructions email:",Ve)}_(s?"Profile updated successfully!":l?"Test player created successfully!":"Registration submitted successfully! Payment instructions have been sent to your email."),setTimeout(()=>{e&&e(it),a()},1500)}catch(xe){E(xe.message||"An error occurred during registration")}finally{y(!1)}},re=()=>{switch(m){case 1:return r.createElement("div",{style:{padding:"10px"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"20px",textAlign:"center",fontSize:"20px"}},"Personal Information"),r.createElement("div",{style:{display:"grid",gap:"15px"}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"1fr 1fr",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold",fontSize:"16px"}},"First Name *"),r.createElement("input",{type:"text",value:c.firstName,onChange:K=>Z("firstName",K.target.value),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"18px"},placeholder:"Enter first name"})),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold",fontSize:"16px"}},"Last Name *"),r.createElement("input",{type:"text",value:c.lastName,onChange:K=>Z("lastName",K.target.value),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"18px"},placeholder:"Enter last name"}))),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold",fontSize:"16px"}},"Email Address *"),r.createElement("input",{type:"email",value:c.email,onChange:K=>Z("email",K.target.value),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"18px"},placeholder:"Enter email address"})),r.createElement("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"1fr 1fr",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold",fontSize:"16px"}},"Phone Number *"),r.createElement("input",{type:"tel",value:c.phone,onChange:K=>Z("phone",K.target.value),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"18px"},placeholder:"Enter phone number"})),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold",fontSize:"16px"}},"Text Number (if different)"),r.createElement("input",{type:"tel",value:c.textNumber,onChange:K=>Z("textNumber",K.target.value),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"18px"},placeholder:"Optional text number"}))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"1fr 1fr",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold"}},"Emergency Contact Name"),r.createElement("input",{type:"text",value:c.emergencyContactName,onChange:K=>Z("emergencyContactName",K.target.value),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"16px"},placeholder:"Emergency contact name"})),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold"}},"Emergency Contact Phone"),r.createElement("input",{type:"tel",value:c.emergencyContactPhone,onChange:K=>Z("emergencyContactPhone",K.target.value),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"16px"},placeholder:"Emergency contact phone"})))));case 2:return r.createElement("div",{style:{padding:"10px"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"15px",textAlign:"center",fontSize:"18px"}},"Availability Schedule"),r.createElement("p",{style:{color:"#ccc",textAlign:"center",marginBottom:"15px",fontSize:"14px"}},"Select the time slots when you're available to play matches"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"repeat(2, 1fr)",gap:"10px",maxHeight:"50vh",overflowY:"auto"}},Y.map(K=>r.createElement("div",{key:K,style:{background:"rgba(255,255,255,0.05)",padding:"8px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},r.createElement("h4",{style:{color:"#e53e3e",marginBottom:"6px",textAlign:"center",fontSize:"16px",fontWeight:"bold"}},K==="Mon"?"Monday":K==="Tue"?"Tuesday":K==="Wed"?"Wednesday":K==="Thu"?"Thursday":K==="Fri"?"Friday":K==="Sat"?"Saturday":"Sunday"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"repeat(2, 1fr)",gap:"6px",justifyContent:"center",alignItems:"center",padding:"0 6px"}},z.map(ce=>{var xe,Se,Ke,pe;return r.createElement("div",{key:ce},r.createElement("label",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"4px 8px",borderRadius:"6px",background:c.availability[K].includes(ce)?"rgba(229, 62, 62, 0.2)":"rgba(255,255,255,0.05)",border:c.availability[K].includes(ce)?"1px solid #e53e3e":"1px solid rgba(255,255,255,0.1)",cursor:"pointer",transition:"all 0.2s ease",fontSize:"12px",width:"100%",minWidth:"110px",margin:"0 auto",boxShadow:c.availability[K].includes(ce)?"0 2px 4px rgba(229, 62, 62, 0.3)":"0 1px 2px rgba(0,0,0,0.1)"}},r.createElement("input",{type:"checkbox",checked:c.availability[K].includes(ce),onChange:Ue=>O(K,ce,Ue.target.checked),style:{marginRight:"4px",transform:"scale(1)"}}),r.createElement("span",{style:{color:"#fff",fontSize:"12px"}},ce)),ce==="Other (specify)"&&c.availability[K].includes(ce)&&r.createElement("div",{style:{marginTop:"6px",padding:"8px",background:"rgba(229, 62, 62, 0.1)",borderRadius:"4px",border:"1px solid rgba(229, 62, 62, 0.3)"}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 1fr",gap:"6px",alignItems:"center",marginBottom:"4px"}},r.createElement("select",{value:((xe=C[K])==null?void 0:xe.start)||"",onChange:Ue=>{var it;const je=Ue.target.value;S(Ve=>({...Ve,[K]:{...Ve[K],start:je}})),L(K,je,(it=C[K])==null?void 0:it.end)},style:{padding:"4px 6px",borderRadius:"3px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(0,0,0,0.3)",color:"#fff",fontSize:"14px",textAlign:"center"}},r.createElement("option",{value:""},"Start"),r.createElement("option",{value:"6:00 AM"},"6:00 AM"),r.createElement("option",{value:"7:00 AM"},"7:00 AM"),r.createElement("option",{value:"8:00 AM"},"8:00 AM"),r.createElement("option",{value:"9:00 AM"},"9:00 AM"),r.createElement("option",{value:"10:00 AM"},"10:00 AM"),r.createElement("option",{value:"11:00 AM"},"11:00 AM"),r.createElement("option",{value:"12:00 PM"},"12:00 PM"),r.createElement("option",{value:"1:00 PM"},"1:00 PM"),r.createElement("option",{value:"2:00 PM"},"2:00 PM"),r.createElement("option",{value:"3:00 PM"},"3:00 PM"),r.createElement("option",{value:"4:00 PM"},"4:00 PM"),r.createElement("option",{value:"5:00 PM"},"5:00 PM"),r.createElement("option",{value:"6:00 PM"},"6:00 PM"),r.createElement("option",{value:"7:00 PM"},"7:00 PM"),r.createElement("option",{value:"8:00 PM"},"8:00 PM"),r.createElement("option",{value:"9:00 PM"},"9:00 PM"),r.createElement("option",{value:"10:00 PM"},"10:00 PM"),r.createElement("option",{value:"11:00 PM"},"11:00 PM"),r.createElement("option",{value:"12:00 AM"},"12:00 AM")),r.createElement("span",{style:{color:"#fff",fontSize:"11px"}},"to"),r.createElement("select",{value:((Se=C[K])==null?void 0:Se.end)||"",onChange:Ue=>{var it;const je=Ue.target.value;S(Ve=>({...Ve,[K]:{...Ve[K],end:je}})),L(K,(it=C[K])==null?void 0:it.start,je)},style:{padding:"4px 6px",borderRadius:"3px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(0,0,0,0.3)",color:"#fff",fontSize:"14px",textAlign:"center"}},r.createElement("option",{value:""},"End"),r.createElement("option",{value:"6:00 AM"},"6:00 AM"),r.createElement("option",{value:"7:00 AM"},"7:00 AM"),r.createElement("option",{value:"8:00 AM"},"8:00 AM"),r.createElement("option",{value:"9:00 AM"},"9:00 AM"),r.createElement("option",{value:"10:00 AM"},"10:00 AM"),r.createElement("option",{value:"11:00 AM"},"11:00 AM"),r.createElement("option",{value:"12:00 PM"},"12:00 PM"),r.createElement("option",{value:"1:00 PM"},"1:00 PM"),r.createElement("option",{value:"2:00 PM"},"2:00 PM"),r.createElement("option",{value:"3:00 PM"},"3:00 PM"),r.createElement("option",{value:"4:00 PM"},"4:00 PM"),r.createElement("option",{value:"5:00 PM"},"5:00 PM"),r.createElement("option",{value:"6:00 PM"},"6:00 PM"),r.createElement("option",{value:"7:00 PM"},"7:00 PM"),r.createElement("option",{value:"8:00 PM"},"8:00 PM"),r.createElement("option",{value:"9:00 PM"},"9:00 PM"),r.createElement("option",{value:"10:00 PM"},"10:00 PM"),r.createElement("option",{value:"11:00 PM"},"11:00 PM"),r.createElement("option",{value:"12:00 AM"},"12:00 AM"))),((Ke=C[K])==null?void 0:Ke.start)&&((pe=C[K])==null?void 0:pe.end)&&r.createElement("div",{style:{fontSize:"10px",color:"#4CAF50",textAlign:"center",fontWeight:"bold"}},"✓ Custom time set: ",C[K].start," - ",C[K].end)))}))))));case 3:return r.createElement("div",{style:{padding:"10px"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"15px",textAlign:"center"}},"Playing Locations"),r.createElement("p",{style:{color:"#ccc",textAlign:"center",marginBottom:"15px",fontSize:"13px"}},"Select from predefined locations and/or add your own custom locations"),I.length>0&&r.createElement("div",{style:{marginBottom:"15px"}},r.createElement("label",{style:{display:"block",marginBottom:"10px",color:"#fff",fontWeight:"bold",fontSize:"16px",textAlign:"center",width:"100%"}},"Select from Available Locations:"),r.createElement("div",{style:{display:"grid",gap:"3px",maxHeight:"180px",overflowY:"auto",padding:"6px",background:"rgba(0,0,0,0.3)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.1)"}},I.map(K=>r.createElement("label",{key:K._id,style:{display:"flex",alignItems:"center",padding:"4px 6px",borderRadius:"4px",background:N.includes(K.name)?"rgba(76, 175, 80, 0.2)":"rgba(255,255,255,0.05)",border:N.includes(K.name)?"1px solid #4CAF50":"1px solid rgba(255,255,255,0.1)",cursor:"pointer",transition:"all 0.2s ease"}},r.createElement("input",{type:"checkbox",checked:N.includes(K.name),onChange:ce=>U(K.name,ce.target.checked),style:{marginRight:"6px",transform:"scale(1)"}}),r.createElement("div",{style:{flex:1,textAlign:"center"}},r.createElement("div",{style:{color:"#fff",fontWeight:"bold",fontSize:"15px",textAlign:"center"}},K.name),K.address&&r.createElement("div",{style:{color:"#ccc",fontSize:"13px",marginTop:"1px",textAlign:"center"}},"📍 ",K.address),K.notes&&r.createElement("div",{style:{color:"#999",fontSize:"12px",marginTop:"1px",textAlign:"center"}},"📝 ",K.notes)))))),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"10px",color:"#fff",fontWeight:"bold",fontSize:"16px",textAlign:"center"}},"Add Custom Locations (Optional):"),r.createElement("textarea",{value:R,onChange:K=>q(K.target.value),style:{width:"100%",minHeight:"60px",padding:"8px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"16px",resize:"vertical"},placeholder:`Enter additional locations, one per line:
My Home Table
Friend's House
Local Bar`})),(N.length>0||R.trim())&&r.createElement("div",{style:{marginTop:"10px",padding:"10px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"6px",border:"1px solid rgba(76, 175, 80, 0.3)"}},r.createElement("h4",{style:{color:"#4CAF50",margin:"0 0 10px 0",fontSize:"14px",fontWeight:"bold"}},"📍 Your Selected Locations:"),r.createElement("div",{style:{color:"#ccc",fontSize:"13px"}},Q().split(`
`).map((K,ce)=>r.createElement("div",{key:ce,style:{marginBottom:"2px"}},"• ",K)))),r.createElement("div",{style:{marginTop:"10px",padding:"8px",background:"rgba(229, 62, 62, 0.1)",borderRadius:"6px"}},r.createElement("p",{style:{color:"#ccc",fontSize:"14px",margin:0}},r.createElement("strong",null,"Tip:")," Select from the predefined locations above, or add your own custom locations. These will be used to help match you with other players in your area.")));case 4:return r.createElement("div",{style:{padding:"10px"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"20px",textAlign:"center"}},"Contact Preferences"),r.createElement("p",{style:{color:"#ccc",textAlign:"center",marginBottom:"20px",fontSize:"14px"}},"How would you prefer other players to contact you for match scheduling?"),r.createElement("div",{style:{display:"grid",gap:"15px"}},J.map(K=>r.createElement("label",{key:K.value,style:{display:"flex",alignItems:"center",padding:"15px",borderRadius:"8px",background:c.preferredContacts.includes(K.value)?"rgba(229, 62, 62, 0.2)":"rgba(255,255,255,0.05)",border:c.preferredContacts.includes(K.value)?"1px solid #e53e3e":"1px solid rgba(255,255,255,0.1)",cursor:"pointer",transition:"all 0.2s ease"}},r.createElement("input",{type:"checkbox",checked:c.preferredContacts.includes(K.value),onChange:ce=>A(K.value,ce.target.checked),style:{marginRight:"12px",transform:"scale(1.2)"}}),r.createElement("span",{style:{color:"#fff",fontSize:"16px",fontWeight:"bold"}},K.label)))),r.createElement("div",{style:{marginTop:"20px",padding:"15px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"8px",border:"1px solid rgba(76, 175, 80, 0.3)"}},r.createElement("p",{style:{color:"#ccc",fontSize:"14px",margin:0}},r.createElement("strong",null,"Note:")," Your contact information will only be shared with players who are scheduling matches with you. You can change these preferences later in your profile settings.")));case 5:return r.createElement("div",{style:{padding:"10px"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"20px",textAlign:"center"}},"Registration & Payment"),r.createElement("div",{style:{display:"grid",gap:"20px"}},r.createElement("div",{style:{padding:"15px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"8px",border:"1px solid rgba(76, 175, 80, 0.3)",textAlign:"center"}},r.createElement("h4",{style:{color:"#4CAF50",margin:"0 0 10px 0",fontSize:"16px",fontWeight:"bold"}},"🔐 Your PIN will be auto-generated"),r.createElement("p",{style:{color:"#ccc",fontSize:"14px",margin:0}},"A unique 4-digit PIN will be automatically generated for you. You'll receive it after payment is confirmed.")),r.createElement("div",{style:{padding:"15px",background:"rgba(255, 193, 7, 0.1)",borderRadius:"8px",border:"1px solid rgba(255, 193, 7, 0.3)",textAlign:"center"}},r.createElement("h4",{style:{color:"#ffc107",margin:"0 0 10px 0",fontSize:"16px",fontWeight:"bold"}},"🏆 Division Assignment"),r.createElement("p",{style:{color:"#ccc",fontSize:"14px",margin:0}},"Your division will be assigned by league administrators based on your skill level and availability. You'll be notified once assigned.")),r.createElement("div",{style:{padding:"15px",background:"rgba(229, 62, 62, 0.1)",borderRadius:"8px",border:"1px solid rgba(229, 62, 62, 0.3)",textAlign:"center"}},r.createElement("h4",{style:{color:"#e53e3e",margin:"0 0 10px 0",fontSize:"16px",fontWeight:"bold"}},"💳 Payment Required"),r.createElement("p",{style:{color:"#ccc",fontSize:"14px",margin:0}},"Registration fee: ",r.createElement("strong",null,"$30")," must be paid before you receive your PIN and can access the league system. Payment instructions will be sent to your email immediately after registration."))),r.createElement("div",{style:{marginTop:"20px",padding:"15px",background:"rgba(0, 123, 255, 0.1)",borderRadius:"8px",border:"1px solid rgba(0, 123, 255, 0.3)"}},r.createElement("p",{style:{color:"#ccc",fontSize:"14px",margin:0}},r.createElement("strong",null,"Next Steps:")," After registration, you'll receive payment instructions. Once payment is confirmed, you'll get your PIN and full access to the league system.")));default:return null}};return t?r.createElement(r.Fragment,null,r.createElement(Xt,{open:t,onClose:a,title:s?"Edit Player Profile":l?"Admin: Test Player Registration":"Player Registration",maxWidth:n?"95vw":"800px",className:"player-registration-modal"},r.createElement("div",{style:{background:"rgba(255,255,255,0.1)",height:"4px",position:"relative",marginBottom:"15px"}},r.createElement("div",{style:{background:"linear-gradient(90deg, #e53e3e, #ff6b6b)",height:"100%",width:`${m/5*100}%`,transition:"width 0.3s ease"}})),r.createElement("div",{style:{padding:"10px 15px",background:"rgba(0,0,0,0.8)",borderBottom:"1px solid rgba(255,255,255,0.1)",marginBottom:"15px",borderRadius:"6px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("span",{style:{color:"#fff",fontSize:"14px"}},"Step ",m," of 5"),r.createElement("span",{style:{color:"#e53e3e",fontSize:"14px",fontWeight:"bold"}},m===1&&"Personal Info",m===2&&"Availability",m===3&&"Locations",m===4&&"Contact Preferences",m===5&&"Registration & Payment")),l&&r.createElement("div",{style:{background:"rgba(255, 193, 7, 0.2)",border:"1px solid rgba(255, 193, 7, 0.5)",borderRadius:"4px",padding:"6px 10px",marginTop:"8px",textAlign:"center"}},r.createElement("span",{style:{color:"#ffc107",fontSize:"12px",fontWeight:"bold"}},"🔧 ADMIN MODE: Validation bypassed for testing"))),r.createElement("div",{style:{marginBottom:"25px",maxHeight:"60vh",overflowY:"auto",paddingRight:"10px"}},re()),b&&r.createElement("div",{style:{padding:"10px 15px",background:"rgba(229, 62, 62, 0.2)",border:"1px solid #e53e3e",color:"#ff6b6b",textAlign:"center",fontSize:"14px",borderRadius:"6px",marginBottom:"15px"}},b),w&&r.createElement("div",{style:{padding:"10px 15px",background:"rgba(76, 175, 80, 0.2)",border:"1px solid #4CAF50",color:"#4CAF50",textAlign:"center",fontSize:"14px",borderRadius:"6px",marginBottom:"15px"}},w),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",gap:"10px"}},r.createElement("button",{onClick:m===1?a:V,style:{padding:"12px 20px",borderRadius:"6px",border:"1px solid #666",background:"transparent",color:"#fff",cursor:"pointer",fontSize:"16px",transition:"all 0.2s ease",flex:1},onMouseEnter:K=>{K.target.style.background="rgba(255,255,255,0.1)"},onMouseLeave:K=>{K.target.style.background="transparent"}},m===1?"Cancel":"Previous"),r.createElement("button",{onClick:F,disabled:f,style:{padding:"12px 20px",borderRadius:"6px",border:"none",background:f?"#666":"#e53e3e",color:"#fff",cursor:f?"not-allowed":"pointer",fontSize:"16px",fontWeight:"bold",transition:"all 0.2s ease",flex:1},onMouseEnter:K=>{f||(K.target.style.background="#ff6b6b")},onMouseLeave:K=>{f||(K.target.style.background="#e53e3e")}},f?"Processing...":m===5?s?"Update Profile":"Complete Registration":"Next"))),r.createElement("style",{jsx:!0},`
               .player-registration-modal {
          max-height: 95vh !important;
          height: auto !important;
        }
        
        .player-registration-modal .draggable-modal {
          max-height: 95vh !important;
          height: auto !important;
        }
        
        .player-registration-modal .modal-content {
          max-height: 70vh !important;
          overflow-y: auto !important;
        }
       
       /* Custom scrollbar */
       .player-registration-modal .modal-content::-webkit-scrollbar {
         width: 6px;
       }
       
       .player-registration-modal .modal-content::-webkit-scrollbar-thumb {
         background: #e53e3e;
         border-radius: 3px;
       }
       
               .player-registration-modal .modal-content::-webkit-scrollbar-track {
          background: rgba(255,255,255,0.1);
          border-radius: 3px;
        }
        
                 /* Custom dropdown styling for dark theme */
         .player-registration-modal select option {
           background: #222 !important;
           color: #fff !important;
           border: none !important;
           font-size: 14px !important;
           padding: 4px 8px !important;
         }
        
        .player-registration-modal select:focus {
          outline: none !important;
          border-color: #e53e3e !important;
          box-shadow: 0 0 0 2px rgba(229, 62, 62, 0.2) !important;
        }
     `)):null}const hp=async(t,a)=>{const e=await fetch(`${Ce}/api/matches/status/${encodeURIComponent(t)}/${a}`);if(!e.ok)throw new Error("Failed to fetch matches by status");return e.json()},N7=async(t,a,e,n="")=>{const s=await fetch(`${Ce}/api/matches/${t}/complete`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({winner:a,score:e,notes:n})});if(!s.ok){const l=await s.json();throw new Error(l.error||"Failed to complete match")}return s.json()},k7=async(t,a="")=>{const e=await fetch(`${Ce}/api/matches/${t}/cancel`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:a})});if(!e.ok){const n=await e.json();throw new Error(n.error||"Failed to cancel match")}return e.json()},A7=async t=>{const a=await fetch(`${Ce}/api/matches/stats/${encodeURIComponent(t)}`);if(!a.ok)throw new Error("Failed to fetch match statistics");return a.json()},D7=(t,a,e)=>{const[n,s]=v.useState([]),[l,c]=v.useState([]),[u,m]=v.useState(!0),[h,f]=v.useState(null),[y,b]=v.useState(null),E=v.useRef(null),w=v.useRef(null),_=v.useCallback(async(I=!1)=>{w.current&&w.current.abort(),w.current=new AbortController;try{I||m(!0);const[k,N]=await Promise.all([hp(a,"scheduled"),hp(a,"completed")]),M=k.filter(z=>z.player1Id===t||z.player2Id===t).map(z=>{const Y=z.player1Id===t,J=Y?z.player1Id:z.player2Id,ae=Y?z.player2Id:z.player1Id,H=new Date(z.scheduledDate),Z=H.toISOString().split("T")[0],O=H.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return{...z,player:J,opponent:ae,senderName:z.player1Id,receiverName:z.player2Id,date:Z,time:O,gameType:z.gameType||"8 ball",raceLength:z.raceLength||5,type:"scheduled"}}),R=N.filter(z=>z.player1Id===t||z.player2Id===t).map(z=>{const Y=z.player1Id===t,J=Y?z.player1Id:z.player2Id,ae=Y?z.player2Id:z.player1Id,H=new Date(z.scheduledDate),Z=H.toISOString().split("T")[0],O=H.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return{...z,player:J,opponent:ae,senderName:z.player1Id,receiverName:z.player2Id,date:Z,time:O,gameType:z.gameType||"8 ball",raceLength:z.raceLength||5,type:"completed"}});let $=[];try{const z=await Ga.getPendingProposals(t,a),Y=await Ga.getSentProposals(t,a);$=[...z,...Y].filter(Z=>Z.status==="confirmed"&&(Z.senderName===t||Z.receiverName===t));const ae=$.map(Z=>{const O=Z.senderName===t,L=O?Z.senderName:Z.receiverName,A=O?Z.receiverName:Z.senderName;return{_id:Z._id,type:"proposal",status:"confirmed",player1Id:Z.senderName,player2Id:Z.receiverName,player:L,opponent:A,senderName:Z.senderName,receiverName:Z.receiverName,scheduledDate:Z.date?new Date(Z.date):new Date,date:Z.date,time:Z.time,location:Z.location,message:Z.message,gameType:Z.gameType,raceLength:Z.raceLength,completed:Z.completed||!1,winner:Z.winner||null}}),H=[...M,...ae];H.sort((Z,O)=>new Date(Z.scheduledDate)-new Date(O.scheduledDate)),R.sort((Z,O)=>new Date(O.completedDate)-new Date(Z.completedDate)),w.current.signal.aborted||(s(H),c(R),f(null),b(new Date))}catch(z){console.warn("Error fetching confirmed proposals:",z),w.current.signal.aborted||(M.sort((Y,J)=>new Date(Y.scheduledDate)-new Date(J.scheduledDate)),R.sort((Y,J)=>new Date(J.completedDate)-new Date(Y.completedDate)),s(M),c(R),b(new Date))}}catch(k){if(k.name==="AbortError")return;console.error("Error fetching matches:",k),f(k.message),I||(s([]),c([]))}finally{w.current.signal.aborted||m(!1)}},[t,a,e]);v.useEffect(()=>{if(t&&a)return _(),E.current=setInterval(()=>{_(!0)},3e4),()=>{E.current&&clearInterval(E.current),w.current&&w.current.abort()}},[t,a,e,_]);const C=v.useCallback(()=>{_()},[_]),S=v.useCallback((I,k="add")=>{k==="add"?s(N=>[I,...N]):k==="update"?(s(N=>N.map(M=>M._id===I._id?I:M)),c(N=>N.map(M=>M._id===I._id?I:M))):k==="remove"&&(s(N=>N.filter(M=>M._id!==I._id)),c(N=>N.filter(M=>M._id!==I._id))),b(new Date)},[]);return{matches:n,completedMatches:l,scheduledConfirmedMatches:n,loading:u,error:h,lastUpdate:y,refetch:C,updateMatchLocally:S,markMatchCompleted:I=>{s(k=>k.filter(N=>N._id!==I._id)),c(k=>{const N={...I,completed:!0};return[...k,N]}),b(new Date)},updateCompletedMatch:I=>{c(k=>k.map(N=>N._id===I._id?I:N)),b(new Date)}}},M7=t=>{const[a,e]=v.useState(null),[n,s]=v.useState(null),[l,c]=v.useState(!0),[u,m]=v.useState(null),[h,f]=v.useState(null),y=v.useRef(null),b=v.useRef(null),E=v.useCallback(async(_=!1)=>{if(t){b.current&&b.current.abort(),b.current=new AbortController;try{_||c(!0),console.log("useSeasonData - Fetching season data for division:",t);const[C,S]=await Promise.all([Ps.getCurrentSeason(t),Ps.getCurrentPhaseAndWeek(t)]);console.log("useSeasonData - Season result:",C),console.log("useSeasonData - Phase result:",S),b.current.signal.aborted||(e((C==null?void 0:C.season)||null),s(S),m(null),f(new Date))}catch(C){if(C.name==="AbortError")return;console.error("Error fetching season data:",C),m(C.message),_||(e(null),s(null))}finally{b.current.signal.aborted||c(!1)}}},[t]);v.useEffect(()=>{if(t)return E(),y.current=setInterval(()=>{E(!0)},5*60*1e3),()=>{y.current&&clearInterval(y.current),b.current&&b.current.abort()}},[t,E]);const w=v.useCallback(()=>{E()},[E]);return{seasonData:a,currentPhaseInfo:n,loading:l,error:u,lastUpdate:h,refetch:w}},T7=t=>{const[a,e]=v.useState([]),[n,s]=v.useState(!0),[l,c]=v.useState(null),[u,m]=v.useState(null),h=v.useRef(null),f=v.useRef(null),y=v.useCallback(async(E=!1)=>{if(t){f.current&&f.current.abort(),f.current=new AbortController;try{E||s(!0);const w=t.replace(/[^A-Za-z0-9]/g,"_"),_=`${Ce}/static/standings_${w}.json`,C=await fetch(_,{signal:f.current.signal});if(!C.ok){console.warn(`Failed to fetch standings: ${C.status} - ${C.statusText}`),E||c(`Failed to fetch standings: ${C.status}`);return}const S=await C.json();if(!Array.isArray(S)){console.error("Standings data is not an array:",S),E||c("Invalid standings data format");return}const I=S.filter(k=>{if(!k||typeof k!="object")return console.warn("Invalid standings entry:",k),!1;if(!k.name||!k.rank)return console.warn("Standings entry missing name or rank:",k),!1;const N=parseInt(k.rank);return isNaN(N)||N<=0?(console.warn("Invalid rank in standings entry:",k),!1):!0});f.current.signal.aborted||(e(I),c(null),m(new Date))}catch(w){if(w.name==="AbortError")return;console.error("Failed to load standings:",w),c(w.message),E||e([])}finally{f.current.signal.aborted||s(!1)}}},[t]);v.useEffect(()=>{if(t)return y(),h.current=setInterval(()=>{y(!0)},10*60*1e3),()=>{h.current&&clearInterval(h.current),f.current&&f.current.abort()}},[t,y]);const b=v.useCallback(()=>{y()},[y]);return{standings:a,loading:n,error:l,lastUpdate:u,refetch:b}},xm={async getAllNotes(){return Bn.get("/api/notes")},async createNote(t){return Bn.post("/api/notes",{text:t})},async deleteNote(t){return Bn.delete(`/api/notes/${t}`)}},R7=()=>{const[t,a]=v.useState([]),[e,n]=v.useState(!0),[s,l]=v.useState(null),[c,u]=v.useState(null),m=v.useRef(null),h=v.useRef(null),f=v.useCallback(async(E=!1)=>{h.current&&h.current.abort(),h.current=new AbortController;try{E||n(!0);const w=await xm.getAllNotes();h.current.signal.aborted||(a(w),l(null),u(new Date))}catch(w){if(w.name==="AbortError")return;console.error("Error fetching notes:",w),l(w.message),E||a([])}finally{h.current.signal.aborted||n(!1)}},[]);v.useEffect(()=>(f(),m.current=setInterval(()=>{f(!0)},2*60*1e3),()=>{m.current&&clearInterval(m.current),h.current&&h.current.abort()}),[f]);const y=v.useCallback(()=>{f()},[f]),b=v.useCallback((E,w="add")=>{w==="add"?a(_=>[E,..._]):w==="update"?a(_=>_.map(C=>C._id===E._id?E:C)):w==="remove"&&a(_=>_.filter(C=>C._id!==E._id)),u(new Date)},[]);return{notes:t,loading:e,error:s,lastUpdate:c,refetch:y,updateNoteLocally:b}},L7=t=>{const[a,e]=v.useState([]),[n,s]=v.useState(!0),[l,c]=v.useState(null),[u,m]=v.useState(null),h=v.useRef(null),f=v.useRef(null),y=v.useCallback(async(E=!1)=>{if(!t){e([]);return}f.current&&f.current.abort(),f.current=new AbortController;try{E||s(!0);let w;t==="FRBCAPL TEST"?w="schedule_FRBCAPL_TEST.json":t==="Singles Test"?w="schedule_Singles_Test.json":w=`schedule_${t.replace(/[^A-Za-z0-9]/g,"_")}.json`;const _=`${Ce}/static/${w}`,C=await fetch(_,{signal:f.current.signal});if(!C.ok)throw new Error("Schedule not found");const S=await C.json();f.current.signal.aborted||(console.log("Schedule loaded for",t,":",S.length,"matches"),e(S),c(null),m(new Date))}catch(w){if(w.name==="AbortError")return;console.error("Failed to load schedule for",t,":",w),c(w.message),E||e([])}finally{f.current.signal.aborted||s(!1)}},[t]);v.useEffect(()=>{if(t)return y(),h.current=setInterval(()=>{y(!0)},15*60*1e3),()=>{h.current&&clearInterval(h.current),f.current&&f.current.abort()}},[t,y]);const b=v.useCallback(()=>{y()},[y]);return{scheduledMatches:a,loading:n,error:l,lastUpdate:u,refetch:b}};class P7{async checkAndSendDeadlineReminder(a,e,n){try{const s=await Ps.getCurrentSeason(n);if(!(s!=null&&s.season)){console.log("No current season found for division:",n);return}const l=s.season,c=new Date,u=new Date(l.phase1End);if(c>u){console.log("Phase 1 deadline has passed, no reminder needed");return}const m=Math.ceil((u-c)/(1e3*60*60*24));if(!this.shouldSendReminder(m))return;const f=await this.getUserMatchStatus(e,n);await Ek({to_email:a,to_name:e,division:n,daysUntilDeadline:m,completedMatches:f.completedCount,totalRequiredMatches:f.totalRequired,deadlineDate:Ca(u,"EEEE, MMMM d, yyyy"),remainingMatches:f.remainingCount}),console.log(`Deadline reminder sent to ${e} for ${n}`)}catch(s){console.error("Error sending deadline reminder:",s)}}shouldSendReminder(a){return[7,3,1,0].includes(a)}async getUserMatchStatus(a,e){try{return{completedCount:1,totalRequired:6,remainingCount:5}}catch(n){return console.error("Error getting user match status:",n),{completedCount:0,totalRequired:6,remainingCount:6}}}async sendBulkDeadlineReminders(a){try{console.log(`Sending bulk deadline reminders for ${a}`)}catch(e){console.error("Error sending bulk deadline reminders:",e)}}}const B7=new P7,O7={"FRBCAPL TEST":"https://lms.fargorate.com/PublicReport/LeagueReports?leagueId=e05896bb-b0f4-4a80-bf99-b2ca012ceaaa&divisionId=b345a437-3415-4765-b19a-b2f7014f2cfa","Singles Test":"https://lms.fargorate.com/PublicReport/LeagueReports?leagueId=e05896bb-b0f4-4a80-bf99-b2ca012ceaaa&divisionId=9058a0cc-3231-4118-bd91-b305006fe578"};W.shape({name:W.string.isRequired,description:W.string,playerCount:W.number,currentPhase:W.string,totalMatches:W.number,completedMatches:W.number,startDate:W.string,endDate:W.string,status:W.oneOf(["active","completed","pending","inactive"]),logo:W.string,primaryColor:W.string,secondaryColor:W.string}).isRequired,W.func,W.bool,W.bool,W.bool,W.node,W.string,W.object;W.shape({name:W.string.isRequired,email:W.string,phone:W.string,rank:W.number,wins:W.number,losses:W.number,totalMatches:W.number,winPercentage:W.number,currentStreak:W.number,bestStreak:W.number,lastPlayed:W.string,availability:W.string,status:W.oneOf(["active","inactive","suspended","pending"]),avatar:W.string,primaryColor:W.string,secondaryColor:W.string,isOnline:W.bool}).isRequired,W.func,W.bool,W.bool,W.bool,W.node,W.bool,W.bool,W.string,W.object;W.shape({id:W.string.isRequired,player1:W.string.isRequired,player2:W.string.isRequired,player1Score:W.number,player2Score:W.number,status:W.oneOf(["scheduled","in_progress","completed","cancelled"]),date:W.string,time:W.string,location:W.string,division:W.string,phase:W.string,winner:W.string,notes:W.string,primaryColor:W.string,secondaryColor:W.string}).isRequired,W.func,W.bool,W.bool,W.node,W.bool,W.bool,W.string,W.object;const p5=({playerName:t,playerLastName:a,isMobile:e,userPin:n,proposalsLoading:s,matchesLoading:l,notesLoading:c,seasonLoading:u,standingsLoading:m,scheduleLoading:h,onProfileClick:f,styles:y})=>{const b=s||l||c||u||m||h;return r.createElement(r.Fragment,null,r.createElement("div",{style:{textAlign:"center",marginBottom:e?"8px":"16px"}},r.createElement("h1",{className:y.dashboardTitle,style:{fontSize:e?"1.6rem":"2rem",textAlign:"center",margin:0,cursor:"pointer",transition:"all 0.2s ease"},onClick:f,onMouseEnter:E=>{E.target.style.color="#e53e3e",E.target.style.textShadow="0 0 8px rgba(229, 62, 62, 0.5)"},onMouseLeave:E=>{E.target.style.color="",E.target.style.textShadow=""}},"Welcome,",r.createElement("span",{className:y.dashboardUserName,style:{fontSize:e?"1.4rem":"1.8rem"}},t," ",a)),r.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",marginTop:e?"4px":"8px",fontSize:e?"0.7rem":"0.8rem",color:"#888"}},r.createElement("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:b?"#f59e0b":"#10b981",animation:b?"pulse 2s infinite":"none"}}),r.createElement("span",null,b?"Updating...":"Live")),r.createElement("button",{onClick:f,style:{background:"linear-gradient(135deg, #e53e3e, #c53030)",color:"#fff",border:"none",borderRadius:"8px",padding:e?"8px 16px":"10px 20px",fontSize:e?"0.8rem":"0.9rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(229, 62, 62, 0.3)",marginTop:e?"6px":"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},onMouseEnter:E=>{E.target.style.background="linear-gradient(135deg, #c53030, #a52a2a)",E.target.style.transform="translateY(-1px)",E.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.4)"},onMouseLeave:E=>{E.target.style.background="linear-gradient(135deg, #e53e3e, #c53030)",E.target.style.transform="translateY(0)",E.target.style.boxShadow="0 2px 8px rgba(229, 62, 62, 0.3)"}},"👤 Profile")),r.createElement("div",{className:y.announcement,style:{fontSize:e?"0.75rem":"1rem",marginBottom:e?"8px":"16px"}},r.createElement("p",null,"This is the BETA version. "),"Matches that are created, scheduled, and confirmed will NOT be played.",r.createElement("br",null),"This is for testing purposes only."),Oi.getCurrentAdmin()&&r.createElement("div",{style:{marginBottom:e?12:16,textAlign:"center"}},r.createElement("button",{onClick:()=>window.location.hash="#/tenball-tutorial",style:{background:"linear-gradient(45deg, #4CAF50, #8BC34A)",border:"none",color:"white",padding:e?"10px 16px":"12px 20px",borderRadius:"25px",cursor:"pointer",fontSize:e?"0.9rem":"1rem",fontWeight:"bold",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(76, 175, 80, 0.3)"}},r.createElement("img",{src:Tp,alt:"10-Ball",style:{width:"20px",height:"20px",marginRight:"8px",display:"inline-block",verticalAlign:"text-bottom"}}),"Play 10-Ball Tutorial & Learn Official CSI Rules")),!e&&r.createElement("br",null))};p5.propTypes={playerName:W.string.isRequired,playerLastName:W.string.isRequired,isMobile:W.bool.isRequired,userPin:W.string,proposalsLoading:W.bool,matchesLoading:W.bool,notesLoading:W.bool,seasonLoading:W.bool,standingsLoading:W.bool,scheduleLoading:W.bool,onProfileClick:W.func.isRequired,styles:W.object.isRequired};const f5=({divisions:t,selectedDivision:a,onDivisionChange:e,isMobile:n})=>t.length===0?null:r.createElement("div",{style:{marginBottom:n?8:16,display:"flex",flexDirection:"column",alignItems:n?"flex-start":"center",gap:n?"8px":"12px"}},r.createElement("div",{style:{display:"flex",flexDirection:n?"column":"row",alignItems:n?"flex-start":"center",gap:n?"4px":"12px",width:"100%"}},r.createElement("label",{style:{fontSize:n?"0.9rem":"1rem"}},"Division: ",t.length>1?r.createElement("select",{value:a,onChange:e,style:{fontSize:n?"0.9em":"1em",padding:n?6:4,borderRadius:4}},t.map(s=>r.createElement("option",{key:s,value:s},s))):r.createElement("span",{style:{fontWeight:600}},t[0]))));f5.propTypes={divisions:W.arrayOf(W.string).isRequired,selectedDivision:W.string.isRequired,onDivisionChange:W.func.isRequired,isMobile:W.bool.isRequired};const h5=({isMobile:t,styles:a,effectivePhase:e,seasonData:n,completedMatches:s,totalRequiredMatches:l,playerName:c,playerLastName:u,selectedDivision:m,pendingCount:h,sentCount:f,filteredUpcomingMatches:y,currentUser:b,allPlayers:E,showPhase1Rules:w,setShowPhase1Rules:_,setShowPhase1Overview:C,setPlayerStats:S,setTimeLeft:I,setDeadlineStatus:k,setPhase1EndDate:N,onOpenOpponentsModal:M,onOpenCompletedMatchesModal:R,onOpenStandingsModal:$,onOpenDefenseChallengersModal:z,onOpenAllMatchesModal:Y,onOpenProposalListModal:J,onOpenSentProposalListModal:ae,onOpenPlayerSearch:H,onMatchClick:Z,onSmartMatchClick:O,onOpenMessageCenter:L,onOpenCalendar:A,simulationRef:U,opponentsModalPortal:q})=>r.createElement("section",{className:`${a.dashboardSection} ${a.dashboardSectionBox} ${a.matchesSection}`,style:{position:"relative",overflow:"visible",backgroundColor:"rgba(0, 0, 0, .5)",minHeight:t?"650px":"570px",marginBottom:t?"16px":"36px",paddingBottom:"20px"}},r.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},r.createElement("div",{className:a.poolTableContainer,style:{marginBottom:t?"12px":"24px",position:"relative",width:"100%",maxWidth:t?"98%":"600px",height:t?"400px":"auto",display:"flex",justifyContent:"center",alignItems:"center"}},e==="scheduled"&&n&&r.createElement("div",{style:{position:"absolute",top:t?"50px":"35px",left:"0",right:"0",margin:"0 auto",zIndex:100,width:t?"95%":"90%",maxWidth:t?"500px":"1200px",height:t?"150px":"200px",pointerEvents:"auto"}},r.createElement(E7,null,r.createElement(f7,{currentPhase:e,seasonData:n,completedMatches:s,totalRequiredMatches:l,playerName:c,playerLastName:u,selectedDivision:m,onOpenOpponentsModal:M,onOpenCompletedMatchesModal:R,onOpenStandingsModal:$,onOpenAllMatchesModal:Y,pendingCount:h,sentCount:f,onOpenProposalListModal:J,onOpenSentProposalListModal:ae,upcomingMatches:y,onMatchClick:Z,isMobile:t,onOpenMessageCenter:L,currentUser:b,allPlayers:E,onSmartMatchClick:O,showPhase1Rules:w,setShowPhase1Rules:_,showPhase1Overview:!1,setShowPhase1Overview:C,setPlayerStats:S,setTimeLeft:I,setDeadlineStatus:k,setPhase1EndDate:N,onOpenCalendar:A}))),e==="challenge"&&r.createElement("div",{style:{position:"absolute",top:t?"50px":"35px",left:"0",right:"0",margin:"0 auto",zIndex:10,width:t?"95%":"90%",maxWidth:t?"500px":"1200px",height:t?"150px":"200px"}},r.createElement(y7,{playerName:c,playerLastName:u,selectedDivision:m,phase:e,isMobile:t,onOpenOpponentsModal:M,onOpenCompletedMatchesModal:R,onOpenStandingsModal:$,onOpenDefenseChallengersModal:z,onOpenAllMatchesModal:Y,pendingCount:h,sentCount:f,onOpenProposalListModal:J,onOpenSentProposalListModal:ae,onOpenPlayerSearch:H,upcomingMatches:y,onMatchClick:Z,seasonData:n,completedMatches:s,standings:[]})),t?r.createElement("div",{className:a.simulationContainer,ref:U,style:{width:"100% !important",height:"400px !important",position:"relative",minWidth:"0 !important",maxWidth:"100% !important",minHeight:"400px !important",maxHeight:"400px !important",pointerEvents:e==="scheduled"?"none":"auto"}},r.createElement(ud,{isRotated:!0})):r.createElement(H0,{aspectWidth:600,aspectHeight:300},r.createElement("div",{className:a.simulationContainer,ref:U,style:{width:"100%",height:"100%",position:"relative",pointerEvents:e==="scheduled"?"none":"auto"}},r.createElement(ud,null))),q)));h5.propTypes={isMobile:W.bool.isRequired,styles:W.object.isRequired,effectivePhase:W.string.isRequired,seasonData:W.object,completedMatches:W.array,totalRequiredMatches:W.number,playerName:W.string.isRequired,playerLastName:W.string.isRequired,selectedDivision:W.string.isRequired,pendingCount:W.number,sentCount:W.number,filteredUpcomingMatches:W.array,currentUser:W.object,allPlayers:W.array,showPhase1Rules:W.bool,setShowPhase1Rules:W.func,setShowPhase1Overview:W.func,setPlayerStats:W.func,setTimeLeft:W.func,setDeadlineStatus:W.func,setPhase1EndDate:W.func,onOpenOpponentsModal:W.func.isRequired,onOpenCompletedMatchesModal:W.func.isRequired,onOpenStandingsModal:W.func.isRequired,onOpenDefenseChallengersModal:W.func.isRequired,onOpenAllMatchesModal:W.func.isRequired,onOpenProposalListModal:W.func.isRequired,onOpenSentProposalListModal:W.func.isRequired,onOpenPlayerSearch:W.func.isRequired,onMatchClick:W.func.isRequired,onSmartMatchClick:W.func.isRequired,onOpenMessageCenter:W.func.isRequired,onOpenCalendar:W.func.isRequired,simulationRef:W.object,opponentsModalPortal:W.node};const g5=({notes:t,notesLoading:a,noteError:e,userPin:n,onDeleteNote:s,onClearNotes:l,styles:c})=>r.createElement("section",{className:`${c.dashboardSection} ${c.dashboardSectionBox} ${c.newsUpdatesSection}`},r.createElement("h2",{className:c.dashboardSectionTitle},"News & Updates"),a?r.createElement(AP,{lines:3,height:"16px"}):r.createElement("ul",{className:c.dashboardList},t.length===0?r.createElement("li",{className:c.dashboardNoteItem},"No news yet."):t.map((u,m)=>r.createElement("li",{key:u._id||m,className:c.dashboardNoteItem},r.createElement("span",{style:{flex:1}},u.text),Oi.getCurrentAdmin()&&r.createElement("button",{onClick:()=>s(u._id),style:{background:"#e53935",color:"#fff",border:"none",borderRadius:4,padding:"2px 8px",cursor:"pointer",fontSize:"0.95em"},"aria-label":"Delete note",title:"Delete note",type:"button"},"Delete")))),Oi.getCurrentAdmin()&&t.length>0&&r.createElement("button",{style:{marginTop:10,background:"#444",color:"#fff",border:"none",borderRadius:5,padding:"4px 14px",cursor:"pointer",fontSize:"0.98em"},onClick:l,type:"button"},"Clear All Notes"),e&&r.createElement("div",{style:{marginTop:10,padding:"10px",background:"#ffebee",color:"#c62828",border:"1px solid #ffcdd2",borderRadius:"4px",fontSize:"0.9em"}},"Error: ",e));g5.propTypes={notes:W.array.isRequired,notesLoading:W.bool.isRequired,noteError:W.string,userPin:W.string,onDeleteNote:W.func.isRequired,onClearNotes:W.func.isRequired,styles:W.object.isRequired};const y5=({userPin:t,loadingPendingRegistrations:a,phaseOverride:e,selectedDivision:n,BACKEND_URL:s,styles:l,onShowRegistrationModal:c,onLoadPendingRegistrations:u,onSetPendingRegistrations:m,onShowPendingRegistrationsModal:h,onCreateTestRegistration:f,onShowNoteModal:y,onGoToAdmin:b,onGoToPlatformAdmin:E,isSuperAdmin:w,onActivatePhase2:_,onSetPhaseOverride:C,onRefreshSeasonData:S,onShowPendingClaimsModal:I})=>Oi.getCurrentAdmin()?r.createElement(r.Fragment,null,r.createElement("button",{className:l.dashboardAdminBtn,onClick:c,type:"button",style:{background:"#4CAF50"}},"Register Player"),r.createElement("button",{className:l.dashboardAdminBtn,onClick:async()=>{u(!0);try{const N=await fetch(`${s}/api/users/pending-registrations`);if(N.ok){const M=await N.json();m(M),h(!0)}else alert("Failed to load pending registrations")}catch{alert("Error loading pending registrations")}finally{u(!1)}},type:"button",style:{background:"#FF9800"},disabled:a},a?"Loading...":"Pending Registrations"),r.createElement("button",{className:l.dashboardAdminBtn,onClick:f,type:"button",style:{background:"#9C27B0"}},"Create Test Registration"),r.createElement("button",{className:l.dashboardAdminBtn,onClick:y,type:"button"},"Add Note"),r.createElement("button",{className:l.dashboardAdminBtn,onClick:I,type:"button",style:{background:"#2196F3"}},"🔑 Pending Claims"),r.createElement("button",{className:l.dashboardAdminBtn,onClick:b,type:"button"},"Admin"),w()&&E&&r.createElement("button",{className:l.dashboardAdminBtn,onClick:E,type:"button",style:{background:"#8B4513"}},"Platform Admin"),r.createElement("button",{className:l.dashboardAdminBtn,onClick:async()=>{if(e==="challenge")C("scheduled");else try{const M=await(await fetch(`${s}/api/seasons/activate-phase2/${encodeURIComponent(n)}`,{method:"POST",headers:{"Content-Type":"application/json"}})).json();M.success?(C("challenge"),alert("✅ Phase 2 activated successfully! The system will now allow Phase 2 challenges."),n&&S()):alert("Failed to activate Phase 2: "+M.error)}catch(N){alert("Error activating Phase 2: "+N.message)}},type:"button"},e==="challenge"?"Switch to Phase 1 (Scheduled)":"Activate Phase 2 (Challenge)"),e&&r.createElement("button",{className:l.dashboardAdminBtn,onClick:()=>C(null),type:"button",style:{background:"#888"}},"Clear Phase Override")):null;y5.propTypes={userPin:W.string,loadingPendingRegistrations:W.bool,phaseOverride:W.string,selectedDivision:W.string,BACKEND_URL:W.string.isRequired,styles:W.object.isRequired,onShowRegistrationModal:W.func.isRequired,onLoadPendingRegistrations:W.func.isRequired,onSetPendingRegistrations:W.func.isRequired,onShowPendingRegistrationsModal:W.func.isRequired,onCreateTestRegistration:W.func.isRequired,onShowNoteModal:W.func.isRequired,onGoToAdmin:W.func.isRequired,onGoToPlatformAdmin:W.func,isSuperAdmin:W.func.isRequired,onActivatePhase2:W.func.isRequired,onSetPhaseOverride:W.func.isRequired,onRefreshSeasonData:W.func.isRequired,onShowPendingClaimsModal:W.func.isRequired};const z7=({onClose:t})=>{const[a,e]=v.useState([]),[n,s]=v.useState(!0),[l,c]=v.useState(""),[u,m]=v.useState(null),[h,f]=v.useState(""),[y,b]=v.useState(!1);v.useEffect(()=>{E()},[]);const E=async()=>{try{const S=await fetch(`${Ce}/api/auth/pending-claims`),I=await S.json();S.ok&&I.success?e(I.claims):c(I.message||"Error fetching pending claims")}catch(S){console.error("Fetch claims error:",S),c("Error fetching pending claims")}finally{s(!1)}},w=async S=>{if(!h.trim()){c("Please enter a PIN for the user");return}if(h.length<4){c("PIN must be at least 4 characters");return}b(!0),c("");try{const I=await fetch(`${Ce}/api/auth/approve-account-claim`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({claimId:S,pin:h})}),k=await I.json();I.ok&&k.success?(e(N=>N.filter(M=>M.id!==S)),m(null),f(""),alert("Account claim approved successfully!")):c(k.message||"Error approving claim")}catch(I){console.error("Approve error:",I),c("Error approving claim")}finally{b(!1)}},_=async S=>{if(confirm("Are you sure you want to reject this account claim? This action cannot be undone.")){b(!0),c("");try{const I=await fetch(`${Ce}/api/auth/reject-account-claim`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({claimId:S})}),k=await I.json();I.ok&&k.success?(e(N=>N.filter(M=>M.id!==S)),m(null),alert("Account claim rejected successfully!")):c(k.message||"Error rejecting claim")}catch(I){console.error("Reject error:",I),c("Error rejecting claim")}finally{b(!1)}}},C=S=>new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return n?r.createElement("div",{className:"pending-claims-overlay"},r.createElement("div",{className:"pending-claims-modal"},r.createElement("div",{className:"loading"},"Loading pending claims..."))):r.createElement("div",{className:"pending-claims-overlay"},r.createElement("div",{className:"pending-claims-modal"},r.createElement("div",{className:"pending-claims-header"},r.createElement("h2",null,"Pending Account Claims"),r.createElement("button",{className:"close-btn",onClick:t},"×")),r.createElement("div",{className:"pending-claims-content"},l&&r.createElement("div",{className:"error-message"},l),a.length===0?r.createElement("div",{className:"no-claims"},r.createElement("p",null,"No pending account claims")):r.createElement("div",{className:"claims-list"},a.map(S=>r.createElement("div",{key:S.id,className:"claim-item"},r.createElement("div",{className:"claim-header"},r.createElement("h3",null,S.firstName," ",S.lastName),r.createElement("span",{className:"claim-date"},C(S.submittedAt))),r.createElement("div",{className:"claim-details"},r.createElement("div",{className:"contact-info"},r.createElement("p",null,r.createElement("strong",null,"Email:")," ",S.email),S.phone&&r.createElement("p",null,r.createElement("strong",null,"Phone:")," ",S.phone)),S.ladderInfo&&r.createElement("div",{className:"ladder-info"},r.createElement("p",null,r.createElement("strong",null,"Ladder Position:")," #",S.ladderInfo.position),r.createElement("p",null,r.createElement("strong",null,"Fargo Rate:")," ",S.ladderInfo.fargoRate),r.createElement("p",null,r.createElement("strong",null,"Record:")," ",S.ladderInfo.wins,"W - ",S.ladderInfo.losses,"L")),S.claimMessage&&r.createElement("div",{className:"claim-message"},r.createElement("p",null,r.createElement("strong",null,"Message:")),r.createElement("p",null,S.claimMessage))),r.createElement("div",{className:"claim-actions"},r.createElement("button",{className:"approve-btn",onClick:()=>m(S),disabled:y},"Approve"),r.createElement("button",{className:"reject-btn",onClick:()=>_(S.id),disabled:y},"Reject")))))),u&&r.createElement("div",{className:"approval-modal-overlay"},r.createElement("div",{className:"approval-modal"},r.createElement("div",{className:"approval-modal-header"},r.createElement("h3",null,"Approve Account for ",u.firstName," ",u.lastName),r.createElement("button",{className:"close-btn",onClick:()=>m(null)},"×")),r.createElement("div",{className:"approval-modal-content"},r.createElement("p",null,"Set a PIN for this user:"),r.createElement("div",{className:"form-group"},r.createElement("input",{type:"text",value:h,onChange:S=>f(S.target.value),placeholder:"Enter 4-digit PIN",maxLength:"4",pattern:"[0-9]*"})),r.createElement("div",{className:"approval-modal-actions"},r.createElement("button",{className:"cancel-btn",onClick:()=>{m(null),f("")}},"Cancel"),r.createElement("button",{className:"confirm-approve-btn",onClick:()=>w(u.id),disabled:y||h.length<4},y?"Approving...":"Approve Account")))))))},b5=({showPlayerSearch:t,showAdminPlayerSearch:a,showPlayerAvailability:e,showProposalModal:n,selectedOpponent:s,proposalData:l,fullName:c,senderEmail:u,selectedDivision:m,effectivePhase:h,playerName:f,playerLastName:y,onClosePlayerSearch:b,onCloseAdminPlayerSearch:E,onClosePlayerAvailability:w,onCloseProposalModal:_,onProposeMatch:C,onProposalComplete:S,onUpdateProposalLocally:I,onRefetchMatches:k,onRefetchProposals:N})=>r.createElement(r.Fragment,null,t&&r.createElement(f0,{onClose:b,excludeName:c,senderName:c,senderEmail:u,selectedDivision:m,phase:h,onProposalComplete:b}),a&&r.createElement(f0,{onClose:E,excludeName:null,senderName:c,senderEmail:u,phase:h,onProposalComplete:E}),e&&s&&r.createElement(Rp,{onClose:w,player:s,onProposeMatch:C,selectedDivision:m,phase:h}),n&&l&&r.createElement(Wp,{player:l.player,day:l.day,slot:l.slot,selectedDivision:l.selectedDivision,phase:l.phase||h,onClose:_,senderName:`${f} ${y}`,senderEmail:u,onProposalComplete:M=>{_(),M&&I(M,"add"),k(),N()}}));b5.propTypes={showPlayerSearch:W.bool,showAdminPlayerSearch:W.bool,showPlayerAvailability:W.bool,showProposalModal:W.bool,selectedOpponent:W.object,proposalData:W.object,fullName:W.string.isRequired,senderEmail:W.string.isRequired,selectedDivision:W.string.isRequired,effectivePhase:W.string.isRequired,playerName:W.string.isRequired,playerLastName:W.string.isRequired,onClosePlayerSearch:W.func.isRequired,onCloseAdminPlayerSearch:W.func.isRequired,onClosePlayerAvailability:W.func.isRequired,onCloseProposalModal:W.func.isRequired,onProposeMatch:W.func.isRequired,onProposalComplete:W.func.isRequired,onUpdateProposalLocally:W.func.isRequired,onRefetchMatches:W.func.isRequired,onRefetchProposals:W.func.isRequired};const v5=({showStandings:t,showDefenseChallengers:a,modalOpen:e,showNoteModal:n,showProposalListModal:s,showSentProposalListModal:l,showCounterModal:c,showProposalDetailsModal:u,selectedMatch:m,selectedProposal:h,counterProposal:f,newNote:y,noteError:b,proposalNote:E,pendingProposals:w,sentProposals:_,players:C,STANDINGS_URLS:S,onCloseStandings:I,onCloseDefenseChallengers:k,onCloseModal:N,onCloseNoteModal:M,onCloseProposalListModal:R,onCloseSentProposalListModal:$,onCloseCounterModal:z,onCloseProposalDetailsModal:Y,onAddNote:J,onUpdateNewNote:ae,onSelectProposal:H,onSelectSentProposal:Z,onConfirmProposal:O,onCounterPropose:L,onSubmitCounterProposal:A,onEditProposal:U,onDeleteProposal:q,onUpdateProposalLocally:Q,onRefetchMatches:T,onRefetchProposals:F,selectedDivision:V,effectivePhase:j,userPin:re,playerName:K,playerLastName:ce,senderEmail:xe,styles:Se,proposalService:Ke})=>r.createElement(r.Fragment,null,r.createElement(x6,{open:t,onClose:I,standingsUrl:S[V]}),r.createElement(E6,{open:a,onClose:k,playerName:K,playerLastName:ce,selectedDivision:V}),r.createElement(F6,{open:e,onClose:N,match:m,onCompleted:pe=>Q(pe,"remove"),userPin:re,onMatchUpdated:pe=>Q(pe,"update"),senderName:`${K} ${ce}`,senderEmail:xe}),n&&r.createElement("div",{className:Se.modalOverlay,style:{zIndex:99999}},r.createElement("div",{className:Se.modalContent,style:{maxWidth:400,margin:"auto"}},r.createElement("h2",null,"Add News/Note"),r.createElement("textarea",{value:y,onChange:ae,rows:4,style:{width:"100%",marginBottom:12,borderRadius:6,padding:8},placeholder:"Enter your note..."}),b&&r.createElement("div",{style:{color:"red",marginBottom:8}},b),r.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:8}},r.createElement("button",{className:Se.dashboardBtn,onClick:M,type:"button"},"Cancel"),r.createElement("button",{className:Se.dashboardBtn,disabled:!y.trim(),onClick:J,type:"button"},"Add Note")))),s&&r.createElement(N2,{proposals:w,onSelect:H,onClose:R,type:"received"}),l&&r.createElement(N2,{proposals:_,onSelect:Z,onClose:$,type:"sent"}),h&&!u&&r.createElement("div",{className:Se.modalOverlay},r.createElement("div",{className:Se.modalContent,style:{maxWidth:420,margin:"auto"}},r.createElement(Q6,{proposal:h,userNote:E,setUserNote:ae,onConfirm:O,onClose:Y,onCounterPropose:L,phase:j,currentUserName:`${K} ${ce}`,currentUserEmail:xe}))),r.createElement(qE,{proposal:f,open:c,onClose:z,onSubmit:A,senderPlayer:C.find(pe=>{var Ue,je;return`${pe.firstName} ${pe.lastName}`.trim().toLowerCase()===((f==null?void 0:f.senderName)||"").trim().toLowerCase()||((Ue=pe.email)==null?void 0:Ue.toLowerCase())===((je=f==null?void 0:f.senderEmail)==null?void 0:je.toLowerCase())}),phase:j,selectedDivision:V}),h&&u&&r.createElement(MP,{proposal:h,open:u,onClose:Y,onEdit:U,onDelete:q,phase:j,currentUserName:`${K} ${ce}`,currentUserEmail:xe}));v5.propTypes={showStandings:W.bool,showDefenseChallengers:W.bool,modalOpen:W.bool,showNoteModal:W.bool,showProposalListModal:W.bool,showSentProposalListModal:W.bool,showCounterModal:W.bool,showProposalDetailsModal:W.bool,selectedMatch:W.object,selectedProposal:W.object,counterProposal:W.object,newNote:W.string,noteError:W.string,proposalNote:W.string,pendingProposals:W.array,sentProposals:W.array,players:W.array,STANDINGS_URLS:W.object.isRequired,onCloseStandings:W.func.isRequired,onCloseDefenseChallengers:W.func.isRequired,onCloseModal:W.func.isRequired,onCloseNoteModal:W.func.isRequired,onCloseProposalListModal:W.func.isRequired,onCloseSentProposalListModal:W.func.isRequired,onCloseCounterModal:W.func.isRequired,onCloseProposalDetailsModal:W.func.isRequired,onAddNote:W.func.isRequired,onUpdateNewNote:W.func.isRequired,onSelectProposal:W.func.isRequired,onSelectSentProposal:W.func.isRequired,onConfirmProposal:W.func.isRequired,onCounterPropose:W.func.isRequired,onSubmitCounterProposal:W.func.isRequired,onEditProposal:W.func.isRequired,onDeleteProposal:W.func.isRequired,onUpdateProposalLocally:W.func.isRequired,onRefetchMatches:W.func.isRequired,onRefetchProposals:W.func.isRequired,selectedDivision:W.string.isRequired,effectivePhase:W.string.isRequired,userPin:W.string,playerName:W.string.isRequired,playerLastName:W.string.isRequired,senderEmail:W.string.isRequired,styles:W.object.isRequired,proposalService:W.object.isRequired};const x5=({showEditProposalModal:t,showChatModal:a,showCompletedModal:e,winnerModalOpen:n,validationModalOpen:s,showSmartMatchmakingModal:l,showUserProfileModal:c,showPhase1Rules:u,showPhase1Overview:m,showRegistrationModal:h,showPendingRegistrationsModal:f,showCalendarModal:y,selectedProposal:b,chatType:E,opponentEmails:w,completedMatches:_,winnerModalPlayers:C,winnerModalMatch:S,matchToValidate:I,selectedOpponentForSmartMatch:k,pendingRegistrations:N,onCloseEditProposalModal:M,onCloseChatModal:R,onCloseCompletedModal:$,onCloseWinnerModal:z,onCloseValidationModal:Y,onCloseSmartMatchmakingModal:J,onCloseUserProfileModal:ae,onClosePhase1Rules:H,onClosePhase1Overview:Z,onCloseRegistrationModal:O,onClosePendingRegistrationsModal:L,onCloseCalendarModal:A,onSaveEditProposal:U,onProposalUpdated:q,onSelectWinner:Q,onValidateMatch:T,onRejectMatch:F,onSmartMatchProposalComplete:V,onUserUpdate:j,onRegistrationSuccess:re,onApproveRegistration:K,onRejectRegistration:ce,onOpenOpponentsModal:xe,onMatchClick:Se,onSmartMatchClick:Ke,selectedDivision:pe,effectivePhase:Ue,userPin:je,playerName:it,playerLastName:Ve,senderEmail:Lt,isMobile:gn,currentUser:Pt,players:ln,filteredUpcomingMatches:Zn,phase1EndDate:rn,playerStats:me,standings:et,timeLeft:Ge,deadlineStatus:wt,allPlayers:te,styles:Le,proposalService:He,seasonService:Ae,seasonData:tt,currentPhaseInfo:dt,BACKEND_URL:Kt,markMatchCompleted:Vn,setCompletingMatchId:Hn,updateCompletedMatch:Dn,refetchMatches:Yn,refetchProposals:Na,setPendingRegistrations:Qe})=>r.createElement(r.Fragment,null,b&&t&&r.createElement(LP,{proposal:b,open:t,onClose:M,onSave:U,selectedDivision:pe,phase:Ue,receiverPlayer:ln.find(ut=>{var sn,ka;return`${ut.firstName} ${ut.lastName}`.trim().toLowerCase()===(b.receiverName||"").trim().toLowerCase()||((sn=ut.email)==null?void 0:sn.toLowerCase())===((ka=b.receiverEmail)==null?void 0:ka.toLowerCase())})}),a&&r.createElement("div",{className:Le.modalOverlay,style:{zIndex:99999}},r.createElement("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"95vw",height:"95vh",maxWidth:"1400px",maxHeight:"900px",background:"#181818",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",display:"flex",flexDirection:"column",overflow:"hidden"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderBottom:"1px solid #333",background:"#222",borderRadius:"12px 12px 0 0"}},r.createElement("h2",{style:{margin:0,color:"#ffffff",fontSize:"1.2em"}},E==="league"?"League Chat":"Direct Messages"),r.createElement("button",{onClick:R,style:{background:"none",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px",transition:"background-color 0.2s"},onMouseOver:ut=>ut.target.style.background="#444",onMouseOut:ut=>ut.target.style.background="none",type:"button"},"×")),r.createElement("div",{style:{flex:1,overflow:"hidden",position:"relative"}},E==="league"?r.createElement(m5,{userName:`${it} ${Ve}`,userEmail:Lt,userPin:je,onClose:R}):r.createElement(E9,{userName:`${it} ${Ve}`,userEmail:Lt,userPin:je,selectedDivision:pe,opponentEmails:w,onClose:R})))),e&&r.createElement("div",{className:Le.modalOverlay},r.createElement("div",{className:Le.modalContent,style:{maxWidth:800,margin:"auto"}},r.createElement("h2",null,"Completed Matches"),r.createElement("div",{style:{maxHeight:"70vh",overflowY:"auto"}},_.length===0?r.createElement("p",null,"No completed matches yet."):r.createElement("div",{style:{display:"grid",gap:"10px"}},_.map((ut,sn)=>r.createElement("div",{key:ut._id||sn,style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",padding:"15px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("div",null,r.createElement("strong",null,ut.senderName)," vs ",r.createElement("strong",null,ut.receiverName)),r.createElement("div",{style:{color:"#4CAF50"}},"Winner: ",r.createElement("strong",null,ut.winner))),ut.notes&&r.createElement("p",{style:{margin:"5px 0 0 0",color:"#ccc",fontSize:"0.9em"}},"Notes: ",ut.notes))))),r.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:15}},r.createElement("button",{className:Le.dashboardBtn,onClick:$,type:"button"},"Close")))),r.createElement(Y0,{open:n,onClose:z,player1:C.player1,player2:C.player2,onSelect:Q}),r.createElement(x7,{isOpen:s,onClose:Y,match:I,onValidate:T,onReject:F}),r.createElement(_7,{isOpen:l,onClose:J,player1:Pt,player2:k,upcomingMatches:Zn,isMobile:gn,selectedDivision:pe,phase:Ue,senderName:`${it} ${Ve}`,senderEmail:Lt,onProposalComplete:V}),r.createElement(C7,{isOpen:c,onClose:ae,currentUser:Pt,isMobile:gn,onUserUpdate:j,availableLocations:["Legends Brews & Cues","Antiques","Rac m","Westside Billiards","Bijou Billiards","Crooked Cue","Back on the Boulevard","Main Street Tavern","Murray Street Darts","My House"]}),r.createElement(w7,{isOpen:u,onClose:H,isMobile:gn}),r.createElement(S7,{isOpen:m,onClose:Z,isMobile:gn,playerName:it,playerLastName:Ve,completedMatches:_,totalRequiredMatches:0,playerStats:me,standings:et,timeLeft:Ge,deadlineStatus:wt,phase1EndDate:rn,allPlayers:te,selectedDivision:pe}),r.createElement(I7,{isOpen:h,onClose:O,onSuccess:re,isMobile:gn,isAdmin:!0}),f&&r.createElement("div",{className:Le.modalOverlay,style:{zIndex:99999}},r.createElement("div",{className:Le.modalContent,style:{maxWidth:800,margin:"auto"}},r.createElement("h2",null,"Pending Registrations"),r.createElement("div",{style:{padding:"20px",maxHeight:"70vh",overflowY:"auto"}},N.length===0?r.createElement("div",{style:{textAlign:"center",color:"#ccc",padding:"40px"}},r.createElement("h3",null,"No Pending Registrations"),r.createElement("p",null,"All registrations have been processed.")):r.createElement("div",{style:{display:"grid",gap:"15px"}},N.sort((ut,sn)=>new Date(ut.registrationDate)-new Date(sn.registrationDate)).map((ut,sn)=>r.createElement("div",{key:ut._id,style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",padding:"15px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"}},r.createElement("div",null,r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"5px"}},r.createElement("span",{style:{background:"#e53e3e",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold",minWidth:"20px",textAlign:"center"}},"#",sn+1),r.createElement("h4",{style:{color:"#e53e3e",margin:"0"}},ut.firstName," ",ut.lastName)),r.createElement("p",{style:{color:"#ccc",margin:"0 0 5px 0"}},ut.email," • ",ut.phone),r.createElement("p",{style:{color:"#999",margin:"0 0 5px 0",fontSize:"12px"}},"Registered: ",new Date(ut.registrationDate).toLocaleDateString()),r.createElement("p",{style:{color:"#999",margin:"0",fontSize:"12px"}},"Division: ",ut.division||"Not assigned")),r.createElement("div",{style:{display:"flex",gap:"8px",flexDirection:"column",alignItems:"flex-end"}},r.createElement("div",{style:{marginBottom:"10px",textAlign:"right"}},r.createElement("label",{style:{color:"#ccc",fontSize:"12px",display:"block",marginBottom:"2px"}},"Assign Division:"),r.createElement("select",{id:`division-${ut._id}`,defaultValue:ut.division||"",style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"12px",minWidth:"120px"}},r.createElement("option",{value:""},"Select Division"),r.createElement("option",{value:"FRBCAPL TEST"},"FRBCAPL TEST"),r.createElement("option",{value:"Singles Test"},"Singles Test"),r.createElement("option",{value:"Waiting List"},"Waiting List"))),r.createElement("div",{style:{display:"flex",gap:"8px"}},r.createElement("button",{onClick:()=>K(ut),style:{background:"#4CAF50",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"}},"Approve"),r.createElement("button",{onClick:()=>ce(ut),style:{background:"#f44336",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"}},"Reject")))),r.createElement("div",{style:{marginTop:"10px"}},r.createElement("h5",{style:{color:"#e53e3e",margin:"0 0 5px 0",fontSize:"14px"}},"Availability:"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"5px",fontSize:"12px"}},Object.entries(ut.availability).map(([ka,Sn])=>r.createElement("div",{key:ka,style:{color:"#ccc"}},r.createElement("strong",null,ka,":")," ",Sn.length>0?Sn.join(", "):"None")))),r.createElement("div",{style:{marginTop:"10px"}},r.createElement("h5",{style:{color:"#e53e3e",margin:"0 0 5px 0",fontSize:"14px"}},"Locations:"),r.createElement("p",{style:{color:"#ccc",margin:"0",fontSize:"12px"}},ut.locations)))))),r.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:15}},r.createElement("button",{className:Le.dashboardBtn,onClick:L,type:"button"},"Close")))),r.createElement(v7,{isOpen:y,onClose:A,isMobile:gn,phase1EndDate:rn,upcomingMatches:Zn,playerName:it,playerLastName:Ve,onOpenOpponentsModal:xe,onMatchClick:Se,onSmartMatchClick:Ke}));x5.propTypes={showEditProposalModal:W.bool,showChatModal:W.bool,showCompletedModal:W.bool,winnerModalOpen:W.bool,validationModalOpen:W.bool,showSmartMatchmakingModal:W.bool,showUserProfileModal:W.bool,showPhase1Rules:W.bool,showPhase1Overview:W.bool,showRegistrationModal:W.bool,showPendingRegistrationsModal:W.bool,showCalendarModal:W.bool,selectedProposal:W.object,chatType:W.string,opponentEmails:W.array,completedMatches:W.array,winnerModalPlayers:W.object,winnerModalMatch:W.object,matchToValidate:W.object,selectedOpponentForSmartMatch:W.object,pendingRegistrations:W.array,onCloseEditProposalModal:W.func.isRequired,onCloseChatModal:W.func.isRequired,onCloseCompletedModal:W.func.isRequired,onCloseWinnerModal:W.func.isRequired,onCloseValidationModal:W.func.isRequired,onCloseSmartMatchmakingModal:W.func.isRequired,onCloseUserProfileModal:W.func.isRequired,onClosePhase1Rules:W.func.isRequired,onClosePhase1Overview:W.func.isRequired,onCloseRegistrationModal:W.func.isRequired,onClosePendingRegistrationsModal:W.func.isRequired,onCloseCalendarModal:W.func.isRequired,onSaveEditProposal:W.func.isRequired,onProposalUpdated:W.func.isRequired,onSelectWinner:W.func.isRequired,onValidateMatch:W.func.isRequired,onRejectMatch:W.func.isRequired,onSmartMatchProposalComplete:W.func.isRequired,onUserUpdate:W.func.isRequired,onRegistrationSuccess:W.func.isRequired,onApproveRegistration:W.func.isRequired,onRejectRegistration:W.func.isRequired,onOpenOpponentsModal:W.func.isRequired,onMatchClick:W.func.isRequired,onSmartMatchClick:W.func.isRequired,selectedDivision:W.string.isRequired,effectivePhase:W.string.isRequired,userPin:W.string,playerName:W.string.isRequired,playerLastName:W.string.isRequired,senderEmail:W.string.isRequired,isMobile:W.bool.isRequired,currentUser:W.object,players:W.array,filteredUpcomingMatches:W.array,phase1EndDate:W.string,playerStats:W.object,standings:W.array,timeLeft:W.string,deadlineStatus:W.string,allPlayers:W.array,styles:W.object.isRequired,proposalService:W.object.isRequired,seasonService:W.object.isRequired,seasonData:W.object,currentPhaseInfo:W.object,BACKEND_URL:W.string.isRequired,markMatchCompleted:W.func.isRequired,setCompletingMatchId:W.func.isRequired,updateCompletedMatch:W.func.isRequired,refetchMatches:W.func.isRequired,refetchProposals:W.func.isRequired,setPendingRegistrations:W.func.isRequired};function Sx(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-");return`${c}-${u}-${l}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}function E5({playerName:t,playerLastName:a,onOpenChat:e,userPin:n,onGoToAdmin:s,onLogout:l,onScheduleMatch:c,senderEmail:u,onGoToPlatformAdmin:m}){const[h,f]=v.useState([]),[y,b]=v.useState(""),[E,w]=v.useState(!1),[_,C]=v.useState(!1),[S,I]=v.useState(!1),[k,N]=v.useState(null),[M,R]=v.useState(""),[$,z]=v.useState(!1),[Y,J]=v.useState(!1),[ae,H]=v.useState(null),[Z,O]=v.useState(!1),[L,A]=v.useState(""),[U,q]=v.useState(""),[Q,T]=v.useState(null),[F,V]=v.useState(!1),[j,re]=v.useState(!1),[K,ce]=v.useState(!1),[xe,Se]=v.useState("scheduled"),[Ke,pe]=v.useState(!1),[Ue,je]=v.useState(null),[it,Ve]=v.useState(!1),[Lt,gn]=v.useState(!1),[Pt,ln]=v.useState(null),[Zn,rn]=v.useState(!1),[me,et]=v.useState(null),[Ge,wt]=v.useState(!1),[te,Le]=v.useState(null),[He,Ae]=v.useState([]),[tt,dt]=v.useState(!1),[Kt,Vn]=v.useState(0),[Hn,Dn]=v.useState(0),[Yn,Na]=v.useState(0),Qe=`${t} ${a}`.trim(),{pendingProposals:ut,sentProposals:sn,loading:ka,refetch:Sn,updateProposalLocally:Ba}=l5(Qe,y),Qn=Pt||xe,{matches:ma,completedMatches:Aa,loading:Oa,refetch:Un,markMatchCompleted:Gs,updateCompletedMatch:Io}=D7(Qe,y,Qn),xa=()=>["frbcapl@gmail.com","sslampro@gmail.com"].includes(u.toLowerCase())&&n==="777777",{seasonData:en,currentPhaseInfo:Cn,loading:Ka}=M7(y),{standings:qs,loading:Zs}=T7(y),{notes:os,loading:Vs,refetch:Or,updateNoteLocally:ls}=R7(),{scheduledMatches:Da,loading:zr}=L7(y),[cs,Sr]=v.useState(0),[yn,zi]=v.useState(0),[Ui,pa]=v.useState(!1),[Cr,ds]=v.useState(!1),[_r,Qs]=v.useState(""),[us,ms]=v.useState("all"),[ps,Ma]=v.useState("date"),[fs,za]=v.useState(null),[Ir,Fi]=v.useState(!1),[Wi,Pl]=v.useState("direct"),[No,Jn]=v.useState(0),[ko,ne]=v.useState(!1),[P,he]=v.useState(null),[be,_e]=v.useState({player1:"",player2:""}),[Me,De]=v.useState(!1),[Be,mt]=v.useState(null),[qe,ft]=v.useState(!1),[Je,Te]=v.useState(!1),[fe,ke]=v.useState(!1),[Pe,Ye]=v.useState(!1),[At,It]=v.useState([]),[Ta,hs]=v.useState(!1),[Nt,We]=v.useState(!1),[Ut,tn]=v.useState(!1),[Mn,sa]=v.useState(!1),[bn,cn]=v.useState(null),[Xn,ia]=v.useState(null),[Kn,er]=v.useState("normal"),[Ea,tr]=v.useState(null),Tn=v.useRef(null);Xa();const vn=typeof window<"u"&&window.innerWidth<=768||typeof navigator<"u"&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?!0:typeof window<"u"&&window.self!==window.top?window.innerWidth<=768||window.innerHeight<=600:!1;v.useEffect(()=>{(async()=>{try{const Ie=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);console.log("Device Info:",{userAgent:navigator.userAgent,isMobile:Ie,backendUrl:Ce,protocol:window.location.protocol,hostname:window.location.hostname}),console.log("Testing backend connection...");const Oe=await fetch(`${Ce}/health`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",credentials:"include"});Oe.ok?console.log("✅ Backend connection successful"):console.error("❌ Backend connection failed:",Oe.status,Oe.statusText)}catch(Ie){console.error("❌ Backend connection error:",Ie),console.error("Error details:",{name:Ie.name,message:Ie.message,stack:Ie.stack})}})()},[]),v.useEffect(()=>{Sr(ut.length)},[ut]),v.useEffect(()=>{zi(sn.length)},[sn]),v.useEffect(()=>{async function G(){try{const Oe=await(await fetch(`${Ce}/api/messages/unread?user=${encodeURIComponent(u)}`)).json();Array.isArray(Oe)&&Jn(Oe.length)}catch(Ie){console.error("Failed to fetch unread messages:",Ie)}}if(u){G();const Ie=setInterval(G,3e4);return()=>clearInterval(Ie)}},[u]),v.useEffect(()=>{if(!t||!a||!y||Oa||ka)return;const G=Qn==="challenge"?2:1,Oe=Da.filter(Qt=>Qt.division===y&&Qt.phase===G&&(Qt.player1&&Qt.player1.trim().toLowerCase()===Qe.toLowerCase()||Qt.player2&&Qt.player2.trim().toLowerCase()===Qe.toLowerCase())).length;Dn(Aa.length);const kt=ma.filter(Qt=>Qt.status==="confirmed"&&(Qt.completed===!1||Qt.completed===void 0)).length+Aa.length,pt=Math.max(0,Oe-kt);Vn(pt),Na(Oe)},[t,a,y,Da,Aa,ma,Oa,ka]);const Nr=(()=>{if(!t||!a||!y)return 0;const Ie=Da.filter(Oe=>Oe.division===y&&(Oe.player1&&Oe.player1.trim().toLowerCase()===Qe.toLowerCase()||Oe.player2&&Oe.player2.trim().toLowerCase()===Qe.toLowerCase())).length;return Ie===0&&Qn==="scheduled"?(console.log("No schedule matches found, using fallback of 6 matches for Phase 1"),6):Ie})();v.useEffect(()=>{let G=!0;async function Ie(){try{const Oe=await fetch(`${Ce}/api/users/search?approved=true`);if(!Oe.ok)throw new Error("Failed to fetch players from database");const yt=await Oe.json();if(!yt.users||yt.users.length===0){G&&Ae([]);return}const kt=yt.users.map(pt=>({firstName:pt.firstName||"",lastName:pt.lastName||"",email:pt.email||"",phone:pt.phone||"",locations:pt.locations||"",availability:pt.availability||{Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[],Sun:[]},pin:pt.pin||"",preferredContacts:pt.preferredContacts||[],division:pt.division||"",divisions:pt.divisions||[]})).filter(pt=>pt.email&&pt.firstName&&pt.lastName);if(G){Ae(kt),Od(kt);const pt=kt.find(Qt=>Qt.firstName===t&&Qt.lastName===a);pt&&Fl(pt)}}catch(Oe){console.error("Error loading players:",Oe),G&&(Ae([]),Od([]),Fl(null))}}return Ie(),()=>{G=!1}},[]),v.useEffect(()=>{u&&u5.getUser(u).then(G=>{let Ie=[];Array.isArray(G.divisions)?Ie=G.divisions.map(Oe=>Oe.trim()).filter(Boolean):typeof G.divisions=="string"?Ie=G.divisions.split(",").map(Oe=>Oe.trim()).filter(Boolean):Ie=[],f(Ie)}).catch(()=>{f([])})},[u]),v.useEffect(()=>{h.length>0?b(h[0]):b("")},[h]);const Rn=async()=>{q("");try{const G=await xm.createNote(L.trim());ls(G,"add"),A(""),O(!1)}catch{q("Failed to add note")}},kr=async G=>{if(window.confirm("Delete this note?"))try{await xm.deleteNote(G),ls({_id:G},"remove")}catch(Ie){console.error("Failed to delete note:",Ie)}},Js=async()=>{if(window.confirm("Are you sure you want to clear all notes?"))try{for(const G of os)await xm.deleteNote(G._id);setNotes([]),Or()}catch(G){console.error("Failed to clear notes:",G)}};async function gs(G){if(ae)try{await Ga.counterProposal(ae._id,G),J(!1),H(null),Un(),Sn()}catch(Ie){console.error("Failed to counter proposal:",Ie)}}function Bl(){V(!1),T(null)}const Ol=Qn==="challenge"?2:1,Ao=Da.filter(G=>G.division===y&&(!G.phase||G.phase===Ol)&&(G.player1&&G.player1.trim().toLowerCase()===Qe.toLowerCase()||G.player2&&G.player2.trim().toLowerCase()===Qe.toLowerCase())),ji=Array.from(new Set(Ao.map(G=>G.player1&&G.player1.trim().toLowerCase()===Qe.toLowerCase()?G.player2Email||G.player2EmailAddress||G.player2Email||G.player2||null:G.player2&&G.player2.trim().toLowerCase()===Qe.toLowerCase()&&(G.player1Email||G.player1EmailAddress||G.player1Email||G.player1)||null).filter(Boolean)));function Do(){var Oe,yt;const G=new Set,Ie=[];for(const kt of Ao){const pt=kt.player1&&kt.player1.trim().toLowerCase()===Qe.toLowerCase()?kt.player2:kt.player1;if(Aa.some(Xe=>{var Ur,Hi;const fa=[(Ur=Xe.player1Id)==null?void 0:Ur.trim().toLowerCase(),(Hi=Xe.player2Id)==null?void 0:Hi.trim().toLowerCase()];return Xe.division===y&&fa.includes(Qe.toLowerCase())&&fa.includes(pt==null?void 0:pt.trim().toLowerCase())}))continue;let ei=!1;for(let Xe=0;Xe<ma.length;Xe++){if(G.has(Xe))continue;const fa=ma[Xe],Ur=[(Oe=fa.player1Id)==null?void 0:Oe.trim().toLowerCase(),(yt=fa.player2Id)==null?void 0:yt.trim().toLowerCase()];if(fa.division===y&&Ur.includes(Qe.toLowerCase())&&Ur.includes(pt==null?void 0:pt.trim().toLowerCase())){G.add(Xe),ei=!0;break}}ei||Ie.push(kt)}return Ie}const Td=Do().map(G=>{var yt,kt;const Ie=G.player1&&G.player1.trim().toLowerCase()===Qe.toLowerCase()?(yt=G.player2)==null?void 0:yt.trim():(kt=G.player1)==null?void 0:kt.trim();if(!Ie)return null;const Oe=He.find(pt=>`${pt.firstName} ${pt.lastName}`.trim().toLowerCase()===Ie.toLowerCase());return{match:G,player:Oe,opponentName:Ie}}).filter(Boolean);function Yp(G){const Ie=Td.find(yt=>yt.opponentName&&yt.opponentName.trim().toLowerCase()===G.trim().toLowerCase()),Oe=(Ie==null?void 0:Ie.player)||He.find(yt=>`${yt.firstName} ${yt.lastName}`.trim().toLowerCase()===G.trim().toLowerCase());if(!Oe){alert("Player data not found for: "+G);return}if(Ud){zl(Oe);return}if(!Oe.email){alert("This opponent does not have an email on file and cannot be proposed a match.");return}et(Oe),rn(!0),pe(!1)}function Rd(){if(console.log("Smart match button clicked!"),console.log("currentUser:",Xs),console.log("allPlayers:",Ar),console.log("allPlayers length:",Ar==null?void 0:Ar.length),!Xs||!Ar||Ar.length===0){console.log("Player data not available, showing alert"),alert("Player data not available for smart match. Please try again.");return}pe(!0),Ks(!0)}function zl(G){Vp(G),pe(!1),Ks(!1),Bd(!0)}v.useEffect(()=>{if(!u||!t||!y||!en||Qn!=="scheduled")return;const G=async()=>{try{await B7.checkAndSendDeadlineReminder(u,`${t} ${a}`,y)}catch(Oe){console.error("Error checking deadline reminders:",Oe)}};G();const Ie=setInterval(G,60*60*1e3);return()=>clearInterval(Ie)},[u,t,a,y,en,Qn]);const ys=ma.filter(G=>G.division===y).filter(G=>{if(_r){let Ie="";if(G.player1Id&&G.player2Id?G.player1Id.trim().toLowerCase()===Qe.trim().toLowerCase()?Ie=G.player2Id:Ie=G.player1Id:G.senderName&&G.receiverName&&(G.senderName.trim().toLowerCase()===Qe.trim().toLowerCase()?Ie=G.receiverName:Ie=G.senderName),!Ie.toLowerCase().includes(_r.toLowerCase()))return!1}return!(us!=="all"&&(us==="completed"&&G.status!=="completed"||us==="pending"&&G.status!=="pending"||us==="upcoming"&&G.status==="completed"))}).sort((G,Ie)=>{switch(ps){case"date":const Oe=G.scheduledDate?new Date(G.scheduledDate):new Date(G.date||0),yt=Ie.scheduledDate?new Date(Ie.scheduledDate):new Date(Ie.date||0);return Oe-yt;case"opponent":let kt="",pt="";return G.player1Id&&G.player2Id?kt=G.player1Id.trim().toLowerCase()===Qe.trim().toLowerCase()?G.player2Id:G.player1Id:G.senderName&&G.receiverName&&(kt=G.senderName.trim().toLowerCase()===Qe.trim().toLowerCase()?G.receiverName:G.senderName),Ie.player1Id&&Ie.player2Id?pt=Ie.player1Id.trim().toLowerCase()===Qe.trim().toLowerCase()?Ie.player2Id:Ie.player1Id:Ie.senderName&&Ie.receiverName&&(pt=Ie.senderName.trim().toLowerCase()===Qe.trim().toLowerCase()?Ie.receiverName:Ie.senderName),kt.localeCompare(pt);case"status":const Qt={pending:1,confirmed:2,completed:3},ei=Qt[G.status]||0,Xe=Qt[Ie.status]||0;return ei-Xe;default:return 0}});function Ul(G){T(G),V(!0)}const $p=K&&r.createElement(Xt,{open:K,onClose:()=>{ce(!1),Qs(""),ms("all"),Ma("date")},title:`🎯 All Upcoming Matches (${ys.length})`,maxWidth:"900px",className:"all-matches-modal"},r.createElement("div",{style:{display:"flex",gap:"8px",flexWrap:vn?"wrap":"nowrap",alignItems:"center",marginBottom:"8px"}},r.createElement("div",{style:{flex:1,minWidth:vn?"100%":"200px",position:"relative"}},r.createElement("input",{type:"text",placeholder:"Search by opponent name...",value:_r,onChange:G=>Qs(G.target.value),style:{width:"100%",padding:"8px 12px 8px 36px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#fff",fontSize:"0.9rem",outline:"none",transition:"all 0.2s ease"},onFocus:G=>{G.target.style.border="1px solid rgba(255, 255, 255, 0.4)",G.target.style.background="rgba(0, 0, 0, 0.5)"},onBlur:G=>{G.target.style.border="1px solid rgba(255, 255, 255, 0.2)",G.target.style.background="rgba(0, 0, 0, 0.3)"}}),r.createElement("span",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#888",fontSize:"0.9rem"}},"🔍")),r.createElement("select",{value:us,onChange:G=>ms(G.target.value),style:{padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#fff",fontSize:"0.9rem",outline:"none",cursor:"pointer",minWidth:vn?"100%":"120px"},onFocus:G=>{G.target.style.border="1px solid rgba(255, 255, 255, 0.4)"},onBlur:G=>{G.target.style.border="1px solid rgba(255, 255, 255, 0.2)"}},r.createElement("option",{value:"all"},"All Matches"),r.createElement("option",{value:"upcoming"},"Upcoming"),r.createElement("option",{value:"completed"},"Completed"),r.createElement("option",{value:"pending"},"Pending")),r.createElement("select",{value:ps,onChange:G=>Ma(G.target.value),style:{padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#fff",fontSize:"0.9rem",outline:"none",cursor:"pointer",minWidth:vn?"100%":"100px"},onFocus:G=>{G.target.style.border="1px solid rgba(255, 255, 255, 0.4)"},onBlur:G=>{G.target.style.border="1px solid rgba(255, 255, 255, 0.2)"}},r.createElement("option",{value:"date"},"Sort by Date"),r.createElement("option",{value:"opponent"},"Sort by Opponent"),r.createElement("option",{value:"status"},"Sort by Status"))),r.createElement("div",{style:{flex:1,overflowY:"auto",height:"450px",minHeight:"200px"}},ys.length===0?r.createElement("div",{style:{textAlign:"center",padding:"40px 20px",color:"#888",fontSize:"1.1rem"}},r.createElement("div",{style:{fontSize:"3rem",marginBottom:"16px"}},"📅"),r.createElement("div",{style:{marginBottom:"8px",fontWeight:"bold"}},"No matches found"),r.createElement("div",{style:{fontSize:"0.9rem"}},"You don't have any upcoming matches scheduled.")):r.createElement("div",{style:{display:"grid",gap:"12px",gridTemplateColumns:vn?"1fr":"repeat(auto-fit, minmax(300px, 1fr))",maxWidth:"100%"}},ys.map((G,Ie)=>{let Oe="",yt="",kt="upcoming";if(G.player1Id&&G.player2Id)if(G.player1Id.trim().toLowerCase()===Qe.trim().toLowerCase()?Oe=G.player2Id:Oe=G.player1Id,G.scheduledDate){const Xe=new Date(G.scheduledDate);isNaN(Xe.getTime())?yt="[Invalid Date]":yt=Sx(Xe.toISOString().split("T")[0])}else yt="[No Date]";else if(G.senderName&&G.receiverName&&(G.senderName.trim().toLowerCase()===Qe.trim().toLowerCase()?Oe=G.receiverName:Oe=G.senderName),G.date){const Xe=G.date.split("-");if(Xe.length===3){const[fa,Ur,Hi]=Xe,Fd=new Date(`${fa}-${Ur}-${Hi}`);isNaN(Fd.getTime())?yt="[Invalid Date]":yt=Sx(G.date)}else yt="[Invalid Date]"}else yt="[No Date]";G.status;const pt=G.status==="completed";pt?kt="completed":G.status==="pending"&&(kt="pending");const Qt=Xe=>{switch(Xe){case"completed":return"#10b981";case"pending":return"#f59e0b";default:return"var(--accent-red)"}},ei=Xe=>{switch(Xe){case"completed":return"✅";case"pending":return"⏳";default:return"📅"}};return r.createElement("div",{key:G._id||Ie,style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.04) 100%)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.15)",padding:"12px",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},onMouseEnter:Xe=>{Xe.currentTarget.style.background="linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.06) 100%)",Xe.currentTarget.style.border="1px solid rgba(229, 62, 62, 0.3)",Xe.currentTarget.style.transform="translateY(-2px)",Xe.currentTarget.style.boxShadow="0 8px 24px rgba(229, 62, 62, 0.2)"},onMouseLeave:Xe=>{Xe.currentTarget.style.background="linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.04) 100%)",Xe.currentTarget.style.border="1px solid rgba(255, 255, 255, 0.15)",Xe.currentTarget.style.transform="translateY(0)",Xe.currentTarget.style.boxShadow="none"}},r.createElement("div",{style:{position:"absolute",top:"16px",right:"16px",background:Qt(kt),color:"#fff",padding:"6px 12px",borderRadius:"16px",fontSize:"0.8rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}},ei(kt)," ",kt),r.createElement("div",{style:{textAlign:"center",marginBottom:"8px",paddingRight:"100px"}},r.createElement("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:"#fff",textShadow:"0 2px 4px rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",flexWrap:"wrap"}},r.createElement("span",null,t," ",a),r.createElement("span",{style:{color:"var(--accent-red)",fontSize:"1rem",fontWeight:"600"}},"VS"),r.createElement("span",null,Oe||"[Unknown Opponent]"))),r.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"16px",marginBottom:"12px",fontSize:"0.9rem",color:"#ccc"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"rgba(255, 255, 255, 0.1)",padding:"8px 12px",borderRadius:"8px"}},"📅 ",yt),G.location&&r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"rgba(255, 255, 255, 0.1)",padding:"8px 12px",borderRadius:"8px"}},"📍 ",G.location)),r.createElement("div",{style:{display:"flex",gap:"8px",justifyContent:"center"}},r.createElement("button",{onClick:()=>Ul(G),style:{padding:"8px 16px",background:"linear-gradient(135deg, var(--accent-red), var(--accent-red-dark))",border:"none",borderRadius:"8px",color:"#fff",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(229, 62, 62, 0.3)",minWidth:"100px"},onMouseEnter:Xe=>{Xe.target.style.transform="translateY(-1px)",Xe.target.style.boxShadow="0 4px 16px rgba(229, 62, 62, 0.5)"},onMouseLeave:Xe=>{Xe.target.style.transform="translateY(0)",Xe.target.style.boxShadow="0 2px 8px rgba(229, 62, 62, 0.3)"}},"📋 View Details"),!pt&&r.createElement(d5,{className:ge.dashboardBtn+" "+ge.matchCardDoneBtn,loading:fs===G._id,loadingText:"Completing...",style:{padding:"8px 16px",fontSize:"0.85rem",fontWeight:"600",background:"linear-gradient(135deg, #6c757d, #5a6268)",border:"none",borderRadius:"8px",color:"#fff",cursor:"pointer",transition:"all 0.2s ease",minWidth:"100px",boxShadow:"0 2px 8px rgba(108, 117, 125, 0.3)"},onMouseEnter:Xe=>{fs!==G._id&&(Xe.target.style.background="linear-gradient(135deg, #10b981, #059669)",Xe.target.style.transform="translateY(-1px)",Xe.target.style.boxShadow="0 4px 16px rgba(16, 185, 129, 0.5)")},onMouseLeave:Xe=>{fs!==G._id&&(Xe.target.style.background="linear-gradient(135deg, #6c757d, #5a6268)",Xe.target.style.transform="translateY(0)",Xe.target.style.boxShadow="0 2px 8px rgba(108, 117, 125, 0.3)")},onClick:()=>{let Xe="",fa="";G.player1Id&&G.player2Id?(Xe=G.player1Id,fa=G.player2Id):G.type==="scheduled"?(Xe=G.player1,fa=G.player2):(Xe=G.senderName,fa=G.receiverName),he(G),_e({player1:Xe,player2:fa}),ne(!0)},type:"button"},"✅ Mark as Complete")))}))),r.createElement("div",{style:{padding:"8px 0 0",borderTop:"1px solid rgba(255, 255, 255, 0.1)",marginTop:"8px",textAlign:"center"}},r.createElement("div",{style:{fontSize:"0.9rem",color:"#888"}},"Showing ",ys.length," match",ys.length!==1?"es":""))),Ld=[...ma.filter(G=>{var Ie,Oe;return G.division===y&&[(Ie=G.player1Id)==null?void 0:Ie.trim().toLowerCase(),(Oe=G.player2Id)==null?void 0:Oe.trim().toLowerCase()].includes(Qe.toLowerCase())}),...Aa.filter(G=>{var Ie,Oe;return G.division===y&&[(Ie=G.player1Id)==null?void 0:Ie.trim().toLowerCase(),(Oe=G.player2Id)==null?void 0:Oe.trim().toLowerCase()].includes(Qe.toLowerCase())})];Array.from(new Set(Ld.map(G=>G._id))).map(G=>Ld.find(Ie=>Ie._id===G)).length;const[qp,Pd]=v.useState(!1),[Zp,Bd]=v.useState(!1),[Xs,Fl]=v.useState(null),[Ar,Od]=v.useState([]),[zd,Vp]=v.useState(null),[Ud,Ks]=v.useState(!1);[...ut.filter(G=>G.status==="pending"&&G.receiverName===Qe),...sn.filter(G=>G.status==="countered"&&G.senderName===Qe)],[...sn.filter(G=>G.status==="pending"&&G.senderName===Qe),...ut.filter(G=>G.status==="countered"&&G.receiverName===Qe)],console.log("🎯 Dashboard: showOpponents state:",Ke),console.log("🎯 Dashboard: simulationRef.current:",!!Tn.current);const Qp=Ke&&Tn.current?xd.createPortal(r.createElement("div",{style:{position:"absolute",top:Tn.current.getBoundingClientRect().top+window.scrollY,left:Tn.current.getBoundingClientRect().left+window.scrollX,width:Tn.current.offsetWidth,height:Tn.current.offsetHeight,zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.6)",pointerEvents:"auto"}},r.createElement(tw,{open:Ke,onClose:()=>pe(!1),opponents:Td,onOpponentClick:Yp,phase:Qn,selectedCalendarDate:Ue,smartMatchMode:Ud,allPlayers:Ar})),document.body):null;return r.createElement("div",{className:ge.dashboardBg,style:{position:"relative"}},r.createElement("style",null,`
          @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
          }
        `),r.createElement("div",{className:ge.dashboardFrame,style:{position:"relative",zIndex:1}},r.createElement("div",{className:ge.dashboardCard,style:{position:"relative",zIndex:1,padding:vn?"12px":"20px",margin:vn?"6px":"16px"}},r.createElement(p5,{playerName:t,playerLastName:a,isMobile:vn,userPin:n,proposalsLoading:ka,matchesLoading:Oa,notesLoading:Vs,seasonLoading:Ka,standingsLoading:Zs,scheduleLoading:zr,onProfileClick:()=>ft(!0),styles:ge}),r.createElement(f5,{divisions:h,selectedDivision:y,onDivisionChange:G=>b(G.target.value),isMobile:vn}),r.createElement(h5,{isMobile:vn,styles:ge,effectivePhase:Qn,seasonData:en,completedMatches:Aa,totalRequiredMatches:Nr,playerName:t,playerLastName:a,selectedDivision:y,pendingCount:cs,sentCount:yn,filteredUpcomingMatches:ys,currentUser:Xs,allPlayers:Ar,showPhase1Rules:Nt,setShowPhase1Rules:We,setShowPhase1Overview:tn,setPlayerStats:cn,setTimeLeft:ia,setDeadlineStatus:er,setPhase1EndDate:tr,onOpenOpponentsModal:G=>{console.log("🎯 Dashboard: onOpenOpponentsModal called with date:",G),je(G),G?(console.log("🎯 Dashboard: Setting smart match mode to false"),Ks(!1)):(console.log("🎯 Dashboard: Setting smart match mode to true"),Ks(!0)),console.log("🎯 Dashboard: Setting showOpponents to true"),pe(!0)},onOpenCompletedMatchesModal:()=>Pd(!0),onOpenStandingsModal:()=>w(!0),onOpenDefenseChallengersModal:()=>C(!0),onOpenAllMatchesModal:()=>ce(!0),onOpenProposalListModal:()=>I(!0),onOpenSentProposalListModal:()=>z(!0),onOpenPlayerSearch:()=>Ve(!0),onMatchClick:Ul,onSmartMatchClick:Rd,onOpenMessageCenter:G=>{Pl(G),dt(!0)},onOpenCalendar:()=>sa(!0),simulationRef:Tn,opponentsModalPortal:Qp}),r.createElement(g5,{notes:os,notesLoading:Vs,noteError:U,userPin:n,onDeleteNote:kr,onClearNotes:Js,styles:ge}),r.createElement("button",{className:ge.dashboardLogoutBtn,onClick:l,type:"button"},"Logout"),r.createElement(y5,{userPin:n,loadingPendingRegistrations:Ta,phaseOverride:Pt,selectedDivision:y,BACKEND_URL:Ce,styles:ge,onShowRegistrationModal:()=>Te(!0),onLoadPendingRegistrations:hs,onSetPendingRegistrations:It,onShowPendingRegistrationsModal:()=>ke(!0),onCreateTestRegistration:async()=>{try{const G={firstName:"Test",lastName:"Player",email:`testplayer${Date.now()}@example.com`,phone:"555-1234",textNumber:"555-5678",emergencyContactName:"Emergency Contact",emergencyContactPhone:"555-9999",preferredContacts:["email","text"],availability:{Mon:["6:00 PM - 8:00 PM"],Tue:["8:00 PM - 10:00 PM"],Wed:[],Thu:["4:00 PM - 6:00 PM"],Fri:[],Sat:["2:00 PM - 4:00 PM"],Sun:["10:00 AM - 12:00 PM"]},locations:`Test Pool Hall
Community Center
Sports Bar`,pin:"1234",division:"FRBCAPL TEST",notes:"Test registration created by admin"},Ie=await fetch(`${Ce}/api/users/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(Ie.ok){const Oe=await Ie.json();alert(`✅ Test registration created successfully!

Player: Test Player
Email: `+G.email+`

You can now approve this registration.`);const yt=await fetch(`${Ce}/api/users/pending-registrations`);if(yt.ok){const kt=await yt.json();It(kt)}}else{const Oe=await Ie.json();alert("Failed to create test registration: "+Oe.error)}}catch(G){console.error("Error creating test registration:",G),alert("Error creating test registration: "+G.message)}},onShowNoteModal:()=>O(!0),onShowPendingClaimsModal:()=>Ye(!0),onGoToAdmin:s,onGoToPlatformAdmin:m,isSuperAdmin:xa,onActivatePhase2:()=>{},onSetPhaseOverride:ln,onRefreshSeasonData:async()=>{try{const[G,Ie]=await Promise.all([Ps.getCurrentSeason(y),Ps.getCurrentPhaseAndWeek(y)]);setSeasonData((G==null?void 0:G.season)||null),setCurrentPhaseInfo(Ie)}catch(G){console.error("Error refreshing season data:",G)}}}))),r.createElement(b5,{showPlayerSearch:it,showAdminPlayerSearch:Lt,showPlayerAvailability:Zn,showProposalModal:Ge,selectedOpponent:me,proposalData:te,fullName:Qe,senderEmail:u,selectedDivision:y,effectivePhase:Qn,playerName:t,playerLastName:a,onClosePlayerSearch:()=>Ve(!1),onCloseAdminPlayerSearch:()=>gn(!1),onClosePlayerAvailability:()=>{rn(!1),et(null)},onCloseProposalModal:()=>wt(!1),onProposeMatch:(G,Ie)=>{Le({player:me,day:G,slot:Ie,selectedDivision:y,phase:Qn}),wt(!0),rn(!1),et(null)},onProposalComplete:()=>{},onUpdateProposalLocally:Ba,onRefetchMatches:Un,onRefetchProposals:Sn}),r.createElement(v5,{showStandings:E,showDefenseChallengers:_,modalOpen:F,showNoteModal:Z,showProposalListModal:S,showSentProposalListModal:$,showCounterModal:Y,showProposalDetailsModal:Ui,selectedMatch:Q,selectedProposal:k,counterProposal:ae,newNote:L,noteError:U,proposalNote:M,pendingProposals:ut,sentProposals:sn,players:He,STANDINGS_URLS:O7,onCloseStandings:()=>w(!1),onCloseDefenseChallengers:()=>C(!1),onCloseModal:Bl,onCloseNoteModal:()=>O(!1),onCloseProposalListModal:()=>I(!1),onCloseSentProposalListModal:()=>z(!1),onCloseCounterModal:()=>{J(!1),H(null)},onCloseProposalDetailsModal:()=>{pa(!1),N(null)},onAddNote:Rn,onUpdateNewNote:G=>A(G.target.value),onSelectProposal:G=>{const Ie=u&&G.senderEmail&&u.toLowerCase()===G.senderEmail.toLowerCase()||`${t} ${a}`.toLowerCase()===(G.senderName||"").toLowerCase();N(G),R(""),I(!1),pa(Ie)},onSelectSentProposal:G=>{const Ie=u&&G.senderEmail&&u.toLowerCase()===G.senderEmail.toLowerCase()||`${t} ${a}`.toLowerCase()===(G.senderName||"").toLowerCase();N(G),R(""),z(!1),pa(Ie)},onConfirmProposal:async()=>{await Ga.updateProposalStatus(k._id,"confirmed",M),N(null),R(""),Un(),Sn()},onCounterPropose:()=>{H(k),J(!0),N(null)},onSubmitCounterProposal:gs,onEditProposal:()=>{k.isCounter?(pa(!1),setTimeout(()=>{N(null),H(k),J(!0)},100)):(pa(!1),setTimeout(()=>{N(null),ds(!0)},100))},onDeleteProposal:async()=>{if(window.confirm("Are you sure you want to delete this proposal?"))try{await Ga.deleteProposal(k._id),pa(!1),N(null),Sn()}catch(G){console.error("Error deleting proposal:",G),alert("Failed to delete proposal")}},onUpdateProposalLocally:Ba,onRefetchMatches:Un,onRefetchProposals:Sn,selectedDivision:y,effectivePhase:Qn,userPin:n,playerName:t,playerLastName:a,senderEmail:u,styles:ge,proposalService:Ga}),r.createElement(x5,{showEditProposalModal:Cr,showChatModal:tt,showCompletedModal:qp,winnerModalOpen:ko,validationModalOpen:Me,showSmartMatchmakingModal:Zp,showUserProfileModal:qe,showPhase1Rules:Nt,showPhase1Overview:Ut,showRegistrationModal:Je,showPendingRegistrationsModal:fe,showCalendarModal:Mn,selectedProposal:k,chatType:Wi,opponentEmails:ji,completedMatches:Aa,winnerModalPlayers:be,winnerModalMatch:P,matchToValidate:Be,selectedOpponentForSmartMatch:zd,pendingRegistrations:At,onCloseEditProposalModal:()=>ds(!1),onCloseChatModal:()=>dt(!1),onCloseCompletedModal:()=>Pd(!1),onCloseWinnerModal:()=>ne(!1),onCloseValidationModal:()=>{De(!1),mt(null)},onCloseSmartMatchmakingModal:()=>Bd(!1),onCloseUserProfileModal:()=>ft(!1),onClosePhase1Rules:()=>We(!1),onClosePhase1Overview:()=>tn(!1),onCloseRegistrationModal:()=>Te(!1),onClosePendingRegistrationsModal:()=>ke(!1),onCloseCalendarModal:()=>sa(!1),onSaveEditProposal:G=>{N(G),Sn(),ds(!1)},onProposalUpdated:G=>{Io(G),Sn()},onSelectWinner:async G=>{if(P){if((Cn==null?void 0:Cn.phase)==="scheduled"&&en&&Ps.hasPhase1DeadlinePassed(en)&&!window.confirm(`⚠️ PHASE 1 DEADLINE HAS PASSED!

You are attempting to complete a match after the Phase 1 deadline. This may affect your standings or eligibility for Phase 2.

Do you want to continue marking this match as completed?`)){ne(!1);return}ne(!1),za(P._id);try{const Oe=await(await fetch(`${Ce}/api/matches?proposalId=${P._id}`)).json();if(Oe.length>0){const yt=Oe[0]._id;await fetch(`${Ce}/api/matches/${yt}/complete`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({winner:G,score:"TBD",notes:`Completed by ${t} ${a}`})})}else await Ga.markCompleted(P._id,G);Gs({...P,winner:G}),Un(),Sn()}catch(Ie){console.error("Error completing match:",Ie),alert("Failed to mark as completed.")}za(null)}},onValidateMatch:async G=>{console.log("Validating match:",G),Un()},onRejectMatch:async G=>{console.log("Rejecting match:",G),Un()},onSmartMatchProposalComplete:()=>{Un(),Sn()},onUserUpdate:G=>{Fl(G)},onRegistrationSuccess:G=>{console.log("New player registered by admin:",G),Te(!1),window.location.reload()},onApproveRegistration:async G=>{const Oe=document.getElementById(`division-${G._id}`).value;if(!Oe){alert("Please select a division before approving.");return}const yt={hasPaid:!0,paymentDate:new Date,paymentMethod:"Cash",paymentNotes:"Approved by admin"};try{const kt=await fetch(`${Ce}/api/users/admin/approve-registration/${G._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({approvedBy:`${t} ${a}`,paymentInfo:yt,division:Oe})});if(kt.ok)alert(`Registration approved successfully!

Player: ${G.firstName} ${G.lastName}
Division: ${Oe}`),It(pt=>pt.filter(Qt=>Qt._id!==G._id));else{const pt=await kt.json();alert("Failed to approve: "+pt.error)}}catch(kt){console.error("Error approving registration:",kt),alert("Error approving registration")}},onRejectRegistration:async G=>{const Ie=prompt("Enter rejection reason (optional):");if(Ie!==null)try{const Oe=await fetch(`${Ce}/api/users/admin/reject-registration/${G._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rejectedBy:`${t} ${a}`,notes:Ie})});if(Oe.ok)alert("Registration rejected successfully!"),It(yt=>yt.filter(kt=>kt._id!==G._id));else{const yt=await Oe.json();alert("Failed to reject: "+yt.error)}}catch(Oe){console.error("Error rejecting registration:",Oe),alert("Error rejecting registration")}},onOpenOpponentsModal:G=>{console.log("🎯 Dashboard: Calendar modal calling onOpenOpponentsModal with date:",G),je(G),G?(console.log("🎯 Dashboard: Setting smart match mode to false"),Ks(!1)):(console.log("🎯 Dashboard: Setting smart match mode to true"),Ks(!0)),console.log("🎯 Dashboard: Setting showOpponents to true"),pe(!0),sa(!1)},onMatchClick:Ul,onSmartMatchClick:Rd,selectedDivision:y,effectivePhase:Qn,userPin:n,playerName:t,playerLastName:a,senderEmail:u,isMobile:vn,currentUser:Xs,players:He,filteredUpcomingMatches:ys,phase1EndDate:Ea,playerStats:bn,standings:qs,timeLeft:Xn,deadlineStatus:Kn,allPlayers:Ar,styles:ge,proposalService:Ga,seasonService:Ps,seasonData:en,currentPhaseInfo:Cn,BACKEND_URL:Ce,markMatchCompleted:Gs,setCompletingMatchId:za,updateCompletedMatch:Io,refetchMatches:Un,refetchProposals:Sn,setPendingRegistrations:It}),$p,Pe&&r.createElement(z7,{onClose:()=>Ye(!1)}))}const U7="_adminDashboardRoot_12miy_9",F7="_adminDashboardNav_12miy_25",W7="_navLeft_12miy_45",j7="_navRight_12miy_45",H7="_adminDashboardMainColumn_12miy_89",Y7="_banner_12miy_103",$7="_slideIn_12miy_1",G7="_success_12miy_125",q7="_error_12miy_137",Z7="_sectionNavigation_12miy_173",V7="_sectionButton_12miy_193",Q7="_active_12miy_231",J7="_sectionContent_12miy_245",X7="_overviewSection_12miy_263",K7="_quickActions_12miy_301",eO="_quickActionButton_12miy_317",tO="_workflowContainer_12miy_383",nO="_workflowHeader_12miy_393",aO="_workflowProgress_12miy_427",rO="_workflowSteps_12miy_445",sO="_workflowStepIndicator_12miy_461",iO="_pending_12miy_483",oO="_completed_12miy_505",lO="_stepNumber_12miy_517",cO="_stepInfo_12miy_569",dO="_stepTitle_12miy_577",uO="_stepDescription_12miy_587",mO="_workflowContent_12miy_597",pO="_workflowStep_12miy_445",fO="_stepInstructions_12miy_621",hO="_instructionItem_12miy_637",gO="_stepActions_12miy_675",yO="_workflowButton_12miy_689",bO="_divisionForm_12miy_743",vO="_workflowInput_12miy_757",xO="_workflowNote_12miy_799",EO="_workflowResult_12miy_823",wO="_dataSyncTools_12miy_847",SO="_syncButton_12miy_863",CO="_syncResult_12miy_913",_O="_playerManagementContainer_12miy_941",IO="_tabHeader_12miy_951",NO="_tabButton_12miy_969",kO="_tabContent_12miy_1015",AO="_approvalSection_12miy_1029",DO="_loadingMessage_12miy_1039",MO="_emptyState_12miy_1053",TO="_registrationList_12miy_1075",RO="_registrationCard_12miy_1087",LO="_registrationHeader_12miy_1115",PO="_registrationNumber_12miy_1129",BO="_registrationDetails_12miy_1159",OO="_registrationActions_12miy_1185",zO="_divisionSelect_12miy_1199",UO="_approveButton_12miy_1243",FO="_rejectButton_12miy_1283",WO="_userSearchContainer_12miy_1325",jO="_searchForm_12miy_1335",HO="_searchInput_12miy_1347",YO="_searchButton_12miy_1387",$O="_searchResults_12miy_1425",GO="_userCard_12miy_1437",qO="_userInfo_12miy_1463",ZO="_userName_12miy_1475",VO="_userEmail_12miy_1491",QO="_userContactInfo_12miy_1503",JO="_userPhone_12miy_1519",XO="_userTextNumber_12miy_1519",KO="_userDetails_12miy_1531",ez="_userAvailability_12miy_1561",tz="_availabilityGrid_12miy_1569",nz="_availabilityDay_12miy_1583",az="_dayLabel_12miy_1597",rz="_timeSlots_12miy_1609",sz="_userActions_12miy_1629",iz="_addButton_12miy_1645",oz="_removeButton_12miy_1695",lz="_matchManagementContainer_12miy_1743",cz="_sectionHeader_12miy_1753",dz="_systemStatusContainer_12miy_1797",uz="_statsGrid_12miy_1807",mz="_statCard_12miy_1821",pz="_statNumber_12miy_1849",fz="_statLabel_12miy_1863",hz="_systemActions_12miy_1877",gz="_systemButton_12miy_1891",oe={adminDashboardRoot:U7,adminDashboardNav:F7,navLeft:W7,navRight:j7,adminDashboardMainColumn:H7,banner:Y7,slideIn:$7,success:G7,error:q7,sectionNavigation:Z7,sectionButton:V7,active:Q7,sectionContent:J7,overviewSection:X7,quickActions:K7,quickActionButton:eO,workflowContainer:tO,workflowHeader:nO,workflowProgress:aO,workflowSteps:rO,workflowStepIndicator:sO,pending:iO,completed:oO,stepNumber:lO,stepInfo:cO,stepTitle:dO,stepDescription:uO,workflowContent:mO,workflowStep:pO,stepInstructions:fO,instructionItem:hO,stepActions:gO,workflowButton:yO,divisionForm:bO,workflowInput:vO,workflowNote:xO,workflowResult:EO,dataSyncTools:wO,syncButton:SO,syncResult:CO,playerManagementContainer:_O,tabHeader:IO,tabButton:NO,tabContent:kO,approvalSection:AO,loadingMessage:DO,emptyState:MO,registrationList:TO,registrationCard:RO,registrationHeader:LO,registrationNumber:PO,registrationDetails:BO,registrationActions:OO,divisionSelect:zO,approveButton:UO,rejectButton:FO,userSearchContainer:WO,searchForm:jO,searchInput:HO,searchButton:YO,searchResults:$O,userCard:GO,userInfo:qO,userName:ZO,userEmail:VO,userContactInfo:QO,userPhone:JO,userTextNumber:XO,userDetails:KO,userAvailability:ez,availabilityGrid:tz,availabilityDay:nz,dayLabel:az,timeSlots:rz,userActions:sz,addButton:iz,removeButton:oz,matchManagementContainer:lz,sectionHeader:cz,systemStatusContainer:dz,statsGrid:uz,statCard:mz,statNumber:pz,statLabel:fz,systemActions:hz,systemButton:gz};function yz(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-"),m=new Date(parseInt(l),parseInt(c)-1,parseInt(u)),h=String(m.getMonth()+1).padStart(2,"0"),f=String(m.getDate()).padStart(2,"0"),y=m.getFullYear();return`${h}-${f}-${y}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=a.getFullYear();return`${e}-${n}-${s}`}const Cx=Ce;function bz({open:t,onClose:a}){const[e,n]=v.useState([]),[s,l]=v.useState(!0);v.useEffect(()=>{t&&(l(!0),fetch(`${Cx}/admin/unentered-matches`).then(u=>u.json()).then(u=>{n(u),l(!1)}))},[t]);const c=u=>{fetch(`${Cx}/admin/mark-lms-entered/${u}`,{method:"PATCH"}).then(m=>m.json()).then(()=>n(e.filter(m=>m._id!==u)))};return t?r.createElement(Xt,{open:t,onClose:a,title:"Confirmed Challenge Matches Needing LMS Entry",maxWidth:"520px"},s?r.createElement("div",{style:{color:"#fff",textAlign:"center",padding:"2rem"}},"Loading unentered matches..."):e.length===0?r.createElement("div",{style:{color:"#fff",textAlign:"center",padding:"2rem"}},"All matches are entered!"):r.createElement("ul",{style:{padding:0,listStyle:"none"}},e.map(u=>r.createElement("li",{key:u._id,style:{marginBottom:12,background:"#222",borderRadius:8,padding:"12px 14px",display:"flex",alignItems:"center",justifyContent:"space-between",borderLeft:"4px solid #c00"}},r.createElement("span",null,r.createElement("span",{style:{color:"#fff"}},r.createElement("b",null,yz(u.date))," — ",r.createElement("span",{style:{color:"#c00"}},u.senderName)," vs ",r.createElement("span",{style:{color:"#c00"}},u.receiverName),u.location&&r.createElement("span",{style:{color:"#fff"}}," @ ",u.location))),r.createElement("button",{style:{marginLeft:16,background:"#c00",color:"#fff",border:"none",borderRadius:5,padding:"7px 14px",fontWeight:"bold",cursor:"pointer",fontSize:"1em",transition:"background 0.2s"},onClick:()=>c(u._id)},"Mark as Entered"))))):null}const vz=({division:t,isAdmin:a=!1})=>{const[e,n]=v.useState([]),[s,l]=v.useState([]),[c,u]=v.useState(!0),[m,h]=v.useState(null),[f,y]=v.useState(null),[b,E]=v.useState(!1),[w,_]=v.useState(!1),[C,S]=v.useState(""),[I,k]=v.useState(""),[N,M]=v.useState(""),[R,$]=v.useState("");v.useEffect(()=>{t&&(z(),Y())},[t]);const z=async()=>{try{u(!0);const[O,L]=await Promise.all([hp(t,"scheduled"),hp(t,"completed")]);n(O),l(L)}catch(O){console.error("Error loading matches:",O)}finally{u(!1)}},Y=async()=>{try{const O=await A7(t);h(O)}catch(O){console.error("Error loading match stats:",O)}},J=async()=>{if(!(!f||!C||!I))try{await N7(f._id,C,I,N),E(!1),y(null),S(""),k(""),M(""),z(),Y()}catch(O){console.error("Error completing match:",O),alert("Failed to complete match: "+O.message)}},ae=async()=>{if(f)try{await k7(f._id,R),_(!1),y(null),$(""),z(),Y()}catch(O){console.error("Error cancelling match:",O),alert("Failed to cancel match: "+O.message)}},H=O=>new Date(O).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),Z=O=>O.status==="completed"?"✅ Completed":O.status==="cancelled"?"❌ Cancelled":"⏳ Scheduled";return c?r.createElement("div",{className:ge.loading},"Loading matches..."):r.createElement("div",{className:ge.matchManager},m&&r.createElement("div",{className:ge.matchStats},r.createElement("h3",null,"Match Statistics"),r.createElement("div",{className:ge.statsGrid},r.createElement("div",{className:ge.statItem},r.createElement("span",{className:ge.statNumber},m.total),r.createElement("span",{className:ge.statLabel},"Total Matches")),r.createElement("div",{className:ge.statItem},r.createElement("span",{className:ge.statNumber},m.scheduled),r.createElement("span",{className:ge.statLabel},"Scheduled")),r.createElement("div",{className:ge.statItem},r.createElement("span",{className:ge.statNumber},m.completed),r.createElement("span",{className:ge.statLabel},"Completed")))),r.createElement("div",{className:ge.matchSection},r.createElement("h3",null,"Scheduled Matches (",e.length,")"),e.length===0?r.createElement("p",{className:ge.noMatches},"No scheduled matches"):r.createElement("div",{className:ge.matchList},e.map(O=>r.createElement("div",{key:O._id,className:ge.matchCard},r.createElement("div",{className:ge.matchHeader},r.createElement("span",{className:ge.matchStatus},Z(O)),r.createElement("span",{className:ge.matchDate},H(O.scheduledDate))),r.createElement("div",{className:ge.matchPlayers},r.createElement("span",{className:ge.player1},O.player1Id),r.createElement("span",{className:ge.vs},"vs"),r.createElement("span",{className:ge.player2},O.player2Id)),r.createElement("div",{className:ge.matchDetails},r.createElement("span",{className:ge.location},"📍 ",O.location),r.createElement("span",{className:ge.type},"🎯 ",O.type)),a&&r.createElement("div",{className:ge.matchActions},r.createElement("button",{className:ge.actionButton,onClick:()=>{y(O),E(!0)}},"Complete"),r.createElement("button",{className:`${ge.actionButton} ${ge.cancelButton}`,onClick:()=>{y(O),_(!0)}},"Cancel")))))),r.createElement("div",{className:ge.matchSection},r.createElement("h3",null,"Completed Matches (",s.length,")"),s.length===0?r.createElement("p",{className:ge.noMatches},"No completed matches"):r.createElement("div",{className:ge.matchList},s.map(O=>r.createElement("div",{key:O._id,className:`${ge.matchCard} ${ge.completedMatch}`},r.createElement("div",{className:ge.matchHeader},r.createElement("span",{className:ge.matchStatus},Z(O)),r.createElement("span",{className:ge.matchDate},H(O.completedDate))),r.createElement("div",{className:ge.matchPlayers},r.createElement("span",{className:`${ge.player1} ${O.winner===O.player1Id?ge.winner:""}`},O.player1Id),r.createElement("span",{className:ge.vs},"vs"),r.createElement("span",{className:`${ge.player2} ${O.winner===O.player2Id?ge.winner:""}`},O.player2Id)),r.createElement("div",{className:ge.matchResult},r.createElement("span",{className:ge.winner},"🏆 Winner: ",O.winner),r.createElement("span",{className:ge.score},"Score: ",O.score)),O.notes&&r.createElement("div",{className:ge.matchNotes},r.createElement("span",{className:ge.notesLabel},"Notes:"),r.createElement("span",{className:ge.notesText},O.notes)))))),b&&f&&r.createElement("div",{className:ge.modalOverlay},r.createElement("div",{className:ge.modal},r.createElement("h3",null,"Complete Match"),r.createElement("p",null,f.player1Id," vs ",f.player2Id),r.createElement("div",{className:ge.formGroup},r.createElement("label",null,"Winner:"),r.createElement("select",{value:C,onChange:O=>S(O.target.value)},r.createElement("option",{value:""},"Select winner"),r.createElement("option",{value:f.player1Id},f.player1Id),r.createElement("option",{value:f.player2Id},f.player2Id))),r.createElement("div",{className:ge.formGroup},r.createElement("label",null,"Score:"),r.createElement("input",{type:"text",value:I,onChange:O=>k(O.target.value),placeholder:"e.g., 7-5"})),r.createElement("div",{className:ge.formGroup},r.createElement("label",null,"Notes (optional):"),r.createElement("textarea",{value:N,onChange:O=>M(O.target.value),placeholder:"Any additional notes..."})),r.createElement("div",{className:ge.modalActions},r.createElement("button",{onClick:J,disabled:!C||!I},"Complete Match"),r.createElement("button",{onClick:()=>E(!1)},"Cancel")))),w&&f&&r.createElement("div",{className:ge.modalOverlay},r.createElement("div",{className:ge.modal},r.createElement("h3",null,"Cancel Match"),r.createElement("p",null,f.player1Id," vs ",f.player2Id),r.createElement("div",{className:ge.formGroup},r.createElement("label",null,"Reason for cancellation:"),r.createElement("textarea",{value:R,onChange:O=>$(O.target.value),placeholder:"Why is this match being cancelled?"})),r.createElement("div",{className:ge.modalActions},r.createElement("button",{onClick:ae},"Cancel Match"),r.createElement("button",{onClick:()=>_(!1)},"Keep Match")))))};var w5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_x=r.createContext&&r.createContext(w5),xz=["attr","size","title"];function Ez(t,a){if(t==null)return{};var e=wz(t,a),n,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)n=l[s],!(a.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(e[n]=t[n])}return e}function wz(t,a){if(t==null)return{};var e={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(a.indexOf(n)>=0)continue;e[n]=t[n]}return e}function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},gp.apply(this,arguments)}function Ix(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,n)}return e}function yp(t){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?Ix(Object(e),!0).forEach(function(n){Sz(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Ix(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function Sz(t,a,e){return a=Cz(a),a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function Cz(t){var a=_z(t,"string");return typeof a=="symbol"?a:a+""}function _z(t,a){if(typeof t!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var n=e.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function S5(t){return t&&t.map((a,e)=>r.createElement(a.tag,yp({key:e},a.attr),S5(a.child)))}function at(t){return a=>r.createElement(Iz,gp({attr:yp({},t.attr)},a),S5(t.child))}function Iz(t){var a=e=>{var{attr:n,size:s,title:l}=t,c=Ez(t,xz),u=s||e.size||"1em",m;return e.className&&(m=e.className),t.className&&(m=(m?m+" ":"")+t.className),r.createElement("svg",gp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,c,{className:m,style:yp(yp({color:t.color||e.color},e.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),t.children)};return _x!==void 0?r.createElement(_x.Consumer,null,e=>a(e)):a(w5)}function Nz(t){return at({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(t)}function bp(t){return at({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}function kz(t){return at({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c8.6 0 15.7-6.3 17.4-14.9.7-5.4-1.1 6.1 14.4-91.3 4.6-22 14.3-19.7 29.3-19.7 71 0 126.4-28.8 142.9-112.3 6.5-34.8 4.6-71.4-23.8-92.6z"},child:[]}]})(t)}function Dg(t){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function fo(t){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function Al(t){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function h0(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function vr(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function C5(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function Az(t){return at({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function _5(t){return at({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function Dz(t){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function Mz(t){return at({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function Tz(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function Nx(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function Rz(t){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function kx(t){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(t)}function Lz(t){return at({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function Pz(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Em(t){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function jp(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function vp(t){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function Ax(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function Bz(t){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function yl(t){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function Oz(t){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}function zz(t){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function cy(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function Uz(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function Fz(t){return at({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(t)}function g0(t){return at({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function Wz(t){return at({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function jz(t){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function Hz(t){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function Va(t){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function Yz(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}function uo(t){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function $z(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Gz(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"},child:[]}]})(t)}function Dx(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function yr(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function y0(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(t)}function Hc(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(t)}function qz(t){return at({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Dl(t){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function gd(t){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}function Mx(t){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(t)}function Zz(t){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208H432c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function id(t){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function Vz(t){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function yd(t){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function Qz({backendUrl:t}){const[a,e]=v.useState({enabled:!1,sheetId:"",sheetName:"Player Backup",apiKey:"",backupFrequency:"weekly",autoBackup:!0}),[n,s]=v.useState(!1),[l,c]=v.useState(""),[u,m]=v.useState(""),[h,f]=v.useState(null),[y,b]=v.useState(null),[E,w]=v.useState(1),[_,C]=v.useState(!1);v.useEffect(()=>{S(),I()},[]);const S=async()=>{try{const L=await fetch(`${t}/api/league-config`);if(!L.ok)throw new Error(`HTTP error! status: ${L.status}`);const A=await L.json();if(A.success&&A.config){const U=A.config.googleSheetsBackup||{};e({enabled:U.enabled||!1,sheetId:U.sheetId||"",sheetName:U.sheetName||"Player Backup",apiKey:U.apiKey==="***CONFIGURED***"?"":U.apiKey||"",backupFrequency:U.backupFrequency||"weekly",autoBackup:U.autoBackup!==void 0?U.autoBackup:!0}),U.sheetId&&U.apiKey==="***CONFIGURED***"&&f(q=>({...q,enabled:U.enabled,sheetId:U.sheetId,sheetName:U.sheetName,configured:!0,frequency:U.backupFrequency,autoBackup:U.autoBackup,lastBackup:U.lastBackupDate}))}}catch(L){console.error("Error loading config:",L)}},I=async()=>{try{const L=await fetch(`${t}/api/league-config/backup/status`);if(L.ok){const A=await L.json();A.success&&f(A.backup)}}catch(L){console.error("Error loading backup status:",L)}},k=(L,A)=>{m(L),c(A),setTimeout(()=>c(""),5e3)},N=(L,A)=>{e(U=>({...U,[L]:A})),(L==="sheetId"||L==="apiKey")&&b(null)},M=async()=>{if(!a.sheetId||!a.apiKey){k("error","Please fill in both fields first");return}s(!0),b(null);try{const A=await(await fetch(`${t}/api/league-config/backup/test-connection`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sheetId:a.sheetId,apiKey:a.apiKey})})).json();A.success?(b({success:!0,message:"✅ Great! Connection successful!"}),k("success","Connection successful!")):(b({success:!1,message:`❌ Connection failed: ${A.error}`}),k("error",`Connection failed: ${A.error}`))}catch{b({success:!1,message:"Connection test failed - please check your internet"}),k("error","Connection test failed")}s(!1)},R=async()=>{if(!a.sheetId||!a.apiKey){k("error","Please fill in both fields");return}if(!(y!=null&&y.success)){k("error","Please test the connection first");return}s(!0);try{const A=await(await fetch(`${t}/api/league-config/backup/configure`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();A.success?(k("success","✅ Backup setup complete!"),I(),w(4)):k("error",`Setup failed: ${A.error}`)}catch{k("error","Failed to save configuration")}s(!1)},$=async()=>{s(!0);try{const A=await(await fetch(`${t}/api/league-config/backup/run`,{method:"POST"})).json();A.success?(k("success",`✅ Backup completed! ${A.count} players backed up.`),I()):k("error",`Backup failed: ${A.error}`)}catch{k("error","Backup failed")}s(!1)},z=L=>`https://docs.google.com/spreadsheets/d/${L}`,Y=()=>r.createElement("div",{style:{textAlign:"center",padding:"40px 20px"}},r.createElement("div",{style:{fontSize:"64px",marginBottom:"20px"}},"📊"),r.createElement("h2",{style:{color:"white",marginBottom:"20px"}},"Backup Your League Data"),r.createElement("p",{style:{fontSize:"18px",color:"white",marginBottom:"30px",lineHeight:"1.6",opacity:.9}},"Keep a safe copy of all your player information in Google Sheets.",r.createElement("br",null),"It's free, secure, and takes just a few minutes to set up."),r.createElement("div",{style:{background:"#ffffff",padding:"20px",borderRadius:"12px",marginBottom:"30px",border:"2px solid #e0e0e0",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"15px"}},"What You'll Get:"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"}},r.createElement("div",{style:{textAlign:"center",padding:"15px"}},r.createElement("div",{style:{fontSize:"32px",marginBottom:"10px"}},"🛡️"),r.createElement("strong",{style:{color:"#1a1a1a"}},"Data Safety"),r.createElement("br",null),r.createElement("small",{style:{color:"#2c2c2c"}},"Backup copy of all player info")),r.createElement("div",{style:{textAlign:"center",padding:"15px"}},r.createElement("div",{style:{fontSize:"32px",marginBottom:"10px"}},"📱"),r.createElement("strong",{style:{color:"#1a1a1a"}},"Easy Viewing"),r.createElement("br",null),r.createElement("small",{style:{color:"#2c2c2c"}},"View data in Google Sheets")),r.createElement("div",{style:{textAlign:"center",padding:"15px"}},r.createElement("div",{style:{fontSize:"32px",marginBottom:"10px"}},"🔄"),r.createElement("strong",{style:{color:"#1a1a1a"}},"Auto Backup"),r.createElement("br",null),r.createElement("small",{style:{color:"#2c2c2c"}},"Keeps data up to date")))),r.createElement("div",{style:{background:"#f8f9fa",padding:"25px",borderRadius:"12px",marginBottom:"30px",border:"2px solid #e0e0e0",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"}},r.createElement(Yz,null)," Frequently Asked Questions"),r.createElement("div",{style:{display:"grid",gap:"15px"}},r.createElement("div",{style:{padding:"15px",background:"#ffffff",borderRadius:"8px",border:"1px solid #e0e0e0"}},r.createElement("strong",{style:{color:"#1a1a1a",display:"block",marginBottom:"8px"}},"Q: Is this free to use?"),r.createElement("span",{style:{color:"#2c2c2c"}},"A: Yes! Google Sheets is completely free. You only need a Google account.")),r.createElement("div",{style:{padding:"15px",background:"#ffffff",borderRadius:"8px",border:"1px solid #e0e0e0"}},r.createElement("strong",{style:{color:"#1a1a1a",display:"block",marginBottom:"8px"}},"Q: How often does it backup?"),r.createElement("span",{style:{color:"#2c2c2c"}},"A: By default, it backs up weekly, but you can run manual backups anytime.")),r.createElement("div",{style:{padding:"15px",background:"#ffffff",borderRadius:"8px",border:"1px solid #e0e0e0"}},r.createElement("strong",{style:{color:"#1a1a1a",display:"block",marginBottom:"8px"}},"Q: Is my data secure?"),r.createElement("span",{style:{color:"#2c2c2c"}},"A: Yes! Your API key only works with your specific Google Sheet and is stored securely.")),r.createElement("div",{style:{padding:"15px",background:"#ffffff",borderRadius:"8px",border:"1px solid #e0e0e0"}},r.createElement("strong",{style:{color:"#1a1a1a",display:"block",marginBottom:"8px"}},"Q: What if I change my mind?"),r.createElement("span",{style:{color:"#2c2c2c"}},"A: You can disable backup anytime, and your Google Sheet will remain as a backup copy.")))),r.createElement("button",{onClick:()=>w(2),style:{padding:"15px 30px",background:"#007bff",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto"}},"Get Started ",r.createElement(fo,null))),J=()=>r.createElement("div",{style:{padding:"30px 20px"}},r.createElement("div",{style:{textAlign:"center",marginBottom:"30px"}},r.createElement("h2",{style:{color:"white",marginBottom:"10px"}},"Step 1: Create a Google Sheet"),r.createElement("p",{style:{color:"white",fontSize:"16px",opacity:.9}},"First, let's create a place to store your backup data")),r.createElement("div",{style:{background:"#ffffff",padding:"25px",borderRadius:"12px",marginBottom:"30px",border:"2px solid #e0e0e0",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"}},r.createElement(bp,null)," Create Your Google Sheet"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"20px",alignItems:"center"}},r.createElement("div",null,r.createElement("p",{style:{marginBottom:"15px",color:"#1a1a1a"}},r.createElement("strong",null,"1.")," Go to ",r.createElement("a",{href:"https://sheets.google.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"underline"}},"Google Sheets")),r.createElement("p",{style:{marginBottom:"15px",color:"#1a1a1a"}},r.createElement("strong",null,"2."),' Click "Blank" to create a new sheet'),r.createElement("p",{style:{marginBottom:"15px",color:"#1a1a1a"}},r.createElement("strong",null,"3."),' Give it a name like "League Backup" or "Player Data"'),r.createElement("p",{style:{color:"#1a1a1a"}},r.createElement("strong",null,"4.")," Copy the Sheet ID from the URL (we'll show you how)")),r.createElement("div",{style:{textAlign:"center"}},r.createElement("div",{style:{fontSize:"48px",marginBottom:"10px"}},"📋"),r.createElement("button",{onClick:()=>window.open("https://sheets.google.com","_blank"),style:{padding:"10px 20px",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"}},"Open Google Sheets")))),r.createElement("div",{style:{background:"#fff8dc",padding:"20px",borderRadius:"12px",marginBottom:"30px",border:"2px solid #ffd700"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"15px"}},"How to Find Your Sheet ID:"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",alignItems:"center"}},r.createElement("div",null,r.createElement("p",{style:{marginBottom:"10px",color:"#1a1a1a"}},r.createElement("strong",null,"Look at your Google Sheet URL:")),r.createElement("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"6px",border:"1px solid #dee2e6",fontFamily:"monospace",fontSize:"14px",wordBreak:"break-all",color:"#1a1a1a"}},"https://docs.google.com/spreadsheets/d/",r.createElement("span",{style:{background:"#ffeb3b",padding:"2px 4px",borderRadius:"3px"}},"1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms"),"/edit"),r.createElement("p",{style:{marginTop:"10px",color:"#2c2c2c",fontSize:"14px"}},"Copy the highlighted part (the long string of letters and numbers)")),r.createElement("div",{style:{textAlign:"center"}},r.createElement("div",{style:{fontSize:"32px",marginBottom:"10px"}},"🔍"),r.createElement("p",{style:{color:"#2c2c2c",fontSize:"14px"}},"It's the part between ",r.createElement("code",{style:{background:"#f0f0f0",padding:"2px 4px",borderRadius:"3px"}},"/d/")," and ",r.createElement("code",{style:{background:"#f0f0f0",padding:"2px 4px",borderRadius:"3px"}},"/edit"))))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold",color:"#1a1a1a"}},"Paste Your Sheet ID Here:"),r.createElement("input",{type:"text",value:a.sheetId,onChange:L=>N("sheetId",L.target.value),placeholder:"Example: 1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms",style:{width:"100%",padding:"15px",border:"2px solid #ddd",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",color:"#1a1a1a",backgroundColor:"#ffffff"}}),a.sheetId&&r.createElement("div",{style:{marginTop:"10px",fontSize:"14px",color:"#2c2c2c"}},r.createElement("a",{href:z(a.sheetId),target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"underline"}},"🔗 Open this sheet to verify"))),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("button",{onClick:()=>w(1),style:{padding:"12px 24px",background:"#6c757d",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(Dg,null)," Back"),r.createElement("button",{onClick:()=>w(3),disabled:!a.sheetId,style:{padding:"12px 24px",background:a.sheetId?"#007bff":"#ccc",color:"white",border:"none",borderRadius:"6px",cursor:a.sheetId?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:"8px"}},"Next ",r.createElement(fo,null)))),ae=()=>r.createElement("div",{style:{padding:"30px 20px"}},r.createElement("div",{style:{textAlign:"center",marginBottom:"30px"}},r.createElement("h2",{style:{color:"white",marginBottom:"10px"}},"Step 2: Get Your API Key"),r.createElement("p",{style:{color:"white",fontSize:"16px",opacity:.9}},"This allows the app to write to your Google Sheet (it's free and secure)")),r.createElement("div",{style:{background:"#ffffff",padding:"25px",borderRadius:"12px",marginBottom:"30px",border:"2px solid #e0e0e0",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"20px"}},"Getting Your API Key (Takes 2 Minutes):"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"20px",alignItems:"center"}},r.createElement("div",null,r.createElement("ol",{style:{margin:0,paddingLeft:"20px",lineHeight:"2"}},r.createElement("li",{style:{marginBottom:"10px",color:"#1a1a1a"}},r.createElement("strong",null,"Go to")," ",r.createElement("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"underline"}},"Google Cloud Console")),r.createElement("li",{style:{marginBottom:"10px",color:"#1a1a1a"}},r.createElement("strong",null,'Click "Create Project"')," (or select an existing one)"),r.createElement("li",{style:{marginBottom:"10px",color:"#1a1a1a"}},r.createElement("strong",null,'Search for "Google Sheets API"'),' and click "Enable"'),r.createElement("li",{style:{marginBottom:"10px",color:"#1a1a1a"}},r.createElement("strong",null,'Go to "Credentials"'),' → "Create Credentials" → "API Key"'),r.createElement("li",{style:{color:"#1a1a1a"}},r.createElement("strong",null,"Copy the API key")," (it looks like: AIzaSyC...)"))),r.createElement("div",{style:{textAlign:"center"}},r.createElement("div",{style:{fontSize:"48px",marginBottom:"10px"}},"🔑"),r.createElement("button",{onClick:()=>window.open("https://console.cloud.google.com/apis/credentials","_blank"),style:{padding:"10px 20px",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"}},"Open Google Cloud Console")))),r.createElement("div",{style:{background:"#e8f5e8",padding:"20px",borderRadius:"12px",marginBottom:"30px",border:"2px solid #28a745"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"15px"}},"🔒 Don't Worry About Security:"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#1a1a1a"}},r.createElement("li",null,"Your API key only works with your specific Google Sheet"),r.createElement("li",null,"It can't access any other files or data"),r.createElement("li",null,"It's stored securely and encrypted"),r.createElement("li",null,"You can delete it anytime from Google Cloud Console"))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold",color:"#1a1a1a"}},"Paste Your API Key Here:"),r.createElement("div",{style:{position:"relative"}},r.createElement("input",{type:_?"text":"password",value:a.apiKey,onChange:L=>N("apiKey",L.target.value),placeholder:"Example: AIzaSyC...",style:{width:"100%",padding:"15px",paddingRight:"50px",border:"2px solid #ddd",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",color:"#1a1a1a",backgroundColor:"#ffffff"}}),r.createElement("button",{onClick:()=>C(!_),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#666"}},_?r.createElement(Bz,null):r.createElement(yl,null)))),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("button",{onClick:()=>w(2),style:{padding:"12px 24px",background:"#6c757d",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(Dg,null)," Back"),r.createElement("button",{onClick:()=>w(4),disabled:!a.sheetId||!a.apiKey,style:{padding:"12px 24px",background:a.sheetId&&a.apiKey?"#007bff":"#ccc",color:"white",border:"none",borderRadius:"6px",cursor:a.sheetId&&a.apiKey?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:"8px"}},"Test & Save ",r.createElement(fo,null)))),H=()=>r.createElement("div",{style:{padding:"30px 20px"}},r.createElement("div",{style:{textAlign:"center",marginBottom:"30px"}},r.createElement("h2",{style:{color:"white",marginBottom:"10px"}},"Step 3: Test & Save"),r.createElement("p",{style:{color:"white",fontSize:"16px",opacity:.9}},"Let's make sure everything works before saving")),r.createElement("div",{style:{background:"#ffffff",padding:"25px",borderRadius:"12px",marginBottom:"30px",border:"2px solid #e0e0e0",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"20px"}},"Your Setup Summary:"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"}},r.createElement("div",null,r.createElement("strong",{style:{color:"#1a1a1a"}},"Sheet ID:"),r.createElement("br",null),r.createElement("code",{style:{background:"#f8f9fa",padding:"5px 8px",borderRadius:"4px",fontSize:"14px",wordBreak:"break-all",color:"#1a1a1a",border:"1px solid #dee2e6"}},a.sheetId||"Not set")),r.createElement("div",null,r.createElement("strong",{style:{color:"#1a1a1a"}},"API Key:"),r.createElement("br",null),r.createElement("code",{style:{background:"#f8f9fa",padding:"5px 8px",borderRadius:"4px",fontSize:"14px",color:"#1a1a1a",border:"1px solid #dee2e6"}},a.apiKey?`${a.apiKey.substring(0,10)}...`:"Not set")))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("button",{onClick:M,disabled:n||!a.sheetId||!a.apiKey,style:{width:"100%",padding:"15px",background:"#17a2b8",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",opacity:n||!a.sheetId||!a.apiKey?.6:1}},n?r.createElement(Hc,{style:{animation:"spin 1s linear infinite"}}):r.createElement(Hc,null),n?"Testing Connection...":"Test Connection"),y&&r.createElement("div",{style:{marginTop:"15px",padding:"15px",borderRadius:"8px",background:y.success?"#d4edda":"#f8d7da",color:y.success?"#155724":"#721c24",border:`1px solid ${y.success?"#c3e6cb":"#f5c6cb"}`,display:"flex",alignItems:"center",gap:"10px"}},y.success?r.createElement(vr,null):r.createElement(vp,null),y.message)),(y==null?void 0:y.success)&&r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("button",{onClick:R,disabled:n,style:{width:"100%",padding:"15px",background:"#28a745",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",opacity:n?.6:1}},n?r.createElement(Hc,{style:{animation:"spin 1s linear infinite"}}):r.createElement(vr,null),n?"Saving...":"Save Configuration")),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("button",{onClick:()=>w(3),style:{padding:"12px 24px",background:"#6c757d",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(Dg,null)," Back"),(h==null?void 0:h.configured)&&r.createElement("button",{onClick:()=>w(5),style:{padding:"12px 24px",background:"#007bff",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}},"Next ",r.createElement(fo,null)))),Z=()=>r.createElement("div",{style:{padding:"30px 20px",textAlign:"center"}},r.createElement("div",{style:{fontSize:"64px",marginBottom:"20px"}},"🎉"),r.createElement("h2",{style:{color:"#1a1a1a",marginBottom:"20px"}},"Setup Complete!"),r.createElement("p",{style:{fontSize:"18px",color:"#2c2c2c",marginBottom:"30px",lineHeight:"1.6"}},"Your Google Sheets backup is now configured and ready to use."),r.createElement("div",{style:{background:"#e8f5e8",padding:"25px",borderRadius:"12px",marginBottom:"30px",border:"2px solid #28a745"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"20px"}},"✅ What's Working Now:"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px"}},r.createElement("div",null,r.createElement("div",{style:{fontSize:"32px",marginBottom:"10px"}},"🔄"),r.createElement("strong",{style:{color:"#1a1a1a"}},"Auto Backup"),r.createElement("br",null),r.createElement("small",{style:{color:"#2c2c2c"}},"Your data will be backed up automatically")),r.createElement("div",null,r.createElement("div",{style:{fontSize:"32px",marginBottom:"10px"}},"📊"),r.createElement("strong",{style:{color:"#1a1a1a"}},"Easy Viewing"),r.createElement("br",null),r.createElement("small",{style:{color:"#2c2c2c"}},"View your data in Google Sheets anytime")),r.createElement("div",null,r.createElement("div",{style:{fontSize:"32px",marginBottom:"10px"}},"🛡️"),r.createElement("strong",{style:{color:"#1a1a1a"}},"Data Safety"),r.createElement("br",null),r.createElement("small",{style:{color:"#2c2c2c"}},"Your data is now safely backed up")))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("button",{onClick:$,disabled:n,style:{padding:"15px 30px",background:"#007bff",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto"}},n?r.createElement(Hc,{style:{animation:"spin 1s linear infinite"}}):r.createElement(Hc,null),n?"Running Backup...":"Run Your First Backup"),r.createElement("p",{style:{marginTop:"10px",color:"#2c2c2c",fontSize:"14px"}},"This will copy all your current player data to your Google Sheet")),(h==null?void 0:h.sheetId)&&r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("a",{href:z(h.sheetId),target:"_blank",rel:"noopener noreferrer",style:{padding:"12px 24px",background:"#28a745",color:"white",textDecoration:"none",borderRadius:"6px",display:"inline-flex",alignItems:"center",gap:"8px",fontSize:"16px"}},r.createElement(Ax,null)," View Your Backup Sheet")),r.createElement("div",{style:{background:"#fff8dc",padding:"20px",borderRadius:"12px",border:"2px solid #ffd700",textAlign:"left"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"15px"}},"💡 What Happens Next:"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#1a1a1a",lineHeight:"1.6"}},r.createElement("li",null,"Your data will be backed up automatically"),r.createElement("li",null,"You can view your data anytime in Google Sheets"),r.createElement("li",null,"You can run manual backups whenever you want"),r.createElement("li",null,"Your data is safe and secure")))),O=()=>r.createElement("div",{style:{background:"#ffffff",padding:"16px",borderRadius:"8px",marginBottom:"20px",border:"2px solid #e0e0e0",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},r.createElement("h4",{style:{margin:"0 0 10px 0",display:"flex",alignItems:"center",gap:"8px",color:"#1a1a1a"}},r.createElement(cy,null)," Current Status"),h?r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",fontSize:"14px",color:"#1a1a1a"}},r.createElement("div",null,r.createElement("strong",null,"Status:")," ",h.enabled?"✅ Enabled":"❌ Disabled"),r.createElement("div",null,r.createElement("strong",null,"Last Backup:")," ",h.lastBackup?new Date(h.lastBackup).toLocaleString():"Never"),h.sheetId&&r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement("strong",null,"Sheet:")," ",h.sheetName||"Player Backup"),r.createElement("div",null,r.createElement("strong",null,"Sheet ID:")," ",h.sheetId.substring(0,20),"..."))):r.createElement("div",{style:{color:"#2c2c2c",fontStyle:"italic"}},"No backup configured"),r.createElement("div",{style:{marginTop:"15px",display:"flex",gap:"10px",flexWrap:"wrap",justifyContent:"center"}},(h==null?void 0:h.sheetId)&&r.createElement("a",{href:z(h.sheetId),target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"5px",padding:"8px 12px",border:"1px solid #007bff",borderRadius:"4px",fontSize:"14px"}},r.createElement(Ax,null)," View Backup Sheet"),r.createElement("button",{onClick:()=>w(5),disabled:!(h!=null&&h.configured),style:{padding:"8px 12px",background:h!=null&&h.configured?"#007bff":"#ccc",color:"white",border:"none",borderRadius:"4px",cursor:h!=null&&h.configured?"pointer":"not-allowed",fontSize:"14px",opacity:h!=null&&h.configured?1:.6}},"Manage Backup Settings")));return r.createElement("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"20px"}},r.createElement("style",null,`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `),r.createElement("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"20px",borderRadius:"12px",marginBottom:"20px"}},r.createElement("h2",{style:{margin:"0 0 10px 0",display:"flex",alignItems:"center",gap:"10px",color:"white"}},r.createElement(bp,null)," Google Sheets Backup"),r.createElement("p",{style:{margin:0,opacity:.9,color:"white"}},"Keep your league data safe with automatic Google Sheets backup")),l&&r.createElement("div",{style:{padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",background:u==="success"?"#d4edda":"#f8d7da",color:u==="success"?"#155724":"#721c24",border:`1px solid ${u==="success"?"#c3e6cb":"#f5c6cb"}`}},l),(h==null?void 0:h.configured)&&O(),E===1&&Y(),E===2&&J(),E===3&&ae(),E===4&&H(),E===5&&Z())}function Jz({backendUrl:t}){const[a,e]=v.useState([]),[n,s]=v.useState(!0),[l,c]=v.useState(null),[u,m]=v.useState({name:"",address:"",notes:""}),[h,f]=v.useState(""),[y,b]=v.useState("");v.useEffect(()=>{E()},[]);const E=async()=>{try{s(!0);const k=await fetch(`${t}/api/locations`);if(!k.ok)throw new Error("Failed to load locations");const N=await k.json();e(N.locations||[])}catch(k){f("Failed to load locations: "+k.message)}finally{s(!1)}},w=async()=>{if(!u.name.trim()){f("Location name is required");return}try{const k=await fetch(`${t}/api/locations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!k.ok)throw new Error("Failed to add location");const N=await k.json();e([...a,N.location]),m({name:"",address:"",notes:""}),b("Location added successfully!"),setTimeout(()=>b(""),3e3)}catch(k){f("Failed to add location: "+k.message)}},_=async(k,N)=>{try{const M=await fetch(`${t}/api/locations/${k}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(!M.ok)throw new Error("Failed to update location");const R=await M.json();e(a.map($=>$._id===k?R.location:$)),c(null),b("Location updated successfully!"),setTimeout(()=>b(""),3e3)}catch(M){f("Failed to update location: "+M.message)}},C=async k=>{if(window.confirm("Are you sure you want to delete this location? This will affect any players who have selected this location."))try{if(!(await fetch(`${t}/api/locations/${k}`,{method:"DELETE"})).ok)throw new Error("Failed to delete location");e(a.filter(M=>M._id!==k)),b("Location deleted successfully!"),setTimeout(()=>b(""),3e3)}catch(N){f("Failed to delete location: "+N.message)}},S=k=>{c(k._id)},I=()=>{c(null)};return n?r.createElement("div",{style:{textAlign:"center",padding:"20px"}},r.createElement("div",{style:{fontSize:"18px",color:"#ccc"}},"Loading locations...")):r.createElement("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"}},r.createElement("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",borderRadius:"12px",marginBottom:"20px",color:"white"}},r.createElement("h2",{style:{margin:"0 0 10px 0",display:"flex",alignItems:"center",gap:"10px"}},r.createElement(g0,null)," Location Management"),r.createElement("p",{style:{margin:0,opacity:.9}},"Manage predefined locations that players can select during registration. Players can also add custom locations if needed.")),y&&r.createElement("div",{style:{background:"rgba(76, 175, 80, 0.2)",border:"1px solid #4CAF50",color:"#4CAF50",padding:"12px",borderRadius:"6px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(C5,null)," ",y),h&&r.createElement("div",{style:{background:"rgba(244, 67, 54, 0.2)",border:"1px solid #f44336",color:"#f44336",padding:"12px",borderRadius:"6px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(vp,null)," ",h),r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid rgba(255,255,255,0.1)"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"15px",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(Va,null)," Add New Location"),r.createElement("div",{style:{display:"grid",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold"}},"Location Name *"),r.createElement("input",{type:"text",value:u.name,onChange:k=>m({...u,name:k.target.value}),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"16px"},placeholder:"e.g., Pool Hall A, Community Center"})),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold"}},"Address (Optional)"),r.createElement("input",{type:"text",value:u.address,onChange:k=>m({...u,address:k.target.value}),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"16px"},placeholder:"e.g., 123 Main St, City, State"})),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold"}},"Notes (Optional)"),r.createElement("textarea",{value:u.notes,onChange:k=>m({...u,notes:k.target.value}),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"16px",minHeight:"80px",resize:"vertical"},placeholder:"Additional information about this location..."})),r.createElement("button",{onClick:w,style:{padding:"12px 20px",borderRadius:"6px",border:"none",background:"#e53e3e",color:"#fff",cursor:"pointer",fontSize:"16px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px",justifyContent:"center"}},r.createElement(Va,null)," Add Location"))),r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",padding:"20px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"15px"}},"Existing Locations (",a.length,")"),a.length===0?r.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#ccc"}},r.createElement(g0,{style:{fontSize:"48px",marginBottom:"15px",opacity:.5}}),r.createElement("p",null,"No locations added yet. Add your first location above!")):r.createElement("div",{style:{display:"grid",gap:"15px"}},a.map(k=>r.createElement("div",{key:k._id,style:{background:"rgba(0,0,0,0.3)",padding:"15px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.1)"}},l===k._id?r.createElement(Kz,{location:k,onSave:N=>_(k._id,N),onCancel:I}):r.createElement(Xz,{location:k,onEdit:()=>S(k),onDelete:()=>C(k._id)}))))))}function Xz({location:t,onEdit:a,onDelete:e}){return r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("div",{style:{flex:1}},r.createElement("h4",{style:{color:"#fff",margin:"0 0 5px 0",fontSize:"18px"}},t.name),t.address&&r.createElement("p",{style:{color:"#ccc",margin:"0 0 5px 0",fontSize:"14px"}},"📍 ",t.address),t.notes&&r.createElement("p",{style:{color:"#999",margin:0,fontSize:"13px"}},"📝 ",t.notes)),r.createElement("div",{style:{display:"flex",gap:"8px"}},r.createElement("button",{onClick:a,style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #666",background:"transparent",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"}},r.createElement(Em,null)," Edit"),r.createElement("button",{onClick:e,style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #f44336",background:"transparent",color:"#f44336",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"}},r.createElement(Dl,null)," Delete")))}function Kz({location:t,onSave:a,onCancel:e}){const[n,s]=v.useState({name:t.name,address:t.address||"",notes:t.notes||""}),l=()=>{if(!n.name.trim()){alert("Location name is required");return}a(n)};return r.createElement("div",{style:{display:"grid",gap:"10px"}},r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold"}},"Location Name *"),r.createElement("input",{type:"text",value:n.name,onChange:c=>s({...n,name:c.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"14px"}})),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold"}},"Address"),r.createElement("input",{type:"text",value:n.address,onChange:c=>s({...n,address:c.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"14px"}})),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold"}},"Notes"),r.createElement("textarea",{value:n.notes,onChange:c=>s({...n,notes:c.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"14px",minHeight:"60px",resize:"vertical"}})),r.createElement("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"}},r.createElement("button",{onClick:e,style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #666",background:"transparent",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"}},r.createElement(qz,null)," Cancel"),r.createElement("button",{onClick:l,style:{padding:"8px 12px",borderRadius:"4px",border:"none",background:"#4CAF50",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"}},r.createElement(uo,null)," Save")))}function eU(){const[t,a]=v.useState({registrationFee:30,weeklyDues:10,totalWeeks:10,participationFee:100,phase1Weeks:6,penaltyStructure:{strike1:5,strike2:10,strike3:0},paymentMethods:{venmo:{enabled:!0,username:"",displayName:"Venmo",instructions:"Send payment to @username"},cashapp:{enabled:!0,username:"",displayName:"Cash App",instructions:"Send payment to $username"},creditCard:{enabled:!1,processor:"square",displayName:"Credit/Debit Card",instructions:"Pay online using the link below",paymentLink:"",squareAppId:"",squareLocationId:""},applePay:{enabled:!1,displayName:"Apple Pay",instructions:"Pay using Apple Pay",paymentLink:""},googlePay:{enabled:!1,displayName:"Google Pay",instructions:"Pay using Google Pay",paymentLink:""},cash:{enabled:!0,displayName:"Cash",instructions:"Pay in person to league administrator"},check:{enabled:!1,displayName:"Check",instructions:"Make check payable to [Payee Name]",payeeName:"",mailingAddress:""}},additionalInstructions:"",contactInfo:{adminName:"",adminEmail:"",adminPhone:""},currentSession:{name:"Current Session",startDate:"",endDate:"",isActive:!0}}),[e,n]=v.useState(!0),[s,l]=v.useState(!1),[c,u]=v.useState(""),[m,h]=v.useState({type:"",text:""}),[f,y]=v.useState({feeStructure:!1,penaltyStructure:!1,paymentMethods:!1,additionalInstructions:!1,contactInfo:!1});v.useEffect(()=>{b()},[]);const b=async()=>{try{const N=await fetch(`${Ce}/api/payment-config`);if(N.ok){const M=await N.json();if(M.config){const R={...M.config,penaltyStructure:{strike1:5,strike2:10,strike3:0,...M.config.penaltyStructure},currentSession:{name:"Current Session",startDate:"",endDate:"",isActive:!0,...M.config.currentSession}};a(R)}}}catch(N){console.error("Error loading payment config:",N),h({type:"error",text:"Failed to load payment configuration"})}finally{n(!1)}},E=async()=>{l(!0),h({type:"",text:""});try{(await fetch(`${Ce}/api/payment-config`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?h({type:"success",text:"Payment configuration saved successfully!"}):h({type:"error",text:"Failed to save payment configuration"})}catch(N){console.error("Error saving payment config:",N),h({type:"error",text:"Error saving payment configuration"})}finally{l(!1)}},w=async(N,M)=>{u(N),h({type:"",text:""});try{if((await fetch(`${Ce}/api/payment-config`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,...M})})).ok){h({type:"success",text:`${N} saved successfully!`});let $=null;N==="Fee Structure"?$="feeStructure":N==="Penalty Structure"?$="penaltyStructure":N==="Payment Methods"?$="paymentMethods":N==="Additional Instructions"?$="additionalInstructions":N==="Contact Information"&&($="contactInfo"),$&&y(z=>({...z,[$]:!1}))}else h({type:"error",text:`Failed to save ${N}`})}catch(R){console.error(`Error saving ${N}:`,R),h({type:"error",text:`Error saving ${N}`})}finally{u("")}},_=(N,M,R)=>{a($=>({...$,paymentMethods:{...$.paymentMethods,[N]:{...$.paymentMethods[N],[M]:R}}}))},C=(N,M)=>{a(R=>({...R,contactInfo:{...R.contactInfo,[N]:M}}))},S=N=>{switch(N){case"venmo":return r.createElement(Wz,null);case"cashapp":return r.createElement(Lz,null);case"paypal":return r.createElement(kz,null);case"creditCard":return r.createElement(kx,null);case"applePay":return r.createElement(Nz,null);case"googlePay":return r.createElement(bp,null);case"cash":return r.createElement(jz,null);case"check":return r.createElement(C5,null);default:return r.createElement(kx,null)}},I=N=>{y(M=>({...M,[N]:!M[N]}))},k=N=>{y(M=>({...M,[N]:!1})),b()};return e?r.createElement("div",{style:{textAlign:"center",padding:"20px"}},r.createElement(yr,{style:{animation:"spin 1s linear infinite"}}),r.createElement("p",null,"Loading payment configuration...")):r.createElement("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"}},r.createElement("h2",{style:{color:"#e53e3e",marginBottom:"20px",textAlign:"center"}},"💳 Payment Configuration"),m.text&&r.createElement("div",{style:{padding:"10px 15px",borderRadius:"6px",marginBottom:"20px",background:m.type==="success"?"rgba(76, 175, 80, 0.2)":"rgba(229, 62, 62, 0.2)",border:`1px solid ${m.type==="success"?"#4CAF50":"#e53e3e"}`,color:m.type==="success"?"#4CAF50":"#e53e3e",display:"flex",alignItems:"center",gap:"10px"}},m.type==="success"?r.createElement(vr,null):r.createElement(jp,null),m.text),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"}},r.createElement("h3",{style:{color:"#fff",margin:0}},"League Fee Structure"),r.createElement("button",{onClick:()=>I("feeStructure"),style:{padding:"6px 12px",borderRadius:"4px",border:"none",background:f.feeStructure?"#ff9800":"#4CAF50",color:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:"bold"}},f.feeStructure?"🔒 Cancel Edit":"✏️ Edit")),r.createElement("div",{style:{padding:"15px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:f.feeStructure?"rgba(76, 175, 80, 0.05)":"rgba(255,255,255,0.02)",opacity:f.feeStructure?1:.8}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Registration Fee ($)"),r.createElement("input",{type:"number",value:t.registrationFee,onChange:N=>a(M=>({...M,registrationFee:Number(N.target.value)})),disabled:!f.feeStructure,style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.feeStructure?"#222":"#333",color:f.feeStructure?"#fff":"#888",cursor:f.feeStructure?"text":"not-allowed"},min:"0",step:"0.01"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Weekly Dues ($)"),r.createElement("input",{type:"number",value:t.weeklyDues,onChange:N=>a(M=>({...M,weeklyDues:Number(N.target.value)})),disabled:!f.feeStructure,style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.feeStructure?"#222":"#333",color:f.feeStructure?"#fff":"#888",cursor:f.feeStructure?"text":"not-allowed"},min:"0",step:"0.01"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Total Weeks"),r.createElement("input",{type:"number",value:t.totalWeeks,onChange:N=>a(M=>({...M,totalWeeks:Number(N.target.value)})),disabled:!f.feeStructure,style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.feeStructure?"#222":"#333",color:f.feeStructure?"#fff":"#888",cursor:f.feeStructure?"text":"not-allowed"},min:"1"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Participation Fee ($)"),r.createElement("div",{style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#333",color:"#4CAF50",fontWeight:"bold",textAlign:"center"}},"$",t.registrationFee+t.weeklyDues*t.totalWeeks,r.createElement("div",{style:{fontSize:"12px",color:"#888",marginTop:"2px"}},"Auto-calculated: $",t.registrationFee," + ($",t.weeklyDues," × ",t.totalWeeks,")"))))),r.createElement("div",{style:{marginTop:"10px",padding:"10px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"6px",border:"1px solid #4CAF50"}},r.createElement("div",{style:{color:"#4CAF50",fontSize:"14px"}},r.createElement("strong",null,"Total Session Cost:")," $",t.registrationFee+t.weeklyDues*t.totalWeeks,"(",t.registrationFee," + ",t.weeklyDues," × ",t.totalWeeks," weeks)")),f.feeStructure&&r.createElement("div",{style:{marginTop:"15px",textAlign:"center",display:"flex",gap:"10px",justifyContent:"center"}},r.createElement("button",{onClick:()=>w("Fee Structure",{registrationFee:t.registrationFee,weeklyDues:t.weeklyDues,totalWeeks:t.totalWeeks,participationFee:t.registrationFee+t.weeklyDues*t.totalWeeks}),disabled:c==="Fee Structure",style:{padding:"8px 20px",borderRadius:"6px",border:"none",background:c==="Fee Structure"?"#666":"#4CAF50",color:"#fff",cursor:c==="Fee Structure"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},c==="Fee Structure"?r.createElement(yr,{style:{animation:"spin 1s linear infinite"}}):r.createElement(uo,null),c==="Fee Structure"?"Saving...":"Save Fee Structure"),r.createElement("button",{onClick:()=>k("feeStructure"),disabled:c==="Fee Structure",style:{padding:"8px 20px",borderRadius:"6px",border:"1px solid #666",background:"transparent",color:"#ccc",cursor:c==="Fee Structure"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"}},"Cancel"))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"}},r.createElement("h3",{style:{color:"#fff",margin:0}},"Penalty Structure"),r.createElement("button",{onClick:()=>I("penaltyStructure"),style:{padding:"6px 12px",borderRadius:"4px",border:"none",background:f.penaltyStructure?"#ff9800":"#4CAF50",color:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:"bold"}},f.penaltyStructure?"🔒 Cancel Edit":"✏️ Edit")),r.createElement("div",{style:{padding:"15px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:f.penaltyStructure?"rgba(76, 175, 80, 0.05)":"rgba(255,255,255,0.02)",opacity:f.penaltyStructure?1:.8}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"1st Strike Fine ($)"),r.createElement("input",{type:"number",value:t.penaltyStructure.strike1,onChange:N=>a(M=>({...M,penaltyStructure:{...M.penaltyStructure,strike1:Number(N.target.value)}})),disabled:!f.penaltyStructure,style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.penaltyStructure?"#222":"#333",color:f.penaltyStructure?"#fff":"#888",cursor:f.penaltyStructure?"text":"not-allowed"},min:"0",step:"0.01"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"2nd Strike Fine ($)"),r.createElement("input",{type:"number",value:t.penaltyStructure.strike2,onChange:N=>a(M=>({...M,penaltyStructure:{...M.penaltyStructure,strike2:Number(N.target.value)}})),disabled:!f.penaltyStructure,style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.penaltyStructure?"#222":"#333",color:f.penaltyStructure?"#fff":"#888",cursor:f.penaltyStructure?"text":"not-allowed"},min:"0",step:"0.01"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"3rd Strike Fine ($)"),r.createElement("input",{type:"number",value:t.penaltyStructure.strike3,onChange:N=>a(M=>({...M,penaltyStructure:{...M.penaltyStructure,strike3:Number(N.target.value)}})),disabled:!f.penaltyStructure,style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.penaltyStructure?"#222":"#333",color:f.penaltyStructure?"#fff":"#888",cursor:f.penaltyStructure?"text":"not-allowed"},min:"0",step:"0.01"})))),f.penaltyStructure&&r.createElement("div",{style:{marginTop:"15px",textAlign:"center",display:"flex",gap:"10px",justifyContent:"center"}},r.createElement("button",{onClick:()=>w("Penalty Structure",{penaltyStructure:t.penaltyStructure}),disabled:c==="Penalty Structure",style:{padding:"8px 20px",borderRadius:"6px",border:"none",background:c==="Penalty Structure"?"#666":"#4CAF50",color:"#fff",cursor:c==="Penalty Structure"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},c==="Penalty Structure"?r.createElement(yr,{style:{animation:"spin 1s linear infinite"}}):r.createElement(uo,null),c==="Penalty Structure"?"Saving...":"Save Penalty Structure"),r.createElement("button",{onClick:()=>k("penaltyStructure"),disabled:c==="Penalty Structure",style:{padding:"8px 20px",borderRadius:"6px",border:"1px solid #666",background:"transparent",color:"#ccc",cursor:c==="Penalty Structure"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"}},"Cancel"))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"}},r.createElement("h3",{style:{color:"#fff",margin:0}},"Payment Methods"),r.createElement("button",{onClick:()=>I("paymentMethods"),style:{padding:"6px 12px",borderRadius:"4px",border:"none",background:f.paymentMethods?"#ff9800":"#4CAF50",color:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:"bold"}},f.paymentMethods?"🔒 Cancel Edit":"✏️ Edit")),r.createElement("div",{style:{padding:"15px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:f.paymentMethods?"rgba(76, 175, 80, 0.05)":"rgba(255,255,255,0.02)",opacity:f.paymentMethods?1:.8}},Object.entries(t.paymentMethods).map(([N,M])=>r.createElement("div",{key:N,style:{marginBottom:"20px",padding:"15px",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",background:"rgba(255,255,255,0.02)"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"}},S(N),r.createElement("h4",{style:{color:"#fff",margin:0,flex:1}},M.displayName),r.createElement("label",{style:{display:"flex",alignItems:"center",gap:"5px"}},r.createElement("input",{type:"checkbox",checked:M.enabled,onChange:R=>_(N,"enabled",R.target.checked),disabled:!f.paymentMethods,style:{cursor:f.paymentMethods?"pointer":"not-allowed"}}),r.createElement("span",{style:{color:"#fff",fontSize:"14px"}},"Enabled"))),M.enabled&&r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"10px"}},N==="venmo"&&r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Venmo Username"),r.createElement("input",{type:"text",value:M.username,onChange:R=>_(N,"username",R.target.value),disabled:!f.paymentMethods,placeholder:"@username",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.paymentMethods?"#222":"#333",color:f.paymentMethods?"#fff":"#888",cursor:f.paymentMethods?"text":"not-allowed"}})),N==="cashapp"&&r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Cash App Username"),r.createElement("input",{type:"text",value:M.username,onChange:R=>_(N,"username",R.target.value),disabled:!f.paymentMethods,placeholder:"$username",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.paymentMethods?"#222":"#333",color:f.paymentMethods?"#fff":"#888",cursor:f.paymentMethods?"text":"not-allowed"}})),(N==="creditCard"||N==="applePay"||N==="googlePay")&&r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Payment Link"),r.createElement("input",{type:"url",value:M.paymentLink,onChange:R=>_(N,"paymentLink",R.target.value),disabled:!f.paymentMethods,placeholder:"https://...",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.paymentMethods?"#222":"#333",color:f.paymentMethods?"#fff":"#888",cursor:f.paymentMethods?"text":"not-allowed"}})),N==="check"&&r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Payee Name"),r.createElement("input",{type:"text",value:M.payeeName,onChange:R=>_(N,"payeeName",R.target.value),disabled:!f.paymentMethods,placeholder:"Pay to the order of...",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.paymentMethods?"#222":"#333",color:f.paymentMethods?"#fff":"#888",cursor:f.paymentMethods?"text":"not-allowed"}})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Mailing Address"),r.createElement("textarea",{value:M.mailingAddress,onChange:R=>_(N,"mailingAddress",R.target.value),disabled:!f.paymentMethods,placeholder:"Mailing address for checks...",rows:"3",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.paymentMethods?"#222":"#333",color:f.paymentMethods?"#fff":"#888",cursor:f.paymentMethods?"text":"not-allowed",resize:"vertical"}}))),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Instructions"),r.createElement("textarea",{value:M.instructions,onChange:R=>_(N,"instructions",R.target.value),disabled:!f.paymentMethods,placeholder:"Payment instructions...",rows:"2",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.paymentMethods?"#222":"#333",color:f.paymentMethods?"#fff":"#888",cursor:f.paymentMethods?"text":"not-allowed",resize:"vertical"}})))))),f.paymentMethods&&r.createElement("div",{style:{marginTop:"15px",textAlign:"center",display:"flex",gap:"10px",justifyContent:"center"}},r.createElement("button",{onClick:()=>w("Payment Methods",{paymentMethods:t.paymentMethods}),disabled:c==="Payment Methods",style:{padding:"8px 20px",borderRadius:"6px",border:"none",background:c==="Payment Methods"?"#666":"#4CAF50",color:"#fff",cursor:c==="Payment Methods"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},c==="Payment Methods"?r.createElement(yr,{style:{animation:"spin 1s linear infinite"}}):r.createElement(uo,null),c==="Payment Methods"?"Saving...":"Save Payment Methods"),r.createElement("button",{onClick:()=>k("paymentMethods"),disabled:c==="Payment Methods",style:{padding:"8px 20px",borderRadius:"6px",border:"1px solid #666",background:"transparent",color:"#ccc",cursor:c==="Payment Methods"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"}},"Cancel"))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"}},r.createElement("h3",{style:{color:"#fff",margin:0}},"Additional Instructions"),r.createElement("button",{onClick:()=>I("additionalInstructions"),style:{padding:"6px 12px",borderRadius:"4px",border:"none",background:f.additionalInstructions?"#ff9800":"#4CAF50",color:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:"bold"}},f.additionalInstructions?"🔒 Cancel Edit":"✏️ Edit")),r.createElement("div",{style:{padding:"15px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:f.additionalInstructions?"rgba(76, 175, 80, 0.05)":"rgba(255,255,255,0.02)",opacity:f.additionalInstructions?1:.8}},r.createElement("textarea",{value:t.additionalInstructions,onChange:N=>a(M=>({...M,additionalInstructions:N.target.value})),disabled:!f.additionalInstructions,placeholder:"Enter any additional payment instructions or notes for players...",rows:"4",style:{width:"100%",padding:"12px",borderRadius:"6px",border:"1px solid #444",background:f.additionalInstructions?"#222":"#333",color:f.additionalInstructions?"#fff":"#888",cursor:f.additionalInstructions?"text":"not-allowed",resize:"vertical",fontFamily:"inherit"}})),f.additionalInstructions&&r.createElement("div",{style:{marginTop:"15px",textAlign:"center",display:"flex",gap:"10px",justifyContent:"center"}},r.createElement("button",{onClick:()=>w("Additional Instructions",{additionalInstructions:t.additionalInstructions}),disabled:c==="Additional Instructions",style:{padding:"8px 20px",borderRadius:"6px",border:"none",background:c==="Additional Instructions"?"#666":"#4CAF50",color:"#fff",cursor:c==="Additional Instructions"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},c==="Additional Instructions"?r.createElement(yr,{style:{animation:"spin 1s linear infinite"}}):r.createElement(uo,null),c==="Additional Instructions"?"Saving...":"Save Additional Instructions"),r.createElement("button",{onClick:()=>k("additionalInstructions"),disabled:c==="Additional Instructions",style:{padding:"8px 20px",borderRadius:"6px",border:"1px solid #666",background:"transparent",color:"#ccc",cursor:c==="Additional Instructions"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"}},"Cancel"))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"}},r.createElement("h3",{style:{color:"#fff",margin:0}},"Contact Information"),r.createElement("button",{onClick:()=>I("contactInfo"),style:{padding:"6px 12px",borderRadius:"4px",border:"none",background:f.contactInfo?"#ff9800":"#4CAF50",color:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:"bold"}},f.contactInfo?"🔒 Cancel Edit":"✏️ Edit")),r.createElement("div",{style:{padding:"15px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:f.contactInfo?"rgba(76, 175, 80, 0.05)":"rgba(255,255,255,0.02)",opacity:f.contactInfo?1:.8}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Admin Name"),r.createElement("input",{type:"text",value:t.contactInfo.adminName,onChange:N=>C("adminName",N.target.value),disabled:!f.contactInfo,placeholder:"League Administrator Name",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.contactInfo?"#222":"#333",color:f.contactInfo?"#fff":"#888",cursor:f.contactInfo?"text":"not-allowed"}})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Admin Email"),r.createElement("input",{type:"email",value:t.contactInfo.adminEmail,onChange:N=>C("adminEmail",N.target.value),disabled:!f.contactInfo,placeholder:"admin@example.com",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.contactInfo?"#222":"#333",color:f.contactInfo?"#fff":"#888",cursor:f.contactInfo?"text":"not-allowed"}})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Admin Phone"),r.createElement("input",{type:"tel",value:t.contactInfo.adminPhone,onChange:N=>C("adminPhone",N.target.value),disabled:!f.contactInfo,placeholder:"(555) 123-4567",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.contactInfo?"#222":"#333",color:f.contactInfo?"#fff":"#888",cursor:f.contactInfo?"text":"not-allowed"}})))),f.contactInfo&&r.createElement("div",{style:{marginTop:"15px",textAlign:"center",display:"flex",gap:"10px",justifyContent:"center"}},r.createElement("button",{onClick:()=>w("Contact Information",{contactInfo:t.contactInfo}),disabled:c==="Contact Information",style:{padding:"8px 20px",borderRadius:"6px",border:"none",background:c==="Contact Information"?"#666":"#4CAF50",color:"#fff",cursor:c==="Contact Information"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},c==="Contact Information"?r.createElement(yr,{style:{animation:"spin 1s linear infinite"}}):r.createElement(uo,null),c==="Contact Information"?"Saving...":"Save Contact Information"),r.createElement("button",{onClick:()=>k("contactInfo"),disabled:c==="Contact Information",style:{padding:"8px 20px",borderRadius:"6px",border:"1px solid #666",background:"transparent",color:"#ccc",cursor:c==="Contact Information"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"}},"Cancel"))),r.createElement("div",{style:{marginTop:"40px",padding:"20px",border:"2px solid rgba(76, 175, 80, 0.3)",borderRadius:"12px",background:"rgba(76, 175, 80, 0.05)",textAlign:"center"}},r.createElement("h3",{style:{color:"#4CAF50",marginBottom:"15px"}},"💾 Save All Changes"),r.createElement("p",{style:{color:"#ccc",marginBottom:"20px",fontSize:"14px"}},"Use this button to save all configuration changes at once, or use the individual save buttons for each section above."),r.createElement("button",{onClick:E,disabled:s,style:{padding:"12px 30px",borderRadius:"8px",border:"none",background:s?"#666":"linear-gradient(135deg, #4CAF50, #45a049)",color:"#fff",cursor:s?"not-allowed":"pointer",fontSize:"16px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto",boxShadow:s?"none":"0 4px 15px rgba(76, 175, 80, 0.3)",transition:"all 0.2s ease"},onMouseEnter:N=>{s||(N.target.style.transform="translateY(-2px)",N.target.style.boxShadow="0 6px 20px rgba(76, 175, 80, 0.4)")},onMouseLeave:N=>{s||(N.target.style.transform="translateY(0)",N.target.style.boxShadow="0 4px 15px rgba(76, 175, 80, 0.3)")}},s?r.createElement(yr,{style:{animation:"spin 1s linear infinite"}}):r.createElement(uo,null),s?"Saving All Changes...":"Save All Configuration")))}function tU(){const[t,a]=v.useState([]),[e,n]=v.useState(!0),[s,l]=v.useState(""),[c,u]=v.useState("all"),[m,h]=v.useState(null),[f,y]=v.useState(!1),[b,E]=v.useState(!1),[w,_]=v.useState(!1),[C,S]=v.useState({amount:"",paymentType:"weekly_dues",paymentMethod:"cash",notes:"",date:new Date().toISOString().split("T")[0]}),[I,k]=v.useState({amount:"",reason:"",strikeLevel:"1",notes:"",date:new Date().toISOString().split("T")[0]}),[N,M]=v.useState({registrationFee:30,weeklyDues:10,totalWeeks:10,penaltyStructure:{strike1:5,strike2:10,strike3:0}});v.useEffect(()=>{R(),$()},[]);const R=async()=>{n(!0);try{console.log("🔄 Loading players..."),console.log("🔍 API URL:",`${Ce}/api/users/search?approved=true`);const L=await fetch(`${Ce}/api/users/search?approved=true&t=${Date.now()}`);if(L.ok){const A=await L.json();console.log("📊 Loaded players data:",A.users.length,"players");const U=A.users.find(V=>V.firstName==="Beta"&&V.lastName==="Test User");if(U)console.log("🔍 Raw Beta Test User data from API:",{id:U._id,firstName:U.firstName,lastName:U.lastName,paymentHistory:U.paymentHistory,paymentHistoryLength:U.paymentHistory?U.paymentHistory.length:"undefined"});else{console.log("❌ Beta Test User not found in raw data"),console.log("Available users:",A.users.map(j=>`${j.firstName} ${j.lastName}`)),console.log("🔍 All users with IDs:",A.users.map(j=>({id:j._id,name:`${j.firstName} ${j.lastName}`,email:j.email})));const V=A.users.filter(j=>!j.firstName||!j.lastName||j.firstName.trim()===""||j.lastName.trim()==="");V.length>0&&(console.log("⚠️ Users with empty names found:",V.length),V.forEach((j,re)=>{console.log(`   ${re+1}. ID: ${j._id}`),console.log(`      Email: ${j.email||"No email"}`),console.log(`      First Name: "${j.firstName||"EMPTY"}"`),console.log(`      Last Name: "${j.lastName||"EMPTY"}"`)}))}const q=A.users.filter(V=>V.paymentHistory&&V.paymentHistory.length>0);console.log("🔍 Users with payment history:",q.length),q.length>0&&console.log("🔍 First user with payments:",{name:`${q[0].firstName} ${q[0].lastName}`,paymentHistory:q[0].paymentHistory});const Q=A.users.find(V=>V.email==="frbcapl@gmail.com");Q?(console.log("🔍 Found frbcapl@gmail.com user:",{id:Q._id,name:`${Q.firstName} ${Q.lastName}`,email:Q.email,paymentHistory:Q.paymentHistory,paymentHistoryLength:Q.paymentHistory?Q.paymentHistory.length:0}),console.log("🔍 Full frbcapl user object:",Q),console.log("🔍 frbcapl user keys:",Object.keys(Q)),console.log("🔍 frbcapl paymentHistory field:",Q.paymentHistory),console.log("🔍 frbcapl paymentHistory type:",typeof Q.paymentHistory)):console.log("❌ frbcapl@gmail.com user not found");const T=A.users.filter(V=>V.firstName&&V.lastName&&V.firstName.trim()&&V.lastName.trim()).map(V=>{const j={...V,paymentHistory:V.paymentHistory||[],penalties:V.penalties||[]};return j.currentBalance=z(j),j.paymentStatus=Y(j),j}),F=T.find(V=>V.firstName==="Beta"&&V.lastName==="Test User");F&&(console.log("🔍 Beta Test User found in loaded data:"),console.log("Payment history length:",F.paymentHistory.length),console.log("Payment history:",F.paymentHistory),console.log("Calculated balance:",F.currentBalance),console.log("Payment status:",F.paymentStatus)),a(T),console.log("✅ Players loaded and processed")}else console.error("❌ Failed to load players:",L.status)}catch(L){console.error("Error loading players:",L)}finally{n(!1)}},$=async()=>{try{const L=await fetch(`${Ce}/api/payment-config`);if(L.ok){const A=await L.json();A.config&&M({registrationFee:A.config.registrationFee||30,weeklyDues:A.config.weeklyDues||10,totalWeeks:A.config.totalWeeks||10,penaltyStructure:A.config.penaltyStructure||{strike1:5,strike2:10,strike3:0}})}}catch(L){console.error("Error loading fee config:",L)}},z=L=>{if(!N)return console.warn("feeConfig not loaded yet for balance calculation."),0;const A=(N.registrationFee||0)+(N.weeklyDues||0)*(N.totalWeeks||0),U=(L.paymentHistory||[]).reduce((T,F)=>F.paymentType==="registration_fee"||F.paymentType==="weekly_dues"||F.paymentType==="participation_fee"||F.paymentType==="penalty"?T+(F.amount||0):T,0),q=(L.penalties||[]).reduce((T,F)=>T+(F.amount||0),0),Q=A-U+q;return console.log(`Balance for ${L.firstName} ${L.lastName}: Expected=${A}, Paid=${U}, Penalties=${q}, Balance=${Q}`),Q},Y=L=>{const A=z(L);return A<=0?"paid":A<=20?"partial":"overdue"},J=t.filter(L=>{var q,Q,T;const A=((q=L.firstName)==null?void 0:q.toLowerCase().includes(s.toLowerCase()))||((Q=L.lastName)==null?void 0:Q.toLowerCase().includes(s.toLowerCase()))||((T=L.email)==null?void 0:T.toLowerCase().includes(s.toLowerCase())),U=c==="all"||L.paymentStatus===c;return A&&U}),ae=async()=>{if(!(!m||!C.amount))try{console.log("Adding payment for player:",m._id),console.log("Payment data:",C);const L=await fetch(`${Ce}/api/users/${m._id}/add-payment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(console.log("Response status:",L.status),L.ok){const A=await L.json();console.log("Payment added successfully:",A),console.log("🔍 Payment result details:",{success:A.success,message:A.message,payment:A.payment,user:A.user}),y(!1),S({amount:"",paymentType:"weekly_dues",paymentMethod:"cash",notes:"",date:new Date().toISOString().split("T")[0]}),console.log("🔄 Reloading players after payment..."),await R(),console.log("✅ Players reloaded after payment"),alert("Payment added successfully!")}else{const A=await L.json();console.error("Payment failed:",A);const U=A.message||A.error||"Unknown error";alert(`Error adding payment: ${U}`)}}catch(L){console.error("Error adding payment:",L),alert(`Error adding payment: ${L.message}`)}},H=async()=>{if(!(!m||!I.amount))try{(await fetch(`${Ce}/api/users/${m._id}/add-penalty`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)})).ok&&(E(!1),k({amount:"",reason:"",strikeLevel:"1",notes:"",date:new Date().toISOString().split("T")[0]}),R())}catch(L){console.error("Error adding penalty:",L)}},Z=L=>{switch(L){case"paid":return"#4CAF50";case"partial":return"#FF9800";case"overdue":return"#f44336";default:return"#666"}},O=L=>{switch(L){case"paid":return r.createElement(vr,null);case"partial":return r.createElement(Tz,null);case"overdue":return r.createElement(vp,null);default:return r.createElement(Vz,null)}};return e?r.createElement("div",{style:{textAlign:"center",padding:"20px"}},r.createElement("div",{style:{animation:"spin 1s linear infinite"}},"🔄"),r.createElement("p",null,"Loading payment data...")):r.createElement("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"}},r.createElement("h2",{style:{color:"#e53e3e",marginBottom:"20px",textAlign:"center"}},"💰 Payment Tracker"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"30px"}},r.createElement("div",{style:{padding:"15px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"8px",border:"1px solid #4CAF50",textAlign:"center"}},r.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#4CAF50"}},t.filter(L=>L.paymentStatus==="paid").length),r.createElement("div",{style:{color:"#fff"}},"Fully Paid")),r.createElement("div",{style:{padding:"15px",background:"rgba(255, 152, 0, 0.1)",borderRadius:"8px",border:"1px solid #FF9800",textAlign:"center"}},r.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#FF9800"}},t.filter(L=>L.paymentStatus==="partial").length),r.createElement("div",{style:{color:"#fff"}},"Partial Payment")),r.createElement("div",{style:{padding:"15px",background:"rgba(244, 67, 54, 0.1)",borderRadius:"8px",border:"1px solid #f44336",textAlign:"center"}},r.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#f44336"}},t.filter(L=>L.paymentStatus==="overdue").length),r.createElement("div",{style:{color:"#fff"}},"Overdue")),r.createElement("div",{style:{padding:"15px",background:"rgba(102, 102, 102, 0.1)",borderRadius:"8px",border:"1px solid #666",textAlign:"center"}},r.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#666"}},"$",t.reduce((L,A)=>L+Math.max(0,A.currentBalance),0).toFixed(2)),r.createElement("div",{style:{color:"#fff"}},"Total Outstanding"))),r.createElement("div",{style:{display:"flex",gap:"15px",marginBottom:"20px",flexWrap:"wrap"}},r.createElement("div",{style:{flex:"1",minWidth:"200px"}},r.createElement("input",{type:"text",placeholder:"Search players...",value:s,onChange:L=>l(L.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"}})),r.createElement("select",{value:c,onChange:L=>u(L.target.value),style:{padding:"10px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",minWidth:"150px"}},r.createElement("option",{value:"all"},"All Status"),r.createElement("option",{value:"paid"},"Fully Paid"),r.createElement("option",{value:"partial"},"Partial Payment"),r.createElement("option",{value:"overdue"},"Overdue")),r.createElement("button",{onClick:()=>{},style:{padding:"10px 15px",borderRadius:"6px",border:"none",background:"#4CAF50",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(Pz,null)," Export")),r.createElement("div",{style:{display:"grid",gap:"15px"}},J.map(L=>r.createElement("div",{key:L._id,style:{padding:"15px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"}},r.createElement("div",{style:{flex:"1",minWidth:"200px"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"5px"}},r.createElement("span",{style:{color:Z(L.paymentStatus),fontSize:"18px"}},O(L.paymentStatus)),r.createElement("h4",{style:{color:"#fff",margin:0}},L.firstName," ",L.lastName)),r.createElement("div",{style:{color:"#ccc",fontSize:"14px"}},L.email," • ",L.phone||"No phone")),r.createElement("div",{style:{textAlign:"center",minWidth:"120px"}},r.createElement("div",{style:{fontSize:"18px",fontWeight:"bold",color:L.currentBalance>0?"#f44336":"#4CAF50"}},"$",L.currentBalance.toFixed(2)),r.createElement("div",{style:{color:"#ccc",fontSize:"12px"}},L.currentBalance>0?"Owed":"Paid")),r.createElement("div",{style:{display:"flex",gap:"8px"}},r.createElement("button",{onClick:()=>{h(L),y(!0)},style:{padding:"8px 12px",borderRadius:"4px",border:"none",background:"#4CAF50",color:"#fff",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"5px"}},r.createElement(Va,null)," Payment"),r.createElement("button",{onClick:()=>{h(L),E(!0)},style:{padding:"8px 12px",borderRadius:"4px",border:"none",background:"#f44336",color:"#fff",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"5px"}},r.createElement(vp,null)," Penalty"),r.createElement("button",{onClick:()=>{h(L),_(!0)},style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #666",background:"transparent",color:"#fff",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"5px"}},r.createElement(yl,null)," Details"))))),f&&m&&r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"flex-start",justifyContent:"center",zIndex:9999,padding:"20px",overflowY:"auto"}},r.createElement("div",{style:{background:"#333",padding:"20px",borderRadius:"8px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto",margin:"auto"}},r.createElement("h3",{style:{color:"#fff",marginBottom:"20px"}},"Add Payment - ",m.firstName," ",m.lastName),r.createElement("div",{style:{display:"grid",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Payment Type"),r.createElement("select",{value:C.paymentType,onChange:L=>{const A=L.target.value;let U=0;A==="registration_fee"?U=N.registrationFee:A==="weekly_dues"?U=N.weeklyDues:A==="participation_fee"&&(U=N.registrationFee+N.weeklyDues*N.totalWeeks),S(q=>({...q,paymentType:A,amount:U}))},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"}},r.createElement("option",{value:"registration_fee"},"Registration Fee ($",N.registrationFee,")"),r.createElement("option",{value:"weekly_dues"},"Weekly Dues ($",N.weeklyDues,")"),r.createElement("option",{value:"participation_fee"},"Participation Fee ($",N.registrationFee+N.weeklyDues*N.totalWeeks,")"),r.createElement("option",{value:"penalty"},"Penalty Payment"),r.createElement("option",{value:"other"},"Other"))),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Amount ($)"),r.createElement("input",{type:"number",value:C.amount,onChange:L=>S(A=>({...A,amount:L.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"},step:"0.01"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Payment Method"),r.createElement("select",{value:C.paymentMethod,onChange:L=>S(A=>({...A,paymentMethod:L.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"}},r.createElement("option",{value:"cash"},"Cash"),r.createElement("option",{value:"venmo"},"Venmo"),r.createElement("option",{value:"credit_card"},"Credit/Debit Card"),r.createElement("option",{value:"check"},"Check"))),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Date"),r.createElement("input",{type:"date",value:C.date,onChange:L=>S(A=>({...A,date:L.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"}})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Notes"),r.createElement("textarea",{value:C.notes,onChange:L=>S(A=>({...A,notes:L.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",minHeight:"60px",resize:"vertical"},placeholder:"Optional notes about this payment..."}))),r.createElement("div",{style:{display:"flex",gap:"10px",marginTop:"20px"}},r.createElement("button",{onClick:ae,style:{padding:"10px 20px",borderRadius:"6px",border:"none",background:"#4CAF50",color:"#fff",cursor:"pointer",flex:"1"}},"Add Payment"),r.createElement("button",{onClick:()=>y(!1),style:{padding:"10px 20px",borderRadius:"6px",border:"1px solid #666",background:"transparent",color:"#fff",cursor:"pointer",flex:"1"}},"Cancel")))),b&&m&&r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"flex-start",justifyContent:"center",zIndex:9999,padding:"20px",overflowY:"auto"}},r.createElement("div",{style:{background:"#333",padding:"20px",borderRadius:"8px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto",margin:"auto"}},r.createElement("h3",{style:{color:"#fff",marginBottom:"20px"}},"Add Penalty - ",m.firstName," ",m.lastName),r.createElement("div",{style:{display:"grid",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Strike Level"),r.createElement("select",{value:I.strikeLevel,onChange:L=>{const A=L.target.value;k(U=>({...U,strikeLevel:A,amount:A==="1"?N.penaltyStructure.strike1:A==="2"?N.penaltyStructure.strike2:A==="3"?N.penaltyStructure.strike3:0}))},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"}},r.createElement("option",{value:"1"},"Strike 1 - $",N.penaltyStructure.strike1," fine"),r.createElement("option",{value:"2"},"Strike 2 - $",N.penaltyStructure.strike2," fine"),r.createElement("option",{value:"3"},"Strike 3 - ",N.penaltyStructure.strike3>0?`$${N.penaltyStructure.strike3} fine`:"Removal"))),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Fine Amount ($)"),r.createElement("input",{type:"number",value:I.amount,onChange:L=>k(A=>({...A,amount:L.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"},step:"0.01"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Reason"),r.createElement("input",{type:"text",value:I.reason,onChange:L=>k(A=>({...A,reason:L.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"},placeholder:"Reason for penalty..."})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Date"),r.createElement("input",{type:"date",value:I.date,onChange:L=>k(A=>({...A,date:L.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"}})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Notes"),r.createElement("textarea",{value:I.notes,onChange:L=>k(A=>({...A,notes:L.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",minHeight:"60px",resize:"vertical"},placeholder:"Additional details about the penalty..."}))),r.createElement("div",{style:{display:"flex",gap:"10px",marginTop:"20px"}},r.createElement("button",{onClick:H,style:{padding:"10px 20px",borderRadius:"6px",border:"none",background:"#f44336",color:"#fff",cursor:"pointer",flex:"1"}},"Add Penalty"),r.createElement("button",{onClick:()=>E(!1),style:{padding:"10px 20px",borderRadius:"6px",border:"1px solid #666",background:"transparent",color:"#fff",cursor:"pointer",flex:"1"}},"Cancel")))),w&&m&&r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"flex-start",justifyContent:"center",zIndex:9999,padding:"20px",overflowY:"auto"}},r.createElement("div",{style:{background:"#333",padding:"20px",borderRadius:"8px",maxWidth:"800px",width:"90%",maxHeight:"80vh",overflow:"auto",margin:"auto"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}},r.createElement("h3",{style:{color:"#fff",margin:0}},"Payment Details - ",m.firstName," ",m.lastName),r.createElement("button",{onClick:()=>_(!1),style:{background:"none",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer"}},"×")),r.createElement("div",{style:{marginBottom:"20px",padding:"15px",background:"#222",borderRadius:"6px"}},r.createElement("h4",{style:{color:"#fff",marginBottom:"10px"}},"Player Information"),r.createElement("div",{style:{color:"#ccc",fontSize:"14px"}},r.createElement("div",null,"Email: ",m.email),r.createElement("div",null,"Phone: ",m.phone||"Not provided"),r.createElement("div",null,"Current Balance: ",r.createElement("span",{style:{color:m.currentBalance>0?"#f44336":"#4CAF50",fontWeight:"bold"}},"$",m.currentBalance.toFixed(2))),r.createElement("div",null,"Payment Status: ",r.createElement("span",{style:{color:Z(m.paymentStatus)}},m.paymentStatus.toUpperCase())))),r.createElement("div",{style:{marginBottom:"20px"}},r.createElement("h4",{style:{color:"#fff",marginBottom:"10px"}},"Payment History"),console.log("🔍 Details Modal - selectedPlayer:",m),console.log("🔍 Details Modal - paymentHistory:",m.paymentHistory),m.paymentHistory&&m.paymentHistory.length>0?r.createElement("div",{style:{maxHeight:"300px",overflowY:"auto"}},m.paymentHistory.map((L,A)=>r.createElement("div",{key:A,style:{padding:"10px",marginBottom:"8px",background:"#222",borderRadius:"4px",border:"1px solid #444"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("div",{style:{color:"#fff",fontWeight:"bold"}},"$",L.amount," - ",L.paymentType.replace("_"," ").toUpperCase()),r.createElement("div",{style:{color:"#ccc",fontSize:"12px"}},new Date(L.date||L.timestamp).toLocaleDateString())),r.createElement("div",{style:{color:"#ccc",fontSize:"12px",marginTop:"5px"}},"Method: ",L.paymentMethod," • ",L.notes&&`Notes: ${L.notes}`)))):r.createElement("div",{style:{color:"#ccc",fontStyle:"italic"}},"No payment history found.")),r.createElement("div",null,r.createElement("h4",{style:{color:"#fff",marginBottom:"10px"}},"Penalties"),m.penalties&&m.penalties.length>0?r.createElement("div",{style:{maxHeight:"200px",overflowY:"auto"}},m.penalties.map((L,A)=>r.createElement("div",{key:A,style:{padding:"10px",marginBottom:"8px",background:"#222",borderRadius:"4px",border:"1px solid #f44336"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("div",{style:{color:"#f44336",fontWeight:"bold"}},"$",L.amount," - ",L.reason),r.createElement("div",{style:{color:"#ccc",fontSize:"12px"}},new Date(L.date||L.timestamp).toLocaleDateString())),r.createElement("div",{style:{color:"#ccc",fontSize:"12px",marginTop:"5px"}},"Strike Level: ",L.strikeLevel," • ",L.notes&&`Notes: ${L.notes}`)))):r.createElement("div",{style:{color:"#ccc",fontStyle:"italic"}},"No penalties found.")))))}function nU(){const[t,a]=v.useState({phase1Weeks:6,currentSession:{name:"Current Session",startDate:"",endDate:"",isActive:!0}}),[e,n]=v.useState(!0),[s,l]=v.useState(!1),[c,u]=v.useState({type:"",text:""}),[m,h]=v.useState("phases"),[f,y]=v.useState([]),[b,E]=v.useState(""),[w,_]=v.useState([]),[C,S]=v.useState([]),[I,k]=v.useState({}),[N,M]=v.useState("");v.useEffect(()=>{R(),$(),z()},[]);const R=async()=>{try{const H=await fetch(`${Ce}/api/payment-config`);if(H.ok){const Z=await H.json();Z.config&&a({phase1Weeks:Z.config.phase1Weeks||6,currentSession:{name:"Current Session",startDate:"",endDate:"",isActive:!0,...Z.config.currentSession}})}}catch(H){console.error("Error loading league config:",H),u({type:"error",text:"Failed to load league configuration"})}finally{n(!1)}},$=async()=>{try{const H=await fetch(`${Ce}/admin/divisions`);if(H.ok){const Z=await H.json();y(Z),Z.length>0&&E(Z[0].name)}}catch(H){console.error("Error loading divisions:",H)}},z=async()=>{try{const H=await fetch(`${Ce}/api/users`);if(H.ok){const Z=await H.json();_(Z.filter(O=>O.isApproved)),S(Z.filter(O=>O.isApproved&&(!O.divisions||O.divisions.length===0)))}}catch(H){console.error("Error loading players:",H)}},Y=async(H,Z)=>{try{(await fetch(`${Ce}/admin/user/${H}/add-division`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:Z})})).ok?(u({type:"success",text:"Player added to division successfully!"}),z()):u({type:"error",text:"Failed to add player to division"})}catch(O){console.error("Error adding player to division:",O),u({type:"error",text:"Error adding player to division"})}},J=async(H,Z)=>{try{(await fetch(`${Ce}/admin/user/${H}/remove-division`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:Z})})).ok?(u({type:"success",text:"Player removed from division successfully!"}),z()):u({type:"error",text:"Failed to remove player from division"})}catch(O){console.error("Error removing player from division:",O),u({type:"error",text:"Error removing player from division"})}};if(e)return r.createElement("div",{style:{textAlign:"center",padding:"20px"}},r.createElement(yr,{style:{animation:"spin 1s linear infinite"}}),r.createElement("p",null,"Loading league configuration..."));const ae=()=>{switch(m){case"phases":return r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"}},r.createElement(Al,{style:{color:"#4CAF50"}}),r.createElement("h3",{style:{color:"#fff",margin:0}},"Phase Configuration")),r.createElement("div",{style:{padding:"20px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"8px",border:"1px solid #4CAF50",textAlign:"center"}},r.createElement(cy,{style:{fontSize:"48px",color:"#4CAF50",marginBottom:"15px"}}),r.createElement("p",{style:{color:"#4CAF50",margin:0,fontSize:"16px"}},"Phase configuration is now part of the division creation process.",r.createElement("br",null),'Use the "Divisions" tab to create new divisions with phase settings.')));case"rosters":return r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"}},r.createElement(id,{style:{color:"#4CAF50"}}),r.createElement("h3",{style:{color:"#fff",margin:0}},"Player Rosters")),r.createElement("div",{style:{padding:"15px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.02)"}},r.createElement("div",{style:{marginBottom:"20px"}},r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Select Division"),r.createElement("select",{value:b,onChange:H=>E(H.target.value),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"}},r.createElement("option",{value:""},"Choose a division..."),f.map(H=>r.createElement("option",{key:H._id,value:H.name},H.name)))),b&&r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"}},r.createElement("div",null,r.createElement("h4",{style:{color:"#fff",marginBottom:"15px"}},"Players in ",b),r.createElement("div",{style:{maxHeight:"400px",overflowY:"auto"}},w.filter(H=>H.divisions&&H.divisions.includes(b)).length===0?r.createElement("p",{style:{color:"#888",textAlign:"center"}},"No players in this division"):w.filter(H=>H.divisions&&H.divisions.includes(b)).map(H=>r.createElement("div",{key:H._id,style:{padding:"10px",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"6px",background:"rgba(255,255,255,0.02)",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("div",null,r.createElement("p",{style:{color:"#fff",margin:"0 0 5px 0"}},H.firstName," ",H.lastName),r.createElement("p",{style:{color:"#888",margin:0,fontSize:"12px"}},H.email)),r.createElement("button",{onClick:()=>J(H._id,b),style:{padding:"4px 8px",borderRadius:"4px",border:"none",background:"#e53e3e",color:"#fff",cursor:"pointer",fontSize:"12px"}},r.createElement(Zz,null)))))),r.createElement("div",null,r.createElement("h4",{style:{color:"#fff",marginBottom:"15px"}},"Available Players"),r.createElement("div",{style:{maxHeight:"400px",overflowY:"auto"}},C.length===0?r.createElement("p",{style:{color:"#888",textAlign:"center"}},"No available players"):C.map(H=>r.createElement("div",{key:H._id,style:{padding:"10px",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"6px",background:"rgba(255,255,255,0.02)",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("div",null,r.createElement("p",{style:{color:"#fff",margin:"0 0 5px 0"}},H.firstName," ",H.lastName),r.createElement("p",{style:{color:"#888",margin:0,fontSize:"12px"}},H.email)),r.createElement("button",{onClick:()=>Y(H._id,b),style:{padding:"4px 8px",borderRadius:"4px",border:"none",background:"#4CAF50",color:"#fff",cursor:"pointer",fontSize:"12px"}},r.createElement(id,null)))))))));case"standings":return r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"}},r.createElement(gd,{style:{color:"#4CAF50"}}),r.createElement("h3",{style:{color:"#fff",margin:0}},"Standings Tracking")),r.createElement("div",{style:{padding:"15px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.02)"}},r.createElement("div",{style:{marginBottom:"20px"}},r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Select Division"),r.createElement("select",{value:N,onChange:H=>M(H.target.value),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"}},r.createElement("option",{value:""},"Choose a division..."),f.map(H=>r.createElement("option",{key:H._id,value:H.name},H.name)))),N&&r.createElement("div",null,r.createElement("h4",{style:{color:"#fff",marginBottom:"15px"}},"Standings for ",N),r.createElement("div",{style:{padding:"15px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"6px",border:"1px solid #4CAF50",textAlign:"center"}},r.createElement(h0,{style:{fontSize:"48px",color:"#4CAF50",marginBottom:"10px"}}),r.createElement("p",{style:{color:"#4CAF50",margin:0}},"Standings tracking will be integrated with CSI LMS data.",r.createElement("br",null),'Use the "Divisions" tab to sync standings from CSI LMS.')))));default:return null}};return r.createElement("div",{style:{padding:"20px",maxWidth:"1000px",margin:"0 auto"}},r.createElement("h2",{style:{color:"#e53e3e",marginBottom:"20px",textAlign:"center"}},"📅 League Management"),c.text&&r.createElement("div",{style:{padding:"10px 15px",borderRadius:"6px",marginBottom:"20px",background:c.type==="success"?"rgba(76, 175, 80, 0.2)":"rgba(229, 62, 62, 0.2)",border:`1px solid ${c.type==="success"?"#4CAF50":"#e53e3e"}`,color:c.type==="success"?"#4CAF50":"#e53e3e",display:"flex",alignItems:"center",gap:"10px"}},c.type==="success"?r.createElement(vr,null):r.createElement(jp,null),c.text),r.createElement("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",flexWrap:"wrap"}},r.createElement("button",{onClick:()=>h("phases"),style:{padding:"10px 20px",borderRadius:"6px",border:"none",background:m==="phases"?"#4CAF50":"#333",color:"#fff",cursor:"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(Al,null)," Phase Configuration"),r.createElement("button",{onClick:()=>h("rosters"),style:{padding:"10px 20px",borderRadius:"6px",border:"none",background:m==="rosters"?"#4CAF50":"#333",color:"#fff",cursor:"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(id,null)," Player Rosters"),r.createElement("button",{onClick:()=>h("standings"),style:{padding:"10px 20px",borderRadius:"6px",border:"none",background:m==="standings"?"#4CAF50":"#333",color:"#fff",cursor:"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(gd,null)," Standings Tracking")),ae())}const aU=void 0,Tx="frbcaplgmailcom";function rU({backendUrl:t,onComplete:a}){const[e,n]=v.useState(1),[s,l]=v.useState({name:"",description:"",scheduleUrl:"",standingsUrl:"",seasonStart:"",phase1Weeks:6,phase2Weeks:4,totalWeeks:10}),[c,u]=v.useState(!1),[m,h]=v.useState(""),f=[{id:1,title:"Create Division in CSI LMS",description:"First, create the division in the CSI LMS software",instructions:["1. Log into CSI LMS at https://lms.fargorate.com","2. Navigate to League Management","3. Create a new division with your desired name","4. Set up the division settings and rules","5. Make sure the division is active and ready for players"],completed:!1},{id:2,title:"Get Division URLs",description:"Copy the schedule and standings URLs from CSI LMS",instructions:["1. In CSI LMS, go to the division you just created","2. Click on the 'Reports' link in the navigation","3. Click the 'Schedule' button","4. Copy the URL from the schedule report page","5. Click the 'Teams' button","6. Copy the URL from the teams report page","7. Both URLs should look like: https://lms.fargorate.com/PublicReport/LeagueReports?..."],completed:!1},{id:3,title:"Configure Phase Settings",description:"Set up the division's phase structure and session dates",instructions:["1. Set the total number of weeks for the session","2. Configure how many weeks Phase 1 should last","3. Phase 2 weeks will be calculated automatically","4. Set the session start date","5. Review the calculated phase dates"],completed:!1},{id:4,title:"Add Division to App",description:"Create the division in your app with the URLs",instructions:["1. Enter the division name (exactly as in CSI LMS)","2. Add a description (optional)","3. Paste the schedule URL from CSI LMS","4. Paste the standings URL from CSI LMS","5. Click 'Create Division'"],completed:!1},{id:5,title:"Test Data Sync",description:"Verify the division is working correctly",instructions:["1. Click 'Update Schedule' to sync match data","2. Click 'Update Standings' to sync player rankings","3. Verify data appears correctly in the app","4. Test the division in the main dashboard"],completed:!1}],y=(w,_)=>{l(C=>({...C,[w]:_}))},b=async()=>{u(!0),h("");try{const w=await fetch(`${t}/api/seasons`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s.name,division:s.name,description:s.description,scheduleUrl:s.scheduleUrl,standingsUrl:s.standingsUrl,seasonStart:s.seasonStart})}),_=await w.json();if(w.ok){try{const C=await fetch(`${t}/admin/divisions`);if(C.ok){const I=(await C.json()).find(k=>k.name===s.name);I&&await fetch(`${t}/api/division-config/${I._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({phase1Weeks:s.phase1Weeks,phase2Weeks:s.phase2Weeks,totalWeeks:s.totalWeeks,currentSession:{name:`${s.name} Session`,startDate:s.seasonStart,endDate:null,isActive:!0}})})}}catch(C){console.error("Error saving phase configuration:",C)}h("✅ Division created successfully with phase configuration!"),n(5),a&&a()}else h("❌ "+(_.error||"Failed to create division."))}catch(w){h("❌ Failed to create division: "+w.message)}u(!1)},E=()=>{switch(e){case 1:return r.createElement("div",{className:oe.workflowStep},r.createElement("div",{className:oe.stepInstructions},f[0].instructions.map((w,_)=>r.createElement("div",{key:_,className:oe.instructionItem},w))),r.createElement("div",{className:oe.stepActions},r.createElement("button",{className:oe.workflowButton,onClick:()=>n(2)},r.createElement(fo,null)," I've Created the Division in CSI LMS")));case 2:return r.createElement("div",{className:oe.workflowStep},r.createElement("div",{className:oe.stepInstructions},f[1].instructions.map((w,_)=>r.createElement("div",{key:_,className:oe.instructionItem},w))),r.createElement("div",{className:oe.stepActions},r.createElement("button",{className:oe.workflowButton,onClick:()=>n(3)},r.createElement(fo,null)," I Have the URLs Ready")));case 3:return r.createElement("div",{className:oe.workflowStep},r.createElement("div",{className:oe.stepInstructions},f[2].instructions.map((w,_)=>r.createElement("div",{key:_,className:oe.instructionItem},w))),r.createElement("div",{className:oe.divisionForm},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"15px"}},r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px",fontSize:"14px"}},"Total Weeks"),r.createElement("input",{type:"number",value:s.totalWeeks,onChange:w=>{const _=Number(w.target.value),C=s.phase1Weeks,S=Math.max(1,_-C);y("totalWeeks",_),y("phase2Weeks",S)},className:oe.workflowInput,min:"2",max:"40"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px",fontSize:"14px"}},"Phase 1 Weeks"),r.createElement("input",{type:"number",value:s.phase1Weeks,onChange:w=>{const _=Number(w.target.value);if(y("phase1Weeks",_),s.totalWeeks){const C=Math.max(1,s.totalWeeks-_);y("phase2Weeks",C)}},className:oe.workflowInput,min:"1",max:"20"}))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"15px"}},r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px",fontSize:"14px"}},"Phase 2 Weeks"),r.createElement("input",{type:"number",value:s.phase2Weeks,onChange:w=>{const _=Number(w.target.value);y("phase2Weeks",_);const C=s.phase1Weeks+_;y("totalWeeks",C)},className:oe.workflowInput,min:"1",max:"20"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px",fontSize:"14px"}},"Session Start Date"),r.createElement("input",{type:"date",value:s.seasonStart,onChange:w=>y("seasonStart",w.target.value),className:oe.workflowInput}))),s.seasonStart&&r.createElement("div",{style:{marginTop:"15px",padding:"15px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"6px",border:"1px solid #4CAF50"}},r.createElement("div",{style:{color:"#4CAF50",fontSize:"14px"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px"}},r.createElement(cy,null),r.createElement("strong",null,"Calculated Session Dates:")),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"10px"}},r.createElement("div",null,r.createElement("strong",null,"Phase 1:"),r.createElement("br",null),new Date(s.seasonStart).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})," to ",(()=>{const w=new Date(s.seasonStart),_=new Date(w);return _.setDate(w.getDate()+s.phase1Weeks*6-1),_.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})()),r.createElement("div",null,r.createElement("strong",null,"Phase 2:"),r.createElement("br",null),(()=>{const w=new Date(s.seasonStart),_=new Date(w);return _.setDate(w.getDate()+s.phase1Weeks*6),_.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})()," to ",(()=>{const w=new Date(s.seasonStart),_=new Date(w);return _.setDate(w.getDate()+s.phase1Weeks*6+s.phase2Weeks*6-1),_.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})())),r.createElement("div",{style:{marginTop:"10px",fontSize:"12px",opacity:.8}},"Total Session Length: ",s.totalWeeks," weeks (",s.phase1Weeks," weeks Phase 1 + ",s.phase2Weeks," weeks Phase 2)"))),r.createElement("button",{className:oe.workflowButton,onClick:()=>n(4),disabled:!s.seasonStart},r.createElement(fo,null)," Continue to Division Setup")));case 4:return r.createElement("div",{className:oe.workflowStep},r.createElement("div",{className:oe.stepInstructions},f[3].instructions.map((w,_)=>r.createElement("div",{key:_,className:oe.instructionItem},w))),r.createElement("div",{className:oe.divisionForm},r.createElement("input",{type:"text",placeholder:"Division Name (exactly as in CSI LMS)",value:s.name,onChange:w=>y("name",w.target.value),className:oe.workflowInput}),r.createElement("input",{type:"text",placeholder:"Description (optional)",value:s.description,onChange:w=>y("description",w.target.value),className:oe.workflowInput}),r.createElement("input",{type:"url",placeholder:"Schedule URL from CSI LMS",value:s.scheduleUrl,onChange:w=>y("scheduleUrl",w.target.value),className:oe.workflowInput}),r.createElement("input",{type:"url",placeholder:"Standings URL from CSI LMS",value:s.standingsUrl,onChange:w=>y("standingsUrl",w.target.value),className:oe.workflowInput}),r.createElement("button",{className:oe.workflowButton,onClick:b,disabled:c||!s.name||!s.scheduleUrl||!s.standingsUrl},c?"Creating...":"Create Division")),m&&r.createElement("div",{className:oe.workflowResult},m));case 5:return r.createElement("div",{className:oe.workflowStep},r.createElement("div",{className:oe.stepInstructions},f[4].instructions.map((w,_)=>r.createElement("div",{key:_,className:oe.instructionItem},w))),r.createElement("div",{className:oe.stepActions},r.createElement(sU,{backendUrl:t,divisionName:s.name}),r.createElement("button",{className:oe.workflowButton,onClick:()=>{n(1),l({name:"",description:"",scheduleUrl:"",standingsUrl:"",seasonStart:"",phase1Weeks:6,phase2Weeks:4,totalWeeks:10}),h("")}},r.createElement(Va,null)," Create Another Division")));default:return null}};return r.createElement("div",{className:oe.workflowContainer},r.createElement("div",{className:oe.workflowHeader},r.createElement("h3",null,r.createElement(Va,null)," Create New Division"),r.createElement("div",{className:oe.workflowProgress},"Step ",e," of ",f.length)),r.createElement("div",{className:oe.workflowSteps},f.map((w,_)=>r.createElement("div",{key:w.id,className:`${oe.workflowStepIndicator} ${e>w.id?oe.completed:e===w.id?oe.active:oe.pending}`},r.createElement("div",{className:oe.stepNumber},w.id),r.createElement("div",{className:oe.stepInfo},r.createElement("div",{className:oe.stepTitle},w.title),r.createElement("div",{className:oe.stepDescription},w.description))))),r.createElement("div",{className:oe.workflowContent},E()))}function sU({backendUrl:t,divisionName:a}){const[e,n]=v.useState(!1),[s,l]=v.useState(""),c=async u=>{n(!0),l("");try{const h=await fetch(`${t}${u==="schedule"?"/admin/update-schedule":"/admin/update-standings"}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:a})}),f=await h.json();h.ok?l(`✅ ${u==="schedule"?"Schedule":"Standings"} updated successfully!`):l(`❌ Failed to update ${u}: ${f.error||"Unknown error"}`)}catch(m){l(`❌ Failed to update ${u}: ${m.message}`)}n(!1)};return r.createElement("div",{className:oe.dataSyncTools},r.createElement("button",{className:oe.syncButton,onClick:()=>c("schedule"),disabled:e},r.createElement(y0,null)," Update Schedule"),r.createElement("button",{className:oe.syncButton,onClick:()=>c("standings"),disabled:e},r.createElement(y0,null)," Update Standings"),s&&r.createElement("div",{className:oe.syncResult},s))}function iU({backendUrl:t}){const[a,e]=v.useState("approve"),[n,s]=v.useState([]),[l,c]=v.useState([]),[u,m]=v.useState(!1);v.useEffect(()=>{h(),f()},[]);const h=async()=>{m(!0);try{const w=await fetch(`${t}/api/users/pending-registrations`);if(w.ok){const _=await w.json();s(_.sort((C,S)=>new Date(C.registrationDate)-new Date(S.registrationDate)))}}catch(w){console.error("Error fetching pending registrations:",w)}m(!1)},f=async()=>{try{const w=await fetch(`${t}/api/users/pending-payment`);if(w.ok){const _=await w.json();c(_.users||[])}}catch(w){console.error("Error fetching pending payments:",w)}},y=async(w,_,C)=>{try{const S=await fetch(`${t}/api/users/${w}/confirm-payment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentMethod:_||"Admin Confirmed",paymentNotes:C||""})});if(S.ok){const I=await S.json();alert(`Payment confirmed! PIN: ${I.user.pin}`),f()}else alert("Failed to confirm payment")}catch(S){console.error("Error confirming payment:",S),alert("Error confirming payment")}},b=async(w,_)=>{try{(await fetch(`${t}/api/users/admin/approve-registration/${w}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({approvedBy:"Admin",paymentInfo:{hasPaid:!0,paymentDate:new Date,paymentMethod:"Cash",paymentNotes:"Approved by admin"},division:_})})).ok?h():alert("Failed to approve registration")}catch(C){console.error("Error approving registration:",C),alert("Error approving registration")}},E=async(w,_)=>{try{(await fetch(`${t}/api/users/admin/reject-registration/${w}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rejectedBy:"Admin",notes:_})})).ok?h():alert("Failed to reject registration")}catch(C){console.error("Error rejecting registration:",C),alert("Error rejecting registration")}};return r.createElement("div",{className:oe.playerManagementContainer},r.createElement("div",{className:oe.tabHeader},r.createElement("button",{className:`${oe.tabButton} ${a==="approve"?oe.active:""}`,onClick:()=>e("approve")},r.createElement(id,null)," Approve New Players (",n.length,")"),r.createElement("button",{className:`${oe.tabButton} ${a==="payments"?oe.active:""}`,onClick:()=>e("payments")},r.createElement(vr,null)," Pending Payments (",l.length,")"),r.createElement("button",{className:`${oe.tabButton} ${a==="manage"?oe.active:""}`,onClick:()=>e("manage")},r.createElement(yd,null)," Manage Existing Players")),r.createElement("div",{className:oe.tabContent},a==="approve"&&r.createElement("div",{className:oe.approvalSection},u?r.createElement("div",{className:oe.loadingMessage},"Loading pending registrations..."):n.length===0?r.createElement("div",{className:oe.emptyState},r.createElement(vr,null)," No pending registrations"):r.createElement("div",{className:oe.registrationList},n.map((w,_)=>r.createElement("div",{key:w._id,className:oe.registrationCard},r.createElement("div",{className:oe.registrationHeader},r.createElement("span",{className:oe.registrationNumber},"#",_+1),r.createElement("h4",null,w.firstName," ",w.lastName)),r.createElement("div",{className:oe.registrationDetails},r.createElement("p",null,r.createElement("strong",null,"Email:")," ",w.email),r.createElement("p",null,r.createElement("strong",null,"Phone:")," ",w.phone),r.createElement("p",null,r.createElement("strong",null,"Registered:")," ",new Date(w.registrationDate).toLocaleDateString())),r.createElement("div",{className:oe.registrationActions},r.createElement("select",{id:`division-${w._id}`,className:oe.divisionSelect},r.createElement("option",{value:""},"Select Division"),r.createElement("option",{value:"FRBCAPL TEST"},"FRBCAPL TEST"),r.createElement("option",{value:"Singles Test"},"Singles Test"),r.createElement("option",{value:"Waiting List"},"Waiting List")),r.createElement("button",{className:oe.approveButton,onClick:()=>{const C=document.getElementById(`division-${w._id}`).value;if(!C){alert("Please select a division before approving.");return}b(w._id,C)}},r.createElement(vr,null)," Approve"),r.createElement("button",{className:oe.rejectButton,onClick:()=>{const C=prompt("Enter rejection reason (optional):");C!==null&&E(w._id,C)}},r.createElement(Dl,null)," Reject")))))),a==="payments"&&r.createElement("div",{className:oe.paymentSection},l.length===0?r.createElement("div",{className:oe.emptyState},r.createElement(vr,null)," No pending payments"):r.createElement("div",{className:oe.paymentList},l.map((w,_)=>r.createElement("div",{key:w._id,className:oe.paymentCard},r.createElement("div",{className:oe.paymentHeader},r.createElement("span",{className:oe.paymentNumber},"#",_+1),r.createElement("h4",null,w.firstName," ",w.lastName)),r.createElement("div",{className:oe.paymentDetails},r.createElement("p",null,r.createElement("strong",null,"Email:")," ",w.email),r.createElement("p",null,r.createElement("strong",null,"Registered:")," ",new Date(w.registrationDate).toLocaleDateString()),r.createElement("p",null,r.createElement("strong",null,"Status:")," ",r.createElement("span",{className:oe.pendingStatus},"Payment Pending"))),r.createElement("div",{className:oe.paymentActions},r.createElement("select",{id:`payment-method-${w._id}`,className:oe.paymentMethodSelect},r.createElement("option",{value:"Cash"},"Cash"),r.createElement("option",{value:"Venmo"},"Venmo"),r.createElement("option",{value:"Cash App"},"Cash App"),r.createElement("option",{value:"PayPal"},"PayPal"),r.createElement("option",{value:"Credit Card"},"Credit Card"),r.createElement("option",{value:"Apple Pay"},"Apple Pay"),r.createElement("option",{value:"Google Pay"},"Google Pay"),r.createElement("option",{value:"Check"},"Check"),r.createElement("option",{value:"Admin Confirmed"},"Admin Confirmed")),r.createElement("button",{className:oe.confirmPaymentButton,onClick:()=>{const C=document.getElementById(`payment-method-${w._id}`).value,S=prompt("Payment notes (optional):");S!==null&&y(w._id,C,S)}},r.createElement(vr,null)," Confirm Payment")))))),a==="manage"&&r.createElement("div",{className:oe.manageSection},r.createElement(oU,{backendUrl:t}))))}function oU({backendUrl:t}){const[a,e]=v.useState(""),[n,s]=v.useState([]),[l,c]=v.useState([]),[u,m]=v.useState({});v.useEffect(()=>{fetch(`${t}/admin/divisions`).then(E=>E.json()).then(E=>c(E.map(w=>w.name))).catch(()=>c([]))},[t]);const h=async E=>{if(E.preventDefault(),!!a.trim())try{const _=await(await fetch(`${t}/admin/search-users?query=${encodeURIComponent(a)}`)).json();s(_),m({})}catch{s([]),alert("Search failed")}},f=async(E,w)=>{try{await fetch(`${t}/admin/user/${E}/add-division`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:w})}),h({preventDefault:()=>{}})}catch{alert("Failed to add user to division")}},y=async(E,w)=>{try{await fetch(`${t}/admin/user/${E}/remove-division`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:w})}),h({preventDefault:()=>{}})}catch{alert("Failed to remove user from division")}},b=(E,w)=>{m(_=>({..._,[E]:w}))};return r.createElement("div",{className:oe.userSearchContainer},r.createElement("form",{onSubmit:h,className:oe.searchForm},r.createElement("input",{type:"text",placeholder:"Search by name or email...",value:a,onChange:E=>e(E.target.value),className:oe.searchInput}),r.createElement("button",{type:"submit",className:oe.searchButton},r.createElement($z,null)," Search")),n.length>0&&r.createElement("div",{className:oe.searchResults},n.map(E=>{var w,_;return r.createElement("div",{key:E._id,className:oe.userCard},r.createElement("div",{className:oe.userInfo},r.createElement("h4",{className:oe.userName},E.firstName&&E.lastName?`${E.firstName} ${E.lastName}`:E.name||E.email||"Unknown User"),r.createElement("div",{className:oe.userContactInfo},r.createElement("p",{className:oe.userEmail},r.createElement("strong",null,"Email:")," ",E.email),r.createElement("p",{className:oe.userPhone},r.createElement("strong",null,"Phone:")," ",E.phone||"Not provided"),E.textNumber&&r.createElement("p",{className:oe.userTextNumber},r.createElement("strong",null,"Text:")," ",E.textNumber)),r.createElement("div",{className:oe.userDetails},r.createElement("p",null,r.createElement("strong",null,"Current Divisions:")," ",((w=E.divisions)==null?void 0:w.join(", "))||"None"),E.locations&&r.createElement("p",null,r.createElement("strong",null,"Playing Locations:")," ",E.locations),E.availability&&r.createElement("div",{className:oe.userAvailability},r.createElement("p",null,r.createElement("strong",null,"Availability:")),r.createElement("div",{className:oe.availabilityGrid},Object.entries(E.availability).map(([C,S])=>S&&S.length>0&&r.createElement("div",{key:C,className:oe.availabilityDay},r.createElement("span",{className:oe.dayLabel},C,":"),r.createElement("span",{className:oe.timeSlots},S.join(", ")))))),E.emergencyContactName&&r.createElement("p",null,r.createElement("strong",null,"Emergency Contact:")," ",E.emergencyContactName," (",E.emergencyContactPhone,")"),E.notes&&r.createElement("p",null,r.createElement("strong",null,"Notes:")," ",E.notes))),r.createElement("div",{className:oe.userActions},r.createElement("select",{value:u[E._id]||"",onChange:C=>b(E._id,C.target.value),className:oe.divisionSelect},r.createElement("option",{value:""},"Select Division"),l.map(C=>r.createElement("option",{key:C,value:C},C))),r.createElement("button",{onClick:()=>f(E._id,u[E._id]),disabled:!u[E._id],className:oe.addButton},r.createElement(Va,null)," Add to Division"),(_=E.divisions)==null?void 0:_.map(C=>r.createElement("button",{key:C,onClick:()=>y(E._id,C),className:oe.removeButton},r.createElement(Dl,null)," Remove from ",C))))})))}function lU({backendUrl:t}){const[a,e]=v.useState([]),[n,s]=v.useState("");return v.useEffect(()=>{fetch(`${t}/admin/divisions`).then(l=>l.json()).then(l=>{const c=l.map(u=>u.name);e(c),s(c[0]||"")}).catch(()=>e([]))},[t]),r.createElement("div",{className:oe.matchManagementContainer},r.createElement("div",{className:oe.sectionHeader},r.createElement("h3",null,r.createElement(Al,null)," Match Management"),r.createElement("select",{value:n,onChange:l=>s(l.target.value),className:oe.divisionSelect},a.map(l=>r.createElement("option",{key:l,value:l},l)))),n&&r.createElement(vz,{division:n,isAdmin:!0}))}function cU({backendUrl:t}){const[a,e]=v.useState(!1),[n,s]=v.useState({});v.useEffect(()=>{l()},[]);const l=async()=>{try{const[c,u]=await Promise.all([fetch(`${t}/api/users`),fetch(`${t}/admin/divisions`)]),m=await c.json(),h=await u.json();s({totalUsers:m.length,activeUsers:m.filter(f=>f.isActive).length,pendingRegistrations:m.filter(f=>!f.isApproved).length,totalDivisions:h.length})}catch(c){console.error("Error fetching system stats:",c)}};return r.createElement("div",{className:oe.systemStatusContainer},r.createElement("div",{className:oe.statsGrid},r.createElement("div",{className:oe.statCard},r.createElement("div",{className:oe.statNumber},n.totalUsers||0),r.createElement("div",{className:oe.statLabel},"Total Users")),r.createElement("div",{className:oe.statCard},r.createElement("div",{className:oe.statNumber},n.activeUsers||0),r.createElement("div",{className:oe.statLabel},"Active Users")),r.createElement("div",{className:oe.statCard},r.createElement("div",{className:oe.statNumber},n.pendingRegistrations||0),r.createElement("div",{className:oe.statLabel},"Pending Approvals")),r.createElement("div",{className:oe.statCard},r.createElement("div",{className:oe.statNumber},n.totalDivisions||0),r.createElement("div",{className:oe.statLabel},"Divisions"))),r.createElement("div",{className:oe.systemActions},r.createElement("button",{className:oe.systemButton,onClick:()=>e(!0)},r.createElement(Mz,null)," View Unentered LMS Matches"),r.createElement("button",{className:oe.systemButton,onClick:l},r.createElement(y0,null)," Refresh Stats")),r.createElement(bz,{open:a,onClose:()=>e(!1)}))}function dU(){const[t,a]=v.useState(null),[e,n]=v.useState([]),[s,l]=v.useState(null),[c,u]=v.useState([]),[m,h]=v.useState(!1),[f,y]=v.useState(null),[b,E]=v.useState("overview"),w=Xa();v.useEffect(()=>{const S=new ly(aU);return S.connectUser({id:Tx,name:"Admin"},S.devToken(Tx)),a(S),()=>S.disconnectUser()},[]),v.useEffect(()=>{if(!t)return;(async()=>{try{const I=await t.queryChannels({});n(I)}catch(I){console.error("Error fetching channels:",I)}})()},[t]),v.useEffect(()=>{if(!s)return;(async()=>{h(!0);try{const I=await s.getMessages();u(I.messages)}catch(I){console.error("Error fetching messages:",I)}h(!1)})()},[s]);const _=(S,I)=>{y({type:S,message:I}),setTimeout(()=>y(null),5e3)};if(!t)return r.createElement("div",null,"Loading admin dashboard...");const C=()=>{switch(b){case"overview":return r.createElement("div",{className:oe.overviewSection},r.createElement("h2",null,"Welcome to Admin Dashboard"),r.createElement("p",null,"Select a section below to manage your league:"),r.createElement("div",{className:oe.quickActions},r.createElement("button",{className:oe.quickActionButton,onClick:()=>E("divisions")},r.createElement(Va,null)," Create New Division"),r.createElement("button",{className:oe.quickActionButton,onClick:()=>E("players")},r.createElement(id,null)," Manage Players"),r.createElement("button",{className:oe.quickActionButton,onClick:()=>E("matches")},r.createElement(Al,null)," Match Management"),r.createElement("button",{className:oe.quickActionButton,onClick:()=>E("system")},r.createElement(Nx,null)," System Status")));case"divisions":return r.createElement(rU,{backendUrl:Ce,onComplete:()=>_("success","Division created successfully!")});case"players":return r.createElement(iU,{backendUrl:Ce});case"matches":return r.createElement(lU,{backendUrl:Ce});case"system":return r.createElement(cU,{backendUrl:Ce});case"backup":return r.createElement(Qz,{backendUrl:Ce});case"locations":return r.createElement(Jz,{backendUrl:Ce});case"payments":return r.createElement(eU,null);case"payment-tracker":return r.createElement(tU,null);case"league-management":return r.createElement(nU,null);default:return null}};return r.createElement("div",{className:oe.adminDashboardRoot},r.createElement("div",{className:oe.adminDashboardNav},r.createElement("div",{className:oe.navLeft},r.createElement("button",{onClick:()=>{w("/"),window.location.reload()}},"🏠 User Dashboard"),r.createElement("button",{onClick:()=>w("/chat")},"💬 Back to Chat")),r.createElement("div",{className:oe.navRight},r.createElement("button",{onClick:()=>{localStorage.clear(),w("/"),window.location.reload()}},"🚪 Logout"))),r.createElement("div",{className:oe.adminDashboardMainColumn},f&&r.createElement("div",{className:`${oe.banner} ${oe[f.type]}`},f.type==="success"?r.createElement(vr,null):r.createElement(jp,null),f.message),r.createElement("div",{className:oe.sectionNavigation},r.createElement("button",{className:`${oe.sectionButton} ${b==="overview"?oe.active:""}`,onClick:()=>E("overview")},"📊 Overview"),r.createElement("button",{className:`${oe.sectionButton} ${b==="divisions"?oe.active:""}`,onClick:()=>E("divisions")},r.createElement(Va,null)," Divisions"),r.createElement("button",{className:`${oe.sectionButton} ${b==="players"?oe.active:""}`,onClick:()=>E("players")},r.createElement(yd,null)," Players"),r.createElement("button",{className:`${oe.sectionButton} ${b==="matches"?oe.active:""}`,onClick:()=>E("matches")},r.createElement(Al,null)," Matches"),r.createElement("button",{className:`${oe.sectionButton} ${b==="system"?oe.active:""}`,onClick:()=>E("system")},r.createElement(Nx,null)," System"),r.createElement("button",{className:`${oe.sectionButton} ${b==="backup"?oe.active:""}`,onClick:()=>E("backup")},r.createElement(bp,null)," Backup"),r.createElement("button",{className:`${oe.sectionButton} ${b==="locations"?oe.active:""}`,onClick:()=>E("locations")},r.createElement(g0,null)," Locations"),r.createElement("button",{className:`${oe.sectionButton} ${b==="payments"?oe.active:""}`,onClick:()=>E("payments")},"💳 Payments"),r.createElement("button",{className:`${oe.sectionButton} ${b==="payment-tracker"?oe.active:""}`,onClick:()=>E("payment-tracker")},"💰 Payment Tracker"),r.createElement("button",{className:`${oe.sectionButton} ${b==="league-management"?oe.active:""}`,onClick:()=>E("league-management")},"📅 League Management")),r.createElement("div",{className:oe.sectionContent},C())))}function uU(){const[t,a]=v.useState("overview"),[e,n]=v.useState(!1),[s,l]=v.useState(""),[c,u]=v.useState(""),[m,h]=v.useState(null),[f,y]=v.useState([]),[b,E]=v.useState([]),[w,_]=v.useState([]),C=()=>{const j=Oi.getCurrentAdmin();if(!j)throw new Error("No authenticated admin found");return{email:j.email,pin:j.pin}},[S,I]=v.useState(!1),[k,N]=v.useState(!1),[M,R]=v.useState(!1),[$,z]=v.useState(!1),[Y,J]=v.useState({leagueId:"",name:"",description:"",adminEmail:"",adminName:"",operatorEmail:""}),[ae,H]=v.useState({email:"",firstName:"",lastName:"",phone:"",password:""}),[Z,O]=v.useState({email:"",firstName:"",lastName:"",phone:"",password:"",role:"admin",permissions:{canCreateLeagues:!1,canDeleteLeagues:!1,canManageLeagueOperators:!1,canViewAllLeagueData:!1,canManageBilling:!1,canViewSystemLogs:!1}});v.useEffect(()=>{L()},[]);const L=async()=>{n(!0);try{const{email:j,pin:re}=C(),K={"Content-Type":"application/json","x-admin-email":j,"x-admin-pin":re},[ce,xe,Se,Ke]=await Promise.all([fetch(`${Ce}/api/platform/stats`,{headers:K}),fetch(`${Ce}/api/platform/leagues`,{headers:K}),fetch(`${Ce}/api/platform/operators`,{headers:K}),fetch(`${Ce}/api/platform/admins`,{headers:K})]);if(ce.ok){const pe=await ce.json();h(pe)}else console.error("Stats response error:",ce.status,await ce.text());if(xe.ok){const pe=await xe.json();y(pe.leagues||[])}else console.error("Leagues response error:",xe.status,await xe.text());if(Se.ok){const pe=await Se.json();E(pe.operators||[])}else console.error("Operators response error:",Se.status,await Se.text());if(Ke.ok){const pe=await Ke.json();_(pe.admins||[])}else console.error("Admins response error:",Ke.status,await Ke.text())}catch{l("Failed to load dashboard data")}finally{n(!1)}},A=async j=>{j.preventDefault(),n(!0),l("");try{const{email:re,pin:K}=C(),ce=await fetch(`${Ce}/api/platform/leagues`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...Y,adminEmail:re,adminPin:K})}),xe=await ce.json();ce.ok?(u("League created successfully!"),I(!1),J({leagueId:"",name:"",description:"",adminEmail:"",adminName:"",operatorEmail:""}),L()):l(xe.message||"Failed to create league")}catch{l("Network error. Please try again.")}finally{n(!1)}},U=async j=>{j.preventDefault(),n(!0),l("");try{const{email:re,pin:K}=C(),ce=await fetch(`${Ce}/api/platform/operators`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...ae,adminEmail:re,adminPin:K})}),xe=await ce.json();ce.ok?(u("Operator created successfully!"),N(!1),H({email:"",firstName:"",lastName:"",phone:"",password:""}),L()):l(xe.message||"Failed to create operator")}catch{l("Network error. Please try again.")}finally{n(!1)}},q=async j=>{j.preventDefault(),n(!0),l("");try{const{email:re,pin:K}=C(),ce=await fetch(`${Ce}/api/platform/admins`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...Z,adminEmail:re,adminPin:K})}),xe=await ce.json();ce.ok?(u("Admin created successfully!"),R(!1),O({email:"",firstName:"",lastName:"",phone:"",password:"",role:"admin",permissions:{canCreateLeagues:!1,canDeleteLeagues:!1,canManageLeagueOperators:!1,canViewAllLeagueData:!1,canManageBilling:!1,canViewSystemLogs:!1}}),L()):l(xe.message||"Failed to create admin")}catch{l("Network error. Please try again.")}finally{n(!1)}},Q=()=>r.createElement("div",{className:"overview-section"},r.createElement("h2",null,"Platform Overview"),m&&r.createElement("div",{className:"stats-grid"},r.createElement("div",{className:"stat-card"},r.createElement(gd,{className:"stat-icon"}),r.createElement("div",{className:"stat-content"},r.createElement("h3",null,m.stats.leagues.total),r.createElement("p",null,"Total Leagues"))),r.createElement("div",{className:"stat-card"},r.createElement(yd,{className:"stat-icon"}),r.createElement("div",{className:"stat-content"},r.createElement("h3",null,m.stats.operators),r.createElement("p",null,"League Operators"))),r.createElement("div",{className:"stat-card"},r.createElement(Mx,{className:"stat-icon"}),r.createElement("div",{className:"stat-content"},r.createElement("h3",null,m.stats.admins),r.createElement("p",null,"Platform Admins"))),r.createElement("div",{className:"stat-card"},r.createElement(h0,{className:"stat-icon"}),r.createElement("div",{className:"stat-content"},r.createElement("h3",null,m.stats.leagues.active),r.createElement("p",null,"Active Leagues")))),r.createElement("div",{className:"quick-actions"},r.createElement("h3",null,"Quick Actions"),r.createElement("div",{className:"action-buttons"},r.createElement("button",{onClick:()=>I(!0),className:"btn-primary"},r.createElement(Va,null)," Create New League"),r.createElement("button",{onClick:()=>N(!0),className:"btn-secondary"},r.createElement(Mx,null)," Add League Operator"),r.createElement("button",{onClick:()=>R(!0),className:"btn-secondary"},r.createElement(Dx,null)," Add Platform Admin")))),T=()=>r.createElement("div",{className:"leagues-section"},r.createElement("div",{className:"section-header"},r.createElement("h2",null,"League Management"),r.createElement("button",{onClick:()=>I(!0),className:"btn-primary"},r.createElement(Va,null)," Create League")),r.createElement("div",{className:"leagues-grid"},f.map(j=>r.createElement("div",{key:j.leagueId,className:"league-card"},r.createElement("div",{className:"league-header"},r.createElement("h3",null,j.name),r.createElement("span",{className:`status-badge ${j.subscription.status}`},j.subscription.status)),r.createElement("div",{className:"league-details"},r.createElement("p",null,r.createElement("strong",null,"ID:")," ",j.leagueId),r.createElement("p",null,r.createElement("strong",null,"Admin:")," ",j.adminEmail),r.createElement("p",null,r.createElement("strong",null,"Plan:")," ",j.subscription.plan),r.createElement("p",null,r.createElement("strong",null,"Created:")," ",new Date(j.createdAt).toLocaleDateString())),r.createElement("div",{className:"league-actions"},r.createElement("button",{className:"btn-small"},r.createElement(yl,null)," View Details"),r.createElement("button",{className:"btn-small"},r.createElement(Em,null)," Edit"),r.createElement("button",{className:"btn-small btn-danger"},r.createElement(Dl,null)," Delete")))))),F=()=>r.createElement("div",{className:"operators-section"},r.createElement("div",{className:"section-header"},r.createElement("h2",null,"League Operators"),r.createElement("button",{onClick:()=>N(!0),className:"btn-primary"},r.createElement(Va,null)," Add Operator")),r.createElement("div",{className:"operators-grid"},b.map(j=>r.createElement("div",{key:j._id,className:"operator-card"},r.createElement("div",{className:"operator-header"},r.createElement("h3",null,j.firstName," ",j.lastName),r.createElement("span",{className:"status-badge active"},"Active")),r.createElement("div",{className:"operator-details"},r.createElement("p",null,r.createElement("strong",null,"Email:")," ",j.email),r.createElement("p",null,r.createElement("strong",null,"Leagues:")," ",j.assignedLeagues.length),r.createElement("p",null,r.createElement("strong",null,"Last Login:")," ",j.lastLoginAt?new Date(j.lastLoginAt).toLocaleDateString():"Never")),r.createElement("div",{className:"operator-actions"},r.createElement("button",{className:"btn-small"},r.createElement(yl,null)," View Details"),r.createElement("button",{className:"btn-small"},r.createElement(Em,null)," Edit"),r.createElement("button",{onClick:()=>z(!0),className:"btn-small"},r.createElement(Uz,null)," Assign League")))))),V=()=>r.createElement("div",{className:"admins-section"},r.createElement("div",{className:"section-header"},r.createElement("h2",null,"Platform Admins"),r.createElement("button",{onClick:()=>R(!0),className:"btn-primary"},r.createElement(Va,null)," Add Admin")),r.createElement("div",{className:"admins-grid"},w.map(j=>r.createElement("div",{key:j._id,className:"admin-card"},r.createElement("div",{className:"admin-header"},r.createElement("h3",null,j.firstName," ",j.lastName),r.createElement("span",{className:`role-badge ${j.role}`},j.role)),r.createElement("div",{className:"admin-details"},r.createElement("p",null,r.createElement("strong",null,"Email:")," ",j.email),r.createElement("p",null,r.createElement("strong",null,"Role:")," ",j.role),r.createElement("p",null,r.createElement("strong",null,"Last Login:")," ",j.lastLoginAt?new Date(j.lastLoginAt).toLocaleDateString():"Never")),r.createElement("div",{className:"admin-actions"},r.createElement("button",{className:"btn-small"},r.createElement(yl,null)," View Details"),r.createElement("button",{className:"btn-small"},r.createElement(Em,null)," Edit"),r.createElement("button",{className:"btn-small btn-danger"},r.createElement(Dl,null)," Delete"))))));return r.createElement("div",{className:"platform-admin-dashboard"},s&&r.createElement("div",{className:"error-message"},r.createElement(jp,null)," ",s),c&&r.createElement("div",{className:"success-message"},r.createElement(vr,null)," ",c),r.createElement("div",{className:"dashboard-header"},r.createElement("h1",null,"Platform Administration"),r.createElement("div",{className:"header-actions"},r.createElement("button",{onClick:L,className:"btn-secondary",disabled:e},e?r.createElement(yr,{className:"spinner"}):r.createElement(Gz,null)," Refresh"))),r.createElement("div",{className:"dashboard-tabs"},r.createElement("button",{className:`tab ${t==="overview"?"active":""}`,onClick:()=>a("overview")},r.createElement(h0,null)," Overview"),r.createElement("button",{className:`tab ${t==="leagues"?"active":""}`,onClick:()=>a("leagues")},r.createElement(gd,null)," Leagues"),r.createElement("button",{className:`tab ${t==="operators"?"active":""}`,onClick:()=>a("operators")},r.createElement(yd,null)," Operators"),r.createElement("button",{className:`tab ${t==="admins"?"active":""}`,onClick:()=>a("admins")},r.createElement(Dx,null)," Admins")),r.createElement("div",{className:"dashboard-content"},t==="overview"&&Q(),t==="leagues"&&T(),t==="operators"&&F(),t==="admins"&&V()),r.createElement(Xt,{isOpen:S,onClose:()=>I(!1),title:"Create New League",maxWidth:"600px"},r.createElement("form",{onSubmit:A},r.createElement("div",{className:"form-group"},r.createElement("label",null,"League ID *"),r.createElement("input",{type:"text",value:Y.leagueId,onChange:j=>J({...Y,leagueId:j.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"e.g., front-range-pool",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"League Name *"),r.createElement("input",{type:"text",value:Y.name,onChange:j=>J({...Y,name:j.target.value}),placeholder:"e.g., Front Range Pool League",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Description"),r.createElement("textarea",{value:Y.description,onChange:j=>J({...Y,description:j.target.value}),placeholder:"Brief description of the league"})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Admin Email *"),r.createElement("input",{type:"email",value:Y.adminEmail,onChange:j=>J({...Y,adminEmail:j.target.value}),placeholder:"admin@league.com",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Admin Name *"),r.createElement("input",{type:"text",value:Y.adminName,onChange:j=>J({...Y,adminName:j.target.value}),placeholder:"John Doe",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Assign Operator (Optional)"),r.createElement("input",{type:"email",value:Y.operatorEmail,onChange:j=>J({...Y,operatorEmail:j.target.value}),placeholder:"operator@league.com"})),r.createElement("div",{className:"form-actions"},r.createElement("button",{type:"button",onClick:()=>I(!1),className:"btn-secondary"},"Cancel"),r.createElement("button",{type:"submit",className:"btn-primary",disabled:e},e?r.createElement(yr,{className:"spinner"}):"Create League")))),r.createElement(Xt,{isOpen:k,onClose:()=>N(!1),title:"Create League Operator",maxWidth:"500px"},r.createElement("form",{onSubmit:U},r.createElement("div",{className:"form-group"},r.createElement("label",null,"Email *"),r.createElement("input",{type:"email",value:ae.email,onChange:j=>H({...ae,email:j.target.value}),placeholder:"operator@example.com",required:!0})),r.createElement("div",{className:"form-row"},r.createElement("div",{className:"form-group"},r.createElement("label",null,"First Name *"),r.createElement("input",{type:"text",value:ae.firstName,onChange:j=>H({...ae,firstName:j.target.value}),placeholder:"John",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Last Name *"),r.createElement("input",{type:"text",value:ae.lastName,onChange:j=>H({...ae,lastName:j.target.value}),placeholder:"Doe",required:!0}))),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Phone"),r.createElement("input",{type:"tel",value:ae.phone,onChange:j=>H({...ae,phone:j.target.value}),placeholder:"(555) 123-4567"})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Password *"),r.createElement("input",{type:"password",value:ae.password,onChange:j=>H({...ae,password:j.target.value}),placeholder:"Enter password",required:!0})),r.createElement("div",{className:"form-actions"},r.createElement("button",{type:"button",onClick:()=>N(!1),className:"btn-secondary"},"Cancel"),r.createElement("button",{type:"submit",className:"btn-primary",disabled:e},e?r.createElement(yr,{className:"spinner"}):"Create Operator")))),r.createElement(Xt,{isOpen:M,onClose:()=>R(!1),title:"Create Platform Admin",maxWidth:"600px"},r.createElement("form",{onSubmit:q},r.createElement("div",{className:"form-group"},r.createElement("label",null,"Email *"),r.createElement("input",{type:"email",value:Z.email,onChange:j=>O({...Z,email:j.target.value}),placeholder:"admin@platform.com",required:!0})),r.createElement("div",{className:"form-row"},r.createElement("div",{className:"form-group"},r.createElement("label",null,"First Name *"),r.createElement("input",{type:"text",value:Z.firstName,onChange:j=>O({...Z,firstName:j.target.value}),placeholder:"Admin",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Last Name *"),r.createElement("input",{type:"text",value:Z.lastName,onChange:j=>O({...Z,lastName:j.target.value}),placeholder:"User",required:!0}))),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Phone"),r.createElement("input",{type:"tel",value:Z.phone,onChange:j=>O({...Z,phone:j.target.value}),placeholder:"(555) 123-4567"})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Password *"),r.createElement("input",{type:"password",value:Z.password,onChange:j=>O({...Z,password:j.target.value}),placeholder:"Enter password",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Role *"),r.createElement("select",{value:Z.role,onChange:j=>O({...Z,role:j.target.value}),required:!0},r.createElement("option",{value:"admin"},"Admin"),r.createElement("option",{value:"support"},"Support"))),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Permissions"),r.createElement("div",{className:"permissions-grid"},Object.entries(Z.permissions).map(([j,re])=>r.createElement("label",{key:j,className:"permission-checkbox"},r.createElement("input",{type:"checkbox",checked:re,onChange:K=>O({...Z,permissions:{...Z.permissions,[j]:K.target.checked}})}),j.replace(/([A-Z])/g," $1").replace(/^./,K=>K.toUpperCase()))))),r.createElement("div",{className:"form-actions"},r.createElement("button",{type:"button",onClick:()=>R(!1),className:"btn-secondary"},"Cancel"),r.createElement("button",{type:"submit",className:"btn-primary",disabled:e},e?r.createElement(yr,{className:"spinner"}):"Create Admin")))),r.createElement("style",{jsx:!0},`
        .platform-admin-dashboard {
          padding: 20px;
          max-width: 1200px;
          margin: 0 auto;
        }

        .dashboard-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 30px;
          padding-bottom: 20px;
          border-bottom: 2px solid #e0e0e0;
        }

        .dashboard-tabs {
          display: flex;
          gap: 10px;
          margin-bottom: 30px;
          border-bottom: 1px solid #e0e0e0;
        }

        .tab {
          padding: 12px 24px;
          border: none;
          background: none;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 8px;
          border-bottom: 3px solid transparent;
          transition: all 0.3s ease;
        }

        .tab.active {
          border-bottom-color: #007bff;
          color: #007bff;
        }

        .tab:hover {
          background: #f8f9fa;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
          margin-bottom: 30px;
        }

        .stat-card {
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
          display: flex;
          align-items: center;
          gap: 15px;
        }

        .stat-icon {
          font-size: 2rem;
          color: #007bff;
        }

        .stat-content h3 {
          margin: 0;
          font-size: 2rem;
          color: #333;
        }

        .stat-content p {
          margin: 5px 0 0 0;
          color: #666;
        }

        .quick-actions {
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .action-buttons {
          display: flex;
          gap: 15px;
          flex-wrap: wrap;
        }

        .section-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
        }

        .leagues-grid,
        .operators-grid,
        .admins-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
          gap: 20px;
        }

        .league-card,
        .operator-card,
        .admin-card {
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .league-header,
        .operator-header,
        .admin-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 15px;
        }

        .status-badge,
        .role-badge {
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 0.8rem;
          font-weight: 500;
        }

        .status-badge.active { background: #d4edda; color: #155724; }
        .status-badge.trial { background: #fff3cd; color: #856404; }
        .status-badge.expired { background: #f8d7da; color: #721c24; }

        .role-badge.admin { background: #cce5ff; color: #004085; }
        .role-badge.support { background: #d1ecf1; color: #0c5460; }

        .league-details,
        .operator-details,
        .admin-details {
          margin-bottom: 15px;
        }

        .league-details p,
        .operator-details p,
        .admin-details p {
          margin: 5px 0;
          font-size: 0.9rem;
        }

        .league-actions,
        .operator-actions,
        .admin-actions {
          display: flex;
          gap: 10px;
          flex-wrap: wrap;
        }

        .btn-primary,
        .btn-secondary,
        .btn-small {
          padding: 10px 20px;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 0.9rem;
          transition: all 0.3s ease;
        }

        .btn-primary {
          background: #007bff;
          color: white;
        }

        .btn-primary:hover:not(:disabled) {
          background: #0056b3;
        }

        .btn-secondary {
          background: #6c757d;
          color: white;
        }

        .btn-secondary:hover:not(:disabled) {
          background: #545b62;
        }

        .btn-small {
          padding: 6px 12px;
          font-size: 0.8rem;
        }

        .btn-danger {
          background: #dc3545;
          color: white;
        }

        .btn-danger:hover {
          background: #c82333;
        }

        .btn-primary:disabled,
        .btn-secondary:disabled {
          background: #ccc;
          cursor: not-allowed;
        }

        .form-group {
          margin-bottom: 15px;
        }

        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 15px;
        }

        .form-group label {
          display: block;
          margin-bottom: 5px;
          font-weight: 500;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
          width: 100%;
          padding: 10px;
          border: 1px solid #ddd;
          border-radius: 4px;
          font-size: 14px;
        }

        .permissions-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 10px;
        }

        .permission-checkbox {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 0.9rem;
        }

        .form-actions {
          display: flex;
          gap: 15px;
          justify-content: flex-end;
          margin-top: 20px;
          padding-top: 20px;
          border-top: 1px solid #e0e0e0;
        }

        .error-message,
        .success-message {
          padding: 10px;
          margin-bottom: 20px;
          border-radius: 4px;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .error-message {
          background: #fee;
          color: #c33;
          border: 1px solid #fcc;
        }

        .success-message {
          background: #efe;
          color: #363;
          border: 1px solid #cfc;
        }

        .spinner {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
          .dashboard-header {
            flex-direction: column;
            gap: 15px;
            align-items: stretch;
          }

          .dashboard-tabs {
            flex-wrap: wrap;
          }

          .tab {
            flex: 1;
            min-width: 120px;
          }

          .stats-grid {
            grid-template-columns: 1fr;
          }

          .leagues-grid,
          .operators-grid,
          .admins-grid {
            grid-template-columns: 1fr;
          }

          .action-buttons {
            flex-direction: column;
          }

          .form-row {
            grid-template-columns: 1fr;
          }

          .permissions-grid {
            grid-template-columns: 1fr;
          }
        }
      `))}const mU="_simplePoolGame_1kwr6_1",pU="_tableContainer_1kwr6_11",fU="_tableCanvas_1kwr6_22",hU="_aimingInstructions_1kwr6_35",gU="_instructions_1kwr6_47",yU="_controls_1kwr6_52",bU="_shootButton_1kwr6_70",vU="_buttonRow_1kwr6_105",xU="_resetAimButton_1kwr6_111",EU="_powerControl_1kwr6_145",wU="_gameInfo_1kwr6_274",SU="_resetButton_1kwr6_291",CU="_pushOutModal_1kwr6_710",_U="_pushOutContent_1kwr6_723",IU="_pushOutButtons_1kwr6_762",NU="_acceptButton_1kwr6_768",kU="_declineButton_1kwr6_769",on={simplePoolGame:mU,tableContainer:pU,tableCanvas:fU,aimingInstructions:hU,instructions:gU,controls:yU,shootButton:bU,buttonRow:vU,resetAimButton:xU,powerControl:EU,gameInfo:wU,resetButton:SU,pushOutModal:CU,pushOutContent:_U,pushOutButtons:IU,acceptButton:NU,declineButton:kU},wo={BREAK:"break",PLAY:"play"};function so(t){return t===wo.BREAK}function Mg(t){return t===wo.PLAY}function AU(t,a){return t===wo.BREAK&&a?wo.PLAY:t}function DU(t,a){return t===wo.BREAK&&a}function Rx(t,a){return t===wo.PLAY&&a}const MU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIHllbGxvdyAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGwxTWFpbiIgY3g9IjMwJSIgY3k9IjMwJSIgcj0iNzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMjUlIiBzdG9wLWNvbG9yPSIjZmZlYjNiIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZkZDgzNSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI3NSUiIHN0b3AtY29sb3I9IiNmNTdmMTciLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2U2NTEwMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBIaWdobGlnaHQgZm9yIGRlcHRoIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDFIaWdobGlnaHQiIGN4PSIyNSUiIGN5PSIyNSUiIHI9IjQ1JSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmOWM0IiBzdG9wLW9wYWNpdHk9IjAuOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiIHN0b3Atb3BhY2l0eT0iMC41Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsMVNwZWN1bGFyIiBjeD0iNDAlIiBjeT0iNDAlIiByPSIyMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMC44Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTaGFkb3cgZ3JhZGllbnQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsMVNoYWRvdyIgY3g9IjcwJSIgY3k9IjcwJSIgcj0iMzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4zIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgDQogIDwhLS0gTWFpbiBiYWxsIC0tPg0KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsMU1haW4pIiBzdHJva2U9IiNlNjUxMDAiIHN0cm9rZS13aWR0aD0iMC41Ii8+DQogIA0KICA8IS0tIFByaW1hcnkgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI1IiBmaWxsPSJ1cmwoI2JhbGwxSGlnaGxpZ2h0KSIvPg0KICANCiAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjE0IiBjeT0iMTQiIHI9IjIuNSIgZmlsbD0idXJsKCNiYWxsMVNwZWN1bGFyKSIvPg0KICANCiAgPCEtLSBOdW1iZXIgMSAtIG11Y2ggbGFyZ2VyIGFuZCBtb3JlIHZpc2libGUgLS0+DQogIDx0ZXh0IHg9IjE2IiB5PSIyMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iIzAwMDAwMCI+MTwvdGV4dD4NCiAgDQogIDwhLS0gU3VidGxlIHNoYWRvdyBmb3IgZGVwdGggLS0+DQogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGwxU2hhZG93KSIvPg0KPC9zdmc+IA==",TU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIGJsdWUgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsMk1haW4iIGN4PSIzMCUiIGN5PSIzMCUiIHI9IjcwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjOTBjYWY5Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjI1JSIgc3RvcC1jb2xvcj0iIzQyYTVmNSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiMyMTk2ZjMiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNzUlIiBzdG9wLWNvbG9yPSIjMTk3NmQyIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwZDQ3YTEiLz4NCiAgICA8L3JhZGlhbEdyYWRpZW50Pg0KICAgIA0KICAgIDwhLS0gSGlnaGxpZ2h0IGZvciBkZXB0aCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGwySGlnaGxpZ2h0IiBjeD0iMjUlIiBjeT0iMjUlIiByPSI0NSUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2JiZGVmYiIgc3RvcC1vcGFjaXR5PSIwLjkiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjOTBjYWY5IiBzdG9wLW9wYWNpdHk9IjAuNSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjOTBjYWY5IiBzdG9wLW9wYWNpdHk9IjAiLz4NCiAgICA8L3JhZGlhbEdyYWRpZW50Pg0KICAgIA0KICAgIDwhLS0gU3BlY3VsYXIgaGlnaGxpZ2h0IC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDJTcGVjdWxhciIgY3g9IjQwJSIgY3k9IjQwJSIgcj0iMjAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIiBzdG9wLW9wYWNpdHk9IjAuOCIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz4NCiAgICA8L3JhZGlhbEdyYWRpZW50Pg0KICAgIA0KICAgIDwhLS0gU2hhZG93IGdyYWRpZW50IC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDJTaGFkb3ciIGN4PSI3MCUiIGN5PSI3MCUiIHI9IjMwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjMDAwMDAwIiBzdG9wLW9wYWNpdHk9IjAuMyIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMDAwMDAwIiBzdG9wLW9wYWNpdHk9IjAiLz4NCiAgICA8L3JhZGlhbEdyYWRpZW50Pg0KICA8L2RlZnM+DQogIA0KICA8IS0tIE1haW4gYmFsbCAtLT4NCiAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTUiIGZpbGw9InVybCgjYmFsbDJNYWluKSIgc3Ryb2tlPSIjMGQ0N2ExIiBzdHJva2Utd2lkdGg9IjAuNSIvPg0KICANCiAgPCEtLSBQcmltYXJ5IGhpZ2hsaWdodCAtLT4NCiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iNSIgZmlsbD0idXJsKCNiYWxsMkhpZ2hsaWdodCkiLz4NCiAgDQogIDwhLS0gU3BlY3VsYXIgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxNCIgY3k9IjE0IiByPSIyLjUiIGZpbGw9InVybCgjYmFsbDJTcGVjdWxhcikiLz4NCiAgDQogIDwhLS0gTnVtYmVyIDIgLSBtdWNoIGxhcmdlciBhbmQgbW9yZSB2aXNpYmxlIC0tPg0KICA8dGV4dCB4PSIxNiIgeT0iMjIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IiNmZmZmZmYiPjI8L3RleHQ+DQogIA0KICA8IS0tIFN1YnRsZSBzaGFkb3cgZm9yIGRlcHRoIC0tPg0KICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjE4IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsMlNoYWRvdykiLz4NCjwvc3ZnPiA=",RU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIHJlZCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGwzTWFpbiIgY3g9IjMwJSIgY3k9IjMwJSIgcj0iNzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZmNkZDIiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMjUlIiBzdG9wLWNvbG9yPSIjZjQ0MzM2Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2QzMmYyZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI3NSUiIHN0b3AtY29sb3I9IiNiNzFjMWMiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzhlMDAwMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBIaWdobGlnaHQgZm9yIGRlcHRoIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDNIaWdobGlnaHQiIGN4PSIyNSUiIGN5PSIyNSUiIHI9IjQ1JSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZlYmVlIiBzdG9wLW9wYWNpdHk9IjAuOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmNkZDIiIHN0b3Atb3BhY2l0eT0iMC41Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmNkZDIiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsM1NwZWN1bGFyIiBjeD0iNDAlIiBjeT0iNDAlIiByPSIyMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMC44Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTaGFkb3cgZ3JhZGllbnQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsM1NoYWRvdyIgY3g9IjcwJSIgY3k9IjcwJSIgcj0iMzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4zIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgDQogIDwhLS0gTWFpbiBiYWxsIC0tPg0KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsM01haW4pIiBzdHJva2U9IiM4ZTAwMDAiIHN0cm9rZS13aWR0aD0iMC41Ii8+DQogIA0KICA8IS0tIFByaW1hcnkgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI1IiBmaWxsPSJ1cmwoI2JhbGwzSGlnaGxpZ2h0KSIvPg0KICANCiAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjE0IiBjeT0iMTQiIHI9IjIuNSIgZmlsbD0idXJsKCNiYWxsM1NwZWN1bGFyKSIvPg0KICANCiAgPCEtLSBOdW1iZXIgMyAtIG11Y2ggbGFyZ2VyIGFuZCBtb3JlIHZpc2libGUgLS0+DQogIDx0ZXh0IHg9IjE2IiB5PSIyMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iI2ZmZmZmZiI+MzwvdGV4dD4NCiAgDQogIDwhLS0gU3VidGxlIHNoYWRvdyBmb3IgZGVwdGggLS0+DQogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGwzU2hhZG93KSIvPg0KPC9zdmc+IA==",LU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIHB1cnBsZSAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw0TWFpbiIgY3g9IjMwJSIgY3k9IjMwJSIgcj0iNzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlMWJlZTciLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMjUlIiBzdG9wLWNvbG9yPSIjYWI0N2JjIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iIzljMjdiMCIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI3NSUiIHN0b3AtY29sb3I9IiM3YjFmYTIiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzRhMTQ4YyIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBIaWdobGlnaHQgZm9yIGRlcHRoIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDRIaWdobGlnaHQiIGN4PSIyNSUiIGN5PSIyNSUiIHI9IjQ1JSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZjNlNWY1IiBzdG9wLW9wYWNpdHk9IjAuOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNlMWJlZTciIHN0b3Atb3BhY2l0eT0iMC41Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNlMWJlZTciIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsNFNwZWN1bGFyIiBjeD0iNDAlIiBjeT0iNDAlIiByPSIyMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMC44Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTaGFkb3cgZ3JhZGllbnQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsNFNoYWRvdyIgY3g9IjcwJSIgY3k9IjcwJSIgcj0iMzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4zIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgDQogIDwhLS0gTWFpbiBiYWxsIC0tPg0KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsNE1haW4pIiBzdHJva2U9IiM0YTE0OGMiIHN0cm9rZS13aWR0aD0iMC41Ii8+DQogIA0KICA8IS0tIFByaW1hcnkgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI1IiBmaWxsPSJ1cmwoI2JhbGw0SGlnaGxpZ2h0KSIvPg0KICANCiAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjE0IiBjeT0iMTQiIHI9IjIuNSIgZmlsbD0idXJsKCNiYWxsNFNwZWN1bGFyKSIvPg0KICANCiAgPCEtLSBOdW1iZXIgNCAtIG11Y2ggbGFyZ2VyIGFuZCBtb3JlIHZpc2libGUgLS0+DQogIDx0ZXh0IHg9IjE2IiB5PSIyMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iI2ZmZmZmZiI+NDwvdGV4dD4NCiAgDQogIDwhLS0gU3VidGxlIHNoYWRvdyBmb3IgZGVwdGggLS0+DQogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGw0U2hhZG93KSIvPg0KPC9zdmc+IA==",PU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIG9yYW5nZSAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw1TWFpbiIgY3g9IjMwJSIgY3k9IjMwJSIgcj0iNzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZmUwYjIiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMjUlIiBzdG9wLWNvbG9yPSIjZmY5ODAwIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2Y1N2MwMCIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI3NSUiIHN0b3AtY29sb3I9IiNlZjZjMDAiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2U2NTEwMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBIaWdobGlnaHQgZm9yIGRlcHRoIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDVIaWdobGlnaHQiIGN4PSIyNSUiIGN5PSIyNSUiIHI9IjQ1JSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmM2UwIiBzdG9wLW9wYWNpdHk9IjAuOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmUwYjIiIHN0b3Atb3BhY2l0eT0iMC41Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmUwYjIiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsNVNwZWN1bGFyIiBjeD0iNDAlIiBjeT0iNDAlIiByPSIyMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMC44Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTaGFkb3cgZ3JhZGllbnQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsNVNoYWRvdyIgY3g9IjcwJSIgY3k9IjcwJSIgcj0iMzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4zIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgDQogIDwhLS0gTWFpbiBiYWxsIC0tPg0KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsNU1haW4pIiBzdHJva2U9IiNlNjUxMDAiIHN0cm9rZS13aWR0aD0iMC41Ii8+DQogIA0KICA8IS0tIFByaW1hcnkgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI1IiBmaWxsPSJ1cmwoI2JhbGw1SGlnaGxpZ2h0KSIvPg0KICANCiAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjE0IiBjeT0iMTQiIHI9IjIuNSIgZmlsbD0idXJsKCNiYWxsNVNwZWN1bGFyKSIvPg0KICANCiAgPCEtLSBOdW1iZXIgNSAtIG11Y2ggbGFyZ2VyIGFuZCBtb3JlIHZpc2libGUgLS0+DQogIDx0ZXh0IHg9IjE2IiB5PSIyMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iIzAwMDAwMCI+NTwvdGV4dD4NCiAgDQogIDwhLS0gU3VidGxlIHNoYWRvdyBmb3IgZGVwdGggLS0+DQogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGw1U2hhZG93KSIvPg0KPC9zdmc+IA==",BU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIGdyZWVuIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDZNYWluIiBjeD0iMzAlIiBjeT0iMzAlIiByPSI3MCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2M4ZTZjOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIyNSUiIHN0b3AtY29sb3I9IiM2NmJiNmEiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjNGNhZjUwIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9Ijc1JSIgc3RvcC1jb2xvcj0iIzM4OGUzYyIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMWI1ZTIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIEhpZ2hsaWdodCBmb3IgZGVwdGggLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsNkhpZ2hsaWdodCIgY3g9IjI1JSIgY3k9IjI1JSIgcj0iNDUlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlOGY1ZTgiIHN0b3Atb3BhY2l0eT0iMC45Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2M4ZTZjOSIgc3RvcC1vcGFjaXR5PSIwLjUiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2M4ZTZjOSIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw2U3BlY3VsYXIiIGN4PSI0MCUiIGN5PSI0MCUiIHI9IjIwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwLjgiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNoYWRvdyBncmFkaWVudCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw2U2hhZG93IiBjeD0iNzAlIiBjeT0iNzAlIiByPSIzMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjMiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgPC9kZWZzPg0KICANCiAgPCEtLSBNYWluIGJhbGwgLS0+DQogIDxjaXJjbGUgY3g9IjE2IiBjeT0iMTYiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGw2TWFpbikiIHN0cm9rZT0iIzFiNWUyMCIgc3Ryb2tlLXdpZHRoPSIwLjUiLz4NCiAgDQogIDwhLS0gUHJpbWFyeSBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjUiIGZpbGw9InVybCgjYmFsbDZIaWdobGlnaHQpIi8+DQogIA0KICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgPGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMi41IiBmaWxsPSJ1cmwoI2JhbGw2U3BlY3VsYXIpIi8+DQogIA0KICA8IS0tIE51bWJlciA2IC0gbXVjaCBsYXJnZXIgYW5kIG1vcmUgdmlzaWJsZSAtLT4NCiAgPHRleHQgeD0iMTYiIHk9IjIyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjZmZmZmZmIj42PC90ZXh0Pg0KICANCiAgPCEtLSBTdWJ0bGUgc2hhZG93IGZvciBkZXB0aCAtLT4NCiAgPGNpcmNsZSBjeD0iMTgiIGN5PSIxOCIgcj0iMTUiIGZpbGw9InVybCgjYmFsbDZTaGFkb3cpIi8+DQo8L3N2Zz4g",OU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIGJyb3duIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDdNYWluIiBjeD0iMzAlIiBjeT0iMzAlIiByPSI3MCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2Q3Y2NjOCIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIyNSUiIHN0b3AtY29sb3I9IiNhMTg4N2YiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjOGQ2ZTYzIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9Ijc1JSIgc3RvcC1jb2xvcj0iIzZkNGM0MSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjM2UyNzIzIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIEhpZ2hsaWdodCBmb3IgZGVwdGggLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsN0hpZ2hsaWdodCIgY3g9IjI1JSIgY3k9IjI1JSIgcj0iNDUlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlZmViZTkiIHN0b3Atb3BhY2l0eT0iMC45Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2Q3Y2NjOCIgc3RvcC1vcGFjaXR5PSIwLjUiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2Q3Y2NjOCIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw3U3BlY3VsYXIiIGN4PSI0MCUiIGN5PSI0MCUiIHI9IjIwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwLjgiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNoYWRvdyBncmFkaWVudCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw3U2hhZG93IiBjeD0iNzAlIiBjeT0iNzAlIiByPSIzMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjMiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgPC9kZWZzPg0KICANCiAgPCEtLSBNYWluIGJhbGwgLS0+DQogIDxjaXJjbGUgY3g9IjE2IiBjeT0iMTYiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGw3TWFpbikiIHN0cm9rZT0iIzNlMjcyMyIgc3Ryb2tlLXdpZHRoPSIwLjUiLz4NCiAgDQogIDwhLS0gUHJpbWFyeSBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjUiIGZpbGw9InVybCgjYmFsbDdIaWdobGlnaHQpIi8+DQogIA0KICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgPGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMi41IiBmaWxsPSJ1cmwoI2JhbGw3U3BlY3VsYXIpIi8+DQogIA0KICA8IS0tIE51bWJlciA3IC0gbXVjaCBsYXJnZXIgYW5kIG1vcmUgdmlzaWJsZSAtLT4NCiAgPHRleHQgeD0iMTYiIHk9IjIyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjZmZmZmZmIj43PC90ZXh0Pg0KICANCiAgPCEtLSBTdWJ0bGUgc2hhZG93IGZvciBkZXB0aCAtLT4NCiAgPGNpcmNsZSBjeD0iMTgiIGN5PSIxOCIgcj0iMTUiIGZpbGw9InVybCgjYmFsbDdTaGFkb3cpIi8+DQo8L3N2Zz4g",zU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIGJsYWNrIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDhNYWluIiBjeD0iMzAlIiBjeT0iMzAlIiByPSI3MCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzQyNDI0MiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIyNSUiIHN0b3AtY29sb3I9IiMyMTIxMjEiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjMDAwMDAwIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9Ijc1JSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMDAwMDAwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIEhpZ2hsaWdodCBmb3IgZGVwdGggLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsOEhpZ2hsaWdodCIgY3g9IjI1JSIgY3k9IjI1JSIgcj0iNDUlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM3NTc1NzUiIHN0b3Atb3BhY2l0eT0iMC45Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iIzQyNDI0MiIgc3RvcC1vcGFjaXR5PSIwLjUiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzQyNDI0MiIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw4U3BlY3VsYXIiIGN4PSI0MCUiIGN5PSI0MCUiIHI9IjIwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwLjgiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNoYWRvdyBncmFkaWVudCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw4U2hhZG93IiBjeD0iNzAlIiBjeT0iNzAlIiByPSIzMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjMiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgPC9kZWZzPg0KICANCiAgPCEtLSBNYWluIGJhbGwgLS0+DQogIDxjaXJjbGUgY3g9IjE2IiBjeT0iMTYiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGw4TWFpbikiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIwLjUiLz4NCiAgDQogIDwhLS0gUHJpbWFyeSBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjUiIGZpbGw9InVybCgjYmFsbDhIaWdobGlnaHQpIi8+DQogIA0KICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgPGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMi41IiBmaWxsPSJ1cmwoI2JhbGw4U3BlY3VsYXIpIi8+DQogIA0KICA8IS0tIE51bWJlciA4IC0gbXVjaCBsYXJnZXIgYW5kIG1vcmUgdmlzaWJsZSAtLT4NCiAgPHRleHQgeD0iMTYiIHk9IjIyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjZmZmZmZmIj44PC90ZXh0Pg0KICANCiAgPCEtLSBTdWJ0bGUgc2hhZG93IGZvciBkZXB0aCAtLT4NCiAgPGNpcmNsZSBjeD0iMTgiIGN5PSIxOCIgcj0iMTUiIGZpbGw9InVybCgjYmFsbDhTaGFkb3cpIi8+DQo8L3N2Zz4g",UU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIHllbGxvdyAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw5TWFpbiIgY3g9IjMwJSIgY3k9IjMwJSIgcj0iNzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMjUlIiBzdG9wLWNvbG9yPSIjZmZlYjNiIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZkZDgzNSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI3NSUiIHN0b3AtY29sb3I9IiNmNTdmMTciLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2U2NTEwMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBIaWdobGlnaHQgZm9yIGRlcHRoIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDlIaWdobGlnaHQiIGN4PSIyNSUiIGN5PSIyNSUiIHI9IjQ1JSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmOWM0IiBzdG9wLW9wYWNpdHk9IjAuOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiIHN0b3Atb3BhY2l0eT0iMC41Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsOVNwZWN1bGFyIiBjeD0iNDAlIiBjeT0iNDAlIiByPSIyMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMC44Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTaGFkb3cgZ3JhZGllbnQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsOVNoYWRvdyIgY3g9IjcwJSIgY3k9IjcwJSIgcj0iMzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4zIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBXaGl0ZSBzdHJpcGUgZ3JhZGllbnQgLS0+DQogICAgPGxpbmVhckdyYWRpZW50IGlkPSJiYWxsOVN0cmlwZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmOGY4ZjgiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgIDwvbGluZWFyR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgDQogIDwhLS0gTWFpbiBiYWxsIC0tPg0KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsOU1haW4pIiBzdHJva2U9IiNlNjUxMDAiIHN0cm9rZS13aWR0aD0iMC41Ii8+DQogIA0KICA8IS0tIFJlYWxpc3RpYyBjdXJ2ZWQgd2hpdGUgc3RyaXBlIC0tPg0KICA8cGF0aCBkPSJNIDQgOCBBIDggOCAwIDAgMSAxMiA4IEwgMTIgMjQgQSA4IDggMCAwIDEgNCAyNCBaIiBmaWxsPSJ1cmwoI2JhbGw5U3RyaXBlKSIvPg0KICANCiAgPCEtLSBQcmltYXJ5IGhpZ2hsaWdodCAtLT4NCiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iNSIgZmlsbD0idXJsKCNiYWxsOUhpZ2hsaWdodCkiLz4NCiAgDQogIDwhLS0gU3BlY3VsYXIgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxNCIgY3k9IjE0IiByPSIyLjUiIGZpbGw9InVybCgjYmFsbDlTcGVjdWxhcikiLz4NCiAgDQogIDwhLS0gTnVtYmVyIDkgLSBtdWNoIGxhcmdlciBhbmQgbW9yZSB2aXNpYmxlIC0tPg0KICA8dGV4dCB4PSIxNiIgeT0iMjIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IiMwMDAwMDAiPjk8L3RleHQ+DQogIA0KICA8IS0tIFN1YnRsZSBzaGFkb3cgZm9yIGRlcHRoIC0tPg0KICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjE4IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsOVNoYWRvdykiLz4NCjwvc3ZnPiA=",Vt=600,En=300,st=15,lt=st/2,ur=1.3,ll=.9,Yc=30,Tg=160,$c=24.5,Rg=270.18,Lx=Vt*.75,Px=En/2,Lg=lt*.1,Bx=.7,Ox=.45,zx=.05,sm=.99,Ii=.75,Ni=.75,mr=.95,ki=.3,FU=.8,kn=(...t)=>{},b0=({onGameEnd:t})=>{const a=v.useRef(null),[e,n]=v.useState({balls:[],cueBall:{x:100,y:150,originalX:100,originalY:150,vx:0,vy:0,visible:!0,isMoving:!1,rotation:0,rotationSpeed:0,spinX:0,spinY:0},isAnimating:!1,currentPlayer:1,gamePhase:wo.BREAK,ballInHand:!1,scratchOccurred:!1}),[s,l]=v.useState(!1),[c,u]=v.useState({x:0,y:0}),[m,h]=v.useState(0),[f,y]=v.useState(.5),[b,E]=v.useState(0),[w,_]=v.useState(0),[C,S]=v.useState(!0),[I,k]=v.useState(null),[N,M]=v.useState(null),[R,$]=v.useState(null),[z,Y]=v.useState(!1),[J,ae]=v.useState(!1),[H,Z]=v.useState(0),[O,L]=v.useState(!1),[A,U]=v.useState(null),[q,Q]=v.useState(null),[T,F]=v.useState(!1),[V,j]=v.useState(!1),[re,K]=v.useState(!1),[ce,xe]=v.useState(!1),[Se,Ke]=v.useState(!1),[pe,Ue]=v.useState(!1),[je,it]=v.useState(null),[Ve,Lt]=v.useState(!1),[gn,Pt]=v.useState({1:0,2:0}),[ln,Zn]=v.useState(null),[rn,me]=v.useState(null),[et,Ge]=v.useState(!1),[wt,te]=v.useState(null),[Le,He]=v.useState(!1),[Ae,tt]=v.useState(!1),[dt,Kt]=v.useState(!1),[Vn,Hn]=v.useState(!1),[Dn,Yn]=v.useState(null),[Na,Qe]=v.useState(0),[ut,sn]=v.useState([]),[ka,Sn]=v.useState(!1),Ba=v.useRef(null),Qn={cue:XE,1:MU,2:TU,3:RU,4:LU,5:PU,6:BU,7:OU,8:zU,9:UU,10:Tp},ma=v.useRef({}),Aa=v.useRef(null),Oa=v.useRef(null),Un=[{x:30,y:24.5,id:"top-left"},{x:570.77,y:24.5,id:"top-right"},{x:30,y:270.18,id:"bottom-left"},{x:570.77,y:270.18,id:"bottom-right"},{x:300.385,y:24.5,id:"top-center"},{x:300.385,y:270.18,id:"bottom-center"}],Gs=v.useCallback(ne=>{if(!V)return;const P=a.current.getBoundingClientRect(),he=P.width/Vt,be=(ne.clientX-P.left)/he,_e=(ne.clientY-P.top)/he,Me=e.balls.find(Be=>Be.visible&&!Be.pocketed&&Math.sqrt((Be.x-be)**2+(Be.y-_e)**2)<lt*1.5);if(Me){U(Me.id);return}const De=Un.find(Be=>Math.sqrt((Be.x-be)**2+(Be.y-_e)**2)<60);if(De){Q(De.id);return}},[V,e.balls,Un]),Io=v.useCallback((ne,P)=>{const Be=[{x:30,y:24.5,id:"top-left"},{x:570.77,y:24.5,id:"top-right"},{x:30,y:270.18,id:"bottom-left"},{x:570.77,y:270.18,id:"bottom-right"},{x:300.385,y:24.5,id:"top-center"},{x:300.385,y:270.18,id:"bottom-center"}];let mt=null,qe=1/0;return Be.forEach(ft=>{const Je=Math.hypot(ne-ft.x,P-ft.y);Je<qe&&(qe=Je,mt=ft)}),mt?mt.id:null},[]),xa=v.useCallback(ne=>{const De=[{x:30,y:24.5,margin:st*ur,type:"corner"},{x:570.77,y:24.5,margin:st*ur,type:"corner"},{x:30,y:270.18,margin:st*ur,type:"corner"},{x:570.77,y:270.18,margin:st*ur,type:"corner"},{x:300.385,y:24.5,margin:st*ll,type:"side"},{x:300.385,y:270.18,margin:st*ll,type:"side"}],Be=ne.x,mt=ne.y,qe=ne.vx??0,ft=ne.vy??0,Je=Math.hypot(qe,ft);return De.some(Te=>{const fe=Te.x-Be,ke=Te.y-mt,Pe=Math.hypot(fe,ke);if(Pe>=Te.margin+Lg)return!1;if(Je>0){const Ye=(qe*fe+ft*ke)/(Je*(Pe||1)),At=Te.type==="side"?Bx:Ox,It=(qe*fe+ft*ke)/(Pe||1);if(Ye<At||It<zx)return!1}return!0})},[]),en=v.useCallback((ne,P)=>ne>=Yc&&ne<=Tg&&P>=$c&&P<=Rg,[]);v.useCallback(()=>{n(ne=>({...ne,scratchOccurred:!0,ballInHand:!0,currentPlayer:ne.currentPlayer===1?2:1,cueBall:{...ne.cueBall,x:100,y:150,vx:0,vy:0,visible:!0,isMoving:!1,rotation:0,rotationSpeed:0}}))},[]);const Cn=v.useCallback(()=>{const ne=e.balls.filter(he=>he.visible&&!he.pocketed);if(kn("Visible balls on table:",ne.map(he=>he.id).sort((he,be)=>he-be)),ne.length===0)return null;const P=ne.reduce((he,be)=>be.id<he.id?be:he);return kn("Lowest numbered ball:",P.id),P},[e.balls]),Ka=v.useCallback(()=>{if(re)return null;const ne=wt||Cn();let P=null;if(e.cueBall.visible||(P="scratch"),e.gamePhase==="break"){rn&&rn!==1&&(P="break_wrong_ball_first");const he=e.balls.filter(_e=>_e.pocketed&&!_e.wasPocketedBeforeShot),be=Na;he.length===0&&be<4&&(P="break_insufficient_cushions")}return!P&&rn&&ne&&rn!==ne.id&&(kn("Wrong ball first foul - Hit:",rn,"Lowest:",ne.id),kn("Visible balls on table:",e.balls.filter(he=>he.visible&&!he.pocketed).map(he=>he.id).sort((he,be)=>he-be)),P="wrong_ball_first"),!P&&!Ae&&!re&&e.gamePhase!=="break"&&(P="no_contact"),!P&&Ae&&!et&&e.balls.filter(be=>be.pocketed&&!be.wasPocketedBeforeShot).length===0&&(P="no_rail_contact"),kn("Current lowest ball:",ne?ne.id:"none"),P},[re,rn,et,Ae,Cn,e.balls,wt,e.cueBall.visible,e.gamePhase,Na]),qs=v.useCallback(()=>{if(e.gamePhase==="break"||re)return[];const ne=e.balls.filter(he=>he.pocketed&&!he.wasPocketedBeforeShot);if(ne.length===0)return[];const P=[];return ne.forEach(he=>{if(he.id===A)he.pocketedPocket!==q&&(kn("Illegally pocketed ball:",he.id,"- called ball went in wrong pocket"),P.push(he));else{const be=ne.find(_e=>_e.id===A);(!be||be.pocketedPocket!==q)&&(kn("Illegally pocketed ball:",he.id,"- not called ball and called ball not legally pocketed"),P.push(he))}}),P},[e.gamePhase,re,A,q,e.balls]),Zs=v.useCallback(ne=>{const P=Dn||e.currentPlayer;window.dispatchEvent(new CustomEvent("gameFoul",{detail:{foulType:ne,player:P}})),ne==="scratch"?window.dispatchEvent(new CustomEvent("scratchFoul",{detail:{player:P}})):ne==="wrong_ball_first"?window.dispatchEvent(new CustomEvent("wrongBallFoul",{detail:{player:P}})):ne==="no_rail_contact"&&window.dispatchEvent(new CustomEvent("noRailFoul",{detail:{player:P}})),window.dispatchEvent(new CustomEvent("ballInHand",{detail:{player:P}})),Pt(he=>{const be={...he,[P]:he[P]+1};return be[P]>=3&&(window.dispatchEvent(new CustomEvent("threeFoul",{detail:{player:P}})),alert(`Player ${P} loses due to 3 consecutive fouls!`)),be}),n(he=>({...he,ballInHand:!0,currentPlayer:he.currentPlayer===1?2:1,scratchOccurred:ne==="scratch"})),ne==="scratch"&&n(he=>({...he,cueBall:{...he.cueBall,visible:!0,x:100,y:150,vx:0,vy:0}})),Zn(ne)},[e.currentPlayer,Dn]),os=v.useCallback((ne,P)=>{const he=e.cueBall;return Math.hypot(ne-he.x,P-he.y)<=lt},[e.cueBall]),Vs=v.useCallback((ne,P)=>{(e.ballInHand||e.gamePhase==="break")&&os(ne,P)&&(l(!0),u({x:ne-e.cueBall.x,y:P-e.cueBall.y}))},[e.ballInHand,e.gamePhase,e.cueBall,os]),Or=v.useCallback((ne,P)=>{if(s){const he=ne-c.x,be=P-c.y;let _e,Me;e.gamePhase==="break"?(_e=Math.max(Yc+lt,Math.min(Tg-lt,he)),Me=Math.max($c+lt,Math.min(Rg-lt,be))):(_e=Math.max(30+lt,Math.min(570.77-lt,he)),Me=Math.max(24.5+lt,Math.min(270.18-lt,be))),n(De=>({...De,cueBall:{...De.cueBall,x:_e,y:Me}}))}},[s,c,e.gamePhase]),ls=v.useCallback(()=>{s&&l(!1)},[s]);v.useCallback((ne,P)=>{en(ne,P)&&n(he=>({...he,cueBall:{...he.cueBall,x:ne,y:P,vx:0,vy:0,visible:!0,isMoving:!1},ballInHand:!1}))},[en]),v.useCallback((ne,P)=>{let he=null,be=1/0;return Un.forEach(_e=>{const Me=Math.hypot(ne-_e.x,P-_e.y);Me<be&&(be=Me,he=_e)}),he},[]);const Da=v.useCallback((ne,P,he,be)=>{const _e=ne-he,Me=P-be,De=Math.sqrt(_e*_e+Me*Me);if(De<lt*2)return null;const Be=ne-_e/De*(lt*2),mt=P-Me/De*(lt*2);return{x:Be,y:mt}},[]);function zr(ne,P){return ne>=15&&ne<=30&&P>=En-75&&P<=En-60}function cs(ne,P,he,be,_e){Rx(_e,be)&&(ne.fillStyle="rgba(255, 215, 0, 0.2)",ne.fillRect(10,P-80,200,25),ne.strokeStyle="rgba(255, 215, 0, 0.5)",ne.lineWidth=1,ne.strokeRect(10,P-80,200,25),ne.fillStyle="rgba(255, 215, 0, 0.9)",ne.font="12px Arial",ne.textAlign="left",ne.fillText("Push Out Available",15,P-65),ne.fillStyle=he?"rgba(255, 215, 0, 0.9)":"rgba(255, 255, 255, 0.3)",ne.fillRect(15,P-75,15,15),ne.strokeStyle="rgba(255, 215, 0, 0.8)",ne.lineWidth=2,ne.strokeRect(15,P-75,15,15),he&&(ne.fillStyle="rgba(255, 215, 0, 0.9)",ne.font="bold 16px Arial",ne.textAlign="center",ne.fillText("✓",22,P-65)))}function Sr(ne,P){ne.setLineDash([]),ne.beginPath(),ne.moveTo(P[0].x,P[0].y);for(let he=1;he<P.length;he++){const be=P[he];ne.lineTo(be.x,be.y)}ne.stroke()}function yn(ne){let P="rgba(255, 255, 255, 0.8)";z?P="rgba(0, 255, 0, 0.95)":J&&(P="rgba(255, 255, 0, 0.9)"),Math.abs(b)>.1&&(b>0?P="rgba(76, 175, 80, 0.9)":P="rgba(244, 67, 54, 0.9)"),ne.strokeStyle=P,ne.lineWidth=z?4:J?2:3,ne.setLineDash([]),ne.globalAlpha=.9}function zi(ne){const P=Vt*.3,he=Vt*.5*ne;return P+he}function Ui(ne,P){let he=ne-P;for(;he>Math.PI;)he-=Math.PI*2;for(;he<-Math.PI;)he+=Math.PI*2;return he}const pa=v.useCallback((ne,P)=>{const Be=[{x:30,y:24.5,id:"top-left"},{x:570.77,y:24.5,id:"top-right"},{x:30,y:270.18,id:"bottom-left"},{x:570.77,y:270.18,id:"bottom-right"},{x:300.385,y:24.5,id:"top-center"},{x:300.385,y:270.18,id:"bottom-center"}];let mt=null,qe=1/0;if(Be.forEach(ft=>{const Je=Math.hypot(ne-ft.x,P-ft.y);Je<qe&&(qe=Je,mt=ft)}),mt&&qe<80){const ft=Math.max(0,(80-qe)/80),Je=ne+(mt.x-ne)*ft*.3,Te=P+(mt.y-P)*ft*.3;return{x:Je,y:Te,assisted:!0}}return{x:ne,y:P,assisted:!1}},[]),Cr=v.useCallback((ne,P,he=null,be={})=>{const{ignoreCuePocket:_e=!0}=be,Me={},De=.99,Be=16,mt=30.77,qe=570.77,ft=24.5,Je=270.18,Te={1:"#ffff00",2:"#0000ff",3:"#ff0000",4:"#800080",5:"#ffa500",6:"#008000",7:"#8b4513",8:"#000000",9:"#ffff00",10:"#ff0000"};return(()=>{const ke=new Map;e.balls.forEach(Ye=>{Ye.visible&&!Ye.pocketed&&ke.set(Ye.id,{id:Ye.id,x:Ye.x,y:Ye.y,vx:0,vy:0,visible:!0,isMoving:!1,trajectory:[{x:Ye.x,y:Ye.y}]})});const Pe=he||e.cueBall;ke.set("cue",{id:"cue",x:Pe.x,y:Pe.y,vx:ne,vy:P,visible:!0,isMoving:!0,trajectory:[{x:Pe.x,y:Pe.y}]});for(let Ye=0;Ye<300;Ye++){const At=Array.from(ke.values()).filter(Nt=>Nt.visible);for(let Nt=0;Nt<Be;Nt++)At.forEach(We=>{if(Math.abs(We.vx)<.03&&Math.abs(We.vy)<.03){We.vx=0,We.vy=0;return}We.vx*=Math.pow(De,1/Be),We.vy*=Math.pow(De,1/Be);let Ut=We.x+We.vx/Be,tn=We.y+We.vy/Be,Mn=!1;Ut<mt+lt?(We.x=mt+lt,We.vx=Math.abs(We.vx)*.85,Mn=!0):Ut>qe-lt?(We.x=qe-lt,We.vx=-Math.abs(We.vx)*.8,Mn=!0):We.x=Ut,tn<ft+lt?(We.y=ft+lt,We.vy=Math.abs(We.vy)*.85,Mn=!0):tn>Je-lt?(We.y=Je-lt,We.vy=-Math.abs(We.vy)*.8,Mn=!0):We.y=tn;let sa=!1;const bn=(mt+qe)/2,cn=[{x:mt,y:ft,margin:st*ur},{x:qe,y:ft,margin:st*ur},{x:mt,y:Je,margin:st*ur},{x:qe,y:Je,margin:st*ur},{x:bn,y:ft,margin:st*ll},{x:bn,y:Je,margin:st*ll}],Xn=We.x,ia=We.y,Kn=We.vx??0,er=We.vy??0,Ea=Math.hypot(Kn,er);let tr=!1;if(_e||(tr=cn.some(Tn=>{const vn=Tn.x-Xn,Nr=Tn.y-ia,Rn=Math.hypot(vn,Nr),kr=Tn.margin+Lg;if(Rn>=kr)return!1;if(Ea>0){const Js=(Kn*vn+er*Nr)/(Ea*(Rn||1)),gs=Tn.x===bn?Bx:Ox,Bl=(Kn*vn+er*Nr)/(Rn||1);if(Js<gs||Bl<zx)return!1}return!0})),tr&&!(_e&&We.id==="cue")&&(sa=!0),!sa&&We.id!=="cue"){const Tn=pa(We.x,We.y);if(Tn.assisted){const vn=Tn.x-We.x,Nr=Tn.y-We.y;Math.sqrt(vn*vn+Nr*Nr)<5&&(sa=!0)}}if(sa){We.visible=!1,We.trajectory.push({x:We.x,y:We.y,pocketed:!0});return}We.isMoving&&Math.abs(We.vx)<.03&&Math.abs(We.vy)<.03&&(We.vx=0,We.vy=0,We.isMoving=!1),We.trajectory.push({x:We.x,y:We.y,bounced:Mn})});const It=ke.get("cue");It&&It.visible&&ke.forEach((Nt,We)=>{if(We!=="cue"&&Nt.visible){const Ut=Nt.x-It.x,tn=Nt.y-It.y,Mn=Math.sqrt(Ut*Ut+tn*tn);if(Mn>0&&Mn<st+.5){const sa=st-Mn+.01,bn=Ut/Mn,cn=tn/Mn,Xn=Math.max(sa/2,.1);It.x-=bn*Xn,It.y-=cn*Xn,Nt.x+=bn*Xn,Nt.y+=cn*Xn;const ia=It.vx-Nt.vx,Kn=It.vy-Nt.vy,Ea=-(ia*bn+Kn*cn)||.01;It.vx+=Ea*bn,It.vy+=Ea*cn,Nt.vx-=Ea*bn,Nt.vy-=Ea*cn,It.trajectory.length>0&&(It.trajectory[It.trajectory.length-1].collision=!0),Nt.trajectory.length>0&&(Nt.trajectory[Nt.trajectory.length-1].collision=!0)}}});const Ta=Array.from(ke.values()).filter(Nt=>Nt.id!=="cue"&&Nt.visible);for(let Nt=0;Nt<Ta.length;Nt++)for(let We=Nt+1;We<Ta.length;We++){const Ut=Ta[Nt],tn=Ta[We],Mn=tn.x-Ut.x,sa=tn.y-Ut.y,bn=Math.sqrt(Mn*Mn+sa*sa);if(bn>0&&bn<st){const cn=st-bn+.01,Xn=Mn/bn,ia=sa/bn;Ut.x-=Xn*(cn/2),Ut.y-=ia*(cn/2),tn.x+=Xn*(cn/2),tn.y+=ia*(cn/2);const Kn=Ut.vx-tn.vx,er=Ut.vy-tn.vy,tr=-(Kn*Xn+er*ia)||.01;Ut.vx+=tr*Xn,Ut.vy+=tr*ia,tn.vx-=tr*Xn,tn.vy-=tr*ia,Ut.isMoving=!0,tn.isMoving=!0,Ut.trajectory.length>0&&(Ut.trajectory[Ut.trajectory.length-1].collision=!0),tn.trajectory.length>0&&(tn.trajectory[tn.trajectory.length-1].collision=!0)}}if(At.every(Nt=>Math.abs(Nt.vx)<.028&&Math.abs(Nt.vy)<.028))break}ke.forEach((Ye,At)=>{Ye.trajectory.length>1&&(Me[At]={points:Ye.trajectory,color:Te[At]||"#ffffff"})})})(),Me},[e.balls,e.cueBall,xa]),ds=v.useCallback((ne,P)=>{const he=P.x-ne.x,be=P.y-ne.y,_e=Math.sqrt(he*he+be*be);if(_e===0||_e>=st)return!1;const Me=st-_e+.01,De=he/_e,Be=be/_e;ne.x-=De*(Me/2),ne.y-=Be*(Me/2),P.x+=De*(Me/2),P.y+=Be*(Me/2);const mt=ne.vx-P.vx,qe=ne.vy-P.vy,Je=-(mt*De+qe*Be)||.01;ne.vx+=Je*De,ne.vy+=Je*Be,P.vx-=Je*De,P.vy-=Je*Be;const Te=FU,fe=ne.spinX||0,ke=ne.spinY||0,Pe=P.spinX||0,Ye=P.spinY||0,At=(fe-Pe)*Te*De,It=(ke-Ye)*Te*Be;return ne.spinX=(fe-At)*.9,ne.spinY=(ke-It)*.9,P.spinX=(Pe+At)*.9,P.spinY=(Ye+It)*.9,ne.isMoving=!0,P.isMoving=!0,!0},[]),_r=v.useCallback(()=>{const ne=[],P=Vt*.75,he=En/2;function be(){return(Math.random()-.5)*1.5}const _e=[{x:P,y:he},{x:P+st*.95,y:he-st*.48},{x:P+st*.95,y:he+st*.48},{x:P+2*st*.95,y:he-st*.95},{x:P+2*st*.95,y:he},{x:P+2*st*.95,y:he+st*.95},{x:P+3*st*.95,y:he-st*1.43},{x:P+3*st*.95,y:he-st*.48},{x:P+3*st*.95,y:he+st*.48},{x:P+3*st*.95,y:he+st*1.43}],Me=[{x:P+3*st*.95,y:he-st*1.43},{x:P+3*st*.95,y:he+st*1.43}],Be=[2,3].sort(()=>Math.random()-.5),qe=[4,5,6,7,8,9].sort(()=>Math.random()-.5);return[1,10,...Be,...qe].forEach((Je,Te)=>{let fe;if(Te===0)fe=_e[0];else if(Te===1)fe=_e[4];else if(Te===2||Te===3){const ke=Te-2;fe=Me[ke]}else fe=[_e[1],_e[2],_e[3],_e[5],_e[7],_e[8]][Te-4];fe&&ne.push({id:Je,x:fe.x+be(),y:fe.y+be(),vx:0,vy:0,visible:!0,pocketed:!1,wasPocketedBeforeShot:!1,isMoving:!1,rotation:0,rotationSpeed:0,spinX:0,spinY:0})}),ne},[]),Qs=v.useCallback(()=>{function Me(){let De=[];for(let Te=0;Te<16;Te++){if(e.cueBall.visible){let fe=e.cueBall.x+e.cueBall.vx/16,ke=e.cueBall.y+e.cueBall.vy/16;fe<30+lt?(e.cueBall.x=30+lt,e.cueBall.vx=Math.abs(e.cueBall.vx)*Ii*Ni,e.cueBall.spinY*=mr,Ae&&Ge(!0)):fe>570.77-lt?(e.cueBall.x=570.77-lt,e.cueBall.vx=-Math.abs(e.cueBall.vx)*Ii*Ni,e.cueBall.spinY*=mr,Ae&&Ge(!0)):e.cueBall.x=fe,ke<24.5+lt?(e.cueBall.y=24.5+lt,e.cueBall.vy=Math.abs(e.cueBall.vy)*Ii*Ni,e.cueBall.spinX*=mr,Ae&&Ge(!0)):ke>270.18-lt?(e.cueBall.y=270.18-lt,e.cueBall.vy=-Math.abs(e.cueBall.vy)*Ii*Ni,e.cueBall.spinX*=mr,Ae&&Ge(!0)):e.cueBall.y=ke,e.cueBall.vx*=Math.pow(sm,1/16),e.cueBall.vy*=Math.pow(sm,1/16),e.cueBall.vx+=e.cueBall.spinX*ki,e.cueBall.vy+=e.cueBall.spinY*ki,e.cueBall.spinX*=Math.pow(mr,1/16),e.cueBall.spinY*=Math.pow(mr,1/16);const Pe=Math.sqrt(e.cueBall.vx*e.cueBall.vx+e.cueBall.vy*e.cueBall.vy);Pe>.01?(e.cueBall.rotationSpeed=Pe/lt,Math.abs(e.cueBall.vx)>Math.abs(e.cueBall.vy)?e.cueBall.rotation+=e.cueBall.rotationSpeed/16*Math.sign(e.cueBall.vx):e.cueBall.rotation+=e.cueBall.rotationSpeed/16*Math.sign(e.cueBall.vy)):e.cueBall.rotationSpeed=0,xa(e.cueBall)&&(e.cueBall.isMoving=!1,e.cueBall.visible=!1),e.cueBall.isMoving&&Math.abs(e.cueBall.vx)<.03&&Math.abs(e.cueBall.vy)<.03&&(e.cueBall.vx=0,e.cueBall.vy=0,e.cueBall.isMoving=!1)}e.balls.forEach(fe=>{if(!fe.visible)return;let ke=fe.x+fe.vx/16,Pe=fe.y+fe.vy/16;ke<30+lt?(fe.x=30+lt,fe.vx=Math.abs(fe.vx)*Ii*Ni,fe.spinY*=mr,Ae&&(kn("Rail contact detected for ball:",fe.id),Ge(!0)),e.gamePhase==="break"&&fe.id!=="cue"&&Qe(At=>At+1)):ke>570.77-lt?(fe.x=570.77-lt,fe.vx=-Math.abs(fe.vx)*Ii*Ni,fe.spinY*=mr,Ae&&Ge(!0),e.gamePhase==="break"&&fe.id!=="cue"&&Qe(At=>At+1)):fe.x=ke,Pe<24.5+lt?(fe.y=24.5+lt,fe.vy=Math.abs(fe.vy)*Ii*Ni,fe.spinX*=mr,Ae&&Ge(!0),e.gamePhase==="break"&&fe.id!=="cue"&&Qe(At=>At+1)):Pe>270.18-lt?(fe.y=270.18-lt,fe.vy=-Math.abs(fe.vy)*Ii*Ni,fe.spinX*=mr,Ae&&Ge(!0),e.gamePhase==="break"&&fe.id!=="cue"&&Qe(At=>At+1)):fe.y=Pe,fe.vx*=Math.pow(sm,1/16),fe.vy*=Math.pow(sm,1/16),fe.vx+=fe.spinX*ki,fe.vy+=fe.spinY*ki,fe.spinX*=Math.pow(mr,1/16),fe.spinY*=Math.pow(mr,1/16);const Ye=Math.sqrt(fe.vx*fe.vx+fe.vy*fe.vy);Ye>.01?(fe.rotationSpeed=Ye/lt,Math.abs(fe.vx)>Math.abs(fe.vy)?fe.rotation+=fe.rotationSpeed/16*Math.sign(fe.vx):fe.rotation+=fe.rotationSpeed/16*Math.sign(fe.vy)):fe.rotationSpeed=0,xa(fe)&&(fe.isMoving=!1,fe.visible=!1,fe.pocketed=!0,fe.pocketedPocket=Io(fe.x,fe.y),De.includes(fe.id)||De.push(fe.id)),fe.isMoving&&Math.abs(fe.vx)<.03&&Math.abs(fe.vy)<.03&&(fe.vx=0,fe.vy=0,fe.isMoving=!1)}),e.cueBall.visible&&e.balls.forEach(fe=>{if(fe.visible){const ke=ds(e.cueBall,fe);!dt&&ke&&e.cueBall.isMoving&&(kn("First contact made with ball:",fe.id),me(fe.id),tt(!0),Kt(!0))}}),e.balls.forEach((fe,ke)=>{fe.visible&&e.balls.slice(ke+1).forEach(Pe=>{Pe.visible&&ds(fe,Pe)})})}const Be=e.balls.every(Te=>!Te.isMoving)&&!e.cueBall.isMoving;if(Be&&je&&(Lt(!0),it(null)),Be&&re&&!Le&&!Vn&&Dn===e.currentPlayer&&(kn("currentPlayer:",e.currentPlayer),kn("cueBall visible:",e.cueBall.visible),e.cueBall.visible?(Hn(!0),K(!1)):(He(!0),Hn(!0),K(!1),Zs("scratch"))),Be&&!re&&e.gamePhase!=="break"&&!Le&&!Vn&&Dn===e.currentPlayer&&Dn!==null&&!pe){kn("currentPlayer:",e.currentPlayer),kn("gamePhase:",e.gamePhase),kn("Checking for fouls - Current player:",e.currentPlayer,"First ball hit:",rn);const Te=Ka();if(Te)kn("Foul detected:",Te,"by player:",e.currentPlayer),He(!0),Hn(!0),U(null),Q(null),K(!1),Zs(Te);else{if(!pe){const ke=qs();if(ke.length>0){kn("Illegally pocketed balls detected:",ke.map(Pe=>Pe.id)),sn(ke),Sn(!0),Hn(!0),U(null),Q(null);return}}Hn(!0),U(null),Q(null),K(!1),Pt(ke=>{const Pe={...ke,[Dn]:0};return kn(`Resetting fouls for player ${Dn} only. Player 1 fouls: ${Pe[1]}, Player 2 fouls: ${Pe[2]}`),Pe}),e.balls.filter(ke=>ke.pocketed&&!ke.wasPocketedBeforeShot).length===0&&n(ke=>({...ke,currentPlayer:ke.currentPlayer===1?2:1}))}}if(Be&&pe&&!Le&&!Vn){Hn(!0),Ue(!1);const Te=Ka();Te?(kn("Break foul detected:",Te,"by player:",e.currentPlayer),He(!0),Zs(Te)):e.balls.filter(ke=>ke.pocketed&&!ke.wasPocketedBeforeShot).length===0&&n(ke=>({...ke,currentPlayer:ke.currentPlayer===1?2:1}))}const mt=e.balls.find(Te=>Te.id===10&&Te.pocketed),qe=e.balls.filter(Te=>Te.visible&&!Te.pocketed),ft=qe.length>0?qe.reduce((Te,fe)=>fe.id<Te.id?fe:Te):null;if(Be&&ft&&ft.id===10&&window.dispatchEvent(new CustomEvent("tenBallTarget",{detail:{player:e.currentPlayer}})),Be&&ft&&Mg(e.gamePhase)&&window.dispatchEvent(new CustomEvent("lowestBall",{detail:{player:e.currentPlayer,lowestBall:ft.id}})),Be&&Mg(e.gamePhase)&&Math.random()<.1&&window.dispatchEvent(new CustomEvent("safetyOpportunity",{detail:{player:e.currentPlayer}})),Be&&mt){const Te=A===10,fe=q&&mt.pocketedPocket===q;if(Te&&fe){const ke=Dn;t&&t(ke),window.dispatchEvent(new CustomEvent("gameWinning",{detail:{player:ke}})),setTimeout(()=>{n(Pe=>({...Pe,balls:_r(),cueBall:{x:100,y:150,originalX:100,originalY:150,vx:0,vy:0,visible:!0,isMoving:!1},isAnimating:!1,gamePhase:"break",ballInHand:!1,scratchOccurred:!1})),setIsDragging(!1),S(!0),Pt({1:0,2:0}),n(Pe=>({...Pe,_foulReset:Date.now()})),window.tipManager&&window.tipManager.resetTips&&window.tipManager.resetTips()},2e3)}else{n(Pe=>({...Pe,balls:Pe.balls.map(Ye=>Ye.id===10?{...Ye,pocketed:!1,visible:!0,x:Lx,y:Px,vx:0,vy:0,isMoving:!1}:Ye)}));const ke=e.balls.find(Pe=>Pe.id===A&&Pe.pocketed&&!Pe.wasPocketedBeforeShot);ke&&ke.pocketedPocket===q||n(Pe=>({...Pe,currentPlayer:Pe.currentPlayer===1?2:1})),U(null),Q(null)}}const Je=so(e.gamePhase);kn("Step function - wasBreakPhase:",Je,"allStopped:",Be,"gamePhase:",e.gamePhase),n(Te=>({...Te,isAnimating:!Be,gamePhase:AU(Te.gamePhase,Be)})),DU(e.gamePhase,Be)&&(xe(!0),Ke(!1),setTimeout(()=>{window.dispatchEvent(new CustomEvent("pushOutStrategy",{detail:{player:e.currentPlayer}}))},500),setTimeout(()=>{window.dispatchEvent(new CustomEvent("pushOutAvailable",{detail:{player:e.currentPlayer}}))},1e3)),Be||(Ba.current=requestAnimationFrame(Me))}Ba.current=requestAnimationFrame(Me)},[e,xa,ds,rn,re,Ka,Zs,je,Le,Dn,Vn,qs,pe]),us=v.useCallback(()=>{if(e.isAnimating||!z)return;if(!so(e.gamePhase)){if(!re){if(!A&&!q){j(!0),Y(!1);return}}}e.cueBall;const ne=f*18,P=w*Math.PI/180,he=Math.cos(P)*b*ki*ne*.05,be=Math.sin(P)*b*ki*ne*.05;me(null),Ge(!1),Zn(null),He(!1),tt(!1),Kt(!1),Hn(!1),Yn(e.currentPlayer),Qe(0);const _e=e.balls.filter(De=>De.visible&&!De.pocketed),Me=_e.length>0?_e.reduce((De,Be)=>Be.id<De.id?Be:De):null;te(Me),n(De=>({...De,balls:De.balls.map(Be=>({...Be,wasPocketedBeforeShot:Be.pocketed}))})),n(De=>({...De,cueBall:{...De.cueBall,vx:Math.cos(m)*ne,vy:Math.sin(m)*ne,isMoving:!0,spinX:he,spinY:be},isAnimating:!0,ballInHand:!1,gamePhase:De.gamePhase})),so(e.gamePhase)&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("callPocket",{detail:{player:e.currentPlayer}}))},500),so(e.gamePhase)&&Ue(!0),Y(!1),S(!0),k(null),M(null),$(null),re&&it({ballsPocketed:e.balls.filter(De=>De.pocketed).length,cueBallPosition:{x:e.cueBall.x,y:e.cueBall.y},player:e.currentPlayer}),j(!1),ce&&!Se&&e.gamePhase!=="break"&&(Ke(!0),xe(!1)),re&&(xe(!1),Ke(!0))},[e.isAnimating,z,e.cueBall,f,m,re,A,q,e.gamePhase,ce,Se]),ms=v.useCallback(ne=>{if(e.isAnimating)return;if(ne.button===2){ae(!0);return}const P=a.current.getBoundingClientRect(),he=P.width/Vt,be=(ne.clientX-P.left)/he,_e=(ne.clientY-P.top)/he;if(be>=0&&be<=Vt&&_e>=0&&_e<=En){if(V){if(Mg(e.gamePhase)&&ce&&zr(be,_e)){K(!re);return}if(A&&q||re){if(be>=Vt/2-80&&be<=Vt/2-10&&_e>=En-30&&_e<=En-5){j(!1),Y(!0);return}if(be>=Vt/2+10&&be<=Vt/2+80&&_e>=En-30&&_e<=En-5){j(!1),U(null),Q(null),K(!1),Y(!0);return}}const Be=e.balls.find(qe=>qe.visible&&!qe.pocketed&&Math.sqrt((be-qe.x)**2+(_e-qe.y)**2)<lt),mt=Un.find(qe=>Math.sqrt((be-qe.x)**2+(_e-qe.y)**2)<50);if(Be||mt){Gs(ne);return}else{j(!1),U(null),Q(null),Y(!1);return}}if((e.ballInHand||so(e.gamePhase))&&os(be,_e)){Vs(be,_e);return}const De=!z;Y(De),De&&!so(e.gamePhase)&&!re&&j(!0),De||(j(!1),U(null),Q(null))}},[e.isAnimating,e.ballInHand,e.gamePhase,os,Vs,z,V,A,q,Gs,ce,re]),ps=v.useCallback(ne=>{s&&ls(),ne.button===2&&(ae(!1),!z&&!e.isAnimating&&(Y(!0),e.gamePhase!=="break"&&!re&&j(!0)))},[s,ls,z,e.isAnimating,e.gamePhase,re]),Ma=v.useCallback(ne=>{if(e.isAnimating)return;const P=a.current.getBoundingClientRect(),he=P.width/Vt,be=(ne.clientX-P.left)/he,_e=(ne.clientY-P.top)/he;if(s){Or(be,_e);return}if(z&&!(V&&(O||ne.altKey)))return;const Me={x:e.cueBall.x,y:e.cueBall.y},De={x:Math.max(30,Math.min(570,Me.x)),y:Math.max(24,Math.min(270,Me.y))},Be=Math.atan2(_e-De.y,be-De.x);let mt=!1,qe=null,ft=1/0;e.balls.forEach(ke=>{if(ke.visible&&!ke.pocketed){const Pe=ke.x-De.x,Ye=ke.y-De.y,At=Math.sqrt(Pe*Pe+Ye*Ye),It=Math.atan2(Ye,Pe);Math.abs(Be-It)<.25&&At<ft&&(ft=At,qe=ke,mt=!0)}});let Je=Be;if(J){let ke=2e-5;mt&&qe&&(ke=1e-5*(Math.sqrt((qe.x-De.x)**2+(qe.y-De.y)**2)/100));const Pe=De.x,Ye=De.y,At=(be-Pe)*ke,It=(_e-Ye)*ke;Je=Math.atan2(It,At)}else if(mt){const Pe=De.x,Ye=De.y,At=(be-Pe)*.25,It=(_e-Ye)*.25;Je=Math.atan2(It,At)}else{const ke=.9*Math.PI/180;Je=Math.round(Be/ke)*ke}if(z&&V&&(O||ne.altKey)){const ke=Ui(Je,H),Ye=Math.max(-.001,Math.min(.001,ke));Je=H+Ye}if((Math.abs(Ui(Je,H))>2e-4||!J)&&(h(Je),Z(Je)),mt&&qe){const ke=Da(qe.x,qe.y,De.x,De.y);k(ke),M(qe)}else k(null),M(null)},[e.isAnimating,s,Or,e.cueBall,e.balls,Da,z,V]),fs=v.useCallback(()=>{},[]);v.useCallback(()=>{S(!0),y(.5),E(0),_(0),$(null),Y(!1)},[]),v.useCallback(()=>{const ne=e.cueBall;let P=null,he=1/0;return e.balls.forEach(be=>{be.visible&&!be.pocketed&&be.id<he&&(he=be.id,P=be)}),P?Math.atan2(P.y-ne.y,P.x-ne.x):Math.atan2(En/2-ne.y,Vt/2-ne.x)},[e.cueBall,e.balls]),v.useEffect(()=>{n(ne=>({...ne,balls:_r()}))},[_r]),v.useEffect(()=>{if(e.isAnimating)return Qs(),()=>{Ba.current&&cancelAnimationFrame(Ba.current)}},[e.isAnimating,Qs]),v.useEffect(()=>{const ne=P=>{P.key==="Escape"&&V&&(j(!1),U(null),Q(null),Y(!1))};return document.addEventListener("keydown",ne),()=>{document.removeEventListener("keydown",ne)}},[V]);const za=v.useCallback(()=>{const ne=a.current;if(!ne)return;const P=ne.getContext("2d");if(P.clearRect(0,0,Vt,En),Aa.current?P.drawImage(Aa.current,0,0,Vt,En):(P.fillStyle="#0d5c0d",P.fillRect(0,0,Vt,En)),Oa.current){P.save(),P.globalAlpha=.25;const be=Vt*.305,_e=be*(Oa.current.height/Oa.current.width),Me=(Vt-be)/2,De=(En-_e)/2;P.shadowColor="rgba(0, 0, 0, 0.3)",P.shadowBlur=4,P.shadowOffsetX=0,P.shadowOffsetY=1,P.drawImage(Oa.current,Me,De,be,_e),P.restore()}so(e.gamePhase)&&!e.isAnimating&&(P.save(),P.strokeStyle="rgba(255, 0, 0, 0.5)",P.lineWidth=2,P.setLineDash([10,5]),P.strokeRect(Yc,$c,Tg-Yc,Rg-$c),P.fillStyle="rgba(255, 0, 0, 0.8)",P.font="12px Arial",P.fillText("KITCHEN",Yc+10,$c+20),P.restore());const he=(be,_e)=>{if(ma.current[_e]){const Me=ma.current[_e];P.save(),P.translate(be.x,be.y),P.rotate(be.rotation||0),P.shadowColor="rgba(0, 0, 0, 0.3)",P.shadowBlur=3,P.shadowOffsetX=1,P.shadowOffsetY=1,P.beginPath(),P.arc(0,0,lt,0,2*Math.PI),P.clip(),P.drawImage(Me,-7.5,-7.5,st,st),P.shadowColor="transparent",P.globalAlpha=.3,P.fillStyle="rgba(255, 255, 255, 0.8)",P.beginPath(),P.arc(-7.5*.3,-7.5*.3,lt*.4,0,2*Math.PI),P.fill(),P.restore()}else{const Me=new Image;Me.onload=()=>{ma.current[_e]=Me,he(be,_e)},Me.src=_e}};if(e.balls.forEach(be=>{be.visible&&!be.pocketed&&he(be,Qn[be.id])}),C&&!e.isAnimating){const be={x:Math.max(30,Math.min(570,e.cueBall.x)),y:Math.max(24,Math.min(270,e.cueBall.y))},_e=m,Me=f*18,De=Math.cos(_e)*Me,Be=Math.sin(_e)*Me,mt=w*Math.PI/180,qe=Math.cos(mt)*b*ki*Me*.05,ft=Math.sin(mt)*b*ki*Me*.05,Je=Cr(De+qe,Be+ft,be,{ignoreCuePocket:!0});if(Je.cue&&Je.cue.points.length>1){const Te=Je.cue.points.find(fe=>fe.collision);if(Te){kn("Trajectory collision at:",Te.x.toFixed(2),Te.y.toFixed(2));const fe=e.balls.find(ke=>ke.visible&&!ke.pocketed&&ke.id===1);fe&&kn("Actual ball 1 position:",fe.x.toFixed(2),fe.y.toFixed(2))}}Object.entries(Je).forEach(([Te,fe])=>{const ke=Te==="cue"?1:3;if(fe.points.length>ke){if(P.save(),Te==="cue"?yn(P):(P.strokeStyle=fe.color,P.lineWidth=2,P.globalAlpha=.7),Te==="cue"){const Pe=fe.points,Ye=Pe[0],At=Pe[Pe.length-1]||Ye;if(Math.hypot(At.x-Ye.x,At.y-Ye.y)<20){const hs=zi(f);P.beginPath(),P.moveTo(Ye.x,Ye.y),P.lineTo(Ye.x+Math.cos(_e)*hs,Ye.y+Math.sin(_e)*hs),P.stroke()}else Sr(P,Pe)}else Sr(P,fe.points);P.restore();for(let Pe=1;Pe<fe.points.length;Pe++){const Ye=fe.points[Pe];if(Ye.collision&&(P.save(),P.fillStyle=fe.color,P.globalAlpha=.6,P.beginPath(),P.arc(Ye.x,Ye.y,4,0,2*Math.PI),P.fill(),P.restore()),Ye.pocketed){P.save(),P.fillStyle="#00ff00",P.globalAlpha=.8,P.beginPath(),P.arc(Ye.x,Ye.y,6,0,2*Math.PI),P.fill(),P.restore();break}}}else if(Te==="cue"){P.save(),yn(P);const Pe=fe.points[0],Ye=zi(f),At=Pe.x+Math.cos(_e)*Ye,It=Pe.y+Math.sin(_e)*Ye;P.beginPath(),P.moveTo(Pe.x,Pe.y),P.lineTo(At,It),P.stroke(),P.restore()}})}if(R&&!e.isAnimating&&(P.save(),P.strokeStyle="rgba(255, 255, 0, 0.8)",P.lineWidth=3,P.setLineDash([5,5]),P.beginPath(),P.arc(R.x,R.y,25,0,2*Math.PI),P.stroke(),P.restore()),!e.isAnimating&&!z){const mt=[{x:30,y:24.5,margin:st*ur},{x:570.77,y:24.5,margin:st*ur},{x:30,y:270.18,margin:st*ur},{x:570.77,y:270.18,margin:st*ur},{x:300.385,y:24.5,margin:st*ll},{x:300.385,y:270.18,margin:st*ll}],qe=e.cueBall.x+Math.cos(m)*100,ft=e.cueBall.y+Math.sin(m)*100;let Je=null,Te=1/0;if(mt.forEach(fe=>{const ke=Math.hypot(qe-fe.x,ft-fe.y);ke<Te&&(Te=ke,Je=fe)}),Je&&Te<120){const fe=Je.margin+Lg;P.save(),P.strokeStyle="rgba(0, 255, 0, 0.18)",P.lineWidth=1.5,P.setLineDash([]),P.beginPath(),P.arc(Je.x,Je.y,fe,0,2*Math.PI),P.stroke(),P.fillStyle="rgba(0, 255, 0, 0.15)",P.beginPath(),P.arc(Je.x,Je.y,2,0,2*Math.PI),P.fill(),P.restore()}}if(V&&!e.isAnimating){if(P.save(),P.fillStyle="rgba(0, 0, 0, 0.4)",P.fillRect(0,0,Vt,En),P.fillStyle="rgba(255, 215, 0, 0.9)",P.font="bold 16px Arial",P.textAlign="center",P.fillText("CALL YOUR SHOT",Vt/2,30),P.font="14px Arial",P.fillStyle="rgba(255, 255, 255, 0.9)",P.fillText("Click a ball, then click a pocket",Vt/2,50),A&&(P.fillStyle="rgba(0, 255, 0, 0.8)",P.font="bold 14px Arial",P.fillText(`Selected Ball: ${A}`,Vt/2,En-60)),q&&(P.fillStyle="rgba(0, 255, 0, 0.8)",P.font="bold 14px Arial",P.fillText(`Selected Pocket: ${q.replace("-"," ")}`,Vt/2,En-40)),A){const be=e.balls.find(_e=>_e.id===A&&_e.visible&&!_e.pocketed);be&&(P.strokeStyle="rgba(0, 255, 0, 0.8)",P.lineWidth=3,P.setLineDash([5,5]),P.beginPath(),P.arc(be.x,be.y,lt+5,0,2*Math.PI),P.stroke())}if(q){const be=Un.find(_e=>_e.id===q);be&&(P.strokeStyle="rgba(0, 255, 0, 0.8)",P.lineWidth=3,P.setLineDash([5,5]),P.beginPath(),P.arc(be.x,be.y,30,0,2*Math.PI),P.stroke())}kn("Draw function - gamePhase:",e.gamePhase,"pushOutAvailable:",ce,"isCallShotMode:",V),cs(P,En,re,ce,e.gamePhase),(A&&q||re)&&(P.fillStyle="rgba(76, 175, 80, 0.9)",P.fillRect(Vt/2-80,En-30,70,25),P.fillStyle="white",P.font="bold 12px Arial",P.textAlign="center",P.fillText("CONFIRM",Vt/2-45,En-15),P.fillStyle="rgba(244, 67, 54, 0.9)",P.fillRect(Vt/2+10,En-30,70,25),P.fillStyle="white",P.font="bold 12px Arial",P.textAlign="center",P.fillText("CANCEL",Vt/2+45,En-15)),P.restore()}if(e.cueBall.visible){const be=e.cueBall,_e=Qn.cue;if(ma.current[_e]){const Me=ma.current[_e];P.save(),P.translate(be.x,be.y),P.rotate(be.rotation||0),P.beginPath(),P.arc(0,0,lt,0,2*Math.PI),P.clip(),P.drawImage(Me,-7.5,-7.5,st,st),b!==0&&!e.isAnimating&&(P.restore(),P.save(),P.strokeStyle=b>0?"rgba(76, 175, 80, 0.8)":"rgba(244, 67, 54, 0.8)",P.lineWidth=3,P.setLineDash([5,5]),P.beginPath(),P.arc(be.x,be.y,lt+5,0,2*Math.PI),P.stroke(),P.strokeStyle=b>0?"rgba(76, 175, 80, 0.9)":"rgba(244, 67, 54, 0.9)",P.lineWidth=2,P.setLineDash([]),P.beginPath(),P.moveTo(be.x,be.y),P.lineTo(be.x+Math.cos(w*Math.PI/180)*(lt+10),be.y+Math.sin(w*Math.PI/180)*(lt+10)),P.stroke()),P.restore()}else{const Me=new Image;Me.onload=()=>{ma.current[_e]=Me,za()},Me.src=_e}}P.globalAlpha=1},[e,C,m,Qn,f,R,z,Cr,V,A,q,Un,ce,re]);v.useEffect(()=>{za()},[e.isAnimating,C,m,f,R,z,V,A,q,ce,re]),v.useEffect(()=>{const ne=new Image;ne.onload=()=>{Aa.current=ne,za()},ne.src=QE},[za]),v.useEffect(()=>{const ne=new Image;ne.onload=()=>{Oa.current=ne,za()},ne.src=j0},[za]),v.useEffect(()=>{const ne=he=>{he.altKey&&L(!0)},P=he=>{he.altKey||L(!1),he.key==="Alt"&&L(!1)};return window.addEventListener("keydown",ne),window.addEventListener("keyup",P),()=>{window.removeEventListener("keydown",ne),window.removeEventListener("keyup",P)}},[]);const[Ir,Fi]=v.useState(!1),Wi=v.useCallback(ne=>{ne.preventDefault(),Fi(!0),console.log("English drag started")},[]),Pl=v.useCallback(ne=>{if(!Ir)return;const P=ne.currentTarget.getBoundingClientRect(),he=ne.clientX-P.left,be=ne.clientY-P.top,_e=he/P.width,Me=be/P.height,De=.5,Be=.5,mt=Math.sqrt((_e-De)**2+(Me-Be)**2),qe=Math.min(mt,.4),ft=Math.min(qe/.4,1),Te=(Math.atan2(Me-Be,_e-De)*180/Math.PI+360)%360;E(ft),_(Te),console.log(`English updated: ${Math.round(ft*100)}% at ${Math.round(Te)}°`)},[Ir]),No=v.useCallback(()=>{Fi(!1),console.log("English drag ended")},[]),Jn=v.useCallback(ne=>{const P=ne%360;return P>=247.5&&P<=292.5?"#4CAF50":P>=67.5&&P<=112.5?"#F44336":P>=157.5&&P<=202.5?"#9C27B0":P>=337.5||P<=22.5?"#FF9800":P>292.5&&P<337.5?"#00BCD4":P>202.5&&P<247.5?"#CDDC39":P>22.5&&P<67.5?"#E91E63":"#FFC107"},[]),ko=v.useCallback(ne=>{const P=ne%360;return P>=247.5&&P<=292.5?"Top Spin":P>=67.5&&P<=112.5?"Back Spin":P>=157.5&&P<=202.5?"Left Spin":P>=337.5||P<=22.5?"Right Spin":P>292.5&&P<337.5?"Top-Right Spin":P>202.5&&P<247.5?"Top-Left Spin":P>22.5&&P<67.5?"Bottom-Right Spin":"Bottom-Left Spin"},[]);return r.createElement("div",{className:on.simplePoolGame},r.createElement("div",{className:on.aimingInstructions},r.createElement("div",{className:on.instructions},r.createElement("strong",null,"How To Aim:"),r.createElement("br",null),"Move mouse to aim • Click table to lock aim • Call Shot • Adjust power • Drag English ball • Click SHOOT",r.createElement("br",null),r.createElement("small",{style:{color:"#888",fontSize:"12px"}},"💡 ",r.createElement("strong",null,"Aim Line Colors:")," White = Aiming • Green = Locked & ready • Yellow = Fine-tuning • Green/Red = English spin • Colored = Object ball paths",r.createElement("br",null),"💡 ",r.createElement("strong",null,"Fine-tuning:")," Hold right-click for precise aiming, release to lock aim",r.createElement("br",null),"💡 ",r.createElement("strong",null,"English:")," Click and drag on the English ball to set spin direction and intensity"))),Rx(e.gamePhase,ce)&&r.createElement("div",{style:{alignSelf:"center",margin:"8px 0 14px 0",padding:"6px 14px",background:"rgba(255, 215, 0, 0.95)",color:"#000",fontWeight:700,fontSize:"15px",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.25)"}},"Push Out Available"),r.createElement("div",{className:on.tableContainer},r.createElement("canvas",{ref:a,width:Vt,height:En,onPointerDown:ms,onPointerUp:ps,onPointerMove:Ma,onPointerLeave:fs,onContextMenu:ne=>ne.preventDefault(),className:on.tableCanvas})),r.createElement("div",{className:on.controls},r.createElement("div",{className:on.powerControl},r.createElement("label",null,"Power: ",Math.round(f*100),"%"),r.createElement("div",{style:{position:"relative",width:"100%",height:"8px",background:"#ffffff",borderRadius:"4px",border:"1px solid #e0e0e0",overflow:"hidden"}},r.createElement("div",{style:{position:"absolute",top:0,left:0,width:`${f*100}%`,height:"100%",background:"#2196F3",borderRadius:"3px"}}),r.createElement("div",{style:{position:"absolute",top:"-4px",left:`${f*100}%`,width:"16px",height:"16px",background:"#2196F3",borderRadius:"50%",border:"1px solid #1976D2",cursor:"pointer",transform:"translateX(-50%)"}}),r.createElement("input",{type:"range",min:"0.1",max:"1",step:"0.01",value:f,onChange:ne=>y(parseFloat(ne.target.value)),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"transparent",outline:"none",cursor:"pointer",opacity:0}}))),r.createElement("div",{className:on.englishControl},r.createElement("label",null,"English: Drag to set spin"),r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"5px"}},r.createElement("div",{onMouseDown:Wi,onMouseMove:Pl,onMouseUp:No,onMouseLeave:No,style:{width:"60px",height:"60px",borderRadius:"50%",border:"2px solid #333",background:"linear-gradient(135deg, #fff 0%, #f0f0f0 100%)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:"#333",cursor:Ir?"grabbing":"grab",userSelect:"none"}},b>0?"+":"",Math.round(b*100),"%",b!==0&&r.createElement(r.Fragment,null,r.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:`translate(-50%, -50%) translate(${Math.cos(w*Math.PI/180)*20}px, ${Math.sin(w*Math.PI/180)*20}px)`,width:"8px",height:"8px",borderRadius:"50%",background:Jn(w),border:"1px solid #fff"}}),r.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:`translate(-50%, -50%) rotate(${w}deg)`,width:"2px",height:"20px",background:Jn(w),borderRadius:"1px"}}))),b!==0&&r.createElement("div",{style:{fontSize:"12px",color:Jn(w),fontWeight:"bold"}},ko(w)),b===0&&r.createElement("div",{style:{fontSize:"12px",color:"#666"}},"No Spin"),b!==0&&r.createElement("button",{onClick:()=>{E(0),_(0)},style:{fontSize:"10px",padding:"2px 6px",background:"#666",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",marginLeft:"5px"}},"Reset"))),r.createElement("div",{className:on.shootButton},r.createElement("button",{className:on.shootButton,onClick:us,disabled:e.isAnimating||!z},z?e.gamePhase==="break"||A&&q||re?"SHOOT!":"CALL SHOT":"LOCK AIM FIRST")),r.createElement("div",{className:on.gameInfo},r.createElement("span",null,"Player: ",e.currentPlayer),r.createElement("span",null,"Phase: ",e.gamePhase),r.createElement("span",null,"Status: ",e.isAnimating?"Animating":e.ballInHand||e.gamePhase==="break"?s?"Drag Cue Ball to Position":e.gamePhase==="break"?"Click Cue Ball to Move (Kitchen Only)":"Click Cue Ball to Move (Anywhere)":z?"Aim Locked - Ready to Shoot":R?"Pocket assistance active - Click to lock!":"Move Mouse to Aim"),ln&&r.createElement("span",{style:{color:"#ff6b6b",fontWeight:"bold"}},"FOUL: ",ln==="scratch"?"Scratch":ln==="wrong_ball_first"?"Wrong Ball First":ln==="no_rail_contact"?"No Rail Contact":ln),r.createElement("span",null,"Consecutive Fouls P1: ",gn[1]," | P2: ",gn[2])),r.createElement("div",{className:on.buttonRow},r.createElement("button",{className:on.resetAimButton,onClick:()=>{setIsDragging(!1),S(!1),y(.5)},disabled:e.isAnimating},"Reset Aim"),r.createElement("button",{className:on.resetButton,onClick:()=>{n(ne=>({...ne,balls:_r(),cueBall:{x:100,y:150,originalX:100,originalY:150,vx:0,vy:0,visible:!0,isMoving:!1,rotation:0,rotationSpeed:0},isAnimating:!1,gamePhase:"break",ballInHand:!1,scratchOccurred:!1,currentPlayer:1})),S(!0),l(!1),$(null),Y(!1),E(0),_(0),xe(!1),Ke(!1),K(!1),it(null),Lt(!1),te(null),console.log("Resetting foul counters via reset button"),Pt({1:0,2:0}),Zn(null),He(!1),Hn(!1),Yn(null),Qe(0),sn([]),Sn(!1),window.tipManager&&window.tipManager.resetTips&&window.tipManager.resetTips()}},"Reset Game"),r.createElement("button",{className:on.resetButton,onClick:()=>{n(ne=>({...ne,ballInHand:!0,currentPlayer:ne.currentPlayer===1?2:1}))},style:{marginLeft:"10px",backgroundColor:"#ff6b6b"}},"Test Ball-in-Hand"))),Ve&&r.createElement("div",{className:on.pushOutModal},r.createElement("div",{className:on.pushOutContent},r.createElement("h3",null,"Push Out Result"),r.createElement("p",null,"Player ",e.currentPlayer===1?2:1,", do you want to accept this push out result?"),r.createElement("div",{className:on.pushOutButtons},r.createElement("button",{onClick:()=>{Lt(!1),n(ne=>({...ne,currentPlayer:ne.currentPlayer===1?2:1}))},className:on.acceptButton},"Accept"),r.createElement("button",{onClick:()=>{Lt(!1)},className:on.declineButton},"Decline")))),ka&&r.createElement("div",{className:on.pushOutModal},r.createElement("div",{className:on.pushOutContent},r.createElement("h3",null,"Illegally Pocketed Balls"),r.createElement("p",null,"Player ",e.currentPlayer===1?2:1,", balls were illegally pocketed:"),r.createElement("ul",null,ut.map(ne=>r.createElement("li",{key:ne.id},"Ball ",ne.id," ",ne.id===10?"(will be spotted)":"(remains pocketed)"))),r.createElement("p",null,"Do you want to:"),r.createElement("div",{className:on.pushOutButtons},r.createElement("button",{onClick:()=>{Sn(!1),n(P=>({...P,currentPlayer:P.currentPlayer===1?2:1})),ut.find(P=>P.id===10)&&n(P=>({...P,balls:P.balls.map(he=>he.id===10?{...he,pocketed:!1,visible:!0,x:Lx,y:Px}:he)})),sn([])},className:on.acceptButton},"Accept Table"),r.createElement("button",{onClick:()=>{Sn(!1),sn([])},className:on.declineButton},"Require Re-Shot")))))},WU="_tutorialRules_use5n_1",jU="_header_use5n_14",HU="_progressContainer_use5n_25",YU="_progressBar_use5n_31",$U="_progressFill_use5n_39",GU="_progressText_use5n_46",qU="_content_use5n_52",ZU="_stepContent_use5n_56",VU="_highlightBox_use5n_73",QU="_highlightIcon_use5n_86",JU="_tipSection_use5n_90",XU="_navigation_use5n_110",KU="_navButton_use5n_119",eF="_disabled_use5n_135",tF="_centerButtons_use5n_145",nF="_skipButton_use5n_153",aF="_nextButton_use5n_171",rF="_startButton_use5n_171",sF="_quickRules_use5n_193",iF="_ruleGrid_use5n_205",oF="_ruleItem_use5n_211",lF="_ruleNumber_use5n_231",Zt={tutorialRules:WU,header:jU,progressContainer:HU,progressBar:YU,progressFill:$U,progressText:GU,content:qU,stepContent:ZU,highlightBox:VU,highlightIcon:QU,tipSection:JU,navigation:XU,navButton:KU,disabled:eF,centerButtons:tF,skipButton:nF,nextButton:aF,startButton:rF,quickRules:sF,ruleGrid:iF,ruleItem:oF,ruleNumber:lF},cF=({step:t,currentStep:a,totalSteps:e,onNext:n,onBack:s,onSkip:l})=>{const c=(a+1)/e*100,u=["Remember: Always hit the lowest numbered ball first!","Call your shots clearly - specify ball and pocket.","The 10-ball is the money ball - pocket it legally to win!","Use the push out strategically to improve your position.","Three consecutive fouls result in loss of game.","Practice your break shot - it sets up the entire game.","Defensive play is just as important as offensive play.","Watch for safety opportunities when you can't make a shot."];return r.createElement("div",{className:Zt.tutorialRules},r.createElement("div",{className:Zt.header},r.createElement("h3",null,"10-Ball Rules Tutorial"),r.createElement("div",{className:Zt.progressContainer},r.createElement("div",{className:Zt.progressBar},r.createElement("div",{className:Zt.progressFill,style:{width:`${c}%`}})),r.createElement("span",{className:Zt.progressText},"Step ",a+1," of ",e))),r.createElement("div",{className:Zt.content},r.createElement("div",{className:Zt.stepContent},r.createElement("h4",null,t.title),r.createElement("p",null,t.content),t.highlight&&r.createElement("div",{className:Zt.highlightBox},r.createElement(Fz,{className:Zt.highlightIcon}),r.createElement("span",null,"This concept will be highlighted on the table"))),r.createElement("div",{className:Zt.tipSection},r.createElement("h5",null,"💡 Pro Tip"),r.createElement("p",null,u[a%u.length]))),r.createElement("div",{className:Zt.navigation},r.createElement("button",{className:`${Zt.navButton} ${a===0?Zt.disabled:""}`,onClick:s,disabled:a===0},r.createElement(Az,null),"Previous"),r.createElement("div",{className:Zt.centerButtons},r.createElement("button",{className:Zt.skipButton,onClick:l},"Skip Tutorial"),a===e-1?r.createElement("button",{className:Zt.startButton,onClick:n},r.createElement(Hz,null),"Start Playing"):r.createElement("button",{className:Zt.nextButton,onClick:n},"Next",r.createElement(_5,null)))),r.createElement("div",{className:Zt.quickRules},r.createElement("h5",null,"Quick Reference"),r.createElement("div",{className:Zt.ruleGrid},r.createElement("div",{className:Zt.ruleItem},r.createElement("span",{className:Zt.ruleNumber},"1"),r.createElement("span",null,"Hit lowest ball first")),r.createElement("div",{className:Zt.ruleItem},r.createElement("span",{className:Zt.ruleNumber},"2"),r.createElement("span",null,"Call your shots")),r.createElement("div",{className:Zt.ruleItem},r.createElement("span",{className:Zt.ruleNumber},"3"),r.createElement("span",null,"10-ball wins the game")),r.createElement("div",{className:Zt.ruleItem},r.createElement("span",{className:Zt.ruleNumber},"4"),r.createElement("span",null,"Push out after break")))))},dF="_gameModeSelector_s58nb_29",uF="_header_s58nb_67",mF="_backToDashboardButton_s58nb_113",pF="_modesGrid_s58nb_277",fF="_modeCard_s58nb_291",hF="_recommended_s58nb_333",gF="_recommendedBadge_s58nb_353",yF="_modeIcon_s58nb_379",bF="_modeContent_s58nb_403",vF="_modeArrow_s58nb_441",xF="_whatYoullLearn_s58nb_539",Rr={gameModeSelector:dF,header:uF,backToDashboardButton:mF,modesGrid:pF,modeCard:fF,recommended:hF,recommendedBadge:gF,modeIcon:yF,modeContent:bF,modeArrow:vF,whatYoullLearn:xF},Ux=({onModeSelect:t,fromLogin:a=!1})=>{const e=[{id:"tutorial",title:"Interactive Tutorial",description:"Learn the official CSI 10-Ball rules step by step with interactive examples and tips.",icon:Oz,color:"#4CAF50",recommended:!0}];return r.createElement("div",{className:Rr.gameModeSelector,style:{maxWidth:"280px",width:"280px",margin:"0 auto",overflowX:"hidden",boxSizing:"border-box"}},r.createElement("div",{className:Rr.header},!a&&r.createElement("button",{className:Rr.backToDashboardButton,onClick:()=>window.location.href="/dashboard"},"← Back to Dashboard"),r.createElement("h2",null,"10-Ball Tutorial"),r.createElement("p",null,"Learn and master the official CSI 10-Ball rules")),r.createElement("div",{className:Rr.modesGrid},e.map(n=>{const s=n.icon;return r.createElement("div",{key:n.id,className:`${Rr.modeCard} ${n.recommended?Rr.recommended:""}`,onClick:()=>t(n.id)},n.recommended&&r.createElement("div",{className:Rr.recommendedBadge},"Recommended"),r.createElement("div",{className:Rr.modeIcon,style:{backgroundColor:n.color}},r.createElement(s,null)),r.createElement("div",{className:Rr.modeContent},r.createElement("h3",null,n.title),r.createElement("p",null,n.description)),r.createElement("div",{className:Rr.modeArrow},"→"))})),r.createElement("div",{className:Rr.whatYoullLearn},r.createElement("h3",null,"What You'll Learn"),r.createElement("ul",null,r.createElement("li",null,"Official CSI 10-Ball Rules"),r.createElement("li",null,"Break/Push Out Requirements"),r.createElement("li",null,"Call Shot/Ball in Hand Requirements"),r.createElement("li",null,"Illegally Pocketed Balls/Opponent's Option"),r.createElement("li",null,"Foul Detection and Penalties"),r.createElement("li",null,"Advanced Shot Planning"))))},EF="_tipContainer_1z0xf_1",wF="_show_1z0xf_27",SF="_dragging_1z0xf_35",CF="_tipContent_1z0xf_47",_F="_tipHeader_1z0xf_71",IF="_tipIcon_1z0xf_89",NF="_tipTitle_1z0xf_99",kF="_closeButton_1z0xf_113",AF="_tipText_1z0xf_155",Rs={tipContainer:EF,show:wF,dragging:SF,tipContent:CF,tipHeader:_F,tipIcon:IF,tipTitle:NF,closeButton:kF,tipText:AF},DF=({tip:t,isVisible:a,onClose:e})=>{const[n,s]=v.useState(!1),[l,c]=v.useState({x:0,y:0}),[u,m]=v.useState(!1),[h,f]=v.useState({x:0,y:0}),y=v.useRef(null);v.useEffect(()=>{if(a){s(!0);const _=setTimeout(()=>{e()},8e3);return()=>clearTimeout(_)}},[a,e]);const b=_=>{if(_.target.closest("button"))return;m(!0);const C=y.current.getBoundingClientRect();f({x:_.clientX-C.left,y:_.clientY-C.top})},E=_=>{if(!u)return;const C=_.clientX-h.x,S=_.clientY-h.y,I=window.innerWidth-250,k=window.innerHeight-100;c({x:Math.max(0,Math.min(C,I)),y:Math.max(0,Math.min(S,k))})},w=()=>{m(!1)};return v.useEffect(()=>{if(u)return document.addEventListener("mousemove",E),document.addEventListener("mouseup",w),()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",w)}},[u,h]),a?r.createElement("div",{ref:y,className:`${Rs.tipContainer} ${n?Rs.show:""} ${u?Rs.dragging:""}`,style:{maxWidth:"250px",width:"250px",minWidth:"250px",top:l.y||20,left:l.x||"50%",transform:l.x?"none":"translateX(-50%)",right:"auto",cursor:u?"grabbing":"grab"},onMouseDown:b},r.createElement("div",{className:Rs.tipContent},r.createElement("div",{className:Rs.tipHeader},r.createElement("span",{className:Rs.tipIcon},"💡"),r.createElement("span",{className:Rs.tipTitle},"Pro Tip"),r.createElement("button",{className:Rs.closeButton,onClick:e},"×")),r.createElement("div",{className:Rs.tipText},t))):null},MF=v.forwardRef(({gameState:t,onTipShown:a},e)=>{const[n,s]=v.useState(null),[l,c]=v.useState(!1),[u,m]=v.useState(new Set),h=w=>{b(w)},f=()=>{m(new Set)};v.useImperativeHandle(e,()=>({triggerTip:h,resetTips:f}));const y={breakShot:{title:"Break Shot",tip:"Always hit the lowest numbered ball first! A good break can set up your entire game!"},callShot:{title:"Call Shot",tip:"Be specific about which pocket you're aiming for! If you don't call it, it doesn't count!"},pushOut:{title:"Push Out Opportunity",tip:"Use push out to improve your position when the table is difficult!"},foul:{title:"Foul Committed",tip:"Three consecutive fouls by the same player results in loss of game!"},tenBall:{title:"10-Ball Target",tip:"The 10-ball is the only ball that matters for winning!"},defensive:{title:"Defensive Play",tip:"Sometimes the best shot is the one that leaves your opponent nothing!"},practice:{title:"Keep Learning",tip:"Practice makes perfect - keep playing and learning!"},scratch:{title:"Scratch Foul",tip:"The cue ball went in a pocket! Your opponent gets ball-in-hand."},wrongBall:{title:"Wrong Ball First",tip:"You must hit the lowest numbered ball first! This is a foul."},noRail:{title:"No Rail Contact",tip:"After contact, a ball must hit a rail or be pocketed. This is a foul."},ballInHand:{title:"Ball-in-Hand",tip:"You can place the cue ball anywhere on the table after a foul."},kitchen:{title:"Kitchen Rule",tip:"During break, the cue ball must start in the kitchen (behind the head string)."},threeFoul:{title:"Three Foul Rule",tip:"Three consecutive fouls by the same player results in loss of game!"},pushOutStrategy:{title:"Push Out Strategy",tip:"After a legal break, you can push out to improve position. Opponent then chooses to shoot or pass."},callPocket:{title:"Call Pocket",tip:"You must call both the ball and the pocket for every shot after the break."},lowestBall:{title:"Lowest Ball First",tip:"Always hit the lowest numbered ball on the table first!"},safety:{title:"Safety Shot",tip:"A safety shot is when you don't expect to pocket a ball but leave your opponent in a difficult position."},jumpShot:{title:"Jump Shot",tip:"Jump shots are legal in 10-ball, but be careful not to jump the cue ball off the table!"},gameWinning:{title:"Game Winner",tip:"Legally pocket the 10-ball to win! Remember to call it and the pocket."}},b=w=>{if(u.has(w))return;const _=y[w];_&&(s(_),c(!0),m(C=>new Set([...C,w])),a==null||a(w))},E=()=>{c(!1)};return v.useEffect(()=>{t&&(t.gamePhase==="break"&&!u.has("breakShot")&&(b("breakShot"),window.dispatchEvent(new CustomEvent("kitchenRule"))),t.gamePhase==="play"&&!u.has("callShot")&&b("callShot"))},[t,u]),v.useEffect(()=>{const w=Z=>{u.has("foul")||b("foul")},_=Z=>{u.has("scratch")||b("scratch")},C=Z=>{u.has("wrongBall")||b("wrongBall")},S=Z=>{u.has("noRail")||b("noRail")},I=Z=>{u.has("ballInHand")||b("ballInHand")},k=Z=>{u.has("kitchen")||b("kitchen")},N=Z=>{u.has("threeFoul")||b("threeFoul")},M=Z=>{u.has("pushOut")||b("pushOut")},R=Z=>{u.has("pushOutStrategy")||b("pushOutStrategy")},$=Z=>{u.has("callPocket")||b("callPocket")},z=Z=>{u.has("lowestBall")||b("lowestBall")},Y=Z=>{u.has("safety")||b("safety")},J=Z=>{u.has("jumpShot")||b("jumpShot")},ae=Z=>{u.has("tenBall")||b("tenBall")},H=Z=>{u.has("gameWinning")||b("gameWinning")};return window.addEventListener("gameFoul",w),window.addEventListener("scratchFoul",_),window.addEventListener("wrongBallFoul",C),window.addEventListener("noRailFoul",S),window.addEventListener("ballInHand",I),window.addEventListener("kitchenRule",k),window.addEventListener("threeFoul",N),window.addEventListener("pushOutAvailable",M),window.addEventListener("pushOutStrategy",R),window.addEventListener("callPocket",$),window.addEventListener("lowestBall",z),window.addEventListener("safetyOpportunity",Y),window.addEventListener("jumpShot",J),window.addEventListener("tenBallTarget",ae),window.addEventListener("gameWinning",H),()=>{window.removeEventListener("gameFoul",w),window.removeEventListener("scratchFoul",_),window.removeEventListener("wrongBallFoul",C),window.removeEventListener("noRailFoul",S),window.removeEventListener("ballInHand",I),window.removeEventListener("kitchenRule",k),window.removeEventListener("threeFoul",N),window.removeEventListener("pushOutAvailable",M),window.removeEventListener("pushOutStrategy",R),window.removeEventListener("callPocket",$),window.removeEventListener("lowestBall",z),window.removeEventListener("safetyOpportunity",Y),window.removeEventListener("jumpShot",J),window.removeEventListener("tenBallTarget",ae),window.removeEventListener("gameWinning",H)}},[u]),r.createElement(DF,{tip:n==null?void 0:n.tip,isVisible:l,onClose:E})}),TF="_container_1jm20_1",RF="_backButton_1jm20_53",LF="_tutorialContainer_1jm20_79",Ai={container:TF,backButton:RF,tutorialContainer:LF},PF=({fromLogin:t=!1,onBackToLogin:a})=>{const[e,n]=v.useState("menu"),[s,l]=v.useState(0),[c,u]=v.useState(!0),[m,h]=v.useState({player1Score:0,player2Score:0,currentPlayer:1,gamePhase:"break",rules:{callPocket:!0,pushOut:!0,threeFoulRule:!0,jumpShots:!0}}),f=[{title:"The Break Shot",content:"Start the game with a legal break shot. You must break from the kitchen hitting the 1-ball first and drive at least 4 balls to the rails or pocket a ball.",proTip:"A good break can set up your entire game!"},{title:"Welcome to 10-Ball!",content:"10-Ball is a call-shot game where you must hit the lowest numbered ball first and call your shots. The 10-ball is the game-winning ball!",proTip:"Always hit the lowest numbered ball first!"},{title:"Call Shot Rules",content:"After the break, you must call both the ball and the pocket for every shot. If you don't call it, it doesn't count!",proTip:"CSI rules state that you do not have to call obvious shots. Banks, Kicks, and Caroms should always be called. Be specific about which pocket you're aiming for! Make sure your opponent acknowledges your called shot."},{title:"Push Out Option",content:"After a legal break, the incoming player may choose to 'push out' - shoot the cue ball anywhere without hitting any ball. The opponent then chooses to shoot or pass.",proTip:"Use push out to improve your position when the table is difficult!"},{title:"Fouls and Penalties",content:"Common fouls include: scratching (cue ball in pocket), hitting wrong ball first, not hitting any rail after contact, and jumping the cue ball off the table.",proTip:"Three consecutive fouls by the same player results in loss of game!"},{title:"Winning the Game",content:"Legally pocket the 10-ball to win! Yes, you can win with an early ten ball...Remember, you must call the 10-ball and the pocket, and hit the lowest numbered ball first.",proTip:"The 10-ball is the only ball that matters for winning!"},{title:"Strategy Tips",content:"Plan your shots ahead, use defensive play when needed, and always consider your opponent's options after your shot.",proTip:"Sometimes the best shot is the one that leaves your opponent nothing!"},{title:"Ready to Play!",content:"You now know the basics of 10-Ball! Practice these rules and strategies to improve your game.",proTip:"Practice makes perfect - keep playing and learning!"}],y=C=>{n(C),C==="tutorial"&&(l(0),u(!0))},b=()=>{s<f.length-1?l(s+1):n("game")},E=()=>{s>0&&l(s-1)},w=C=>{h(S=>({...S,gamePhase:"end",player1Score:C===1?S.player1Score+1:S.player1Score,player2Score:C===2?S.player2Score+1:S.player2Score}))},_=()=>{switch(e){case"menu":return r.createElement(Ux,{onModeSelect:y,fromLogin:t});case"tutorial":return r.createElement("div",{className:Ai.tutorialContainer},r.createElement(cF,{step:f[s],currentStep:s,totalSteps:f.length,onNext:b,onBack:E,onSkip:()=>n("game")}),r.createElement(b0,{onGameEnd:w}));case"game":return r.createElement(b0,{onGameEnd:w});default:return r.createElement(Ux,{onModeSelect:y})}};return r.createElement("div",{className:Ai.container},_(),(e==="game"||e==="tutorial")&&r.createElement(MF,{gameState:m,onTipShown:C=>console.log(`Tip shown: ${C}`),ref:C=>{C&&(window.tipManager=C)}}),e!=="menu"&&!t&&r.createElement("div",{className:Ai.navigation},r.createElement("button",{className:Ai.backButton,onClick:()=>n("menu")},"← Back to Menu")),e!=="menu"&&r.createElement("div",{className:Ai.gameInfo},r.createElement("div",{className:Ai.scoreBoard},r.createElement("div",{className:Ai.playerScore},r.createElement("span",null,"Player 1: ",m.player1Score)),r.createElement("div",{className:Ai.playerScore},r.createElement("span",null,"Player 2: ",m.player2Score)))))},BF=""+new URL("bcapl_logo-BvvUeHn5.png",import.meta.url).href,OF=""+new URL("csi_logo-ChVaLM6t.png",import.meta.url).href,zF=""+new URL("usapl_logo-jJ_LE_Bw.png",import.meta.url).href,UF=""+new URL("fargorate-logo-BVCRpqvV.png",import.meta.url).href;function FF(){const[t,a]=v.useState(window.innerWidth),[e,n]=v.useState(window.innerHeight),[s]=v.useState(()=>[0,1,2,3,4,5,6,7].map(k=>{const N=.1+Math.random()*.15,M=Math.random()*Math.PI*2;return{x:Math.random()*t,y:Math.random()*e,vx:Math.cos(M)*N*1.2,vy:Math.sin(M)*N*1.2,baseSize:.8+Math.random()*.4,sizePhase:Math.random()*Math.PI*2,isSizeChanger:!1,speedCategory:"base",lastChange:Date.now(),changeInterval:8e3+Math.random()*12e3,rotationDirection:k>=5?Math.random()>.5?1:-1:0}}));v.useEffect(()=>{const k=()=>{a(window.innerWidth),n(window.innerHeight)};return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);function l(k,N,M){const[R,$]=v.useState(k);v.useRef(null);const z=v.useRef(k);return v.useEffect(()=>{let Y,J=Date.now();const ae=()=>{const H=Date.now(),Z=H-J,O=z.current;if(H-O.lastChange>O.changeInterval){const j=M.includes(N)?"fast":"base",re={...O,speedCategory:j,lastChange:H,changeInterval:3e3+Math.random()*6e3};z.current=re,$(re)}if(Math.random()<.003){const V=Math.atan2(O.vy,O.vx),j=(Math.random()-.5)*Math.PI*.3,re=V+j,K=.3+Math.random()*1,ce=O.speedCategory==="fast"?.6:.2;O.vx=Math.cos(re)*K*ce,O.vy=Math.sin(re)*K*ce}let L=O.x+O.vx*(Z/16),A=O.y+O.vy*(Z/16);(L<0||L>t||A<0||A>e)&&(O.edgeShrink||(O.edgeShrink=!0,O.edgeShrinkTime=H));const U=H/1e3;let q=O.baseSize;const Q=Math.sin(U*.07+O.sizePhase)*.1,T=Math.sin(U*.35+O.sizePhase*2)*.05;if(q=O.baseSize+Q+T,q<O.baseSize*.3&&!O.sizeShrink&&(O.sizeShrink=!0,O.sizeShrinkTime=H),O.edgeShrink){const V=H-O.edgeShrinkTime;if(V<2e3){const re=1-V/2e3;O.edgeOpacity=re,q=O.baseSize+Q+T}else if(V<4e3)O.edgeOpacity=.01,q=.01;else if(V<4100)L=Math.random()*t,A=Math.random()*e,O.x=L,O.y=A,q=.01,O.edgeOpacity=.01;else if(V<12500){const re=.01+.99*((V-4100)/8400);q*=re,O.edgeOpacity=re}else O.edgeShrink=!1,O.edgeOpacity=1}else O.edgeOpacity=1;if(O.sizeShrink){const V=H-O.sizeShrinkTime;if(V<2e3){const re=1-V/2e3;O.sizeOpacity=re}else if(V<4e3)O.sizeOpacity=.01,q=.01;else if(V<4100)L=Math.random()*t,A=Math.random()*e,O.x=L,O.y=A,q=.01,O.sizeOpacity=.01;else if(V<12500){const re=.01+.99*((V-4100)/8400);q*=re,O.sizeOpacity=re}else O.sizeShrink=!1,O.sizeOpacity=1}else O.sizeOpacity=1;let F=O.rotation||0;if(N>=5){const j=(Math.sqrt(O.vx*O.vx+O.vy*O.vy)*2+.3)*(Z/16)*(O.rotationDirection||1);F+=j}z.current={...O,x:L,y:A,size:q,rotation:F},H-J>100&&($(z.current),J=H),Y=requestAnimationFrame(ae)};return ae(),()=>cancelAnimationFrame(Y)},[t,e,M]),R}const[c]=v.useState(()=>{const k=[];for(;k.length<3;){const M=Math.floor(Math.random()*8);k.includes(M)||k.push(M)}const N=[];for(;N.length<3;){const M=Math.floor(Math.random()*8);!N.includes(M)&&!k.includes(M)&&N.push(M)}return s.forEach((M,R)=>{k.includes(R)?(M.speedCategory="fast",M.vx=(Math.random()-.5)*2,M.vy=(Math.random()-.5)*2):(M.speedCategory="base",M.vx=(Math.random()-.5)*.5,M.vy=(Math.random()-.5)*.5),N.includes(R)&&(M.isSizeChanger=!0)}),!0}),[u,m]=v.useState(()=>{const k=[];for(;k.length<3;){const N=Math.floor(Math.random()*8);k.includes(N)||k.push(N)}return k}),h=()=>{const k=[];for(;k.length<3;){const N=Math.floor(Math.random()*8);k.includes(N)||k.push(N)}m(k)};v.useEffect(()=>{const k=setInterval(()=>{h(),console.log("Speed reassignment triggered")},4e3+Math.random()*4e3);return()=>clearInterval(k)},[]);const f=l(s[0],0,u),y=l(s[1],1,u),b=l(s[2],2,u),E=l(s[3],3,u),w=l(s[4],4,u),_=l(s[5],5,u),C=l(s[6],6,u),S=l(s[7],7,u),I=(k,N,M,R,$=!1)=>{const z=$&&k.rotation||0;return{position:"absolute",left:k.x,top:k.y,transform:`translate(-50%, -50%) scale(${k.size}) rotate(${z}deg)`,width:N,height:"auto",opacity:M*(k.edgeOpacity||1)*(k.sizeOpacity||1),zIndex:1,pointerEvents:"none",filter:R,transition:"none"}};return r.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:1,pointerEvents:"none",overflow:"hidden"}},r.createElement("img",{src:j0,alt:"League Logo Background",style:I(f,150,.75,"drop-shadow(0 0 24px rgba(245, 30, 30, 0.2))")}),r.createElement("img",{src:BF,alt:"BCAPL Logo Background",style:I(y,120,.75,"drop-shadow(0 0 18px rgba(245, 30, 30, 0.2))")}),r.createElement("img",{src:OF,alt:"CSI Logo Background",style:I(b,120,.75,"drop-shadow(0 0 12px rgba(245, 30, 30, 0.2))")}),r.createElement("img",{src:zF,alt:"USAPL Logo Background",style:I(E,140,.8,"drop-shadow(0 0 10px rgba(245, 30, 30, 0.2))")}),r.createElement("img",{src:UF,alt:"Fargorate Logo Background",style:I(w,140,.8,"drop-shadow(0 0 10px rgba(245, 30, 30, 0.2))")}),r.createElement("img",{src:Bm,alt:"8 Ball Background",style:I(_,40,.7,"drop-shadow(0 0 10px rgba(245, 30, 30, 0.3))",!0)}),r.createElement("img",{src:JE,alt:"9 Ball Background",style:I(C,40,.7,"drop-shadow(0 0 10px rgba(245, 30, 30, 0.3))",!0)}),r.createElement("img",{src:Tp,alt:"10 Ball Background",style:I(S,40,.7,"drop-shadow(0 0 10px rgba(245, 30, 30, 0.3))",!0)}))}function WF(){const[t,a]=v.useState(!1),[e,n]=v.useState(!1),[s,l]=v.useState(!1),[c,u]=v.useState({width:0,height:0}),[m,h]=v.useState(!1),[f,y]=v.useState("portrait"),b=v.useCallback(()=>{if(typeof window>"u")return!1;const I=window.innerWidth,k=window.innerHeight;u({width:I,height:k});const N=I>k;l(N),y(N?"landscape":"portrait");const M=(()=>{if(I<=768)return!0;if(typeof navigator<"u"){const R=navigator.userAgent.toLowerCase();if(["android","webos","iphone","ipad","ipod","blackberry","iemobile","opera mini","mobile"].some(z=>R.includes(z)))return!0}return"ontouchstart"in window||navigator.maxTouchPoints>0?I<=1024:!1})();a(M),n(I>768&&I<=1024),h("ontouchstart"in window||navigator.maxTouchPoints>0)},[]),E={xs:480,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},w=v.useCallback(()=>{const I=c.width;return I<E.xs?"xs":I<E.sm?"sm":I<E.md?"md":I<E.lg?"lg":I<E.xl?"xl":"2xl"},[c.width]),_={spacing:{xs:t?"4px":"8px",sm:t?"8px":"12px",md:t?"12px":"16px",lg:t?"16px":"24px",xl:t?"24px":"32px"},sizes:{buttonHeight:t?"44px":"36px",inputHeight:t?"44px":"36px",iconSize:t?"1.2rem":"1rem",fontSize:{xs:t?"0.7rem":"0.75rem",sm:t?"0.8rem":"0.875rem",md:t?"0.9rem":"1rem",lg:t?"1rem":"1.125rem",xl:t?"1.1rem":"1.25rem"}},animations:{duration:t?"0.2s":"0.3s",easing:"ease-out",scale:t?.98:.95},styles:{card:{padding:t?"12px":"16px",borderRadius:t?"8px":"12px",marginBottom:t?"8px":"12px"},button:{padding:t?"12px 16px":"10px 20px",fontSize:t?"0.9rem":"1rem",minHeight:t?"44px":"36px"},input:{padding:t?"12px":"10px",fontSize:t?"16px":"14px",minHeight:t?"44px":"36px"}}},C={threshold:80,velocity:.3,calculateSwipe:(I,k,N,M)=>{const R=N-I,$=M-k,z=Math.sqrt(R*R+$*$),Y=z/300;return{deltaX:R,deltaY:$,distance:z,velocity:Y,direction:Math.abs(R)>Math.abs($)?R>0?"right":"left":$>0?"down":"up",isHorizontal:Math.abs(R)>Math.abs($),isValid:z>50&&Y>C.velocity}},createSwipeHandler:(I,k,N,M)=>{let R=0,$=0;return{onTouchStart:z=>{R=z.touches[0].clientX,$=z.touches[0].clientY},onTouchEnd:z=>{const Y=z.changedTouches[0].clientX,J=z.changedTouches[0].clientY,ae=C.calculateSwipe(R,$,Y,J);if(ae.isValid)switch(ae.direction){case"left":I&&I(ae);break;case"right":k&&k(ae);break;case"up":N&&N(ae);break;case"down":M&&M(ae);break}}}}},S={threshold:80,createPullToRefreshHandler:I=>{let k=0,N=0,M=!1;return{onTouchStart:R=>{window.scrollY===0&&(k=R.touches[0].clientY,M=!0)},onTouchMove:R=>{M&&window.scrollY===0&&(N=R.touches[0].clientY,N-k>0&&R.preventDefault())},onTouchEnd:async()=>{M&&(N-k>S.threshold&&await I(),M=!1,k=0,N=0)}}}};return v.useEffect(()=>{b();const I=()=>{b()},k=()=>{setTimeout(b,100)};return window.addEventListener("resize",I),window.addEventListener("orientationchange",k),()=>{window.removeEventListener("resize",I),window.removeEventListener("orientationchange",k)}},[b]),{isMobile:t,isTablet:e,isLandscape:s,screenSize:c,touchCapable:m,orientation:f,breakpoints:E,getBreakpoint:w,mobileUtils:_,swipeUtils:C,pullToRefreshUtils:S,isSmallScreen:c.width<E.md,isMediumScreen:c.width>=E.md&&c.width<E.lg,isLargeScreen:c.width>=E.lg,isIOS:typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),isAndroid:typeof navigator<"u"&&/Android/.test(navigator.userAgent),isSafari:typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),redetect:b}}function jF({activeTab:t,onTabChange:a,onQuickAction:e,pendingCount:n=0,sentCount:s=0,matchesCount:l=0}){const c=[{id:"overview",label:"Home",icon:r.createElement(zz,null),badge:null},{id:"matches",label:"Matches",icon:r.createElement(Al,null),badge:l>0?l:null},{id:"proposals",label:"Proposals",icon:r.createElement(yd,null),badge:n>0?n:null},{id:"standings",label:"Standings",icon:r.createElement(gd,null),badge:null},{id:"chat",label:"Chat",icon:r.createElement(Rz,null),badge:null}];return r.createElement("div",{style:{position:"fixed",bottom:0,left:0,right:0,background:"rgba(24, 24, 27, 0.95)",backdropFilter:"blur(20px)",borderTop:"1px solid rgba(255, 255, 255, 0.1)",padding:"8px 0",zIndex:1e3,display:"flex",justifyContent:"space-around",alignItems:"center"}},c.map(u=>r.createElement("button",{key:u.id,onClick:()=>a(u.id),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"transparent",border:"none",color:t===u.id?"#e53e3e":"#888",padding:"8px 4px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",minHeight:"60px",minWidth:"60px",position:"relative"},onTouchStart:m=>{m.target.style.transform="scale(0.95)"},onTouchEnd:m=>{m.target.style.transform="scale(1)"}},r.createElement("div",{style:{fontSize:"1.2rem",marginBottom:"2px",display:"flex",alignItems:"center",justifyContent:"center"}},u.icon),r.createElement("span",{style:{fontSize:"0.7rem",fontWeight:t===u.id?"600":"400",textAlign:"center"}},u.label),u.badge&&r.createElement("div",{style:{position:"absolute",top:"4px",right:"4px",background:"#e53e3e",color:"#fff",borderRadius:"50%",width:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.6rem",fontWeight:"600",border:"2px solid rgba(24, 24, 27, 0.95)"}},u.badge>99?"99+":u.badge))),r.createElement("button",{onClick:e,style:{position:"absolute",top:"-20px",left:"50%",transform:"translateX(-50%)",background:"linear-gradient(135deg, #e53e3e, #c53030)",color:"#fff",border:"none",borderRadius:"50%",width:"56px",height:"56px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",cursor:"pointer",boxShadow:"0 4px 16px rgba(229, 62, 62, 0.4)",transition:"all 0.2s ease",zIndex:1001},onTouchStart:u=>{u.target.style.transform="translateX(-50%) scale(0.95)"},onTouchEnd:u=>{u.target.style.transform="translateX(-50%) scale(1)"}},r.createElement(Va,null)))}function Fx({children:t,title:a,subtitle:e,onTap:n,onSwipeLeft:s,onSwipeRight:l,swipeThreshold:c=80,showSwipeActions:u=!0,className:m="",style:h={},...f}){const[y,b]=v.useState(!1),[E,w]=v.useState(0),[_,C]=v.useState(0),[S,I]=v.useState(null),k=v.useRef(null),N=z=>{w(z.touches[0].clientX),C(z.touches[0].clientX),b(!0),I(null)},M=z=>{if(!y)return;const Y=z.touches[0].clientX;C(Y);const J=Y-E;Math.abs(J)>20&&I(J>0?"right":"left")},R=()=>{if(!y)return;const z=_-E;Math.abs(z)>c&&(z>0&&l?l():z<0&&s&&s()),b(!1),w(0),C(0),I(null)},$=()=>{!y&&n&&n()};return r.createElement("div",{ref:k,className:`mobile-optimized-card ${m}`,onTouchStart:N,onTouchMove:M,onTouchEnd:R,onClick:$,style:{position:"relative",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.04) 100%)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.15)",padding:"16px",marginBottom:"12px",cursor:n?"pointer":"default",transition:y?"none":"all 0.3s ease",transform:y?`translateX(${_-E}px)`:"translateX(0)",touchAction:"pan-y",userSelect:"none",WebkitTapHighlightColor:"transparent",...h},...f},u&&r.createElement(r.Fragment,null,r.createElement("div",{style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",opacity:S==="right"?.8:0,transition:"opacity 0.2s ease",color:"#10b981",fontSize:"1.2rem"}},r.createElement(yl,null)),r.createElement("div",{style:{position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)",opacity:S==="left"?.8:0,transition:"opacity 0.2s ease",color:"#ef4444",fontSize:"1.2rem"}},r.createElement(Dl,null))),(a||e)&&r.createElement("div",{style:{marginBottom:"12px"}},a&&r.createElement("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:"600",color:"#fff",lineHeight:"1.3"}},a),e&&r.createElement("p",{style:{margin:"4px 0 0 0",fontSize:"0.85rem",color:"#ccc",opacity:.8,lineHeight:"1.4"}},e)),r.createElement("div",{style:{position:"relative"}},t),n&&r.createElement("div",{style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",color:"#888",fontSize:"0.8rem",opacity:.6}},r.createElement(_5,null)),r.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"12px",background:S==="right"?"linear-gradient(90deg, rgba(16, 185, 129, 0.1) 0%, transparent 50%)":S==="left"?"linear-gradient(90deg, transparent 50%, rgba(239, 68, 68, 0.1) 100%)":"transparent",opacity:Math.abs(_-E)/c,transition:"opacity 0.2s ease",pointerEvents:"none"}}))}function Pg({title:t,subtitle:a,children:e,collapsible:n=!1,defaultCollapsed:s=!1,onToggle:l,className:c="",style:u={},...m}){const[h,f]=r.useState(s),y=()=>{n&&(f(!h),l&&l(!h))};return r.createElement("div",{className:`mobile-section ${c}`,style:{background:"rgba(255, 255, 255, 0.02)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.08)",padding:"16px",marginBottom:"16px",...u},...m},(t||a)&&r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:n&&!h?"12px":"0",cursor:n?"pointer":"default"},onClick:y},r.createElement("div",{style:{flex:1}},t&&r.createElement("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:"600",color:"#fff",lineHeight:"1.3"}},t),a&&r.createElement("p",{style:{margin:"4px 0 0 0",fontSize:"0.85rem",color:"#ccc",opacity:.8,lineHeight:"1.4"}},a)),n&&r.createElement("div",{style:{color:"#888",fontSize:"0.8rem",transition:"transform 0.2s ease",transform:h?"rotate(0deg)":"rotate(180deg)"}},r.createElement(Dz,null))),r.createElement("div",{style:{display:n&&h?"none":"block",transition:"all 0.3s ease"}},e))}function HF({children:t,columns:a=2,className:e="",style:n={}}){return r.createElement("div",{className:`mobile-stats-grid ${e}`,style:{display:"grid",gridTemplateColumns:`repeat(${a}, 1fr)`,gap:"12px",...n}},t)}function Wx({title:t,value:a,subtitle:e,icon:n,color:s="#e53e3e",onClick:l,className:c="",style:u={},...m}){return r.createElement("div",{className:`mobile-stat-card ${c}`,onClick:l,style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.02) 100%)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"12px",textAlign:"center",cursor:l?"pointer":"default",transition:"all 0.2s ease",...u},onTouchStart:h=>{l&&(h.target.style.transform="scale(0.98)")},onTouchEnd:h=>{l&&(h.target.style.transform="scale(1)")},...m},n&&r.createElement("div",{style:{fontSize:"1.5rem",color:s,marginBottom:"8px",display:"flex",justifyContent:"center"}},n),r.createElement("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#fff",marginBottom:"4px",lineHeight:"1.2"}},a),r.createElement("div",{style:{fontSize:"0.8rem",color:"#ccc",fontWeight:"500",marginBottom:e?"2px":"0"}},t),e&&r.createElement("div",{style:{fontSize:"0.7rem",color:"#888",lineHeight:"1.3"}},e))}function YF(){const{isMobile:t,isTablet:a,screenSize:e,touchCapable:n,orientation:s,getBreakpoint:l}=WF(),[c,u]=r.useState("overview");return r.createElement("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a1a1a 0%, #2d1b69 100%)",color:"#fff",padding:"16px",paddingBottom:"100px"}},r.createElement(Pg,{title:"Mobile Detection Test"},r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px"}},r.createElement("div",null,"📱 Is Mobile: ",r.createElement("strong",null,t?"YES":"NO")),r.createElement("div",null,"📱 Is Tablet: ",r.createElement("strong",null,a?"YES":"NO")),r.createElement("div",null,"📱 Touch Capable: ",r.createElement("strong",null,n?"YES":"NO")),r.createElement("div",null,"📱 Orientation: ",r.createElement("strong",null,s)),r.createElement("div",null,"📱 Screen Size: ",r.createElement("strong",null,e.width," x ",e.height)),r.createElement("div",null,"📱 Breakpoint: ",r.createElement("strong",null,l())))),r.createElement(Pg,{title:"Touch Interaction Test"},r.createElement(Fx,{title:"Swipe Test Card",subtitle:"Try swiping left or right",onTap:()=>alert("Card tapped!"),onSwipeLeft:()=>alert("Swiped left!"),onSwipeRight:()=>alert("Swiped right!")},r.createElement("div",{style:{padding:"8px 0"}},r.createElement("p",null,"This card supports swipe gestures. Try swiping left or right to see the action indicators."))),r.createElement(Fx,{title:"Tap Test Card",subtitle:"Tap to test touch response",onTap:()=>alert("Touch response working!")},r.createElement("div",{style:{padding:"8px 0"}},r.createElement("p",null,"Tap this card to test touch responsiveness and visual feedback.")))),r.createElement(Pg,{title:"Stats Grid Test"},r.createElement(HF,{columns:2},r.createElement(Wx,{title:"Test Stat 1",value:"42",subtitle:"Sample data",color:"#e53e3e",onClick:()=>alert("Stat 1 clicked!")}),r.createElement(Wx,{title:"Test Stat 2",value:"17",subtitle:"More data",color:"#10b981",onClick:()=>alert("Stat 2 clicked!")}))),r.createElement(jF,{activeTab:c,onTabChange:u,onQuickAction:()=>alert("Quick action!"),pendingCount:3,sentCount:5,matchesCount:12}))}const I5=({isAuthenticated:t,userFirstName:a,userLastName:e,userEmail:n,userPin:s,userType:l,handleLogout:c})=>{const u=Xa(),[m,h]=v.useState(null),f=[{id:"league",name:"League App",description:"Manage league matches, schedules, and standings",icon:"🏆",color:"#4CAF50",status:"active",route:"/league"},{id:"ladder",name:"Ladder App",description:"Challenge-based ladder system with rankings",icon:"📈",color:"#2196F3",status:"active",route:"/ladder"}],y=E=>{E.status==="active"?(h(E),u(E.route)):alert(`${E.name} is coming soon!`)},b=()=>{c(),u("/")};return r.createElement("div",{className:"app-hub-container"},r.createElement("div",{className:"pool-simulation-background"},r.createElement(H0,{aspectWidth:800,aspectHeight:400},r.createElement("div",{style:{width:"100%",height:"100%",position:"relative"}},r.createElement(ud,null)))),r.createElement("div",{className:"app-hub-content"},r.createElement("div",{className:"app-hub-header"},t&&r.createElement("div",{className:"user-info"},r.createElement("div",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"white"}},"Welcome, ",a," ",e),r.createElement("div",{className:"user-type-badge",style:{background:l==="both"?"linear-gradient(45deg, #4CAF50, #2196F3)":l==="league"?"#4CAF50":l==="ladder"?"#2196F3":"#666",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"1rem",fontWeight:"bold"}},l==="both"?"League & Ladder Player":l==="league"?"League Player":l==="ladder"?"Ladder Player":"Unknown"),r.createElement("button",{onClick:b,className:"logout-btn"},"Logout")),r.createElement("div",{className:"hub-subtitle"},r.createElement("p",{style:{fontSize:"1.4rem",fontWeight:"bold",color:"white"}},"Choose your pool experience")),r.createElement("div",{className:"apps-section"},r.createElement("div",{className:"apps-grid active-apps"},f.map(E=>r.createElement("div",{key:E.id,className:`app-card ${E.status}`,onClick:()=>y(E),style:{"--app-color":E.color}},r.createElement("div",{className:"app-icon"},E.icon),r.createElement("div",{className:"app-info"},r.createElement("h3",null,E.name),r.createElement("p",null,E.description),r.createElement("div",{className:"app-status"},r.createElement("span",{className:"status-active"},"Available"))))))))))},N5=({onClose:t})=>{const[a,e]=v.useState(1),[n,s]=v.useState({firstName:"",lastName:"",email:"",phone:"",message:""}),[l,c]=v.useState(null),[u,m]=v.useState(!1),[h,f]=v.useState(""),[y,b]=v.useState(""),E=C=>{const{name:S,value:I}=C.target;s(k=>({...k,[S]:I}))},w=async()=>{if(!n.firstName.trim()||!n.lastName.trim()){b("Please enter both first and last name");return}m(!0),b(""),f("");try{const C=await fetch(`${Ce}/api/auth/search-ladder-player`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:n.firstName.trim(),lastName:n.lastName.trim()})}),S=await C.json();C.ok&&S.success?(c(S.player),e(2),f("")):b(S.message||"Player not found")}catch(C){console.error("Search error:",C),b("Error searching for player. Please try again.")}finally{m(!1)}},_=async()=>{if(!n.email.trim()){b("Please enter your email address");return}m(!0),b(""),f("");try{const C=await fetch(`${Ce}/api/auth/submit-account-claim`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:n.firstName.trim(),lastName:n.lastName.trim(),email:n.email.trim(),phone:n.phone.trim(),message:n.message.trim()})}),S=await C.json();C.ok&&S.success?(e(3),f(S.message),b("")):b(S.message||"Error submitting claim")}catch(C){console.error("Submit error:",C),b("Error submitting claim. Please try again.")}finally{m(!1)}};return r.createElement("div",{className:"account-claim-overlay"},r.createElement("div",{className:"account-claim-modal"},r.createElement("div",{className:"account-claim-header"},r.createElement("h2",null,"Claim Your Ladder Account"),r.createElement("button",{className:"close-btn",onClick:t},"×")),r.createElement("div",{className:"account-claim-content"},a===1&&r.createElement("div",{className:"step-1"},r.createElement("p",null,"Enter your name to find your ladder account:"),r.createElement("div",{className:"form-group"},r.createElement("label",null,"First Name:"),r.createElement("input",{type:"text",name:"firstName",value:n.firstName,onChange:E,placeholder:"Enter your first name"})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Last Name:"),r.createElement("input",{type:"text",name:"lastName",value:n.lastName,onChange:E,placeholder:"Enter your last name"})),y&&r.createElement("div",{className:"error-message"},y),r.createElement("button",{className:"search-btn",onClick:w,disabled:u},u?"Searching...":"Search for My Account")),a===2&&l&&r.createElement("div",{className:"step-2"},r.createElement("div",{className:"player-info"},r.createElement("h3",null,"Is this you?"),r.createElement("div",{className:"player-details"},r.createElement("p",null,r.createElement("strong",null,"Name:")," ",l.firstName," ",l.lastName),r.createElement("p",null,r.createElement("strong",null,"Ladder Position:")," #",l.position),r.createElement("p",null,r.createElement("strong",null,"Fargo Rate:")," ",l.fargoRate),r.createElement("p",null,r.createElement("strong",null,"Record:")," ",l.wins,"W - ",l.losses,"L"))),r.createElement("div",{className:"contact-form"},r.createElement("h3",null,"Contact Information"),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Email Address: *"),r.createElement("input",{type:"email",name:"email",value:n.email,onChange:E,placeholder:"Enter your email address",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Phone Number:"),r.createElement("input",{type:"tel",name:"phone",value:n.phone,onChange:E,placeholder:"Enter your phone number (optional)"})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Message to Admin:"),r.createElement("textarea",{name:"message",value:n.message,onChange:E,placeholder:"Any additional information for the admin (optional)",rows:"3"}))),y&&r.createElement("div",{className:"error-message"},y),r.createElement("div",{className:"button-group"},r.createElement("button",{className:"back-btn",onClick:()=>e(1)},"Back"),r.createElement("button",{className:"submit-btn",onClick:_,disabled:u},u?"Submitting...":"Submit Claim"))),a===3&&r.createElement("div",{className:"step-3"},r.createElement("div",{className:"success-message"},r.createElement("h3",null,"✅ Claim Submitted Successfully!"),r.createElement("p",null,"Your account claim has been submitted and is pending admin approval."),r.createElement("p",null,"An administrator will review your request and contact you once approved."),r.createElement("p",null,"You'll be able to log in with your email and the PIN provided by the admin.")),r.createElement("button",{className:"close-btn",onClick:t},"Close")))))};function $F({onSuccess:t}){const[a,e]=v.useState(""),[n,s]=v.useState(""),[l,c]=v.useState(!1),[u,m]=v.useState(!1),[h,f]=v.useState(null),[y,b]=v.useState(!1),E=async()=>{if(!a||a.trim()===""){s("Please enter your email or PIN.");return}const _=a.trim();s(""),c(!0),f(null);try{const C=await fetch(`${Ce}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:_})}),S=await C.json();c(!1),C.ok&&S.success?(s(""),t(`${S.user.firstName} ${S.user.lastName}`.trim(),S.user.email,S.user.pin,S.userType)):C.status===401?s(S.message||"Invalid email or PIN. Please try again."):C.status===400?s(S.message||"Please enter a valid email or PIN."):C.status>=500?s("Server error. Please try again in a moment."):s(S.message||"Login failed. Please try again or contact frbcapl@gmail.com for help.")}catch(C){c(!1),console.error("Login verification error:",C),C.name==="TypeError"&&C.message.includes("Failed to fetch")?s("Cannot connect to server. Please check your connection and try again."):s("An unexpected error occurred. Please try again.")}},w=_=>{_.key==="Enter"&&E()};return h?r.createElement("div",{style:{padding:"20px",color:"white"}},r.createElement("h3",null,"Error"),r.createElement("p",null,"Something went wrong. Please refresh the page and try again.")):r.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",minHeight:"500px"}},r.createElement("div",{style:{position:"relative",width:"800px",height:"400px"}},r.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:100,width:"380px",pointerEvents:"auto"}},r.createElement("div",{style:{padding:"20px",background:"rgba(0, 0, 0, 0.9)",border:"2px solid #e53e3e",borderRadius:"12px",width:"100%"}},r.createElement("h3",{style:{color:"white",textAlign:"center",marginBottom:"16px",fontSize:"1.2rem",fontWeight:"bold",whiteSpace:"nowrap"}},"🔒 Front Range Pool League"),r.createElement("div",{style:{marginBottom:"16px"}},r.createElement("input",{type:u?"text":"password",value:a,onChange:_=>e(_.target.value),onKeyDown:w,placeholder:"Enter Email or PIN",autoFocus:!0,disabled:l,style:{width:"100%",padding:"12px",border:"2px solid #e53e3e",borderRadius:"8px",background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontSize:"0.9rem",boxSizing:"border-box"}})),r.createElement("button",{onClick:E,disabled:l,type:"button",style:{width:"100%",background:"#e53e3e",color:"white",border:"none",padding:"12px",fontSize:"1rem",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",marginBottom:"12px"}},l?"Verifying...":"Login to Access Hub"),n&&r.createElement("p",{style:{color:"#ff6b6b",textAlign:"center",margin:"0 0 16px 0",fontSize:"0.8rem",padding:"8px",borderRadius:"6px",background:"rgba(255, 107, 107, 0.1)",border:"1px solid rgba(255, 107, 107, 0.3)"}},n),r.createElement("p",{style:{color:"#ccc",fontSize:"0.7rem",textAlign:"center",margin:"0"}},"Access league matches, ladder challenges, and more"))),r.createElement(H0,{aspectWidth:800,aspectHeight:400},r.createElement("div",{style:{width:"100%",height:"100%",position:"relative"}},r.createElement(ud,null)))),y&&r.createElement(N5,{onClose:()=>b(!1)}))}const GF=({onClose:t,onSuccess:a})=>{const[e,n]=v.useState({firstName:"",lastName:"",email:"",phone:"",fargoRate:"",experience:"beginner",currentLeague:"",currentRanking:""}),[s,l]=v.useState(!1),[c,u]=v.useState(""),[m,h]=v.useState(""),f=b=>{const{name:E,value:w}=b.target;n(_=>({..._,[E]:w}))},y=async b=>{b.preventDefault(),l(!0),u(""),h("");try{const E=await fetch(`${Ce}/api/ladder/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),w=await E.json();E.ok?(u("Successfully signed up for the ladder! We will contact you soon."),setTimeout(()=>{a&&a(w),t()},2e3)):h(w.message||"Failed to sign up. Please try again.")}catch(E){console.error("Signup error:",E),h("Network error. Please check your connection and try again.")}finally{l(!1)}};return r.createElement(Xt,{open:!0,onClose:t,title:"🎯 Join the Ladder of Legends",maxWidth:"700px"},r.createElement("form",{onSubmit:y},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"0.75rem"}},r.createElement("div",null,r.createElement("label",{htmlFor:"firstName",style:{display:"block",color:"#fff",marginBottom:"0.5rem",fontWeight:"bold",fontSize:"1rem"}},"First Name *"),r.createElement("input",{type:"text",id:"firstName",name:"firstName",value:e.firstName,onChange:f,required:!0,placeholder:"Enter your first name",style:{width:"100%",padding:"0.8rem",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontSize:"1rem",boxSizing:"border-box"}})),r.createElement("div",null,r.createElement("label",{htmlFor:"lastName",style:{display:"block",color:"#fff",marginBottom:"0.5rem",fontWeight:"bold",fontSize:"1rem"}},"Last Name *"),r.createElement("input",{type:"text",id:"lastName",name:"lastName",value:e.lastName,onChange:f,required:!0,placeholder:"Enter your last name",style:{width:"100%",padding:"0.8rem",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontSize:"1rem",boxSizing:"border-box"}}))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"0.75rem"}},r.createElement("div",null,r.createElement("label",{htmlFor:"email",style:{display:"block",color:"#fff",marginBottom:"0.5rem",fontWeight:"bold",fontSize:"1rem"}},"Email Address *"),r.createElement("input",{type:"email",id:"email",name:"email",value:e.email,onChange:f,required:!0,placeholder:"Enter your email address",style:{width:"100%",padding:"0.8rem",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontSize:"1rem",boxSizing:"border-box"}})),r.createElement("div",null,r.createElement("label",{htmlFor:"phone",style:{display:"block",color:"#fff",marginBottom:"0.5rem",fontWeight:"bold",fontSize:"1rem"}},"Phone Number"),r.createElement("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:f,placeholder:"Enter your phone number (optional)",style:{width:"100%",padding:"0.8rem",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontSize:"1rem",boxSizing:"border-box"}}))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"0.75rem"}},r.createElement("div",null,r.createElement("label",{htmlFor:"fargoRate",style:{display:"block",color:"#fff",marginBottom:"0.5rem",fontWeight:"bold",fontSize:"1rem"}},"Fargo Rate, if applicable"),r.createElement("input",{type:"number",id:"fargoRate",name:"fargoRate",value:e.fargoRate,onChange:f,min:"0",max:"850",placeholder:"Enter your Fargo rate (optional)",style:{width:"100%",padding:"0.8rem",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontSize:"1rem",boxSizing:"border-box"}})),r.createElement("div",null,r.createElement("label",{htmlFor:"experience",style:{display:"block",color:"#fff",marginBottom:"0.5rem",fontWeight:"bold",fontSize:"1rem"}},"Experience Level"),r.createElement("select",{id:"experience",name:"experience",value:e.experience,onChange:f,style:{width:"100%",padding:"0.8rem",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontSize:"1rem",boxSizing:"border-box"}},r.createElement("option",{value:"beginner"},"Beginner"),r.createElement("option",{value:"intermediate"},"Intermediate"),r.createElement("option",{value:"advanced"},"Advanced"),r.createElement("option",{value:"expert"},"Expert")))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"0.75rem"}},r.createElement("div",null,r.createElement("label",{htmlFor:"currentLeague",style:{display:"block",color:"#fff",marginBottom:"0.5rem",fontWeight:"bold",fontSize:"1rem"}},"Current League (Optional)"),r.createElement("input",{type:"text",id:"currentLeague",name:"currentLeague",value:e.currentLeague,onChange:f,placeholder:"e.g., APA, BCA, Local League",style:{width:"100%",padding:"0.8rem",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontSize:"1rem",boxSizing:"border-box"}})),r.createElement("div",null,r.createElement("label",{htmlFor:"currentRanking",style:{display:"block",color:"#fff",marginBottom:"0.5rem",fontWeight:"bold",fontSize:"1rem"}},"Current Ranking (Optional)"),r.createElement("input",{type:"text",id:"currentRanking",name:"currentRanking",value:e.currentRanking,onChange:f,placeholder:"e.g., 5, 6, 7, 8, 9",style:{width:"100%",padding:"0.8rem",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontSize:"1rem",boxSizing:"border-box"}}))),m&&r.createElement("div",{style:{background:"rgba(244, 67, 54, 0.2)",border:"1px solid rgba(244, 67, 54, 0.5)",color:"#ff6b6b",padding:"0.8rem",borderRadius:"8px",marginBottom:"0.75rem",fontSize:"1rem"}},m),c&&r.createElement("div",{style:{background:"rgba(76, 175, 80, 0.2)",border:"1px solid rgba(76, 175, 80, 0.5)",color:"#4CAF50",padding:"0.8rem",borderRadius:"8px",marginBottom:"0.75rem",fontSize:"1rem"}},c),r.createElement("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"}},r.createElement("button",{type:"button",onClick:t,disabled:s,style:{flex:1,padding:"0.8rem 1.2rem",background:"transparent",color:"#ccc",border:"2px solid rgba(255, 255, 255, 0.3)",borderRadius:"8px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"}},"Cancel"),r.createElement("button",{type:"submit",disabled:s,style:{flex:1,padding:"0.8rem 1.2rem",background:"linear-gradient(45deg, #2196F3, #1976D2)",color:"white",border:"2px solid #2196F3",borderRadius:"8px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"}},s?"Signing Up...":"Join Ladder"))),r.createElement("div",{style:{background:"rgba(33, 150, 243, 0.1)",border:"1px solid rgba(33, 150, 243, 0.3)",borderRadius:"8px",padding:"0.8rem",marginTop:"0.8rem"}},r.createElement("h3",{style:{color:"#2196F3",margin:"0 0 0.5rem 0",fontSize:"1rem",fontWeight:"bold"}},"📋 What to Expect"),r.createElement("ul",{style:{margin:"0",paddingLeft:"1rem",color:"#ccc",fontSize:"0.9rem",lineHeight:"1.3"}},r.createElement("li",null,"We'll review your application and contact you within 24-48 hours"),r.createElement("li",null,"You'll be placed in an appropriate division based on your skill level"),r.createElement("li",null,"Challenge other players and climb the rankings"),r.createElement("li",null,"Participate in tournaments and special events"))))},qF=({onLoginSuccess:t})=>{const[a,e]=v.useState(!1),[n,s]=v.useState(!1),[l,c]=v.useState(!1),u=Xa(),m=[{id:"league",name:"Front Range BCAPL Singles League",description:"Manage league matches, schedules, and standings",icon:"🏆",color:"#4CAF50",status:"active"},{id:"ladder",name:"Ladder of Legends Tournament Series",description:"Challenge-based ladder system with rankings",icon:"📈",color:"#2196F3",status:"active"}],h=(b,E,w,_)=>{E==="guest@frontrangepool.com"&&w==="GUEST"?e(!0):t(b,E,w,_)},f=b=>{b==="league"?u("/guest/league"):b==="ladder"&&u("/guest/ladder")},y=()=>{e(!1),u("/")};return a?r.createElement("div",{className:"logged-out-hub-container"},r.createElement("div",{className:"logged-out-hub-header"},r.createElement("div",{className:"hub-title"},r.createElement("h1",null,"Front Range Pool Hub"),r.createElement("p",null,"Guest Preview Mode"),r.createElement("div",{style:{marginTop:"10px",padding:"8px 16px",background:"rgba(229, 62, 62, 0.2)",border:"1px solid #e53e3e",borderRadius:"20px",fontSize:"0.9rem",color:"#e53e3e"}},"👀 Exploring as Guest - Limited functionality")),r.createElement("div",{className:"apps-section"},r.createElement("h2",{className:"section-title"},"Available Apps"),r.createElement("div",{className:"apps-grid active-apps"},m.filter(b=>b.status==="active").map(b=>r.createElement("div",{key:b.id,className:`app-card ${b.status} guest-mode`,style:{"--app-color":b.color},onClick:()=>f(b.id)},r.createElement("div",{className:"app-icon"},b.icon),r.createElement("div",{className:"app-info"},r.createElement("h3",null,b.name),r.createElement("p",null,b.description),r.createElement("div",{className:"app-status"},r.createElement("span",{className:"status-guest-preview"},"Try Demo"))))))),r.createElement("div",{style:{textAlign:"center",marginTop:"20px"}},r.createElement("button",{onClick:y,style:{background:"transparent",color:"#e53e3e",border:"2px solid #e53e3e",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold",transition:"all 0.3s ease"},onMouseEnter:b=>{b.target.style.background="#e53e3e",b.target.style.color="white"},onMouseLeave:b=>{b.target.style.background="transparent",b.target.style.color="#e53e3e"}},"← Back to Login")))):r.createElement("div",{className:"logged-out-hub-container"},r.createElement("div",{className:"login-section"},r.createElement($F,{onSuccess:h})),r.createElement("div",{className:"logged-out-hub-header"},r.createElement("div",{className:"hub-title"},r.createElement("h1",null,"Choose Your Pool Experience")),r.createElement("div",{className:"apps-section"},r.createElement("div",{className:"apps-grid active-apps"},m.filter(b=>b.status==="active").map(b=>r.createElement("div",{key:b.id,className:`app-card ${b.status} logged-out`,style:{"--app-color":b.color}},r.createElement("div",{className:"app-icon"},b.icon),r.createElement("div",{className:"app-info"},r.createElement("h3",null,b.id==="ladder"?r.createElement(r.Fragment,null,"Ladder of Legends",r.createElement("br",null),"Tournament Series"):b.name),r.createElement("p",null,b.description),r.createElement("div",{className:"app-actions"},r.createElement("button",{className:"guest-access-btn",onClick:()=>f(b.id),style:{background:"transparent",color:b.id==="ladder"?"#4CAF50":b.color,border:`2px solid ${b.id==="ladder"?"#4CAF50":b.color}`,padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold",marginTop:"8px",marginBottom:"8px",transition:"all 0.3s ease"},onMouseEnter:E=>{E.target.style.background=b.id==="ladder"?"#4CAF50":b.color,E.target.style.color="white"},onMouseLeave:E=>{E.target.style.background="transparent",E.target.style.color=b.id==="ladder"?"#4CAF50":b.color}},"👀 Access as Guest"),b.id==="ladder"&&r.createElement(r.Fragment,null,r.createElement("button",{className:"join-ladder-btn",onClick:()=>c(!0),style:{background:"transparent",color:"#2196F3",border:"2px solid #2196F3",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold",width:"100%",marginBottom:"8px",transition:"all 0.3s ease"},onMouseEnter:E=>{E.target.style.background="#2196F3",E.target.style.color="white"},onMouseLeave:E=>{E.target.style.background="transparent",E.target.style.color="#2196F3"}},"🎯 Join Ladder"),r.createElement("button",{className:"claim-account-btn",onClick:()=>s(!0),style:{background:"transparent",color:"#FF6B35",border:"2px solid #FF6B35",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold",width:"100%",transition:"all 0.3s ease"},onMouseEnter:E=>{E.target.style.background="#FF6B35",E.target.style.color="white"},onMouseLeave:E=>{E.target.style.background="transparent",E.target.style.color="#FF6B35"}},"🔑 Claim My Ladder Account"))))))))),n&&r.createElement(N5,{onClose:()=>s(!1)}),l&&r.createElement(GF,{onClose:()=>c(!1),onSuccess:b=>{console.log("Signup successful:",b)}}))},ZF=({currentAppName:t,isAdmin:a,isSuperAdmin:e})=>{const n=Xa(),s=as(),l=()=>{n("/hub")},c=()=>{n("/hub")},u=()=>{n("/admin")},m=()=>{n("/admin/players")},h=()=>{n("/platform-admin")};return s.pathname==="/hub"?null:r.createElement("div",{className:"hub-navigation"},r.createElement("div",{className:"nav-content"},r.createElement("div",{className:"nav-left"},r.createElement("button",{onClick:l,className:"hub-btn"},"🏠 Front Range Hub"),t&&r.createElement("span",{className:"current-app"},"→ ",t)),r.createElement("div",{className:"nav-right"},a&&r.createElement(r.Fragment,null,r.createElement("button",{onClick:m,className:"admin-btn"},"👥 Players"),r.createElement("button",{onClick:u,className:"admin-btn"},"⚙️ Admin")),e&&r.createElement("button",{onClick:h,className:"super-admin-btn"},"🔧 Platform Admin"),r.createElement("button",{onClick:c,className:"switch-app-btn"},"🔄 Switch App"))))},pr=({appName:t,children:a})=>(v.useEffect(()=>{t&&window.dispatchEvent(new CustomEvent("appNameChange",{detail:t}))},[t]),a),VF=({onClose:t})=>{const[a,e]=v.useState([]),[n,s]=v.useState(!0),[l,c]=v.useState(""),[u,m]=v.useState(null),[h,f]=v.useState(!1),[y,b]=v.useState(!1);v.useEffect(()=>{E()},[]);const E=async()=>{try{s(!0);const Y=await fetch(`${Ce}/api/ladder/applications`),J=await Y.json();Y.ok?e(J):c(J.message||"Failed to fetch applications")}catch(Y){console.error("Error fetching applications:",Y),c("Network error. Please check your connection.")}finally{s(!1)}},w=Y=>{m(Y),f(!0)},[_,C]=v.useState(!1),[S,I]=v.useState(null),[k,N]=v.useState(null),M=async Y=>{try{b(!0);const J=await fetch(`${Ce}/api/ladder/applications/${Y}/approve`,{method:"POST",headers:{"Content-Type":"application/json"}}),ae=await J.json();if(J.ok){try{const H=await Id.send("service_l5q2047","template_ladder_approval",{to_email:ae.playerCreated.email,to_name:`${ae.playerCreated.firstName} ${ae.playerCreated.lastName}`,email:ae.playerCreated.email,pin:ae.playerCreated.pin,ladder_name:ae.playerCreated.ladderName,position:ae.playerCreated.position,login_url:"https://newapp-1-ic1v.onrender.com"},"g6vqrOs_Jb6LL1VCZ");console.log("📧 Email sent successfully!",H),N("sent")}catch(H){console.error("📧 Email sending failed:",H),N("failed")}I(ae.playerCreated),C(!0),await E(),f(!1),m(null)}else c(ae.message||"Failed to approve application")}catch(J){console.error("Error approving application:",J),c("Network error. Please try again.")}finally{b(!1)}},R=async(Y,J)=>{try{b(!0);const ae=await fetch(`${Ce}/api/ladder/applications/${Y}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:J})}),H=await ae.json();ae.ok?(await E(),f(!1),m(null)):c(H.message||"Failed to reject application")}catch(ae){console.error("Error rejecting application:",ae),c("Network error. Please try again.")}finally{b(!1)}},$=Y=>{switch(Y){case"pending":return"#ffa726";case"approved":return"#4caf50";case"rejected":return"#f44336";default:return"#757575"}},z=Y=>{switch(Y){case"pending":return"⏳ Pending";case"approved":return"✅ Approved";case"rejected":return"❌ Rejected";default:return"Unknown"}};return r.createElement(Xt,{open:!0,onClose:t,title:"📋 Ladder Applications Manager",maxWidth:"900px"},r.createElement("div",{style:{padding:"1rem"}},l&&r.createElement("div",{style:{background:"rgba(244, 67, 54, 0.2)",border:"1px solid rgba(244, 67, 54, 0.5)",color:"#ff6b6b",padding:"0.8rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"1rem"}},l),n?r.createElement("div",{style:{textAlign:"center",padding:"2rem",color:"#ccc",fontSize:"1.1rem"}},"Loading applications..."):a.length===0?r.createElement("div",{style:{textAlign:"center",padding:"2rem",color:"#ccc",fontSize:"1.1rem"}},"No ladder applications found."):r.createElement("div",null,r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr auto",gap:"1rem",padding:"0.8rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",marginBottom:"1rem",fontWeight:"bold",fontSize:"0.9rem",color:"#fff"}},r.createElement("div",null,"Name"),r.createElement("div",null,"Email"),r.createElement("div",null,"Experience"),r.createElement("div",null,"Status"),r.createElement("div",null,"Actions")),a.map(Y=>r.createElement("div",{key:Y._id,style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr auto",gap:"1rem",padding:"0.8rem",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",marginBottom:"0.5rem",alignItems:"center",background:"rgba(255, 255, 255, 0.02)"}},r.createElement("div",{style:{color:"#fff",fontWeight:"bold"}},Y.firstName," ",Y.lastName),r.createElement("div",{style:{color:"#ccc"}},Y.email),r.createElement("div",{style:{color:"#ccc",textTransform:"capitalize"}},Y.experience),r.createElement("div",{style:{color:$(Y.status),fontWeight:"bold"}},z(Y.status)),r.createElement("div",null,r.createElement("button",{onClick:()=>w(Y),disabled:y,style:{padding:"0.5rem 1rem",background:"rgba(33, 150, 243, 0.2)",color:"#2196F3",border:"1px solid #2196F3",borderRadius:"6px",fontSize:"0.85rem",cursor:"pointer",transition:"all 0.3s ease"}},"View Details")))))),h&&u&&r.createElement(Xt,{open:h,onClose:()=>f(!1),title:`📄 Application Details - ${u.firstName} ${u.lastName}`,maxWidth:"600px"},r.createElement("div",{style:{padding:"1rem"}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"}},r.createElement("div",null,r.createElement("strong",{style:{color:"#2196F3"}},"Personal Information:"),r.createElement("div",{style:{marginTop:"0.5rem",color:"#ccc"}},r.createElement("div",null,r.createElement("strong",null,"Name:")," ",u.firstName," ",u.lastName),r.createElement("div",null,r.createElement("strong",null,"Email:")," ",u.email),r.createElement("div",null,r.createElement("strong",null,"Phone:")," ",u.phone||"Not provided"))),r.createElement("div",null,r.createElement("strong",{style:{color:"#2196F3"}},"Skill Information:"),r.createElement("div",{style:{marginTop:"0.5rem",color:"#ccc"}},r.createElement("div",null,r.createElement("strong",null,"Experience:")," ",u.experience),r.createElement("div",null,r.createElement("strong",null,"Fargo Rate:")," ",u.fargoRate||"Not provided"),r.createElement("div",null,r.createElement("strong",null,"Current League:")," ",u.currentLeague||"Not provided"),r.createElement("div",null,r.createElement("strong",null,"Current Ranking:")," ",u.currentRanking||"Not provided")))),r.createElement("div",{style:{background:"rgba(255, 255, 255, 0.05)",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem"}},r.createElement("strong",{style:{color:"#2196F3"}},"Application Status:"),r.createElement("div",{style:{color:$(u.status),fontWeight:"bold",marginTop:"0.5rem"}},z(u.status)),u.status==="rejected"&&u.rejectionReason&&r.createElement("div",{style:{color:"#ff6b6b",marginTop:"0.5rem"}},r.createElement("strong",null,"Reason:")," ",u.rejectionReason)),u.status==="pending"&&r.createElement("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"}},r.createElement("button",{onClick:()=>R(u._id,"Application rejected by admin"),disabled:y,style:{padding:"0.8rem 1.5rem",background:"rgba(244, 67, 54, 0.2)",color:"#ff6b6b",border:"2px solid #ff6b6b",borderRadius:"8px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"}},y?"Processing...":"Reject"),r.createElement("button",{onClick:()=>M(u._id),disabled:y,style:{padding:"0.8rem 1.5rem",background:"linear-gradient(45deg, #4CAF50, #45a049)",color:"white",border:"2px solid #4CAF50",borderRadius:"8px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"}},y?"Processing...":"Approve")))),_&&S&&r.createElement(Xt,{open:_,onClose:()=>C(!1),title:"✅ Application Approved - Login Credentials",maxWidth:"500px"},r.createElement("div",{style:{padding:"1rem"}},r.createElement("div",{style:{background:"linear-gradient(45deg, #4CAF50, #45a049)",color:"white",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem",textAlign:"center"}},r.createElement("h3",{style:{margin:"0 0 0.5rem 0"}},"🎉 Application Approved!"),r.createElement("p",{style:{margin:0,fontSize:"1rem"}},"Player has been added to the ladder and can now log in.")),r.createElement("div",{style:{background:"rgba(255, 255, 255, 0.05)",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem"}},r.createElement("h4",{style:{color:"#2196F3",margin:"0 0 1rem 0"}},"📧 Login Credentials:"),r.createElement("div",{style:{color:"#ccc"}},r.createElement("div",{style:{marginBottom:"0.5rem"}},r.createElement("strong",null,"Email:")," ",S.email),r.createElement("div",{style:{marginBottom:"0.5rem"}},r.createElement("strong",null,"PIN:")," ",r.createElement("span",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.25rem 0.5rem",borderRadius:"4px",fontFamily:"monospace",fontSize:"1.1rem"}},S.pin)),r.createElement("div",{style:{marginBottom:"0.5rem"}},r.createElement("strong",null,"Ladder:")," ",S.ladderName),r.createElement("div",null,r.createElement("strong",null,"Position:")," #",S.position))),k==="sent"&&r.createElement("div",{style:{background:"rgba(76, 175, 80, 0.1)",border:"1px solid rgba(76, 175, 80, 0.3)",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem"}},r.createElement("h4",{style:{color:"#4CAF50",margin:"0 0 0.5rem 0"}},"✅ Email Sent Successfully!"),r.createElement("p",{style:{color:"#ccc",margin:0}},"An approval email with login credentials has been automatically sent to ",S.email)),k==="failed"&&r.createElement("div",{style:{background:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem"}},r.createElement("h4",{style:{color:"#FFC107",margin:"0 0 0.5rem 0"}},"⚠️ Email Not Sent:"),r.createElement("p",{style:{color:"#ccc",margin:0}},"Please manually send these credentials to ",S.email," via email")),r.createElement("div",{style:{background:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem"}},r.createElement("h4",{style:{color:"#FFC107",margin:"0 0 0.5rem 0"}},"⚠️ Important:"),r.createElement("ul",{style:{color:"#ccc",margin:0,paddingLeft:"1.5rem"}},r.createElement("li",null,"Player can log in using the unified login system"),r.createElement("li",null,"League app will recognize their ladder account"),r.createElement("li",null,"They can access both league and ladder features"),r.createElement("li",null,"Keep these credentials secure"))),r.createElement("div",{style:{textAlign:"center"}},r.createElement("button",{onClick:()=>C(!1),style:{padding:"0.8rem 2rem",background:"linear-gradient(45deg, #2196F3, #1976D2)",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"}},"Got it!")))))},k5=({playerName:t,playerLastName:a,senderEmail:e,userPin:n,onLogout:s,isAdmin:l=!1})=>{const c=Xa(),[u,m]=v.useState("main"),[h,f]=v.useState(null),[y,b]=v.useState([]),[E,w]=v.useState(!0),[_,C]=v.useState(null),[S,I]=v.useState(!1),[k,N]=v.useState({email:"",pin:""}),[M,R]=v.useState(!1),[$,z]=v.useState(!1),[Y,J]=v.useState("499-under");v.useEffect(()=>{ae()},[Y]);const ae=async()=>{try{w(!0);const F=await(await fetch(`${Ce}/api/ladder/ladders/${Y}/players`)).json();console.log("Ladder API response:",F),F&&Array.isArray(F)?(b(F),console.log(`Loaded ${F.length} players from ${Y} ladder`)):console.error("Invalid ladder data format:",F),e?await H(e):f({playerId:"guest",name:`${t} ${a}`,email:null,fargoRate:450,ladder:"499-under",position:"Guest",immunityUntil:null,activeChallenges:[],canChallenge:!1})}catch(T){console.error("Error loading ladder data:",T),f({playerId:"guest",name:`${t} ${a}`,email:e,fargoRate:450,ladder:"499-under",position:"Guest",immunityUntil:null,activeChallenges:[],canChallenge:!1})}finally{w(!1)}},H=async T=>{try{const V=await(await fetch(`${Ce}/api/ladder/player-status/${T}`)).json();C(V),V.isLadderPlayer?f({playerId:"ladder",name:`${V.ladderInfo.firstName} ${V.ladderInfo.lastName}`,email:T,fargoRate:V.ladderInfo.fargoRate,ladder:V.ladderInfo.ladderName,position:V.ladderInfo.position,immunityUntil:V.ladderInfo.immunityUntil,activeChallenges:[],canChallenge:V.ladderInfo.isActive,stats:V.ladderInfo.stats}):V.isLeaguePlayer?f({playerId:"league",name:`${V.leagueInfo.firstName} ${V.leagueInfo.lastName}`,email:T,fargoRate:450,ladder:"499-under",position:"League Player - Claim Account",immunityUntil:null,activeChallenges:[],canChallenge:!1,needsClaim:!0}):f({playerId:"unknown",name:`${t} ${a}`,email:T,fargoRate:450,ladder:"499-under",position:"Not Recognized",immunityUntil:null,activeChallenges:[],canChallenge:!1})}catch(F){console.error("Error checking player status:",F)}},Z=async T=>{T.preventDefault(),R(!0);try{const V=await(await fetch(`${Ce}/api/ladder/claim-account`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)})).json();if(V.success){const j=`Account claimed successfully!

Your ladder credentials:
Email: ${k.email}
PIN: ${V.ladderPin}

Please save this PIN - you'll need it to log into your ladder account.`;alert(j),await H(k.email),I(!1),N({email:"",pin:""})}else alert(V.error||"Failed to claim account")}catch(F){console.error("Error claiming account:",F),alert("Failed to claim account")}finally{R(!1)}},O=()=>{s(),c("/hub")},L=T=>{m(T)},A=()=>r.createElement("div",{className:"claim-account-modal"},r.createElement("div",{className:"claim-account-content"},r.createElement("h3",null,"Claim Your Ladder Account"),r.createElement("p",null,"Enter your league email and PIN to claim your ladder account. A unique PIN will be generated for your ladder account."),r.createElement("form",{onSubmit:Z},r.createElement("div",{className:"form-group"},r.createElement("label",null,"League Email:"),r.createElement("input",{type:"email",value:k.email,onChange:T=>N({...k,email:T.target.value}),placeholder:"Enter your league email",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"League PIN:"),r.createElement("input",{type:"password",value:k.pin,onChange:T=>N({...k,pin:T.target.value}),placeholder:"Enter your league PIN",required:!0})),r.createElement("div",{className:"form-actions"},r.createElement("button",{type:"submit",disabled:M,className:"claim-btn"},M?"Claiming...":"Claim Account"),r.createElement("button",{type:"button",onClick:()=>I(!1),className:"cancel-btn"},"Cancel"))))),U=()=>{const T=F=>{switch(F){case"499-under":return"499 & Under";case"500-549":return"500-549";case"550-plus":return"550+";default:return F}};return r.createElement("div",{className:"ladder-view"},r.createElement("div",{className:"ladder-header-section"},r.createElement("h2",null,T(Y)," Ladder"),r.createElement("p",null,"Current rankings and positions"),r.createElement("div",{className:"ladder-selector",style:{marginTop:"1rem",display:"flex",gap:"1rem",alignItems:"center",justifyContent:"center"}},r.createElement("label",{style:{color:"#fff",fontWeight:"bold"}},"Select Ladder:"),r.createElement("select",{value:Y,onChange:F=>J(F.target.value),style:{background:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",fontSize:"1rem",cursor:"pointer"}},r.createElement("option",{value:"499-under"},"499 & Under"),r.createElement("option",{value:"500-549"},"500-549"),r.createElement("option",{value:"550-plus"},"550+")))),r.createElement("div",{className:"ladder-table"},r.createElement("div",{className:"table-header"},r.createElement("div",{className:"header-cell"},"Rank"),r.createElement("div",{className:"header-cell"},"Player"),r.createElement("div",{className:"header-cell"},"FargoRate"),r.createElement("div",{className:"header-cell"},"Wins"),r.createElement("div",{className:"header-cell"},"Losses"),r.createElement("div",{className:"header-cell"},"Status")),y.map((F,V)=>r.createElement("div",{key:F._id||V,className:"table-row"},r.createElement("div",{className:"table-cell rank"},"#",F.position),r.createElement("div",{className:"table-cell name"},F.firstName," ",F.lastName,!F.email&&r.createElement("span",{className:"no-account"},"*")),r.createElement("div",{className:"table-cell fargo"},F.fargoRate),r.createElement("div",{className:"table-cell wins"},F.wins||0),r.createElement("div",{className:"table-cell losses"},F.losses||0),r.createElement("div",{className:"table-cell status"},F.isActive?F.immunityUntil&&new Date(F.immunityUntil)>new Date?r.createElement("span",{className:"immune"},"Immune"):r.createElement("span",{className:"active"},"Active"):r.createElement("span",{className:"inactive"},"Inactive"))))),r.createElement("div",{className:"ladder-legend"},r.createElement("p",null,r.createElement("span",{className:"no-account"},"*")," = Account not claimed yet"),r.createElement("p",null,"Players can claim their accounts to participate in challenges"),r.createElement("p",null,r.createElement("strong",null,"Anyone can view the ladder - no account required!"))),r.createElement("button",{onClick:()=>m("main"),className:"back-btn"},"← Back to Main Menu"))},q=()=>{const[T,F]=v.useState({}),[V,j]=v.useState(!0);v.useEffect(()=>{(async()=>{try{j(!0);const ce=["499-under","500-549","550-plus"],xe={};for(const Se of ce){const pe=await(await fetch(`${Ce}/api/ladder/ladders/${Se}/players`)).json();xe[Se]=Array.isArray(pe)?pe:[]}F(xe)}catch(ce){console.error("Error loading all ladders:",ce)}finally{j(!1)}})()},[]);const re=K=>{switch(K){case"499-under":return"499 & Under";case"500-549":return"500-549";case"550-plus":return"550+";default:return K}};return V?r.createElement("div",{className:"ladder-view"},r.createElement("div",{style:{textAlign:"center",padding:"2rem",color:"#ccc"}},r.createElement("div",{className:"loading-spinner"}),r.createElement("p",null,"Loading all ladders..."))):r.createElement("div",{className:"ladder-view"},r.createElement("div",{className:"ladder-header-section"},r.createElement("h2",null,"All Ladder Divisions"),r.createElement("p",null,"Browse all three ladder divisions")),r.createElement("div",{style:{display:"grid",gap:"2rem"}},["499-under","500-549","550-plus"].map(K=>{var ce;return r.createElement("div",{key:K,style:{background:"rgba(0, 0, 0, 0.8)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"}},r.createElement("h3",{style:{color:"#fff",margin:"0 0 1rem 0",fontSize:"1.5rem",textAlign:"center"}},re(K)," Ladder"),r.createElement("div",{className:"ladder-table"},r.createElement("div",{className:"table-header"},r.createElement("div",{className:"header-cell"},"Rank"),r.createElement("div",{className:"header-cell"},"Player"),r.createElement("div",{className:"header-cell"},"FargoRate"),r.createElement("div",{className:"header-cell"},"Wins"),r.createElement("div",{className:"header-cell"},"Losses"),r.createElement("div",{className:"header-cell"},"Status")),(ce=T[K])==null?void 0:ce.map((xe,Se)=>r.createElement("div",{key:xe._id||Se,className:"table-row"},r.createElement("div",{className:"table-cell rank"},"#",xe.position),r.createElement("div",{className:"table-cell name"},xe.firstName," ",xe.lastName,!xe.email&&r.createElement("span",{className:"no-account"},"*")),r.createElement("div",{className:"table-cell fargo"},xe.fargoRate),r.createElement("div",{className:"table-cell wins"},xe.wins||0),r.createElement("div",{className:"table-cell losses"},xe.losses||0),r.createElement("div",{className:"table-cell status"},xe.isActive?xe.immunityUntil&&new Date(xe.immunityUntil)>new Date?r.createElement("span",{className:"immune"},"Immune"):r.createElement("span",{className:"active"},"Active"):r.createElement("span",{className:"inactive"},"Inactive")))),(!T[K]||T[K].length===0)&&r.createElement("div",{style:{textAlign:"center",padding:"2rem",color:"#ccc",fontStyle:"italic"}},"No players in this ladder yet")))})),r.createElement("button",{onClick:()=>m("main"),className:"back-btn"},"← Back to Main Menu"))},Q=()=>r.createElement(r.Fragment,null,r.createElement("div",{className:"user-status-card"},r.createElement("div",{className:"status-info"},r.createElement("h3",null,"Your Ladder Status"),r.createElement("div",{className:"status-details"},r.createElement("div",{className:"status-item"},r.createElement("span",{className:"label"},"Ladder:"),r.createElement("span",{className:"value"},(h==null?void 0:h.ladder)==="499-under"?"499 & Under":(h==null?void 0:h.ladder)==="500-549"?"500-549":"550+")),r.createElement("div",{className:"status-item"},r.createElement("span",{className:"label"},"Position:"),r.createElement("span",{className:"value"},h==null?void 0:h.position)),r.createElement("div",{className:"status-item"},r.createElement("span",{className:"label"},"FargoRate:"),r.createElement("span",{className:"value"},h==null?void 0:h.fargoRate)),(h==null?void 0:h.immunityUntil)&&r.createElement("div",{className:"status-item immunity"},r.createElement("span",{className:"label"},"Immunity Until:"),r.createElement("span",{className:"value"},new Date(h.immunityUntil).toLocaleDateString())),(h==null?void 0:h.needsClaim)&&r.createElement("div",{className:"status-item claim-notice"},r.createElement("span",{className:"label"},"Account Status:"),r.createElement("span",{className:"value"},"League Player - Claim your ladder account to participate!")),(h==null?void 0:h.playerId)==="unknown"&&r.createElement("div",{className:"status-item unknown-notice"},r.createElement("span",{className:"label"},"Account Status:"),r.createElement("span",{className:"value"},"Not recognized - Apply for ladder access below"))),(h==null?void 0:h.needsClaim)&&r.createElement("div",{className:"claim-account-section"},r.createElement("button",{onClick:()=>I(!0),className:"claim-account-btn"},"Claim Your Ladder Account"),r.createElement("p",{className:"claim-info"},"Use your league email and PIN to claim your ladder account")),(h==null?void 0:h.playerId)==="unknown"&&r.createElement("div",{className:"claim-account-section"},r.createElement("button",{onClick:()=>c("/ladder/signup"),className:"claim-account-btn"},"Apply for Ladder Access"),r.createElement("p",{className:"claim-info"},"Submit an application to join the ladder system")))),r.createElement("div",{className:"ladder-navigation"},r.createElement("div",{className:"nav-grid"},r.createElement("div",{className:"nav-card",onClick:()=>L("ladders")},r.createElement("div",{className:"nav-icon"},"📊"),r.createElement("h3",null,"View Ladders"),r.createElement("p",null,"See all ladder positions and rankings")),r.createElement("div",{className:"nav-card",onClick:()=>L("all-ladders")},r.createElement("div",{className:"nav-icon"},"🏆"),r.createElement("h3",null,"All Ladders"),r.createElement("p",null,"Browse all three ladder divisions")),(h==null?void 0:h.canChallenge)&&r.createElement("div",{className:"nav-card",onClick:()=>L("challenge")},r.createElement("div",{className:"nav-icon"},"⚔️"),r.createElement("h3",null,"Make Challenge"),r.createElement("p",null,"Call out another player for a match")),(h==null?void 0:h.playerId)==="ladder"&&r.createElement("div",{className:"nav-card",onClick:()=>L("matches")},r.createElement("div",{className:"nav-icon"},"🎯"),r.createElement("h3",null,"My Matches"),r.createElement("p",null,"View your active and past matches")),r.createElement("div",{className:"nav-card",onClick:()=>L("rules")},r.createElement("div",{className:"nav-icon"},"📋"),r.createElement("h3",null,"Ladder Rules"),r.createElement("p",null,"Read the complete ladder rules")),l&&r.createElement(r.Fragment,null,r.createElement("div",{className:"nav-card admin-card",onClick:()=>z(!0)},r.createElement("div",{className:"nav-icon"},"📋"),r.createElement("h3",null,"Applications"),r.createElement("p",null,"Review ladder signup applications")),r.createElement("div",{className:"nav-card admin-card",onClick:()=>c("/ladder/admin")},r.createElement("div",{className:"nav-icon"},"⚙️"),r.createElement("h3",null,"Ladder Admin"),r.createElement("p",null,"Manage ladder players and settings"))))));return E?r.createElement("div",{className:"ladder-app-container"},r.createElement("div",{className:"loading-spinner"},r.createElement("div",{className:"spinner"}),r.createElement("p",null,"Loading ladder data..."))):r.createElement("div",{className:"ladder-app-container"},r.createElement("div",{className:"ladder-header"},r.createElement("div",{className:"ladder-title"},r.createElement("h1",null,"Ladder of Legends"),r.createElement("p",null,"Tournament Series - Challenge-based ladder system with rankings")),r.createElement("div",{className:"user-info"},r.createElement("span",null,"Welcome, ",t," ",a),r.createElement("button",{onClick:O,className:"logout-btn"},"Logout"))),u==="ladders"&&U(),u==="all-ladders"&&q(),u==="challenge"&&renderChallengeView(),u==="matches"&&renderMatchesView(),u==="rules"&&renderRulesView(),u==="main"&&Q(),r.createElement("div",{className:"ladder-footer"},r.createElement("p",null,"Challenge your way to the top! 🏆")),S&&A(),$&&r.createElement(VF,{onClose:()=>z(!1)}))},QF=(t,a={})=>{const e=t.trim().split(`
`),n=e[0].split(",").map(c=>c.trim().replace(/"/g,"")),s={position:"Position",firstName:"First Name",lastName:"Last Name",name:"Name",email:"Email",fargoRate:"FargoRate",...a},l=[];for(let c=1;c<e.length;c++){const u=e[c].split(",").map(h=>h.trim().replace(/"/g,"")),m={};n.forEach((h,f)=>{const y=u[f];let b=null;for(const[E,w]of Object.entries(s))if(h.toLowerCase()===w.toLowerCase()){b=E;break}if(b)switch(b){case"position":case"fargoRate":m[b]=parseInt(y)||0;break;case"firstName":case"lastName":case"email":m[b]=y||"";break;case"name":const E=y.split(" ");m.firstName=E[0]||"",m.lastName=E.slice(1).join(" ")||"";break;default:m[b]=y}}),m.email&&l.push(m)}return l},JF=()=>`Position,Name,Email,FargoRate
1,John Doe,john@example.com,485
2,Jane Smith,jane@example.com,472
3,Bob Johnson,bob@example.com,458`,XF=t=>{const a={valid:[],errors:[]};return t.forEach((e,n)=>{const s=[];e.email||s.push("Email is required"),!e.firstName&&!e.name&&s.push("Name is required"),e.email&&!KF(e.email)&&s.push("Invalid email format"),e.fargoRate&&(e.fargoRate<0||e.fargoRate>9999)&&s.push("FargoRate must be between 0 and 9999"),s.length>0?a.errors.push({row:n+1,player:e,errors:s}):a.valid.push(e)}),a},KF=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),eW=({userEmail:t,userPin:a})=>{var k;const[e,n]=v.useState("499-under"),[s,l]=v.useState([]),[c,u]=v.useState(""),[m,h]=v.useState("json"),[f,y]=v.useState(!1),[b,E]=v.useState(""),w=[{name:"499-under",displayName:"499 & Under"},{name:"500-549",displayName:"500-549"},{name:"550-plus",displayName:"550+"}];v.useEffect(()=>{_()},[e]);const _=async()=>{try{y(!0);const N=await fetch(`${Ce}/api/ladder/admin/${e}`);if(N.ok){const M=await N.json();l(M)}else E("Failed to load ladder data")}catch(N){console.error("Error loading ladder data:",N),E("Error loading ladder data")}finally{y(!1)}},C=async()=>{try{y(!0),E("");let N;if(m==="csv")try{const $=QF(c),z=XF($);if(z.errors.length>0){E(`Validation errors found: ${z.errors.length} errors. Please check your data.`);return}N=z.valid}catch{E("Invalid CSV format. Please check your data.");return}else try{N=JSON.parse(c)}catch{E("Invalid JSON format. Please check your data.");return}const M=await fetch(`${Ce}/api/ladder/import`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ladderData:N,ladderName:e})}),R=await M.json();M.ok?(E(`Import completed! Imported: ${R.results.imported}, Skipped: ${R.results.skipped}`),u(""),_()):E(`Import failed: ${R.error}`)}catch(N){console.error("Error importing data:",N),E("Error importing data")}finally{y(!1)}},S=async()=>{try{y(!0),E("");const N=s.map(($,z)=>({email:$.email,position:z+1})),M=await fetch(`${Ce}/api/ladder/update-positions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ladderName:e,positions:N})}),R=await M.json();M.ok?(E(`Positions updated! Updated: ${R.results.updated}`),_()):E(`Update failed: ${R.error}`)}catch(N){console.error("Error updating positions:",N),E("Error updating positions")}finally{y(!1)}},I=()=>{const N=[["Position","Name","Email","FargoRate","Status"],...s.map(z=>[z.position,`${z.firstName} ${z.lastName}`,z.email,z.fargoRate,z.isActive?"Active":"Inactive"])].map(z=>z.join(",")).join(`
`),M=new Blob([N],{type:"text/csv"}),R=window.URL.createObjectURL(M),$=document.createElement("a");$.href=R,$.download=`${e}-ladder.csv`,$.click(),window.URL.revokeObjectURL(R)};return r.createElement("div",{className:"ladder-management"},r.createElement("div",{className:"management-header"},r.createElement("h2",null,"Ladder Management"),r.createElement("p",null,"Import and manage ladder data from Google Sheets")),r.createElement("div",{className:"ladder-selector"},r.createElement("label",null,"Select Ladder:"),r.createElement("select",{value:e,onChange:N=>n(N.target.value)},w.map(N=>r.createElement("option",{key:N.name,value:N.name},N.displayName)))),r.createElement("div",{className:"import-section"},r.createElement("h3",null,"Import Data from Google Sheets"),r.createElement("div",{className:"import-instructions"},r.createElement("p",null,r.createElement("strong",null,"Instructions:")),r.createElement("ol",null,r.createElement("li",null,"Export your Google Sheet as CSV"),r.createElement("li",null,"Choose your import format below"),r.createElement("li",null,"Paste the data and click Import")),r.createElement("div",{className:"import-mode-selector"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"csv",checked:m==="csv",onChange:N=>h(N.target.value)}),"CSV Format (from Google Sheets)"),r.createElement("label",null,r.createElement("input",{type:"radio",value:"json",checked:m==="json",onChange:N=>h(N.target.value)}),"JSON Format")),m==="csv"?r.createElement("div",null,r.createElement("p",null,r.createElement("strong",null,"Expected CSV format:")),r.createElement("pre",null,JF()),r.createElement("p",null,"Supported columns: Position, Name, Email, FargoRate")):r.createElement("div",null,r.createElement("p",null,r.createElement("strong",null,"Expected JSON format:")),r.createElement("pre",null,`[
  {
    "firstName": "John",
    "lastName": "Doe", 
    "email": "john@example.com",
    "fargoRate": 485,
    "position": 1
  }
]`))),r.createElement("div",{className:"import-form"},r.createElement("textarea",{value:c,onChange:N=>u(N.target.value),placeholder:m==="csv"?"Paste your CSV data here...":"Paste your JSON data here...",rows:10}),r.createElement("button",{onClick:C,disabled:f||!c.trim(),className:"import-btn"},f?"Importing...":"Import Data"))),r.createElement("div",{className:"ladder-data-section"},r.createElement("div",{className:"section-header"},r.createElement("h3",null,"Current ",(k=w.find(N=>N.name===e))==null?void 0:k.displayName," Ladder"),r.createElement("div",{className:"action-buttons"},r.createElement("button",{onClick:I,className:"export-btn"},"Export to CSV"),r.createElement("button",{onClick:S,disabled:f,className:"update-btn"},f?"Updating...":"Update Positions"))),b&&r.createElement("div",{className:`message ${b.includes("Error")?"error":"success"}`},b),f?r.createElement("div",{className:"loading"},"Loading ladder data..."):r.createElement("div",{className:"ladder-table"},r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Position"),r.createElement("th",null,"Name"),r.createElement("th",null,"Email"),r.createElement("th",null,"FargoRate"),r.createElement("th",null,"Status"),r.createElement("th",null,"Immunity"))),r.createElement("tbody",null,s.map((N,M)=>r.createElement("tr",{key:N._id||M},r.createElement("td",null,N.position),r.createElement("td",null,N.firstName," ",N.lastName),r.createElement("td",null,N.email),r.createElement("td",null,N.fargoRate),r.createElement("td",null,r.createElement("span",{className:`status ${N.isActive?"active":"inactive"}`},N.isActive?"Active":"Inactive")),r.createElement("td",null,N.immunityUntil?new Date(N.immunityUntil).toLocaleDateString():"None"))))),s.length===0&&r.createElement("div",{className:"no-data"},"No players found in this ladder. Import some data to get started!"))))},tW="_container_1xp3p_1",nW="_header_1xp3p_23",aW="_addButton_1xp3p_53",rW="_formOverlay_1xp3p_85",sW="_form_1xp3p_85",iW="_checkboxes_1xp3p_231",oW="_formButtons_1xp3p_269",lW="_playersList_1xp3p_329",cW="_table_1xp3p_337",dW="_status_1xp3p_387",uW="_active_1xp3p_405",mW="_inactive_1xp3p_415",pW="_editButton_1xp3p_425",fW="_deleteButton_1xp3p_427",qn={container:tW,header:nW,addButton:aW,formOverlay:rW,form:sW,checkboxes:iW,formButtons:oW,playersList:lW,table:cW,status:dW,active:uW,inactive:mW,editButton:pW,deleteButton:fW};function hW(){const[t,a]=v.useState([]),[e,n]=v.useState(!0),[s,l]=v.useState(null),[c,u]=v.useState(!1),[m,h]=v.useState({firstName:"",lastName:"",email:"",phone:"",fargoRate:"",location:"",isActive:!0,ladderName:"499-under"}),f=async()=>{try{const S=await(await fetch(`${Ce}/api/ladder/players`)).json();Array.isArray(S)?(a(S),console.log(`Loaded ${S.length} ladder players from ladder endpoint`)):(console.error("Invalid response format:",S),a([]))}catch(C){console.error("Error fetching ladder players:",C),a([])}finally{n(!1)}};v.useEffect(()=>{f()},[]);const y=C=>{const{name:S,value:I,type:k,checked:N}=C.target;h(M=>({...M,[S]:k==="checkbox"?N:I}))},b=async C=>{C.preventDefault();try{const I=await(await fetch(`${Ce}/api/ladder/player/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json();I.success?(u(!1),h({firstName:"",lastName:"",email:"",phone:"",fargoRate:"",location:"",isActive:!0,ladderName:"499-under"}),f(),alert("Ladder player added successfully!")):alert("Error adding ladder player: "+(I.error||I.message))}catch(S){console.error("Error adding ladder player:",S),alert("Error adding ladder player")}},E=async C=>{C.preventDefault();try{const I=await(await fetch(`${Ce}/api/ladder/player/${s.email}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...m,ladderName:"General"})})).json();I.success?(l(null),h({name:"",email:"",phone:"",skillLevel:"",location:"",isActive:!0}),f(),alert("Ladder player updated successfully!")):alert("Error updating ladder player: "+I.message)}catch(S){console.error("Error updating ladder player:",S),alert("Error updating ladder player")}},w=C=>{l(C),h({firstName:C.firstName||"",lastName:C.lastName||"",email:C.email||"",phone:C.phone||"",fargoRate:C.fargoRate||"",location:C.location||"",isActive:C.isActive!==!1,ladderName:C.ladderName||"499-under"})},_=async C=>{if(confirm("Are you sure you want to remove this player from the ladder?"))try{const I=await(await fetch(`${Ce}/api/ladder/player/${C}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({ladderName:"General"})})).json();I.success?(f(),alert("Player removed from ladder successfully!")):alert("Error removing player: "+I.message)}catch(S){console.error("Error removing ladder player:",S),alert("Error removing ladder player")}};return e?r.createElement("div",{className:qn.container},"Loading ladder players..."):r.createElement("div",{className:qn.container},r.createElement("div",{className:qn.header},r.createElement("h2",null,"Ladder Player Management"),r.createElement("button",{className:qn.addButton,onClick:()=>u(!0)},"Add New Ladder Player")),c&&r.createElement("div",{className:qn.formOverlay},r.createElement("div",{className:qn.form},r.createElement("h3",null,"Add New Ladder Player"),r.createElement("form",{onSubmit:b},r.createElement("input",{type:"text",name:"firstName",placeholder:"First Name",value:m.firstName,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"lastName",placeholder:"Last Name",value:m.lastName,onChange:y,required:!0}),r.createElement("input",{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"phone",placeholder:"Phone",value:m.phone,onChange:y}),r.createElement("input",{type:"number",name:"fargoRate",placeholder:"Fargo Rate",value:m.fargoRate,onChange:y,required:!0}),r.createElement("select",{name:"ladderName",value:m.ladderName,onChange:y,required:!0},r.createElement("option",{value:"499-under"},"499 & Under"),r.createElement("option",{value:"500-549"},"500-549"),r.createElement("option",{value:"550-plus"},"550+")),r.createElement("input",{type:"text",name:"location",placeholder:"Preferred Location",value:m.location,onChange:y}),r.createElement("div",{className:qn.checkboxes},r.createElement("label",null,r.createElement("input",{type:"checkbox",name:"isActive",checked:m.isActive,onChange:y}),"Active on Ladder")),r.createElement("div",{className:qn.formButtons},r.createElement("button",{type:"submit"},"Add Player"),r.createElement("button",{type:"button",onClick:()=>u(!1)},"Cancel"))))),s&&r.createElement("div",{className:qn.formOverlay},r.createElement("div",{className:qn.form},r.createElement("h3",null,"Edit Ladder Player: ",s.name),r.createElement("form",{onSubmit:E},r.createElement("input",{type:"text",name:"firstName",placeholder:"First Name",value:m.firstName,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"lastName",placeholder:"Last Name",value:m.lastName,onChange:y,required:!0}),r.createElement("input",{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"phone",placeholder:"Phone",value:m.phone,onChange:y}),r.createElement("input",{type:"number",name:"fargoRate",placeholder:"Fargo Rate",value:m.fargoRate,onChange:y,required:!0}),r.createElement("select",{name:"ladderName",value:m.ladderName,onChange:y,required:!0},r.createElement("option",{value:"499-under"},"499 & Under"),r.createElement("option",{value:"500-549"},"500-549"),r.createElement("option",{value:"550-plus"},"550+")),r.createElement("input",{type:"text",name:"location",placeholder:"Preferred Location",value:m.location,onChange:y}),r.createElement("div",{className:qn.checkboxes},r.createElement("label",null,r.createElement("input",{type:"checkbox",name:"isActive",checked:m.isActive,onChange:y}),"Active on Ladder")),r.createElement("div",{className:qn.formButtons},r.createElement("button",{type:"submit"},"Update Player"),r.createElement("button",{type:"button",onClick:()=>l(null)},"Cancel"))))),r.createElement("div",{className:qn.playersList},r.createElement("table",{className:qn.table},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Ladder"),r.createElement("th",null,"Position"),r.createElement("th",null,"Name"),r.createElement("th",null,"Email"),r.createElement("th",null,"Phone"),r.createElement("th",null,"Fargo Rate"),r.createElement("th",null,"Location"),r.createElement("th",null,"Status"),r.createElement("th",null,"Actions"))),r.createElement("tbody",null,t.map((C,S)=>r.createElement("tr",{key:C._id||C.email},r.createElement("td",null,C.ladderName==="499-under"?"499 & Under":C.ladderName==="500-549"?"500-549":C.ladderName==="550-plus"?"550+":C.ladderName),r.createElement("td",null,C.position),r.createElement("td",null,C.firstName," ",C.lastName),r.createElement("td",null,C.email),r.createElement("td",null,C.phone),r.createElement("td",null,C.fargoRate),r.createElement("td",null,C.location),r.createElement("td",null,r.createElement("span",{className:`${qn.status} ${C.isActive?qn.active:qn.inactive}`},C.isActive?"Active":"Inactive")),r.createElement("td",null,r.createElement("button",{className:qn.editButton,onClick:()=>w(C)},"Edit"),r.createElement("button",{className:qn.deleteButton,onClick:()=>_(C.email)},"Remove"))))))))}const gW="_container_1uhx5_1",yW="_header_1uhx5_23",bW="_addButton_1uhx5_53",vW="_formOverlay_1uhx5_85",xW="_form_1uhx5_85",EW="_formRow_1uhx5_145",wW="_checkboxes_1uhx5_201",SW="_formButtons_1uhx5_239",CW="_playersList_1uhx5_299",_W="_table_1uhx5_307",IW="_status_1uhx5_357",NW="_approved_1uhx5_375",kW="_pending_1uhx5_385",AW="_active_1uhx5_395",DW="_inactive_1uhx5_405",MW="_editButton_1uhx5_415",TW="_deleteButton_1uhx5_417",pn={container:gW,header:yW,addButton:bW,formOverlay:vW,form:xW,formRow:EW,checkboxes:wW,formButtons:SW,playersList:CW,table:_W,status:IW,approved:NW,pending:kW,active:AW,inactive:DW,editButton:MW,deleteButton:TW};function RW(){const[t,a]=v.useState([]),[e,n]=v.useState(!0),[s,l]=v.useState(null),[c,u]=v.useState(!1),[m,h]=v.useState({firstName:"",lastName:"",email:"",phone:"",pin:"",division:"",locations:"",isApproved:!0,isActive:!0}),f=async()=>{try{const S=await(await fetch(`${Ce}/api/users`)).json();S.success&&a(S.users)}catch(C){console.error("Error fetching players:",C)}finally{n(!1)}};v.useEffect(()=>{f()},[]);const y=C=>{const{name:S,value:I,type:k,checked:N}=C.target;h(M=>({...M,[S]:k==="checkbox"?N:I}))},b=async C=>{C.preventDefault();try{const I=await(await fetch(`${Ce}/api/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json();I.success?(u(!1),h({firstName:"",lastName:"",email:"",phone:"",pin:"",division:"",locations:"",isApproved:!0,isActive:!0}),f(),alert("Player added successfully!")):alert("Error adding player: "+I.message)}catch(S){console.error("Error adding player:",S),alert("Error adding player")}},E=async C=>{C.preventDefault();try{const I=await(await fetch(`${Ce}/api/users/${s._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json();I.success?(l(null),h({firstName:"",lastName:"",email:"",phone:"",pin:"",division:"",locations:"",isApproved:!0,isActive:!0}),f(),alert("Player updated successfully!")):alert("Error updating player: "+I.message)}catch(S){console.error("Error updating player:",S),alert("Error updating player")}},w=C=>{l(C),h({firstName:C.firstName||"",lastName:C.lastName||"",email:C.email||"",phone:C.phone||"",pin:C.pin||"",division:C.division||"",locations:C.locations||"",isApproved:C.isApproved||!1,isActive:C.isActive||!0})},_=async C=>{if(confirm("Are you sure you want to delete this player?"))try{const I=await(await fetch(`${Ce}/api/users/${C}`,{method:"DELETE"})).json();I.success?(f(),alert("Player deleted successfully!")):alert("Error deleting player: "+I.message)}catch(S){console.error("Error deleting player:",S),alert("Error deleting player")}};return e?r.createElement("div",{className:pn.container},"Loading players..."):r.createElement("div",{className:pn.container},r.createElement("div",{className:pn.header},r.createElement("h2",null,"League Player Management"),r.createElement("button",{className:pn.addButton,onClick:()=>u(!0)},"Add New Player")),c&&r.createElement("div",{className:pn.formOverlay},r.createElement("div",{className:pn.form},r.createElement("h3",null,"Add New Player"),r.createElement("form",{onSubmit:b},r.createElement("div",{className:pn.formRow},r.createElement("input",{type:"text",name:"firstName",placeholder:"First Name",value:m.firstName,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"lastName",placeholder:"Last Name",value:m.lastName,onChange:y,required:!0})),r.createElement("input",{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"phone",placeholder:"Phone",value:m.phone,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"pin",placeholder:"PIN",value:m.pin,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"division",placeholder:"Division",value:m.division,onChange:y}),r.createElement("input",{type:"text",name:"locations",placeholder:"Playing Locations",value:m.locations,onChange:y}),r.createElement("div",{className:pn.checkboxes},r.createElement("label",null,r.createElement("input",{type:"checkbox",name:"isApproved",checked:m.isApproved,onChange:y}),"Approved"),r.createElement("label",null,r.createElement("input",{type:"checkbox",name:"isActive",checked:m.isActive,onChange:y}),"Active")),r.createElement("div",{className:pn.formButtons},r.createElement("button",{type:"submit"},"Add Player"),r.createElement("button",{type:"button",onClick:()=>u(!1)},"Cancel"))))),s&&r.createElement("div",{className:pn.formOverlay},r.createElement("div",{className:pn.form},r.createElement("h3",null,"Edit Player: ",s.firstName," ",s.lastName),r.createElement("form",{onSubmit:E},r.createElement("div",{className:pn.formRow},r.createElement("input",{type:"text",name:"firstName",placeholder:"First Name",value:m.firstName,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"lastName",placeholder:"Last Name",value:m.lastName,onChange:y,required:!0})),r.createElement("input",{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"phone",placeholder:"Phone",value:m.phone,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"pin",placeholder:"PIN",value:m.pin,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"division",placeholder:"Division",value:m.division,onChange:y}),r.createElement("input",{type:"text",name:"locations",placeholder:"Playing Locations",value:m.locations,onChange:y}),r.createElement("div",{className:pn.checkboxes},r.createElement("label",null,r.createElement("input",{type:"checkbox",name:"isApproved",checked:m.isApproved,onChange:y}),"Approved"),r.createElement("label",null,r.createElement("input",{type:"checkbox",name:"isActive",checked:m.isActive,onChange:y}),"Active")),r.createElement("div",{className:pn.formButtons},r.createElement("button",{type:"submit"},"Update Player"),r.createElement("button",{type:"button",onClick:()=>l(null)},"Cancel"))))),r.createElement("div",{className:pn.playersList},r.createElement("table",{className:pn.table},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Name"),r.createElement("th",null,"Email"),r.createElement("th",null,"Phone"),r.createElement("th",null,"PIN"),r.createElement("th",null,"Division"),r.createElement("th",null,"Status"),r.createElement("th",null,"Actions"))),r.createElement("tbody",null,t.map(C=>r.createElement("tr",{key:C._id},r.createElement("td",null,C.firstName," ",C.lastName),r.createElement("td",null,C.email),r.createElement("td",null,C.phone),r.createElement("td",null,C.pin),r.createElement("td",null,C.division),r.createElement("td",null,r.createElement("span",{className:`${pn.status} ${C.isApproved?pn.approved:pn.pending}`},C.isApproved?"Approved":"Pending"),r.createElement("span",{className:`${pn.status} ${C.isActive?pn.active:pn.inactive}`},C.isActive?"Active":"Inactive")),r.createElement("td",null,r.createElement("button",{className:pn.editButton,onClick:()=>w(C)},"Edit"),r.createElement("button",{className:pn.deleteButton,onClick:()=>_(C._id)},"Delete"))))))))}const LW=()=>{const t=Xa(),[a,e]=v.useState("app"),[n,s]=v.useState(null),[l,c]=v.useState(!0),[u,m]=v.useState(null);v.useEffect(()=>{h()},[]);const h=async()=>{try{c(!0);const E=await fetch(`${Ce}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:"guest@frontrangepool.com"})});if(E.ok){const w=await E.json();s(w.user),console.log("Guest user authenticated:",w.user)}else{const w=await E.json();console.error("Guest authentication failed:",w),m("Failed to authenticate guest user")}}catch(E){console.error("Error authenticating guest:",E),m("Network error during authentication")}finally{c(!1)}},f=()=>{t("/")},y=()=>{alert(`🏆 Join the League!

To become a member and access all features:

• Contact: frbcapl@gmail.com
• Get your player profile set up
• Start competing in matches
• Track your standings
• Chat with opponents

Join today and start your pool journey!`)},b={onScheduleMatch:()=>{alert(`📅 Schedule Match

This feature is available to members only.

Contact frbcapl@gmail.com to join and start scheduling matches!`)},onOpenChat:()=>{alert(`💬 Chat System

This feature is available to members only.

Contact frbcapl@gmail.com to join and start chatting with opponents!`)},onLogout:()=>{t("/")},onGoToAdmin:()=>{alert(`🔧 Admin Access

Admin features are only available to approved administrators.

Contact frbcapl@gmail.com for admin access requests.`)},onGoToPlatformAdmin:()=>{alert(`🔧 Platform Admin

Platform admin features are only available to super administrators.

Contact frbcapl@gmail.com for platform admin access requests.`)}};return l?r.createElement("div",{className:"guest-app-container"},r.createElement("div",{className:"guest-app-header"},r.createElement("h1",null,"🏆 League App - Guest Preview"),r.createElement("p",null,"Loading guest access..."),r.createElement("div",{className:"guest-badge"},"👀 Guest Mode - Limited Access")),r.createElement("div",{className:"loading-spinner"},"Authenticating guest user...")):u?r.createElement("div",{className:"guest-app-container"},r.createElement("div",{className:"guest-app-header"},r.createElement("h1",null,"🏆 League App - Guest Preview"),r.createElement("p",null,"Error loading guest access"),r.createElement("div",{className:"guest-badge"},"👀 Guest Mode - Limited Access")),r.createElement("div",{className:"error-message"},r.createElement("p",null,"Error: ",u),r.createElement("button",{onClick:f,className:"back-btn"},"← Back to Hub"))):r.createElement("div",{className:"guest-app-container"},r.createElement("div",{className:"guest-app-header"},r.createElement("h1",null,"🏆 League App - Guest Preview"),r.createElement("p",null,"Experience the actual League App interface with limited functionality"),r.createElement("div",{className:"guest-badge"},"👀 Guest Mode - Limited Access"),r.createElement("div",{className:"guest-actions"},r.createElement("button",{onClick:f,className:"back-btn"},"← Back to Hub"),r.createElement("button",{onClick:y,className:"join-btn"},"Join League"))),r.createElement("div",{className:"view-tabs"},r.createElement("button",{className:`tab-btn ${a==="app"?"active":""}`,onClick:()=>e("app")},"🎮 Try App Interface"),r.createElement("button",{className:`tab-btn ${a==="info"?"active":""}`,onClick:()=>e("info")},"ℹ️ League Info")),r.createElement("div",{className:"content-area"},a==="app"&&r.createElement("div",{className:"app-preview-section"},r.createElement("div",{className:"guest-notice"},r.createElement("h3",null,"🎮 Interactive App Preview"),r.createElement("p",null,"You can explore the actual League App interface below. Try clicking buttons and opening modals to see how it works!"),r.createElement("div",{className:"guest-limitations"},r.createElement("strong",null,"Guest Limitations:"),r.createElement("ul",null,r.createElement("li",null,"• Can view all interfaces and modals"),r.createElement("li",null,"• Cannot submit forms or save data"),r.createElement("li",null,"• Cannot access chat or messaging"),r.createElement("li",null,"• Cannot schedule real matches"),r.createElement("li",null,"• Cannot access admin features")))),r.createElement("div",{className:"dashboard-preview"},r.createElement(E5,{playerName:(n==null?void 0:n.firstName)||"Guest",playerLastName:(n==null?void 0:n.lastName)||"User",senderEmail:(n==null?void 0:n.email)||"guest@frontrangepool.com",onScheduleMatch:b.onScheduleMatch,onOpenChat:b.onOpenChat,onLogout:b.onLogout,userPin:(n==null?void 0:n.pin)||"GUEST",onGoToAdmin:b.onGoToAdmin,onGoToPlatformAdmin:b.onGoToPlatformAdmin}))),a==="info"&&r.createElement("div",{className:"info-section"},r.createElement("h2",null,"League Information"),r.createElement("div",{className:"info-cards"},r.createElement("div",{className:"info-card"},r.createElement("h3",null,"🏆 League Structure"),r.createElement("p",null,"Multiple divisions based on skill level and experience"),r.createElement("ul",null,r.createElement("li",null,"Regular season matches"),r.createElement("li",null,"Playoff tournaments"),r.createElement("li",null,"Standings tracking"),r.createElement("li",null,"Player statistics"))),r.createElement("div",{className:"info-card"},r.createElement("h3",null,"📅 Match System"),r.createElement("p",null,"Flexible scheduling with opponent coordination"),r.createElement("ul",null,r.createElement("li",null,"Propose match times"),r.createElement("li",null,"Coordinate with opponents"),r.createElement("li",null,"Track match results"),r.createElement("li",null,"Automatic standings updates"))),r.createElement("div",{className:"info-card"},r.createElement("h3",null,"💬 Communication"),r.createElement("p",null,"Built-in chat system for match coordination"),r.createElement("ul",null,r.createElement("li",null,"Direct messaging"),r.createElement("li",null,"Match scheduling"),r.createElement("li",null,"Result reporting"),r.createElement("li",null,"League announcements"))),r.createElement("div",{className:"info-card"},r.createElement("h3",null,"📊 Statistics"),r.createElement("p",null,"Comprehensive player and match statistics"),r.createElement("ul",null,r.createElement("li",null,"Win/loss records"),r.createElement("li",null,"Match history"),r.createElement("li",null,"Performance trends"),r.createElement("li",null,"Division rankings")))),r.createElement("div",{className:"join-section"},r.createElement("h3",null,"Ready to Join?"),r.createElement("p",null,"Become a member to access all features and start competing!"),r.createElement("button",{onClick:y,className:"join-btn-large"},"🏆 Join the League Today"),r.createElement("p",{className:"contact-info"},"Contact: ",r.createElement("strong",null,"frbcapl@gmail.com"))))))},PW=()=>{const t=Xa(),[a,e]=v.useState("app"),[n,s]=v.useState(null),[l,c]=v.useState(!0),[u,m]=v.useState(null);v.useEffect(()=>{h()},[]);const h=async()=>{try{c(!0);const E=await fetch(`${Ce}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:"guest@frontrangepool.com"})});if(E.ok){const w=await E.json();s(w.user),console.log("Guest user authenticated:",w.user)}else{const w=await E.json();console.error("Guest authentication failed:",w),m("Failed to authenticate guest user")}}catch(E){console.error("Error authenticating guest:",E),m("Network error during authentication")}finally{c(!1)}},f=()=>{t("/")},y=()=>{alert(`📈 Join the Ladder!

To become a ladder player and start challenging:

• Contact: frbcapl@gmail.com
• Get your FargoRate established
• Choose your skill tier
• Start challenging players
• Climb the rankings

Join today and test your skills!`)},b={onLogout:()=>{t("/")}};return l?r.createElement("div",{className:"guest-app-container"},r.createElement("div",{className:"guest-app-header"},r.createElement("h1",null,"📈 Ladder of Legends - Guest Preview"),r.createElement("p",null,"Loading guest access..."),r.createElement("div",{className:"guest-badge"},"👀 Guest Mode - Limited Access")),r.createElement("div",{className:"loading-spinner"},"Authenticating guest user...")):u?r.createElement("div",{className:"guest-app-container"},r.createElement("div",{className:"guest-app-header"},r.createElement("h1",null,"📈 Ladder of Legends - Guest Preview"),r.createElement("p",null,"Error loading guest access"),r.createElement("div",{className:"guest-badge"},"👀 Guest Mode - Limited Access")),r.createElement("div",{className:"error-message"},r.createElement("p",null,"Error: ",u),r.createElement("button",{onClick:f,className:"back-btn"},"← Back to Hub"))):r.createElement("div",{className:"guest-app-container"},r.createElement("div",{className:"guest-app-header"},r.createElement("h1",null,"📈 Ladder of Legends - Guest Preview"),r.createElement("p",null,"Experience the actual Ladder of Legends interface with limited functionality"),r.createElement("div",{className:"guest-badge"},"👀 Guest Mode - Limited Access"),r.createElement("div",{className:"guest-actions"},r.createElement("button",{onClick:f,className:"back-btn"},"← Back to Hub"),r.createElement("button",{onClick:y,className:"join-btn"},"Join Ladder"))),r.createElement("div",{className:"view-tabs"},r.createElement("button",{className:`tab-btn ${a==="app"?"active":""}`,onClick:()=>e("app")},"🎮 Try App Interface"),r.createElement("button",{className:`tab-btn ${a==="info"?"active":""}`,onClick:()=>e("info")},"ℹ️ Ladder Info")),r.createElement("div",{className:"content-area"},a==="app"&&r.createElement("div",{className:"app-preview-section"},r.createElement("div",{className:"guest-notice"},r.createElement("h3",null,"🎮 Interactive App Preview"),r.createElement("p",null,"You can explore the actual Ladder of Legends interface below. Try clicking buttons and opening modals to see how it works!"),r.createElement("div",{className:"guest-limitations"},r.createElement("strong",null,"Guest Limitations:"),r.createElement("ul",null,r.createElement("li",null,"• Can view all interfaces and modals"),r.createElement("li",null,"• Cannot submit forms or save data"),r.createElement("li",null,"• Cannot send real challenges"),r.createElement("li",null,"• Cannot access admin features"),r.createElement("li",null,"• Cannot claim ladder positions")))),r.createElement("div",{className:"ladder-preview"},r.createElement(k5,{playerName:(n==null?void 0:n.firstName)||"Guest",playerLastName:(n==null?void 0:n.lastName)||"User",senderEmail:(n==null?void 0:n.email)||"guest@frontrangepool.com",userPin:(n==null?void 0:n.pin)||"GUEST",onLogout:b.onLogout,isAdmin:!1}))),a==="info"&&r.createElement("div",{className:"info-section"},r.createElement("h2",null,"Ladder System Information"),r.createElement("div",{className:"info-cards"},r.createElement("div",{className:"info-card"},r.createElement("h3",null,"🏆 Three-Tier System"),r.createElement("p",null,"Skill-based divisions for fair competition"),r.createElement("ul",null,r.createElement("li",null,r.createElement("strong",null,"499 & Under:")," Beginner to Intermediate"),r.createElement("li",null,r.createElement("strong",null,"500-549:")," Intermediate to Advanced"),r.createElement("li",null,r.createElement("strong",null,"550+:")," Advanced to Expert"))),r.createElement("div",{className:"info-card"},r.createElement("h3",null,"⚔️ Challenge System"),r.createElement("p",null,"Challenge players above you to climb the ranks"),r.createElement("ul",null,r.createElement("li",null,"Challenge players ranked above you"),r.createElement("li",null,"Win to take their position"),r.createElement("li",null,"Lose and stay in your current rank"),r.createElement("li",null,"Immunity periods after matches"))),r.createElement("div",{className:"info-card"},r.createElement("h3",null,"📊 Ranking System"),r.createElement("p",null,"Dynamic rankings based on match results"),r.createElement("ul",null,r.createElement("li",null,"Position-based challenges"),r.createElement("li",null,"Automatic rank adjustments"),r.createElement("li",null,"Performance tracking"),r.createElement("li",null,"Season statistics"))),r.createElement("div",{className:"info-card"},r.createElement("h3",null,"🎯 Match Coordination"),r.createElement("p",null,"Flexible scheduling for challenge matches"),r.createElement("ul",null,r.createElement("li",null,"Propose match times"),r.createElement("li",null,"Coordinate with opponents"),r.createElement("li",null,"Result reporting"),r.createElement("li",null,"Match history tracking")))),r.createElement("div",{className:"ladder-rules"},r.createElement("h3",null,"📋 Ladder Rules"),r.createElement("div",{className:"rules-grid"},r.createElement("div",{className:"rule-item"},r.createElement("h4",null,"Challenge Rules"),r.createElement("ul",null,r.createElement("li",null,"Challenge players ranked above you"),r.createElement("li",null,"Maximum 2 positions above your rank"),r.createElement("li",null,"Must wait 24 hours between challenges"),r.createElement("li",null,"Immunity for 48 hours after a match"))),r.createElement("div",{className:"rule-item"},r.createElement("h4",null,"Match Rules"),r.createElement("ul",null,r.createElement("li",null,"Best of 3 games"),r.createElement("li",null,"Standard 8-ball rules"),r.createElement("li",null,"Winner reports results"),r.createElement("li",null,"Automatic rank adjustment"))),r.createElement("div",{className:"rule-item"},r.createElement("h4",null,"Activity Requirements"),r.createElement("ul",null,r.createElement("li",null,"Minimum 1 match per month"),r.createElement("li",null,"Inactive players may be removed"),r.createElement("li",null,"Season resets every 3 months"),r.createElement("li",null,"Top performers get recognition"))))),r.createElement("div",{className:"join-section"},r.createElement("h3",null,"Ready to Challenge?"),r.createElement("p",null,"Join the ladder and start climbing the rankings!"),r.createElement("button",{onClick:y,className:"join-btn-large"},"📈 Join the Ladder Today"),r.createElement("p",{className:"contact-info"},"Contact: ",r.createElement("strong",null,"frbcapl@gmail.com"))))))};function BW({currentAppName:t}){return r.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",padding:"3rem 0 .25rem 0",position:"static",background:"rgba(0,0,0,0.8)",backdropFilter:"blur(6px)",boxShadow:"0 4px 20px rgba(0,0,0,0.5)",marginTop:"10px"}},r.createElement("span",{className:"app-header-title"},t||"Front Range Pool League"))}function OW({isAuthenticated:t,userFirstName:a,userLastName:e,userEmail:n,userPin:s,userType:l,handleLoginSuccess:c,handleLogout:u}){return Xa(),r.createElement("main",{className:"main-app-content"},t?r.createElement(I5,{isAuthenticated:t,userFirstName:a,userLastName:e,userEmail:n,userPin:s,userType:l,handleLogout:u}):r.createElement(qF,{onLoginSuccess:c}))}function zW(){const[t,a]=v.useState(!1),[e,n]=v.useState(""),[s,l]=v.useState(""),[c,u]=v.useState(""),[m,h]=v.useState(""),[f,y]=v.useState("league"),[b,E]=v.useState("");v.useEffect(()=>{localStorage.getItem("isAuthenticated")==="true"&&(n(localStorage.getItem("userFirstName")||""),l(localStorage.getItem("userLastName")||""),u(localStorage.getItem("userEmail")||""),h(localStorage.getItem("userPin")||""),y(localStorage.getItem("userType")||"league"),a(!0))},[]),v.useEffect(()=>{const z=Y=>{E(Y.detail)};return window.addEventListener("appNameChange",z),()=>{window.removeEventListener("appNameChange",z)}},[]);const w=(z,Y,J,ae)=>{let H="",Z="";if(z){const O=z.trim().split(" ");H=O[0],Z=O.slice(1).join(" ")}n(H),l(Z),u(Y),h(J),y(ae||"league"),a(!0),localStorage.setItem("userFirstName",H),localStorage.setItem("userLastName",Z),localStorage.setItem("userEmail",Y),localStorage.setItem("userPin",J),localStorage.setItem("userType",ae||"league"),localStorage.setItem("isAuthenticated","true")},[_,C]=v.useState(!1),[S,I]=v.useState(!1),[k,N]=v.useState(!1),M=()=>_,R=()=>S;v.useEffect(()=>{(async()=>{if(t&&c&&m){N(!0);try{const Y=await Oi.isSuperAdmin(c,m);C(Y);const J=await Oi.isAdmin(c,m);I(J),console.log("🔍 Admin Status Check:",{userEmail:c,isSuperAdmin:Y,isAdmin:J})}catch(Y){console.log("🔍 Admin check failed:",Y.message),C(!1),I(!1)}finally{N(!1)}}})()},[t,c,m]);const $=()=>{n(""),l(""),u(""),h(""),y("league"),E(""),a(!1),localStorage.removeItem("userFirstName"),localStorage.removeItem("userLastName"),localStorage.removeItem("userEmail"),localStorage.removeItem("userPin"),localStorage.removeItem("userType"),localStorage.removeItem("isAuthenticated")};return r.createElement(T_,null,r.createElement("div",{style:{position:"relative",minHeight:"100vh",width:"100%",overflowX:"hidden",background:"#000"}},r.createElement(FF,null),r.createElement(ZF,{currentAppName:b,isAdmin:S,isSuperAdmin:_}),r.createElement(BW,{currentAppName:b}),r.createElement("div",{style:{position:"relative",zIndex:3,maxWidth:900,margin:"0 auto",width:"100%",background:"none",minHeight:"100vh",paddingTop:"10px"}},r.createElement(o_,null,r.createElement(aa,{path:"/hub",element:t?r.createElement(pr,{appName:"Front Range Pool Hub"},r.createElement("main",{className:"main-app-content"},r.createElement(I5,{isAuthenticated:t,userFirstName:e,userLastName:s,userEmail:c,userPin:m,userType:f,handleLogout:$}))):r.createElement($r,{to:"/"})}),r.createElement(aa,{path:"/league",element:t?r.createElement(pr,{appName:"Front Range Pool League"},r.createElement("main",{className:"main-app-content"},r.createElement(E5,{playerName:e,playerLastName:s,senderEmail:c,onScheduleMatch:()=>{},onOpenChat:()=>window.location.hash="#/league/chat",onLogout:$,userPin:m,onGoToAdmin:()=>{},onGoToPlatformAdmin:()=>navigate("/platform-admin")}))):r.createElement($r,{to:"/"})}),r.createElement(aa,{path:"/league/chat",element:t?r.createElement(pr,{appName:"Front Range Pool League - Chat"},r.createElement("main",{className:"main-app-content"},r.createElement(m5,{userName:`${e} ${s}`,userEmail:c,userPin:m}))):r.createElement($r,{to:"/"})}),r.createElement(aa,{path:"/ladder",element:t?r.createElement(pr,{appName:"Ladder of Legends"},r.createElement("main",{className:"main-app-content"},r.createElement(k5,{playerName:e,playerLastName:s,senderEmail:c,userPin:m,onLogout:$,isAdmin:S}))):r.createElement($r,{to:"/"})}),r.createElement(aa,{path:"/guest/league",element:r.createElement(pr,{appName:"League App - Guest Preview"},r.createElement("main",{className:"main-app-content"},r.createElement(LW,null)))}),r.createElement(aa,{path:"/guest/ladder",element:r.createElement(pr,{appName:"Ladder of Legends - Guest Preview"},r.createElement("main",{className:"main-app-content"},r.createElement(PW,null)))}),r.createElement(aa,{path:"/ladder/manage",element:t&&R()?r.createElement(pr,{appName:"Ladder of Legends Management"},r.createElement("main",{className:"main-app-content"},r.createElement(eW,{userEmail:c,userPin:m}))):r.createElement($r,{to:"/"})}),r.createElement(aa,{path:"/ladder/admin",element:t&&R()?r.createElement(pr,{appName:"Ladder of Legends Player Management"},r.createElement("main",{className:"main-app-content"},r.createElement(hW,null))):r.createElement($r,{to:"/"})}),r.createElement(aa,{path:"/admin",element:t&&R()?r.createElement(pr,{appName:"Admin Dashboard"},r.createElement("div",{className:"admin-app-content"},r.createElement(dU,null))):r.createElement($r,{to:"/"})}),r.createElement(aa,{path:"/admin/players",element:t&&R()?r.createElement(pr,{appName:"Player Management"},r.createElement("div",{className:"admin-app-content"},r.createElement(RW,null))):r.createElement($r,{to:"/"})}),r.createElement(aa,{path:"/platform-admin",element:t&&M()?r.createElement(pr,{appName:"Platform Admin"},r.createElement("div",{className:"platform-admin-app-content"},r.createElement(uU,null))):r.createElement($r,{to:"/"})}),r.createElement(aa,{path:"/confirm-match",element:r.createElement(Mk,null)}),r.createElement(aa,{path:"/simple-pool",element:r.createElement(b0,null)}),r.createElement(aa,{path:"/tenball-tutorial",element:r.createElement(PF,null)}),r.createElement(aa,{path:"/mobile-test",element:r.createElement(YF,null)}),r.createElement(aa,{path:"/",element:r.createElement(pr,{appName:t?"Front Range Pool Hub":""},r.createElement(OW,{isAuthenticated:t,userFirstName:e,userLastName:s,userEmail:c,userPin:m,userType:f,handleLoginSuccess:w,handleLogout:$}))}),r.createElement(aa,{path:"*",element:r.createElement($r,{to:"/"})})))))}try{lC(async()=>{const{default:t}=await import("./ResizeObserver.es-EPYnRShv.js");return{default:t}},[],import.meta.url).then(({default:t})=>{window.ResizeObserver||(window.ResizeObserver=t)}).catch(()=>{console.warn("ResizeObserver polyfill not available")})}catch(t){console.warn("ResizeObserver polyfill setup failed:",t)}if(typeof window<"u"&&window.self!==window.top){document.documentElement.setAttribute("data-iframe","true"),document.body.setAttribute("data-iframe","true");const a=document.getElementById("root");a&&a.setAttribute("data-iframe","true")}gC.createRoot(document.getElementById("root")).render(r.createElement(r.StrictMode,null,r.createElement(zW,null)));
